globals
constant real KB__TimerInterval=.03125
timer KB__time
integer array KB__indx
integer KB__counter=0
integer StunSystem__DummyID='h01Q'
integer StunSystem__AbilityID='A01R'
constant string ISS__FX="Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl"
trigger ISS__ISS_trig_GetItem
integer receptlist
integer itemlist
integer array udg_PickHero
unit array udg_HeroPick
integer udg_leader_refresh_int=0
integer udg_int=0
multiboard udg_leaderboard=null
integer array udg_kill_count
integer array udg_death_count
integer array udg_icon_row
boolean array udg_Walloff
unit udg_DarkZetsu=null
unit array udg_Midare
unit udg_temari=null
unit array udg_Hero2
unit udg_Kaguya=null
weathereffect udg_Apocalypsis2=null
weathereffect udg_Apocalypsis2snow=null
timer udg_KabutoTime=null
location udg_SealPoint=null
timer udg_TimeMoon=null
timerdialog udg_TheRedmoon=null
unit udg_Redmoon=null
boolean array udg_Queston
unit udg_TobiM=null
unit array udg_Questunit
effect array udg_Questeffects
integer array udg_Questnumerals
weathereffect udg_Kirin_Liv=null
group udg_UnitGroup=null
string array udg_PlayerNames
unit array udg_Jubi
unit array udg_Butil
integer array udg_RandomTalk
timer udg_SasukeTime=null
timerdialog udg_TheDNA=null
unit array udg_EntersMidare
dialog udg_DialogMidare1=null
button array udg_AttackMidare
unit array udg_ObjectMidare
dialog udg_DialogMidare2=null
group udg_Peins=null
location array udg_NagatoPoint
unit udg_Tp_hero=null
dialog udg_Tp_dialog=null
button array udg_Tp_button
location array udg_PointNew
timerdialog udg_TheSaske=null
unit udg_KabutoStadiya=null
unit array udg_Tobi
group udg_KamuyK=null
boolean udg_KamuyKOFF=false
group udg_KamuyON=null
boolean udg_KamuyOFF=false
location array udg_UnitPoint
location array udg_Zpoint
group udg_KamuySh=null
group array udg_Arrow
unit array udg_Sasuke
unit array udg_Naruto
unit array udg_Itachi
effect array udg_SEffect
texttag array udg_Text
unit udg_CloneCaster=null
effect array udg_CloneEff
unit udg_CloneDummy=null
group udg_CloneGroup=null
unit array udg_Asuma
unit array udg_Bansho_Tenin
integer array udg_Angle
location array udg_Pointhero
real array udg_PeinReal
group array udg_UnitGroups
unit array udg_Beast
unit array udg_Orocgimaru
location array udg_CasterPoint
real array udg_HookDistance
unit array udg_Sakura
unit array udg_Danzou
integer udg_Count=0
unit array udg_Hooked
integer array udg_HookCount
location array udg_TargetPoint
real array udg_meathookanglediff
timer array udg_HookTimer
unit array udg_hook1
location udg_aatemp1=null
real array udg_EdoTensei
unit udg_CastEdoTensei=null
unit array udg_Grob
unit udg_Kabuto=null
unit udg_ObitoBareer=null
unit udg_Gintama=null
integer udg_Ginsan=0
unit udg_KrotKakasi=null
unit array udg_Kakashi
unit array udg_Caster
location array udg_Points
real array udg_Degree
unit array udg_Kisame
boolean array udg_Bankai
unit array udg_Target
integer udg_Sharingan=0
unit array udg_Grimmjow
effect array udg_specialeffect
location array udg_Point
integer array udg_SkillLoops
boolean array udg_Omnislashing
effect array udg_SpecialEffect
integer array udg_Z
unit array udg_Targets
boolean udg_bDuel=false
unit udg_Team1LeaderHero=null
unit udg_Team2LeaderHero=null
unit array udg_gai
unit udg_Oonoki_K_U=null
timer udg_Oonoki_K_T=null
location udg_Oonoki_J_P=null
unit array udg_Oonoki_MJ_U
real array udg_Oonoki_MJ_R
timer array udg_Oonoki_MJ_T
group array udg_Oonoki_MJ_G
group udg_Oonoki_MJ_A_G=null
group array udg_RS_G
location array udg_RS_P
unit array udg_RS_U
real array udg_RS_R
lightning array udg_RS_L
location array udg_Bansho_Tenin_Point
unit udg_Caster_Edo_Tensei=null
real udg_Real_Edo_Tensei=0
unit array udg_Dummy_Edo_Tensei
timer array udg_Timer_Edo_Tensei
integer udg_Lee_Taydjutsu=0
unit udg_Caster_Edo_Tensei1=null
unit array udg_Dummy_Edo_Tensei2
real udg_Real_Edo_Tensei2=0
unit array udg_Nagato
unit udg_Kunai_target=null
unit array udg_Minato_Units
real array udg_Minato_Real
location array udg_Minato_Points
effect udg_Naruto_Portal=null
location array udg_FL_P
unit array udg_FL_U
real array udg_FL_R
integer udg_FL_I=0
group array udg_FL_G
unit array udg_GD_U
location array udg_GD_P
real array udg_GD_R
group array udg_GD_G
unit array udg_UchihaMadara
location array udg_UchihaMadaraPoint
player udg_MadaraSusanoo_Player=null
real array udg_UchihaMadaraReal
integer array udg_UchihaMadaraInteger
group array udg_UchihaMadaraGroup
destructable array udg_WoodBlockGroup
real udg_SSJ_Tick=0
unit udg_SSJ_Caster=null
location udg_SSJ_Caster_Point=null
location udg_SSJ_Target_Point=null
unit udg_SSJ_Buddha=null
group udg_SSJ_HandGroup=null
unit udg_SSJ_HandPunch=null
unit udg_ST_SK_Caster=null
location array udg_ST_SK_Point
real udg_ST_SK_Real=0
group udg_ST_SK_MoveGroup=null
unit udg_ST_SF_Caster=null
unit udg_ST_SF_Target=null
location array udg_ST_SF_Point
real udg_ST_SF_Real=0
unit array udg_mei
unit array udg_EdoTensei2
integer udg_TT=0
integer udg_PreD_Dop=0
integer udg_PreD_Osn=0
integer udg_BaZa_PrEd=0
hashtable udg_IB_hash=null
hashtable udg_IB_hash2=null
group udg_IB_group=null
group udg_IB_group2=null
unit udg_IB_caster=null
unit udg_IB_target=null
location udg_IB_point=null
real udg_IB_damage=0
integer udg_IB_DT=0
integer udg_IB_handle=0
location udg_IB_point2=null
real udg_IB_distance=0
integer udg_IB_integer=0
group udg_IB_group3=null
integer udg_IB_TARGET_AMMOUNT=0
integer udg_IB_integer2=0
boolean udg_IB_bool=false
boolean udg_IB_bool2=false
integer udg_IB_integer3=0
unit array udg_E_U
integer array udg_E_I
effect array udg_E_E
location array udg_E_P
group array udg_E_G
real array udg_E_R
unit udg_KagebunshinUnit=null
group udg_KagebunshinPickGroup=null
integer udg_SenpouChouInt=0
integer udg_SenpouChouIndex=0
integer udg_SenpouChouEffect=0
unit udg_SenpouChouUnit=null
unit udg_SenpouChouTarget=null
location array udg_SenpouChouPoint
real udg_SenpouChouDamage=0
group udg_SenpouChouGroup=null
real array udg_SenpouChouOodaraSize
real array udg_SenpouChouDist
unit array udg_SenpouChouDummy
unit array udg_SenpouChouBall
integer udg_SenpouChouInt2=0
real array udg_SenpouChouAngle
group array udg_UnitGroupAkatsuki
integer array udg_RANDOM
rect gg_rct_Ame=null
rect gg_rct_World=null
rect gg_rct_Konoha=null
rect gg_rct_Itachi_Kisame=null
rect gg_rct_Revive_Orochimaru=null
rect gg_rct_Arena=null
rect gg_rct_Roushin=null
rect gg_rct_Magtheriton=null
rect gg_rct_Team_Gai_2=null
rect gg_rct_Kazekage=null
rect gg_rct_Gedo_2=null
rect gg_rct_Training_Sasuke=null
rect gg_rct_Sasuke_cinematic=null
rect gg_rct_Sasuke_Itachi=null
rect gg_rct_Team_Kakashi=null
rect gg_rct_Team_Danzo_2=null
rect gg_rct_Cave_Gedo=null
rect gg_rct_Revive_Akatsuki=null
rect gg_rct_Dreadlord=null
rect gg_rct_NinjaN=null
rect gg_rct_Samuro=null
rect gg_rct_Abos=null
rect gg_rct_Hunter=null
rect gg_rct_Pain_Respawn=null
rect gg_rct_Juugo_respawn=null
rect gg_rct_Gl=null
rect gg_rct_Karin_respawn=null
rect gg_rct_Suigetsu_respawn=null
rect gg_rct_Snake_crew=null
rect gg_rct_Sasuke_respawn=null
rect gg_rct_Team_7=null
rect gg_rct_KingakuN=null
rect gg_rct_GinkakuN=null
rect gg_rct_Madara_respawn=null
rect gg_rct_Madara_revive=null
rect gg_rct_Barah_respawn=null
rect gg_rct_Gaara_respawn=null
rect gg_rct_Mei_respawn=null
rect gg_rct_Suna2=null
rect gg_rct_Rai_respawn=null
rect gg_rct_Sunabase=null
rect gg_rct_Rikudo=null
rect gg_rct_Tsunade_respawn=null
rect gg_rct_Bossshield=null
rect gg_rct_Utaka=null
rect gg_rct_tele1=null
rect gg_rct_tele2=null
rect gg_rct_teleorochbase=null
rect gg_rct_telemadarabase=null
rect gg_rct_telegedobase=null
rect gg_rct_Base_Orochimaru2=null
rect gg_rct_Base_Orochimaru=null
rect gg_rct_wall1=null
rect gg_rct_wall2=null
rect gg_rct_wall3=null
rect gg_rct_wall4=null
rect gg_rct_wall5=null
rect gg_rct_wall6=null
rect gg_rct_VisibleMap=null
rect gg_rct_Madaras_room=null
rect gg_rct_TownofRoushin=null
rect gg_rct_TownofRoushin2=null
rect gg_rct_TownRoushin3=null
rect gg_rct_tele3=null
rect gg_rct_tele4=null
rect gg_rct_Narutohome=null
rect gg_rct_tele5=null
rect gg_rct_tele6=null
rect gg_rct_BarEl=null
rect gg_rct_tele7=null
rect gg_rct_tele8=null
rect gg_rct_Orochbase2=null
rect gg_rct_tele9=null
rect gg_rct_tele10=null
rect gg_rct_Hokageoffice=null
rect gg_rct_tele11=null
rect gg_rct_tele12=null
rect gg_rct_Samuraibase=null
rect gg_rct_tele13=null
rect gg_rct_tele14=null
rect gg_rct_tele15=null
rect gg_rct_tele16=null
rect gg_rct_wall7=null
rect gg_rct_wall8=null
rect gg_rct_wall9=null
rect gg_rct_wall10=null
rect gg_rct_wall11=null
rect gg_rct_wall12=null
rect gg_rct_wall13=null
rect gg_rct_SplatterHouse=null
rect gg_rct_Kazekageplace=null
rect gg_rct_AnozerWorld=null
rect gg_rct_Kamuy_World=null
rect gg_rct_Point1=null
rect gg_rct_Point2=null
rect gg_rct_Point3=null
rect gg_rct_Point4=null
rect gg_rct_Point5=null
rect gg_rct_Point6=null
rect gg_rct_Point8=null
rect gg_rct_Base_Orochimaru_second=null
rect gg_rct_wall15=null
rect gg_rct_Point9=null
rect gg_rct_CaveKabuto=null
rect gg_rct_tele17=null
rect gg_rct_tele18=null
rect gg_rct_tele19=null
rect gg_rct_tele20=null
rect gg_rct_Village_Full=null
rect gg_rct_Itachi_cinematic=null
rect gg_rct_Uchiha=null
rect gg_rct_Hero_pick_point=null
rect gg_rct_tele21=null
rect gg_rct_tele22=null
rect gg_rct_Point10=null
rect gg_rct_Super=null
rect gg_rct_Point11=null
rect gg_rct_tele23=null
rect gg_rct_tele24=null
rect gg_rct_RaiKage_OldMan=null
rect gg_rct_Mizukage=null
rect gg_rct_tele25=null
rect gg_rct_MeiPoint=null
rect gg_rct_MeiPoint2=null
rect gg_rct_Taka_Sasuke=null
rect gg_rct_tele26=null
rect gg_rct_tele27=null
rect gg_rct_tele28=null
rect gg_rct_tele29=null
rect gg_rct_Town=null
rect gg_rct_Town2=null
rect gg_rct_wall16=null
rect gg_rct_wall17=null
rect gg_rct_wall18=null
rect gg_rct_wall19=null
rect gg_rct_Sunagakure=null
rect gg_rct_Konohagakure=null
rect gg_rct_Valley_of_the_End=null
rect gg_rct_Roshs_tower=null
rect gg_rct_Rain_city=null
rect gg_rct_Deidara_tobi=null
rect gg_rct_Nibi=null
rect gg_rct_tele30=null
rect gg_rct_tele31=null
rect gg_rct_Secret_of_Chamber=null
rect gg_rct_Secret_of_Chamber2=null
rect gg_rct_wall20=null
rect gg_rct_PeinRes=null
rect gg_rct_PeinRes2=null
rect gg_rct_PeinRes3=null
rect gg_rct_PeinRes4=null
rect gg_rct_PeinRes5=null
rect gg_rct_PeinResN=null
rect gg_rct_D=null
rect gg_rct_R2D2=null
rect gg_rct_D2=null
rect gg_rct_MapVicdef=null
rect gg_rct_Shadow=null
rect gg_rct_ShadowVisible=null
rect gg_rct_wall14=null
rect gg_rct_Gedo=null
rect gg_rct_Sunasolaire=null
rect gg_rct_Midare=null
rect gg_rct_Midare2=null
rect gg_rct_Secret_Chamber=null
rect gg_rct_Secret_Chamber_2=null
rect gg_rct_Point7=null
rect gg_rct_SecretCha=null
rect gg_rct_MizuMove2=null
rect gg_rct_MizuMove1=null
rect gg_rct_MizuMove3=null
rect gg_rct_Kv_zmei=null
rect gg_rct_New_Naruto=null
rect gg_rct_Kamen=null
rect gg_rct_Faraon=null
rect gg_rct_Nar_D=null
rect gg_rct_Mechniki=null
rect gg_rct_Uchiha_Shisui=null
rect gg_rct_Baraht_Full=null
rect gg_rct_sanbi=null
rect gg_rct_gobi=null
rect gg_rct_sichibi=null
rect gg_rct_hashibi=null
rect gg_rct_kyubi=null
rect gg_rct_Secret_Orochimaru=null
rect gg_rct_Hanzo=null
rect gg_rct_Monoment=null
rect gg_rct_Sasuke_Rekudo=null
rect gg_rct_Naruto_Rekudo=null
camerasetup gg_cam_Konoha=null
camerasetup gg_cam_Pain=null
trigger gg_trg_Monoment=null
trigger gg_trg_Monoment_2=null
trigger gg_trg_Monoment_3=null
trigger gg_trg_init=null
trigger gg_trg_init2=null
trigger gg_trg_Init_ai_3=null
trigger gg_trg_time=null
trigger gg_trg_time2=null
trigger gg_trg_Item_level=null
trigger gg_trg_Board_Refresh=null
trigger gg_trg_Create_Leaderboard=null
trigger gg_trg_Normal_Kill=null
trigger gg_trg_Move_Hunter=null
trigger gg_trg_Move_Sixtail_jinchur=null
trigger gg_trg_Move_Shisui=null
trigger gg_trg_Naruto_move=null
trigger gg_trg_Say_move=null
trigger gg_trg_Sakura_move=null
trigger gg_trg_Kakashi_move=null
trigger gg_trg_Ten_move=null
trigger gg_trg_Neji_move=null
trigger gg_trg_Lee_move=null
trigger gg_trg_Gay_move=null
trigger gg_trg_Ray_move=null
trigger gg_trg_Danzo_move=null
trigger gg_trg_Djugo_move=null
trigger gg_trg_Suygetsu_move=null
trigger gg_trg_Karin_move=null
trigger gg_trg_Sasuke_move=null
trigger gg_trg_Sasuke_Itachi_kv=null
trigger gg_trg_Sasuke_Itachi_kv1=null
trigger gg_trg_Sasuke_Itachi_kv2=null
trigger gg_trg_Sasuke_Itachi_kv3=null
trigger gg_trg_SasukeMSH_move=null
trigger gg_trg_Kabuto_move=null
trigger gg_trg_Orachimaru_move=null
trigger gg_trg_Daydara_move=null
trigger gg_trg_Sasori_move=null
trigger gg_trg_Itachi_move=null
trigger gg_trg_Kisame_move=null
trigger gg_trg_Tobi_move=null
trigger gg_trg_TobiRinnegan_kv=null
trigger gg_trg_TobiRinnegan_kv1=null
trigger gg_trg_TobiRinnegan_kv2=null
trigger gg_trg_TobiRinengan_kv3=null
trigger gg_trg_TobiRinengan_kv4=null
trigger gg_trg_TobiRin_move=null
trigger gg_trg_DontAttack=null
trigger gg_trg_DontAttack2=null
trigger gg_trg_DontAttack3=null
trigger gg_trg_player_1ally2=null
trigger gg_trg_player_1unally2=null
trigger gg_trg_player_1ally3=null
trigger gg_trg_player_1unally3=null
trigger gg_trg_player_1ally4=null
trigger gg_trg_player_1unally4=null
trigger gg_trg_player_1ally6=null
trigger gg_trg_player_1unally6=null
trigger gg_trg_player_1ally7=null
trigger gg_trg_player_1unally7=null
trigger gg_trg_player_1ally9=null
trigger gg_trg_player_1unally9=null
trigger gg_trg_player_1ally10=null
trigger gg_trg_player_1unally10=null
trigger gg_trg_player_1ally11=null
trigger gg_trg_player_1unally11=null
trigger gg_trg_player_1allyKonoha=null
trigger gg_trg_player_1unallyKonoha=null
trigger gg_trg_player_2ally1=null
trigger gg_trg_player_2unally1=null
trigger gg_trg_player_2ally3=null
trigger gg_trg_player_2unally3=null
trigger gg_trg_player_2ally4=null
trigger gg_trg_player_2unally4=null
trigger gg_trg_player_2ally6=null
trigger gg_trg_player_2unally6=null
trigger gg_trg_player_2ally7=null
trigger gg_trg_player_2unally7=null
trigger gg_trg_player_2ally9=null
trigger gg_trg_player_2unally9=null
trigger gg_trg_player_2ally10=null
trigger gg_trg_player_2unally10=null
trigger gg_trg_player_2ally11=null
trigger gg_trg_player_2unally11=null
trigger gg_trg_player_2allyKonoha=null
trigger gg_trg_player_2unallyKonoha=null
trigger gg_trg_player_3ally1=null
trigger gg_trg_player_3unally1=null
trigger gg_trg_player_3ally2=null
trigger gg_trg_player_3unally2=null
trigger gg_trg_player_3ally4=null
trigger gg_trg_player_3unally4=null
trigger gg_trg_player_3ally6=null
trigger gg_trg_player_3unally6=null
trigger gg_trg_player_3ally7=null
trigger gg_trg_player_3unally7=null
trigger gg_trg_player_3ally9=null
trigger gg_trg_player_3unally9=null
trigger gg_trg_player_3ally10=null
trigger gg_trg_player_3unally10=null
trigger gg_trg_player_3ally11=null
trigger gg_trg_player_3unally11=null
trigger gg_trg_player_3allyKonoha=null
trigger gg_trg_player_3unallyKonoha=null
trigger gg_trg_player_4ally1=null
trigger gg_trg_player_4unally1=null
trigger gg_trg_player_4ally2=null
trigger gg_trg_player_4unally2=null
trigger gg_trg_player_4ally3=null
trigger gg_trg_player_4unally3=null
trigger gg_trg_player_4ally6=null
trigger gg_trg_player_4unally6=null
trigger gg_trg_player_4ally7=null
trigger gg_trg_player_4unally7=null
trigger gg_trg_player_4ally9=null
trigger gg_trg_player_4unally9=null
trigger gg_trg_player_4ally10=null
trigger gg_trg_player_4unally10=null
trigger gg_trg_player_4ally11=null
trigger gg_trg_player_4unally11=null
trigger gg_trg_player_4allySound=null
trigger gg_trg_player_4unallySound=null
trigger gg_trg_player_6ally1=null
trigger gg_trg_player_6unally1=null
trigger gg_trg_player_6ally2=null
trigger gg_trg_player_6unally2=null
trigger gg_trg_player_6ally3=null
trigger gg_trg_player_6unally3=null
trigger gg_trg_player_6ally4=null
trigger gg_trg_player_6unally4=null
trigger gg_trg_player_6ally7=null
trigger gg_trg_player_6unally7=null
trigger gg_trg_player_6ally9=null
trigger gg_trg_player_6unally9=null
trigger gg_trg_player_6ally10=null
trigger gg_trg_player_6unally10=null
trigger gg_trg_player_6ally11=null
trigger gg_trg_player_6unally11=null
trigger gg_trg_player_6allySound=null
trigger gg_trg_player_6unallySound=null
trigger gg_trg_player_7ally1=null
trigger gg_trg_player_7unally1=null
trigger gg_trg_player_7ally2=null
trigger gg_trg_player_7unally2=null
trigger gg_trg_player_7ally3=null
trigger gg_trg_player_7unally3=null
trigger gg_trg_player_7ally4=null
trigger gg_trg_player_7unally4=null
trigger gg_trg_player_7ally6=null
trigger gg_trg_player_7unally6=null
trigger gg_trg_player_7ally9=null
trigger gg_trg_player_7unally9=null
trigger gg_trg_player_7ally10=null
trigger gg_trg_player_7unally10=null
trigger gg_trg_player_7ally11=null
trigger gg_trg_player_7unally11=null
trigger gg_trg_player_7allySound=null
trigger gg_trg_player_7unallySound=null
trigger gg_trg_player_9ally1=null
trigger gg_trg_player_9unally1=null
trigger gg_trg_player_9ally2=null
trigger gg_trg_player_9unally2=null
trigger gg_trg_player_9ally3=null
trigger gg_trg_player_9unally3=null
trigger gg_trg_player_9ally4=null
trigger gg_trg_player_9unally4=null
trigger gg_trg_player_9ally6=null
trigger gg_trg_player_9unally6=null
trigger gg_trg_player_9ally7=null
trigger gg_trg_player_9unally7=null
trigger gg_trg_player_9ally10=null
trigger gg_trg_player_9unally10=null
trigger gg_trg_player_9ally11=null
trigger gg_trg_player_9unally11=null
trigger gg_trg_player_9allyAkatsuki=null
trigger gg_trg_player_9unallyAkatsuki=null
trigger gg_trg_player_10ally1=null
trigger gg_trg_player_10unally1=null
trigger gg_trg_player_10ally2=null
trigger gg_trg_player_10unally2=null
trigger gg_trg_player_10ally3=null
trigger gg_trg_player_10unally3=null
trigger gg_trg_player_10ally4=null
trigger gg_trg_player_10unally4=null
trigger gg_trg_player_10ally6=null
trigger gg_trg_player_10unally6=null
trigger gg_trg_player_10ally7=null
trigger gg_trg_player_10unally7=null
trigger gg_trg_player_10ally9=null
trigger gg_trg_player_10unally9=null
trigger gg_trg_player_10ally11=null
trigger gg_trg_player_10unally11=null
trigger gg_trg_player_10allyAkatsuki=null
trigger gg_trg_player_10unallyAkatsuki=null
trigger gg_trg_player_11ally1=null
trigger gg_trg_player_11unally1=null
trigger gg_trg_player_11ally2=null
trigger gg_trg_player_11unally2=null
trigger gg_trg_player_11ally3=null
trigger gg_trg_player_11unally3=null
trigger gg_trg_player_11ally4=null
trigger gg_trg_player_11unally4=null
trigger gg_trg_player_11ally6=null
trigger gg_trg_player_11unally6=null
trigger gg_trg_player_11ally7=null
trigger gg_trg_player_11unally7=null
trigger gg_trg_player_11ally9=null
trigger gg_trg_player_11unally9=null
trigger gg_trg_player_11ally10=null
trigger gg_trg_player_11unally10=null
trigger gg_trg_player_11allyAkatsuki=null
trigger gg_trg_player_11unallyAkatsuki=null
trigger gg_trg_Raiga=null
trigger gg_trg_Raiga_Die=null
trigger gg_trg_GK_Enters=null
trigger gg_trg_K=null
trigger gg_trg_KDie_2=null
trigger gg_trg_G=null
trigger gg_trg_GDie_2=null
trigger gg_trg_Gaara=null
trigger gg_trg_Gaara_Enters=null
trigger gg_trg_Gaara_Dying=null
trigger gg_trg_Nibi_Enters=null
trigger gg_trg_Roushin=null
trigger gg_trg_Roushin_Enters=null
trigger gg_trg_Han_Enters=null
trigger gg_trg_Han_Enters_2=null
trigger gg_trg_Bi_Enters=null
trigger gg_trg_Bi_Enters_2=null
trigger gg_trg_Jiraya_Enters=null
trigger gg_trg_Jiraya_Enters_2=null
trigger gg_trg_Jiraya_Dying=null
trigger gg_trg_Barah=null
trigger gg_trg_Barah_Enters=null
trigger gg_trg_Fire_Lord=null
trigger gg_trg_Fire_Lord_Enters=null
trigger gg_trg_Fire_Lord_Dying=null
trigger gg_trg_Gladiator=null
trigger gg_trg_Abos=null
trigger gg_trg_Abos_Enters=null
trigger gg_trg_Abos_Dying=null
trigger gg_trg_Ninja_Enters=null
trigger gg_trg_Ninja_Dying=null
trigger gg_trg_Samurai_Enters=null
trigger gg_trg_Samurai_Dying=null
trigger gg_trg_Haku_Enters=null
trigger gg_trg_Haku_Dying=null
trigger gg_trg_Dreadlord_Enters=null
trigger gg_trg_Dreadlord_Dying=null
trigger gg_trg_killme=null
trigger gg_trg_killme_2=null
trigger gg_trg_killme_3=null
trigger gg_trg_killme_4=null
trigger gg_trg_killme_5=null
trigger gg_trg_killme_6=null
trigger gg_trg_killme_7=null
trigger gg_trg_killme_8=null
trigger gg_trg_killme_9=null
trigger gg_trg_Matchup=null
trigger gg_trg_greedisgood=null
trigger gg_trg_Movespeed=null
trigger gg_trg_cam=null
trigger gg_trg_Visible=null
trigger gg_trg_clear=null
trigger gg_trg_Open_Cave=null
trigger gg_trg_Close_Cave=null
trigger gg_trg_PeinsDie=null
trigger gg_trg_PeinsRespawn=null
trigger gg_trg_BidjuDecontrol=null
trigger gg_trg_Sexy=null
trigger gg_trg_Madara=null
trigger gg_trg_Madara_Sword=null
trigger gg_trg_Shisuya_Danzo=null
trigger gg_trg_Sennin_item=null
trigger gg_trg_Sennin_item2=null
trigger gg_trg_Veer_2=null
trigger gg_trg_Mizukag=null
trigger gg_trg_Wallout=null
trigger gg_trg_KameraPoint=null
trigger gg_trg_HouseAttacked=null
trigger gg_trg_HouseAttacked2=null
trigger gg_trg_HouseAttacked3=null
trigger gg_trg_Suna_vs_Konoha=null
trigger gg_trg_Mist_vs_Konoha=null
trigger gg_trg_Such_vs_Konoha=null
trigger gg_trg_Rai_vs_Konoha=null
trigger gg_trg_Zetsu=null
trigger gg_trg_Leave_Game=null
trigger gg_trg_Madarevive=null
trigger gg_trg_Madarevive_oroch=null
trigger gg_trg_Initialization=null
trigger gg_trg_Player_1_right=null
trigger gg_trg_Player_1_left=null
trigger gg_trg_Player_1_Camera=null
trigger gg_trg_Player_1_Setup=null
trigger gg_trg_Player_2_right=null
trigger gg_trg_Player_2_left=null
trigger gg_trg_Player_2_Camera=null
trigger gg_trg_Player_2_Setup=null
trigger gg_trg_Player_3_right=null
trigger gg_trg_Player_3_left=null
trigger gg_trg_Player_3_Camera=null
trigger gg_trg_Player_3_Setup=null
trigger gg_trg_Player_4_right=null
trigger gg_trg_Player_4_left=null
trigger gg_trg_Player_4_Camera=null
trigger gg_trg_Player_4_Setup=null
trigger gg_trg_Player_5_right=null
trigger gg_trg_Player_5_left=null
trigger gg_trg_Player_5_Camera=null
trigger gg_trg_Player_5_Setup=null
trigger gg_trg_Player_6_right=null
trigger gg_trg_Player_6_left=null
trigger gg_trg_Player_6_Camera=null
trigger gg_trg_Player_6_Setup=null
trigger gg_trg_Player_7_right=null
trigger gg_trg_Player_7_left=null
trigger gg_trg_Player_7_Camera=null
trigger gg_trg_Player_7_Setup=null
trigger gg_trg_Player_8_right=null
trigger gg_trg_Player_8_left=null
trigger gg_trg_Player_8_Camera=null
trigger gg_trg_Player_8_Setup=null
trigger gg_trg_Player_9_right=null
trigger gg_trg_Player_9_left=null
trigger gg_trg_Player_9_Camera=null
trigger gg_trg_Player_9_Setup=null
trigger gg_trg_Other=null
trigger gg_trg_Zombi_respawn=null
trigger gg_trg_Hanzo_respawn=null
trigger gg_trg_Hanzo_De=null
trigger gg_trg_Crep_remove=null
trigger gg_trg_Dying_Tobi=null
trigger gg_trg_Konoha=null
trigger gg_trg_Sound=null
trigger gg_trg_Hawk=null
trigger gg_trg_Akatsuki=null
trigger gg_trg_E=null
trigger gg_trg_createsets=null
trigger gg_trg_Midare_1=null
trigger gg_trg_Midare_1_click=null
trigger gg_trg_Midare_attack=null
trigger gg_trg_Midare_1_move=null
trigger gg_trg_Midare_1_kill=null
trigger gg_trg_Midare_1_death=null
trigger gg_trg_Midare_2=null
trigger gg_trg_Midare_2_click=null
trigger gg_trg_Midare_attack_2=null
trigger gg_trg_Midare_2_move=null
trigger gg_trg_Midare_2_kill=null
trigger gg_trg_Midare_2_death=null
trigger gg_trg_Lariat=null
trigger gg_trg_Lariat_move=null
trigger gg_trg_Charge_ninetail=null
trigger gg_trg_Charge_ninetail_move=null
trigger gg_trg_Tail_Bomb=null
trigger gg_trg_Tail_Bomb_move=null
trigger gg_trg_Tail_Bomb_2=null
trigger gg_trg_Tail_Bomb_2_move=null
trigger gg_trg_Bidju_Stomb_cast=null
trigger gg_trg_Bidju_Bomb_cast=null
trigger gg_trg_One_tail_chakra=null
trigger gg_trg_Two_tail_chakra=null
trigger gg_trg_Two_tail_chakra_2=null
trigger gg_trg_Nibi_Dying=null
trigger gg_trg_Four__tail_chakra=null
trigger gg_trg_Four__tail_chakra_2=null
trigger gg_trg_Roushin_Dying=null
trigger gg_trg_Five_tail_chakra=null
trigger gg_trg_Five_tail_chakra_2=null
trigger gg_trg_Han_Dying=null
trigger gg_trg_Six_tail_chakra=null
trigger gg_trg_Six_tail_chakra_2=null
trigger gg_trg_Utakata_Dying=null
trigger gg_trg_Seven_tail_chakra=null
trigger gg_trg_Sichibi_Dying=null
trigger gg_trg_Eight_tail_chakra=null
trigger gg_trg_Eight_tail_chakra_2=null
trigger gg_trg_Eight_tail_chakra_3=null
trigger gg_trg_Bi_Dying=null
trigger gg_trg_Nine_tail_chakra=null
trigger gg_trg_Nine_tail_chakra_2=null
trigger gg_trg_Naruto_End=null
trigger gg_trg_Menma=null
trigger gg_trg_Robot=null
trigger gg_trg_Ichibi_bidju_1=null
trigger gg_trg_Ichibi_bidju_2=null
trigger gg_trg_Ichibi_bidju_3=null
trigger gg_trg_Ichibi_bidju_4=null
trigger gg_trg_Ichibi_bidju_5=null
trigger gg_trg_Ichibi_bidju_6=null
trigger gg_trg_Ichibi_bidju_7=null
trigger gg_trg_Ichibi_bidju_8=null
trigger gg_trg_Ichibi_bidju_9=null
trigger gg_trg_Ichibi_bidju_Death=null
trigger gg_trg_Ichibi_bidju=null
trigger gg_trg_Gedo_death=null
trigger gg_trg_Ichibi_bidju_10=null
trigger gg_trg_Tentail_dead=null
trigger gg_trg_change_of_Body=null
trigger gg_trg_Snake_spell=null
trigger gg_trg_Wind_wave_of=null
trigger gg_trg_Meat_Hook=null
trigger gg_trg_Periodic_Hook=null
trigger gg_trg_Snake=null
trigger gg_trg_Snake_Move=null
trigger gg_trg_Snake_End=null
trigger gg_trg_Snake_Die=null
trigger gg_trg_Metamorh=null
trigger gg_trg_Metamorh_2=null
trigger gg_trg_Metamorh_3=null
trigger gg_trg_Hand_Hand=null
trigger gg_trg_Hand_Hand_damage=null
trigger gg_trg_Sanin_Kabuto_Deathe=null
trigger gg_trg_Dummy_Sasuke=null
trigger gg_trg_KatonAll=null
trigger gg_trg_KatonAll2=null
trigger gg_trg_KirinStart=null
trigger gg_trg_ChidoriNagSen=null
trigger gg_trg_Amaterasu_Off=null
trigger gg_trg_SusanooSasukeDef1=null
trigger gg_trg_SusanooSasukeDef2=null
trigger gg_trg_SusanooSasukeDef=null
trigger gg_trg_EntonKagetsuchi_Cast=null
trigger gg_trg_stomb=null
trigger gg_trg_Overpower=null
trigger gg_trg_Overpower_attack=null
trigger gg_trg_Bazooka=null
trigger gg_trg_Whaaa=null
trigger gg_trg_Whaaa_move=null
trigger gg_trg_Whaaa_move_2=null
trigger gg_trg_Podmena_2=null
trigger gg_trg_Charge=null
trigger gg_trg_Chargei_move=null
trigger gg_trg_Sword=null
trigger gg_trg_Sword_attack=null
trigger gg_trg_Water_wave=null
trigger gg_trg_KrotKakasi=null
trigger gg_trg_KrotKakasi2=null
trigger gg_trg_KrotKakasi3=null
trigger gg_trg_Kakashi_clone=null
trigger gg_trg_Kakashi_clone_2=null
trigger gg_trg_Kakashi_clone_3=null
trigger gg_trg_Suitun_suirudon_dragon_1=null
trigger gg_trg_Suitun_suirudon_dragon_2=null
trigger gg_trg_Suitun_suirudon_dragon_3=null
trigger gg_trg_MSH_kakashi=null
trigger gg_trg_MSH_kakashi_Hole=null
trigger gg_trg_Rasengan_1=null
trigger gg_trg_Rasengan_2=null
trigger gg_trg_Rasengan_move=null
trigger gg_trg_Rasenrengan_move=null
trigger gg_trg_Kage_bun=null
trigger gg_trg_sage=null
trigger gg_trg_sage_2=null
trigger gg_trg_sage_dead=null
trigger gg_trg_Rasenshuriken=null
trigger gg_trg_Rasenshuriken_move=null
trigger gg_trg_Rasenshuriken_damage=null
trigger gg_trg_Kagebunshin_no_Jutsu=null
trigger gg_trg_Kagebunshin_no_Jutsu_Check=null
trigger gg_trg_Senpou_Chou_Odama_Rasen_Tarengan=null
trigger gg_trg_Senpou_Chou_Odama_Timer=null
trigger gg_trg_Clear_Dummy=null
trigger gg_trg_Blow=null
trigger gg_trg_Blow_Move=null
trigger gg_trg_Earth_slam=null
trigger gg_trg_Mana=null
trigger gg_trg_Mana_end=null
trigger gg_trg_Beast_Dies=null
trigger gg_trg_Ninpo_Rat=null
trigger gg_trg_Ninpo_Rat_dead=null
trigger gg_trg_Ninpo_Gigant=null
trigger gg_trg_Ninpo_Dragon=null
trigger gg_trg_Ninpo_Dragon_Move=null
trigger gg_trg_Geppou=null
trigger gg_trg_Gai_Senpu=null
trigger gg_trg_Gai_Senpu_damage=null
trigger gg_trg_Gai_bomb=null
trigger gg_trg_Gai_bomb_damage=null
trigger gg_trg_Dummy=null
trigger gg_trg_Lee_Senpu=null
trigger gg_trg_Lee_Senpu_damage=null
trigger gg_trg_Front_Lotus=null
trigger gg_trg_FL_move=null
trigger gg_trg_Shuriken=null
trigger gg_trg_Shuriken_damage=null
trigger gg_trg_Shuriken_Die=null
trigger gg_trg_Fuuma=null
trigger gg_trg_Fuuma_damage=null
trigger gg_trg_Fuuma_Die=null
trigger gg_trg_Sabakyuu=null
trigger gg_trg_Ruuysa_spell=null
trigger gg_trg_Ruuysa_spell_end=null
trigger gg_trg_Lava_2=null
trigger gg_trg_Remove_Raykage=null
trigger gg_trg_Elbow=null
trigger gg_trg_E_move=null
trigger gg_trg_E_knockback=null
trigger gg_trg_Guillotine_Drop=null
trigger gg_trg_GD_loop=null
trigger gg_trg_IB_hash=null
trigger gg_trg_IB_cast=null
trigger gg_trg_IB_loop=null
trigger gg_trg_Raigyaku_Suihei=null
trigger gg_trg_RS_loop=null
trigger gg_trg_RS_knockback=null
trigger gg_trg_Kengan_no_Jutsu=null
trigger gg_trg_Oonoki_KnJ_Loop=null
trigger gg_trg_Learn_Genkai_Hakuri_no_Jutsu=null
trigger gg_trg_Genkai_Hakuri_no_Jutsu=null
trigger gg_trg_Mega_Jinton=null
trigger gg_trg_MJ_Loop=null
trigger gg_trg_Wood_health=null
trigger gg_trg_Baku=null
trigger gg_trg_Baku_Move=null
trigger gg_trg_Izanagi_Int=null
trigger gg_trg_Loop_iz=null
trigger gg_trg_Delete=null
trigger gg_trg_Clone=null
trigger gg_trg_Clone2=null
trigger gg_trg_Tsukyomi=null
trigger gg_trg_Tsukyomi_damage=null
trigger gg_trg_Tsukyomi_dead=null
trigger gg_trg_Crow_2=null
trigger gg_trg_SusanooItachiDef=null
trigger gg_trg_Samehada_chakra=null
trigger gg_trg_Samehada_Heal=null
trigger gg_trg_Sphere=null
trigger gg_trg_Suitun_shark=null
trigger gg_trg_Suitun_shark_damage=null
trigger gg_trg_Suitun_surou=null
trigger gg_trg_Suitun_bakeshi_shouha=null
trigger gg_trg_Suitun_bakeshi_shouha_end=null
trigger gg_trg_Samehada=null
trigger gg_trg_Samehada_move=null
trigger gg_trg_Samehada_dead=null
trigger gg_trg_PeinAttack=null
trigger gg_trg_ShieldPole=null
trigger gg_trg_ShieldPole2=null
trigger gg_trg_ShieldPoleEnter=null
trigger gg_trg_Mana_1=null
trigger gg_trg_Mana_end_1=null
trigger gg_trg_bansho_tenin=null
trigger gg_trg_bansho_tenin_move=null
trigger gg_trg_ComeOnHere=null
trigger gg_trg_SpikeofNagato=null
trigger gg_trg_SpikeofNagato_attack=null
trigger gg_trg_RadiusNagatoControl=null
trigger gg_trg_Rinnegan=null
trigger gg_trg_RevivePath=null
trigger gg_trg_Kats_C1_mine=null
trigger gg_trg_Kats_C1=null
trigger gg_trg_Kats_C1_dead=null
trigger gg_trg_Metall_Attack=null
trigger gg_trg_Senjusobu=null
trigger gg_trg_Satetsu_Kaiho=null
trigger gg_trg_Circular_Saw_Blade=null
trigger gg_trg_Hiruko_Kachyose=null
trigger gg_trg_Hiruko_Die=null
trigger gg_trg_Unload=null
trigger gg_trg_Hiruko_Tail_Attack=null
trigger gg_trg_Hiruko_Toxic_Bombs=null
trigger gg_trg_Hiruko_Needle_Shot_START=null
trigger gg_trg_Hiruko_Needle_Shot_DIE=null
trigger gg_trg_Hiruko_Needle_Shot_Attack=null
trigger gg_trg_Hiruko_Needle_Shot_END=null
trigger gg_trg_Real_Body=null
trigger gg_trg_Real_Body_Deathe=null
trigger gg_trg_Flamethrower=null
trigger gg_trg_Waterthrower=null
trigger gg_trg_Sasori_Hook=null
trigger gg_trg_Red_Puppets_Attack=null
trigger gg_trg_Kaedjin=null
trigger gg_trg_Earth_teleport=null
trigger gg_trg_Di_1=null
trigger gg_trg_MSH_Tobi=null
trigger gg_trg_Kamuy_shuriken=null
trigger gg_trg_Kamuy_shuriken_Move=null
trigger gg_trg_Kamuy_shuriken_Dies=null
trigger gg_trg_Kamuy=null
trigger gg_trg_Kamuy_Black_Hole=null
trigger gg_trg_Kamuy_Black_Hole_2=null
trigger gg_trg_Kamuy_Black_Hole_2_move=null
trigger gg_trg_KamuyWorldLeave=null
trigger gg_trg_Kamuy_Black_Hole_3=null
trigger gg_trg_Gedo_mazo=null
trigger gg_trg_RINNEGAN=null
trigger gg_trg_RINNEGAN_end=null
trigger gg_trg_KATONUCHIHA=null
trigger gg_trg_KATONUCHIHA_Move=null
trigger gg_trg_TSUKIOMYMADARA=null
trigger gg_trg_TSUKIOMYMADARA_damage=null
trigger gg_trg_MADARACLONES=null
trigger gg_trg_MOVE=null
trigger gg_trg_WOODSTYLE=null
trigger gg_trg_WOODSTYLE_move=null
trigger gg_trg_WOODSTYLE_Dead=null
trigger gg_trg_GREENDRAGON=null
trigger gg_trg_GREENDRAGON_move=null
trigger gg_trg_GREENDRAGON_time=null
trigger gg_trg_ABSORPTION=null
trigger gg_trg_ABSORPTION_end=null
trigger gg_trg_SUSANNO=null
trigger gg_trg_SUSANNO_move=null
trigger gg_trg_SUSANNO_attack=null
trigger gg_trg_SUSANNO_die=null
trigger gg_trg_SUSANNO2=null
trigger gg_trg_SUSANNO2_move=null
trigger gg_trg_SUSANNO2_die=null
trigger gg_trg_Remove_Mokoton=null
trigger gg_trg_Mokuton_jukai_Koutan=null
trigger gg_trg_Mokuton_Jukai_Koutan_Loop=null
trigger gg_trg_Mokuton_kajukai_Kourin=null
trigger gg_trg_Mokuton_Kajukai_Kourin_Loop=null
trigger gg_trg_Shinsuusenju=null
trigger gg_trg_Shinsuusenju_Punch=null
trigger gg_trg_Kage_bun_Tobirama=null
trigger gg_trg_Remove_Dummy=null
trigger gg_trg_Shuriken_Kagebunshin=null
trigger gg_trg_Shuriken_Create=null
trigger gg_trg_Shuriken_Move=null
trigger gg_trg_Shiki_Fuujin=null
trigger gg_trg_Shiki_Fuujin_Damage=null
trigger gg_trg_Shiki_Fuujin_M=null
trigger gg_trg_Shiki_Fuujin_Damage_M=null
trigger gg_trg_Susano_Attack=null
trigger gg_trg_Edo_Hokage=null
trigger gg_trg_Edo=null
trigger gg_trg_Edo_2=null
trigger gg_trg_BlackZetsu=null
trigger gg_trg_BlackZetsu2=null
trigger gg_trg_BlackZetsuMove=null
trigger gg_trg_BlackZetsuMove_2=null
trigger gg_trg_BlackZetsu3=null
trigger gg_trg_Madara_vs_Hashirama=null
trigger gg_trg_BlackZetsu3_2=null
trigger gg_trg_Apocalypsis=null
trigger gg_trg_KagyaSpellCast1=null
trigger gg_trg_KagyaSpellCast2=null
trigger gg_trg_KagyaSpellCast3=null
trigger gg_trg_KagyaSpellCast4=null
trigger gg_trg_KagyaSpellCast5=null
trigger gg_trg_KagyaDie=null
trigger gg_trg_BlackZetsuDie=null
trigger gg_trg_Raiga_Ranmaru=null
trigger gg_trg_Raiga_Ranmaru_K=null
trigger gg_trg_Raiga_Ranmaru_S=null
trigger gg_trg_Raiga_Ranmaru_A=null
trigger gg_trg_Mifune=null
trigger gg_trg_Mifune1=null
trigger gg_trg_Hashirama=null
trigger gg_trg_Danzo_2=null
trigger gg_trg_Naruto_N=null
trigger gg_trg_Naruto_Ne=null
trigger gg_trg_Naruto_N1=null
trigger gg_trg_Naruto_N2=null
trigger gg_trg_Naruto_NEnd=null
trigger gg_trg_Naruto_Zetsu=null
trigger gg_trg_Katana=null
trigger gg_trg_Katana_1=null
trigger gg_trg_Katana_2=null
trigger gg_trg_Sasuke_16lvl_2=null
trigger gg_trg_SasukeShOro=null
trigger gg_trg_Sasuke_30lvl=null
trigger gg_trg_Sasuke_Itachi=null
trigger gg_trg_Sasuke_Itachi_2=null
trigger gg_trg_Sasuke_Itachi_3=null
trigger gg_trg_Sasuke_Itachi_4=null
trigger gg_trg_Sasuke_Itachi_5=null
trigger gg_trg_itachi_give_me_eyes=null
trigger gg_trg_Hozuki_Suygetsu=null
trigger gg_trg_Kabuto1=null
trigger gg_trg_Kabuto2=null
trigger gg_trg_Kabuto_Edo=null
trigger gg_trg_Kabuto_Edo_2=null
trigger gg_trg_Edo_Tensei_Kabuto=null
trigger gg_trg_Edo_Tensei_Kabuto_2=null
trigger gg_trg_Kabuto_Sage=null
trigger gg_trg_Kabuto_Sage_end=null
trigger gg_trg_Tobi_madara=null
trigger gg_trg_TobiRinnegan=null
trigger gg_trg_TobiRinnegan2=null
trigger gg_trg_TobiRinnegan3=null
trigger gg_trg_TobiRinnegan4=null
trigger gg_trg_TobiRinnegan5=null
trigger gg_trg_Obito_Rikudo=null
trigger gg_trg_Obito_Rikudo_Kill=null
trigger gg_trg_Hv10=null
trigger gg_trg_Hv10_2=null
trigger gg_trg_Madara_Rikudo=null
trigger gg_trg_Madara_Rikudo_Kill=null
trigger gg_trg_TheRedMoonActivated=null
trigger gg_trg_TheRedMoonDeActivated=null
trigger gg_trg_TheRedMoonActivated_2=null
trigger gg_trg_TheRedMoonDeActivated_2=null
trigger gg_trg_Wolf=null
trigger gg_trg_Wolf2=null
trigger gg_trg_WolfQ=null
trigger gg_trg_WolfEnd=null
trigger gg_trg_Barah_must_die=null
trigger gg_trg_Barah_must_die2=null
trigger gg_trg_Barah_must_dieQ=null
trigger gg_trg_Barah_must_dieEnd=null
trigger gg_trg_Amedato=null
trigger gg_trg_Amedato2=null
trigger gg_trg_AmedatoQ=null
trigger gg_trg_AmedatoEnd=null
trigger gg_trg_Kel=null
trigger gg_trg_Kel2=null
trigger gg_trg_KelQ=null
trigger gg_trg_KelEND=null
trigger gg_trg_Sound1=null
trigger gg_trg_Sound1Q=null
trigger gg_trg_Sound2=null
trigger gg_trg_SoundEND=null
trigger gg_trg_SoundDefeat=null
trigger gg_trg_Girgito=null
trigger gg_trg_Sosedi=null
trigger gg_trg_Sosedi2=null
trigger gg_trg_SosediQ=null
trigger gg_trg_SosediEnd=null
trigger gg_trg_Sosedi_L=null
trigger gg_trg_Sosedi2_L=null
trigger gg_trg_SosediQ_L=null
trigger gg_trg_SosediEnd_L=null
trigger gg_trg_Konoha_suna4=null
trigger gg_trg_Konoha_suna4Q=null
trigger gg_trg_Konoha_suna5=null
trigger gg_trg_Soldat=null
trigger gg_trg_SildatQ=null
trigger gg_trg_SoldatEnd=null
trigger gg_trg_Brat=null
trigger gg_trg_Brat2=null
trigger gg_trg_BratQ=null
trigger gg_trg_BratEnd=null
unit gg_unit_Harf_0004=null
unit gg_unit_Ofar_0013=null
unit gg_unit_Obla_0014=null
unit gg_unit_Hpb2_0015=null
unit gg_unit_Hvwd_0016=null
unit gg_unit_Eill_0017=null
unit gg_unit_nhyc_0379=null
unit gg_unit_Hart_0019=null
unit gg_unit_Hkal_0020=null
unit gg_unit_Hhkl_0021=null
unit gg_unit_Udre_0022=null
unit gg_unit_Edem_0023=null
unit gg_unit_Hamg_0024=null
unit gg_unit_Hblm_0025=null
unit gg_unit_Hpb1_0026=null
unit gg_unit_Nmag_0027=null
unit gg_unit_Hant_0028=null
unit gg_unit_Hlgr_0029=null
unit gg_unit_Hgam_0030=null
unit gg_unit_Emoo_0031=null
unit gg_unit_Uktl_0032=null
unit gg_unit_Emfr_0033=null
unit gg_unit_Hpal_0034=null
unit gg_unit_Hmgd_0035=null
unit gg_unit_hcas_0038=null
unit gg_unit_h01N_0039=null
unit gg_unit_h00E_0087=null
unit gg_unit_H027_0113=null
unit gg_unit_Ewrd_0114=null
unit gg_unit_Emns_0115=null
unit gg_unit_Eevi_0116=null
unit gg_unit_Oshd_0117=null
unit gg_unit_Ewar_0118=null
unit gg_unit_Ekgg_0119=null
unit gg_unit_nenf_0243=null
unit gg_unit_nenf_0242=null
unit gg_unit_nenf_0241=null
unit gg_unit_nenf_0240=null
unit gg_unit_nsnp_0381=null
unit gg_unit_nnrg_0382=null
unit gg_unit_Huth_0018=null
unit gg_unit_h00C_0141=null
unit gg_unit_nenf_0245=null
unit gg_unit_n006_0208=null
unit gg_unit_n007_0207=null
unit gg_unit_nfoh_0204=null
unit gg_unit_hrif_0187=null
unit gg_unit_nenf_0244=null
unit gg_unit_Hvsh_0206=null
unit gg_unit_nfoh_0184=null
unit gg_unit_nfoh_0194=null
unit gg_unit_nfoh_0195=null
unit gg_unit_nbfl_0198=null
unit gg_unit_nbfl_0199=null
unit gg_unit_nnmg_0378=null
unit gg_unit_nsgh_0222=null
unit gg_unit_nsrw_0223=null
unit gg_unit_ndrd_0224=null
unit gg_unit_nchg_0225=null
unit gg_unit_u00V_0231=null
unit gg_unit_nkob_0232=null
unit gg_unit_uktn_0235=null
unit gg_unit_ndrh_0236=null
unit gg_unit_nnsw_0380=null
unit gg_unit_h01J_0251=null
unit gg_unit_h01J_0252=null
unit gg_unit_h01J_0253=null
unit gg_unit_n008_0248=null
unit gg_unit_Ucrl_0264=null
unit gg_unit_n00I_0237=null
unit gg_unit_E006_0036=null
unit gg_unit_H04N_0359=null
unit gg_unit_E00R_0362=null
unit gg_unit_n00T_0369=null
unit gg_unit_n00Y_0139=null
unit gg_unit_n010_0140=null
destructable gg_dest_B000_6926=null
hashtable hash=InitHashtable()
sound snd_Error=CreateSound("Sound\\Interface\\Error.wav",false,false,false,$A,$A,"")
constant boolean OWNERS=false
unit udg_Kabuto_Sage=null
boolean udg_Sanin_Kabuto=false
group AmaterasuAll=CreateGroup()
group AmaterasuAll2=CreateGroup()
group SasukeKatonD=CreateGroup()
group EntonKagetsuchiD=CreateGroup()
group SasukeNagashiD=CreateGroup()
group SasukeSenbonDebug=CreateGroup()
unit SasukeSusanoo
unit SasukeSusanoo1
unit SasukeSusanoo2
unit SasukeSusanooCaster
unit SasukeSusanooCaster1
unit SasukeSusanooCaster2
boolean SasukeSus=false
boolean SasukeSus1=false
boolean SasukeSus2=false
boolean SasukeSusAttack=false
boolean SasukeSusAttack1=false
boolean SasukeSusAttack2=false
boolean SasukeSusOne=false
boolean SasukeSusOne1=false
boolean SasukeSusOne2=false
boolean SasukeKirinSetap=false
boolean SasukeKirinOne=false
boolean SasukeKirinUse=false
real SasukeSusanooHeal=0
real SasukeSusanooHeal1=0
real SasukeSusanooHeal2=0
integer SasukeKirinDamage=0
integer SasukeKirinControl=0
integer SasukeKirinMax=0
integer SasukeKirinCD=0
constant integer Udar__AbilityID='A01Q'
constant integer Udar__EffectDummy='e000'
constant real Udar__BaseDamage=500.
constant real Udar__LevelDamage=500.
constant real Udar__StunBase=1.65
constant real Udar__StunLevel=.25
constant real Udar__RadiusHook=125.
constant integer Udar__DistanceHook=32
constant real Udar__SpeedHook=40.
constant real Udar__KnockBase=44.
constant real Udar__Knockaccelerate=2.15
constant string Udar__SfxTarget="Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl"
constant timer Udar__tick=CreateTimer()
integer array Udar__Data
integer Udar__counter=0
unit ItachiSusanoo
unit ItachiSusanooCaster
boolean ItachiSus=false
boolean ItachiSusAttack=false
boolean ItachiSusOne=false
real ItachiSusanooHeal=0
unit udg_Hiruko=null
unit udg_Sasori=null
boolean udg_SasoriRealBody=false
unit array udg_Hiruko_Needle_U
real array udg_Hiruko_Needle_R
group array udg_Hiruko_Needle_G
integer si__KB__TS_F=0
integer si__KB__TS_I=0
integer array si__KB__TS_V
unit array s__KB__TS_target
real array s__KB__TS_height
real array s__KB__TS_speed
real array s__KB__TS_angle
real array s__KB__TS_cur
real array s__KB__TS_distance
real array s__KB__TS_spkbs
real array s__KB__TS_x
real array s__KB__TS_y
effect array s__KB__TS_sfx
string array s__KB__TS_fxpath
boolean array s__KB__TS_fly
boolean array s__KB__TS_kbs
integer si__recept_F=0
integer si__recept_I=0
integer array si__recept_V
integer array s__recept_count
integer array s__recept_target
integer array s___recept_it
integer array s__recept_it
integer array s___recept_kratn
integer array s__recept_kratn
integer si__recepts_F=0
integer si__recepts_I=0
integer array si__recepts_V
integer array s___recepts_list
integer array s__recepts_list
integer array s__recepts_count
integer si__itemdummy_F=0
integer si__itemdummy_I=0
integer array si__itemdummy_V
integer array s__itemdummy_it
integer array s__itemdummy_du
boolean array s__itemdummy_buy
integer si__items_F=0
integer si__items_I=0
integer array si__items_V
integer array s__items_count
integer array s___items_list
integer array s__items_list
integer si__KirinSetap3Struct_F=0
integer si__KirinSetap3Struct_I=0
integer array si__KirinSetap3Struct_V
timer s__KirinSetap3Struct_t=CreateTimer()
integer array s__KirinSetap3Struct_m
integer s__KirinSetap3Struct_DI=-1
unit array s__KirinSetap3Struct_c
integer si__KirinSetap2Struct_F=0
integer si__KirinSetap2Struct_I=0
integer array si__KirinSetap2Struct_V
timer s__KirinSetap2Struct_t=CreateTimer()
integer array s__KirinSetap2Struct_m
integer s__KirinSetap2Struct_DI=-1
unit array s__KirinSetap2Struct_c
integer si__KirinSetapStruct_F=0
integer si__KirinSetapStruct_I=0
integer array si__KirinSetapStruct_V
timer s__KirinSetapStruct_t=CreateTimer()
integer array s__KirinSetapStruct_m
integer s__KirinSetapStruct_DI=-1
unit array s__KirinSetapStruct_c
real array s__KirinSetapStruct_count
integer si__KatonSasukeStruct_F=0
integer si__KatonSasukeStruct_I=0
integer array si__KatonSasukeStruct_V
timer s__KatonSasukeStruct_t=CreateTimer()
integer array s__KatonSasukeStruct_m
integer s__KatonSasukeStruct_DI=-1
unit array s__KatonSasukeStruct_c
unit array s__KatonSasukeStruct_d
unit array s__KatonSasukeStruct_d2
unit array s__KatonSasukeStruct_n
unit array s__KatonSasukeStruct_n2
real array s__KatonSasukeStruct_x
real array s__KatonSasukeStruct_y
real array s__KatonSasukeStruct_a
integer array s__KatonSasukeStruct_id
real array s__KatonSasukeStruct_count
real array s__KatonSasukeStruct_count2
integer si__KirinSasukeStruct_F=0
integer si__KirinSasukeStruct_I=0
integer array si__KirinSasukeStruct_V
timer s__KirinSasukeStruct_t=CreateTimer()
integer array s__KirinSasukeStruct_m
integer s__KirinSasukeStruct_DI=-1
unit array s__KirinSasukeStruct_c
unit array s__KirinSasukeStruct_d
unit array s__KirinSasukeStruct_d2
integer array s__KirinSasukeStruct_id
real array s__KirinSasukeStruct_count
real array s__KirinSasukeStruct_count2
integer si__KirinSasuke2Struct_F=0
integer si__KirinSasuke2Struct_I=0
integer array si__KirinSasuke2Struct_V
timer s__KirinSasuke2Struct_t=CreateTimer()
integer array s__KirinSasuke2Struct_m
integer s__KirinSasuke2Struct_DI=-1
unit array s__KirinSasuke2Struct_c
unit array s__KirinSasuke2Struct_d2
unit array s__KirinSasuke2Struct_n
real array s__KirinSasuke2Struct_x
real array s__KirinSasuke2Struct_y
real array s__KirinSasuke2Struct_x3
real array s__KirinSasuke2Struct_y3
real array s__KirinSasuke2Struct_a
real array s__KirinSasuke2Struct_count
real array s__KirinSasuke2Struct_count2
effect array s__KirinSasuke2Struct_eff
integer array s__KirinSasuke2Struct_i
integer array s__KirinSasuke2Struct_i2
real array s__KirinSasuke2Struct_ds2
real array s__KirinSasuke2Struct_ds
integer si__ChidoriNagashiStruct_F=0
integer si__ChidoriNagashiStruct_I=0
integer array si__ChidoriNagashiStruct_V
timer s__ChidoriNagashiStruct_t=CreateTimer()
integer array s__ChidoriNagashiStruct_m
integer s__ChidoriNagashiStruct_DI=-1
unit array s__ChidoriNagashiStruct_c
unit array s__ChidoriNagashiStruct_n
unit array s__ChidoriNagashiStruct_n2
unit array s__ChidoriNagashiStruct_n3
real array s__ChidoriNagashiStruct_x
real array s__ChidoriNagashiStruct_y
real array s__ChidoriNagashiStruct_x2
real array s__ChidoriNagashiStruct_y2
real array s__ChidoriNagashiStruct_x3
real array s__ChidoriNagashiStruct_y3
real array s__ChidoriNagashiStruct_a
integer array s__ChidoriNagashiStruct_id
integer array s__ChidoriNagashiStruct_i
real array s__ChidoriNagashiStruct_count
real array s__ChidoriNagashiStruct_count2
real array s__ChidoriNagashiStruct_ds
integer si__ChidoriSenbon2Struct_F=0
integer si__ChidoriSenbon2Struct_I=0
integer array si__ChidoriSenbon2Struct_V
timer s__ChidoriSenbon2Struct_t=CreateTimer()
integer array s__ChidoriSenbon2Struct_m
integer s__ChidoriSenbon2Struct_DI=-1
unit array s__ChidoriSenbon2Struct_c
unit array s__ChidoriSenbon2Struct_n
unit array s__ChidoriSenbon2Struct_d
unit array s__ChidoriSenbon2Struct_d2
real array s__ChidoriSenbon2Struct_x
real array s__ChidoriSenbon2Struct_y
real array s__ChidoriSenbon2Struct_a
integer array s__ChidoriSenbon2Struct_id
real array s__ChidoriSenbon2Struct_count
boolean array s__ChidoriSenbon2Struct_b
integer si__ChidoriSenbonStruct_F=0
integer si__ChidoriSenbonStruct_I=0
integer array si__ChidoriSenbonStruct_V
timer s__ChidoriSenbonStruct_t=CreateTimer()
integer array s__ChidoriSenbonStruct_m
integer s__ChidoriSenbonStruct_DI=-1
unit array s__ChidoriSenbonStruct_c
unit array s__ChidoriSenbonStruct_d
real array s__ChidoriSenbonStruct_x
real array s__ChidoriSenbonStruct_y
real array s__ChidoriSenbonStruct_a
real array s__ChidoriSenbonStruct_a2
real array s__ChidoriSenbonStruct_r
integer array s__ChidoriSenbonStruct_id
integer array s__ChidoriSenbonStruct_i
real array s__ChidoriSenbonStruct_count
real array s__ChidoriSenbonStruct_count2
real array s__ChidoriSenbonStruct_count3
effect array s__ChidoriSenbonStruct_eff
integer si__AmaterasuSasukeStruct_F=0
integer si__AmaterasuSasukeStruct_I=0
integer array si__AmaterasuSasukeStruct_V
timer s__AmaterasuSasukeStruct_t=CreateTimer()
integer array s__AmaterasuSasukeStruct_m
integer s__AmaterasuSasukeStruct_DI=-1
unit array s__AmaterasuSasukeStruct_c
unit array s__AmaterasuSasukeStruct_td
unit array s__AmaterasuSasukeStruct_d
real array s__AmaterasuSasukeStruct_a
real array s__AmaterasuSasukeStruct_count
integer si__AmaterasuAllStruct_F=0
integer si__AmaterasuAllStruct_I=0
integer array si__AmaterasuAllStruct_V
timer s__AmaterasuAllStruct_t=CreateTimer()
integer array s__AmaterasuAllStruct_m
integer s__AmaterasuAllStruct_DI=-1
unit array s__AmaterasuAllStruct_c
unit array s__AmaterasuAllStruct_n
unit array s__AmaterasuAllStruct_td
effect array s__AmaterasuAllStruct_eff
real array s__AmaterasuAllStruct_count
real array s__AmaterasuAllStruct_count2
integer si__AmaterasuAll3Struct_F=0
integer si__AmaterasuAll3Struct_I=0
integer array si__AmaterasuAll3Struct_V
timer s__AmaterasuAll3Struct_t=CreateTimer()
integer array s__AmaterasuAll3Struct_m
integer s__AmaterasuAll3Struct_DI=-1
unit array s__AmaterasuAll3Struct_n
integer si__SusanooSasukeStruct1_F=0
integer si__SusanooSasukeStruct1_I=0
integer array si__SusanooSasukeStruct1_V
timer s__SusanooSasukeStruct1_t=CreateTimer()
integer array s__SusanooSasukeStruct1_m
integer s__SusanooSasukeStruct1_DI=-1
unit array s__SusanooSasukeStruct1_c
real array s__SusanooSasukeStruct1_count
real array s__SusanooSasukeStruct1_count2
texttag array s__SusanooSasukeStruct1_thl
integer si__SusanooSasukeStruct2_F=0
integer si__SusanooSasukeStruct2_I=0
integer array si__SusanooSasukeStruct2_V
timer s__SusanooSasukeStruct2_t=CreateTimer()
integer array s__SusanooSasukeStruct2_m
integer s__SusanooSasukeStruct2_DI=-1
unit array s__SusanooSasukeStruct2_c
real array s__SusanooSasukeStruct2_count
real array s__SusanooSasukeStruct2_count2
texttag array s__SusanooSasukeStruct2_thl
integer si__SusanooSasukeStruct_F=0
integer si__SusanooSasukeStruct_I=0
integer array si__SusanooSasukeStruct_V
timer s__SusanooSasukeStruct_t=CreateTimer()
integer array s__SusanooSasukeStruct_m
integer s__SusanooSasukeStruct_DI=-1
unit array s__SusanooSasukeStruct_c
unit array s__SusanooSasukeStruct_d2
real array s__SusanooSasukeStruct_count
real array s__SusanooSasukeStruct_count2
texttag array s__SusanooSasukeStruct_thl
integer si__EntonKagetsuchiStruct_F=0
integer si__EntonKagetsuchiStruct_I=0
integer array si__EntonKagetsuchiStruct_V
timer s__EntonKagetsuchiStruct_t=CreateTimer()
integer array s__EntonKagetsuchiStruct_m
integer s__EntonKagetsuchiStruct_DI=-1
unit array s__EntonKagetsuchiStruct_c
unit array s__EntonKagetsuchiStruct_d
unit array s__EntonKagetsuchiStruct_n
unit array s__EntonKagetsuchiStruct_n2
real array s__EntonKagetsuchiStruct_a
real array s__EntonKagetsuchiStruct_count
real array s__EntonKagetsuchiStruct_count2
effect array s__EntonKagetsuchiStruct_eff
integer si__Udar__data_F=0
integer si__Udar__data_I=0
integer array si__Udar__data_V
unit array s__Udar__data_c
unit array s__Udar__data_dummy
unit array s___Udar__data_chains
integer array s__Udar__data_chains
real array s__Udar__data_x
real array s__Udar__data_y
real array s__Udar__data_angle
boolean array s__Udar__data_check
integer array s__Udar__data_index
integer array s__Udar__data_level
player array s__Udar__data_owner
group array s__Udar__data_gr
integer si__SusanooItachiStruct_F=0
integer si__SusanooItachiStruct_I=0
integer array si__SusanooItachiStruct_V
timer s__SusanooItachiStruct_t=CreateTimer()
integer array s__SusanooItachiStruct_m
integer s__SusanooItachiStruct_DI=-1
unit array s__SusanooItachiStruct_c
real array s__SusanooItachiStruct_count
real array s__SusanooItachiStruct_count2
texttag array s__SusanooItachiStruct_thl
trigger st__recept_normalize
trigger st__KirinSetap2Struct_KirinSetap2Start
trigger st__KirinSetapStruct_KirinSetapStart
trigger st__KatonSasukeStruct_KatonSasukeStart
trigger st__KirinSasukeStruct_KirinSasukeStart
trigger st__ChidoriNagashiStruct_ChidoriNagashiStart
trigger st__ChidoriSenbonStruct_ChidoriSenbonStart
trigger st__AmaterasuAllStruct_AmaterasuAllStart
trigger st__AmaterasuAll3Struct_AmaterasuAll3Start
trigger st__EntonKagetsuchiStruct_EntonKagetsuchiStart
unit f__arg_unit1
unit f__arg_unit2
integer f__arg_integer1
real f__arg_real1
integer f__arg_this
endglobals
native UnitAlive takes unit id returns boolean
function s__KB__TS__allocate takes nothing returns integer
local integer this=si__KB__TS_F
if(this!=0)then
set si__KB__TS_F=si__KB__TS_V[this]
else
set si__KB__TS_I=si__KB__TS_I+1
set this=si__KB__TS_I
endif
if(this>8190)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Unable to allocate id for an object of type: KB__TS")
return 0
endif
set si__KB__TS_V[this]=-1
return this
endfunction
function s__KB__TS_deallocate takes integer this returns nothing
if this==null then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Attempt to destroy a null struct of type: KB__TS")
return
elseif(si__KB__TS_V[this]!=-1)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Double free of type: KB__TS")
return
endif
set si__KB__TS_V[this]=si__KB__TS_F
set si__KB__TS_F=this
endfunction
function s__SusanooItachiStruct__allocate takes nothing returns integer
local integer this=si__SusanooItachiStruct_F
if(this!=0)then
set si__SusanooItachiStruct_F=si__SusanooItachiStruct_V[this]
else
set si__SusanooItachiStruct_I=si__SusanooItachiStruct_I+1
set this=si__SusanooItachiStruct_I
endif
if(this>8190)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Unable to allocate id for an object of type: SusanooItachiStruct")
return 0
endif
set si__SusanooItachiStruct_V[this]=-1
return this
endfunction
function s__SusanooItachiStruct_deallocate takes integer this returns nothing
if this==null then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Attempt to destroy a null struct of type: SusanooItachiStruct")
return
elseif(si__SusanooItachiStruct_V[this]!=-1)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Double free of type: SusanooItachiStruct")
return
endif
set si__SusanooItachiStruct_V[this]=si__SusanooItachiStruct_F
set si__SusanooItachiStruct_F=this
endfunction
function s__Udar__data__allocate takes nothing returns integer
local integer this=si__Udar__data_F
if(this!=0)then
set si__Udar__data_F=si__Udar__data_V[this]
else
set si__Udar__data_I=si__Udar__data_I+1
set this=si__Udar__data_I
endif
if(this>19)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Unable to allocate id for an object of type: Udar__data")
return 0
endif
set s__Udar__data_chains[this]=(this-1)*400
set si__Udar__data_V[this]=-1
return this
endfunction
function s__Udar__data_deallocate takes integer this returns nothing
if this==null then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Attempt to destroy a null struct of type: Udar__data")
return
elseif(si__Udar__data_V[this]!=-1)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Double free of type: Udar__data")
return
endif
set si__Udar__data_V[this]=si__Udar__data_F
set si__Udar__data_F=this
endfunction
function sc__EntonKagetsuchiStruct_EntonKagetsuchiStart takes unit NewCaster,unit NewDummy,real NewAngle returns nothing
set f__arg_unit1=NewCaster
set f__arg_unit2=NewDummy
set f__arg_real1=NewAngle
call TriggerEvaluate(st__EntonKagetsuchiStruct_EntonKagetsuchiStart)
endfunction
function s__EntonKagetsuchiStruct__allocate takes nothing returns integer
local integer this=si__EntonKagetsuchiStruct_F
if(this!=0)then
set si__EntonKagetsuchiStruct_F=si__EntonKagetsuchiStruct_V[this]
else
set si__EntonKagetsuchiStruct_I=si__EntonKagetsuchiStruct_I+1
set this=si__EntonKagetsuchiStruct_I
endif
if(this>8190)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Unable to allocate id for an object of type: EntonKagetsuchiStruct")
return 0
endif
set si__EntonKagetsuchiStruct_V[this]=-1
return this
endfunction
function s__EntonKagetsuchiStruct_deallocate takes integer this returns nothing
if this==null then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Attempt to destroy a null struct of type: EntonKagetsuchiStruct")
return
elseif(si__EntonKagetsuchiStruct_V[this]!=-1)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Double free of type: EntonKagetsuchiStruct")
return
endif
set si__EntonKagetsuchiStruct_V[this]=si__EntonKagetsuchiStruct_F
set si__EntonKagetsuchiStruct_F=this
endfunction
function s__SusanooSasukeStruct__allocate takes nothing returns integer
local integer this=si__SusanooSasukeStruct_F
if(this!=0)then
set si__SusanooSasukeStruct_F=si__SusanooSasukeStruct_V[this]
else
set si__SusanooSasukeStruct_I=si__SusanooSasukeStruct_I+1
set this=si__SusanooSasukeStruct_I
endif
if(this>8190)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Unable to allocate id for an object of type: SusanooSasukeStruct")
return 0
endif
set si__SusanooSasukeStruct_V[this]=-1
return this
endfunction
function s__SusanooSasukeStruct_deallocate takes integer this returns nothing
if this==null then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Attempt to destroy a null struct of type: SusanooSasukeStruct")
return
elseif(si__SusanooSasukeStruct_V[this]!=-1)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Double free of type: SusanooSasukeStruct")
return
endif
set si__SusanooSasukeStruct_V[this]=si__SusanooSasukeStruct_F
set si__SusanooSasukeStruct_F=this
endfunction
function s__SusanooSasukeStruct2__allocate takes nothing returns integer
local integer this=si__SusanooSasukeStruct2_F
if(this!=0)then
set si__SusanooSasukeStruct2_F=si__SusanooSasukeStruct2_V[this]
else
set si__SusanooSasukeStruct2_I=si__SusanooSasukeStruct2_I+1
set this=si__SusanooSasukeStruct2_I
endif
if(this>8190)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Unable to allocate id for an object of type: SusanooSasukeStruct2")
return 0
endif
set si__SusanooSasukeStruct2_V[this]=-1
return this
endfunction
function s__SusanooSasukeStruct2_deallocate takes integer this returns nothing
if this==null then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Attempt to destroy a null struct of type: SusanooSasukeStruct2")
return
elseif(si__SusanooSasukeStruct2_V[this]!=-1)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Double free of type: SusanooSasukeStruct2")
return
endif
set si__SusanooSasukeStruct2_V[this]=si__SusanooSasukeStruct2_F
set si__SusanooSasukeStruct2_F=this
endfunction
function s__SusanooSasukeStruct1__allocate takes nothing returns integer
local integer this=si__SusanooSasukeStruct1_F
if(this!=0)then
set si__SusanooSasukeStruct1_F=si__SusanooSasukeStruct1_V[this]
else
set si__SusanooSasukeStruct1_I=si__SusanooSasukeStruct1_I+1
set this=si__SusanooSasukeStruct1_I
endif
if(this>8190)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Unable to allocate id for an object of type: SusanooSasukeStruct1")
return 0
endif
set si__SusanooSasukeStruct1_V[this]=-1
return this
endfunction
function s__SusanooSasukeStruct1_deallocate takes integer this returns nothing
if this==null then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Attempt to destroy a null struct of type: SusanooSasukeStruct1")
return
elseif(si__SusanooSasukeStruct1_V[this]!=-1)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Double free of type: SusanooSasukeStruct1")
return
endif
set si__SusanooSasukeStruct1_V[this]=si__SusanooSasukeStruct1_F
set si__SusanooSasukeStruct1_F=this
endfunction
function sc__AmaterasuAll3Struct_AmaterasuAll3Start takes nothing returns nothing
call TriggerEvaluate(st__AmaterasuAll3Struct_AmaterasuAll3Start)
endfunction
function s__AmaterasuAll3Struct__allocate takes nothing returns integer
local integer this=si__AmaterasuAll3Struct_F
if(this!=0)then
set si__AmaterasuAll3Struct_F=si__AmaterasuAll3Struct_V[this]
else
set si__AmaterasuAll3Struct_I=si__AmaterasuAll3Struct_I+1
set this=si__AmaterasuAll3Struct_I
endif
if(this>8190)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Unable to allocate id for an object of type: AmaterasuAll3Struct")
return 0
endif
set si__AmaterasuAll3Struct_V[this]=-1
return this
endfunction
function s__AmaterasuAll3Struct_deallocate takes integer this returns nothing
if this==null then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Attempt to destroy a null struct of type: AmaterasuAll3Struct")
return
elseif(si__AmaterasuAll3Struct_V[this]!=-1)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Double free of type: AmaterasuAll3Struct")
return
endif
set si__AmaterasuAll3Struct_V[this]=si__AmaterasuAll3Struct_F
set si__AmaterasuAll3Struct_F=this
endfunction
function sc__AmaterasuAllStruct_AmaterasuAllStart takes unit NewCaster,unit NewTarget returns nothing
set f__arg_unit1=NewCaster
set f__arg_unit2=NewTarget
call TriggerEvaluate(st__AmaterasuAllStruct_AmaterasuAllStart)
endfunction
function s__AmaterasuAllStruct__allocate takes nothing returns integer
local integer this=si__AmaterasuAllStruct_F
if(this!=0)then
set si__AmaterasuAllStruct_F=si__AmaterasuAllStruct_V[this]
else
set si__AmaterasuAllStruct_I=si__AmaterasuAllStruct_I+1
set this=si__AmaterasuAllStruct_I
endif
if(this>8190)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Unable to allocate id for an object of type: AmaterasuAllStruct")
return 0
endif
set si__AmaterasuAllStruct_V[this]=-1
return this
endfunction
function s__AmaterasuAllStruct_deallocate takes integer this returns nothing
if this==null then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Attempt to destroy a null struct of type: AmaterasuAllStruct")
return
elseif(si__AmaterasuAllStruct_V[this]!=-1)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Double free of type: AmaterasuAllStruct")
return
endif
set si__AmaterasuAllStruct_V[this]=si__AmaterasuAllStruct_F
set si__AmaterasuAllStruct_F=this
endfunction
function s__AmaterasuSasukeStruct__allocate takes nothing returns integer
local integer this=si__AmaterasuSasukeStruct_F
if(this!=0)then
set si__AmaterasuSasukeStruct_F=si__AmaterasuSasukeStruct_V[this]
else
set si__AmaterasuSasukeStruct_I=si__AmaterasuSasukeStruct_I+1
set this=si__AmaterasuSasukeStruct_I
endif
if(this>8190)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Unable to allocate id for an object of type: AmaterasuSasukeStruct")
return 0
endif
set si__AmaterasuSasukeStruct_V[this]=-1
return this
endfunction
function s__AmaterasuSasukeStruct_deallocate takes integer this returns nothing
if this==null then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Attempt to destroy a null struct of type: AmaterasuSasukeStruct")
return
elseif(si__AmaterasuSasukeStruct_V[this]!=-1)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Double free of type: AmaterasuSasukeStruct")
return
endif
set si__AmaterasuSasukeStruct_V[this]=si__AmaterasuSasukeStruct_F
set si__AmaterasuSasukeStruct_F=this
endfunction
function sc__ChidoriSenbonStruct_ChidoriSenbonStart takes unit NewCaster returns nothing
set f__arg_unit1=NewCaster
call TriggerEvaluate(st__ChidoriSenbonStruct_ChidoriSenbonStart)
endfunction
function s__ChidoriSenbonStruct__allocate takes nothing returns integer
local integer this=si__ChidoriSenbonStruct_F
if(this!=0)then
set si__ChidoriSenbonStruct_F=si__ChidoriSenbonStruct_V[this]
else
set si__ChidoriSenbonStruct_I=si__ChidoriSenbonStruct_I+1
set this=si__ChidoriSenbonStruct_I
endif
if(this>8190)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Unable to allocate id for an object of type: ChidoriSenbonStruct")
return 0
endif
set si__ChidoriSenbonStruct_V[this]=-1
return this
endfunction
function s__ChidoriSenbonStruct_deallocate takes integer this returns nothing
if this==null then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Attempt to destroy a null struct of type: ChidoriSenbonStruct")
return
elseif(si__ChidoriSenbonStruct_V[this]!=-1)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Double free of type: ChidoriSenbonStruct")
return
endif
set si__ChidoriSenbonStruct_V[this]=si__ChidoriSenbonStruct_F
set si__ChidoriSenbonStruct_F=this
endfunction
function s__ChidoriSenbon2Struct__allocate takes nothing returns integer
local integer this=si__ChidoriSenbon2Struct_F
if(this!=0)then
set si__ChidoriSenbon2Struct_F=si__ChidoriSenbon2Struct_V[this]
else
set si__ChidoriSenbon2Struct_I=si__ChidoriSenbon2Struct_I+1
set this=si__ChidoriSenbon2Struct_I
endif
if(this>8190)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Unable to allocate id for an object of type: ChidoriSenbon2Struct")
return 0
endif
set si__ChidoriSenbon2Struct_V[this]=-1
return this
endfunction
function s__ChidoriSenbon2Struct_deallocate takes integer this returns nothing
if this==null then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Attempt to destroy a null struct of type: ChidoriSenbon2Struct")
return
elseif(si__ChidoriSenbon2Struct_V[this]!=-1)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Double free of type: ChidoriSenbon2Struct")
return
endif
set si__ChidoriSenbon2Struct_V[this]=si__ChidoriSenbon2Struct_F
set si__ChidoriSenbon2Struct_F=this
endfunction
function sc__ChidoriNagashiStruct_ChidoriNagashiStart takes unit NewCaster returns nothing
set f__arg_unit1=NewCaster
call TriggerEvaluate(st__ChidoriNagashiStruct_ChidoriNagashiStart)
endfunction
function s__ChidoriNagashiStruct__allocate takes nothing returns integer
local integer this=si__ChidoriNagashiStruct_F
if(this!=0)then
set si__ChidoriNagashiStruct_F=si__ChidoriNagashiStruct_V[this]
else
set si__ChidoriNagashiStruct_I=si__ChidoriNagashiStruct_I+1
set this=si__ChidoriNagashiStruct_I
endif
if(this>8190)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Unable to allocate id for an object of type: ChidoriNagashiStruct")
return 0
endif
set si__ChidoriNagashiStruct_V[this]=-1
return this
endfunction
function s__ChidoriNagashiStruct_deallocate takes integer this returns nothing
if this==null then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Attempt to destroy a null struct of type: ChidoriNagashiStruct")
return
elseif(si__ChidoriNagashiStruct_V[this]!=-1)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Double free of type: ChidoriNagashiStruct")
return
endif
set si__ChidoriNagashiStruct_V[this]=si__ChidoriNagashiStruct_F
set si__ChidoriNagashiStruct_F=this
endfunction
function s__KirinSasuke2Struct__allocate takes nothing returns integer
local integer this=si__KirinSasuke2Struct_F
if(this!=0)then
set si__KirinSasuke2Struct_F=si__KirinSasuke2Struct_V[this]
else
set si__KirinSasuke2Struct_I=si__KirinSasuke2Struct_I+1
set this=si__KirinSasuke2Struct_I
endif
if(this>8190)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Unable to allocate id for an object of type: KirinSasuke2Struct")
return 0
endif
set si__KirinSasuke2Struct_V[this]=-1
return this
endfunction
function s__KirinSasuke2Struct_deallocate takes integer this returns nothing
if this==null then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Attempt to destroy a null struct of type: KirinSasuke2Struct")
return
elseif(si__KirinSasuke2Struct_V[this]!=-1)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Double free of type: KirinSasuke2Struct")
return
endif
set si__KirinSasuke2Struct_V[this]=si__KirinSasuke2Struct_F
set si__KirinSasuke2Struct_F=this
endfunction
function sc__KirinSasukeStruct_KirinSasukeStart takes unit NewCaster,integer NewInteger returns nothing
set f__arg_unit1=NewCaster
set f__arg_integer1=NewInteger
call TriggerEvaluate(st__KirinSasukeStruct_KirinSasukeStart)
endfunction
function s__KirinSasukeStruct__allocate takes nothing returns integer
local integer this=si__KirinSasukeStruct_F
if(this!=0)then
set si__KirinSasukeStruct_F=si__KirinSasukeStruct_V[this]
else
set si__KirinSasukeStruct_I=si__KirinSasukeStruct_I+1
set this=si__KirinSasukeStruct_I
endif
if(this>8190)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Unable to allocate id for an object of type: KirinSasukeStruct")
return 0
endif
set si__KirinSasukeStruct_V[this]=-1
return this
endfunction
function s__KirinSasukeStruct_deallocate takes integer this returns nothing
if this==null then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Attempt to destroy a null struct of type: KirinSasukeStruct")
return
elseif(si__KirinSasukeStruct_V[this]!=-1)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Double free of type: KirinSasukeStruct")
return
endif
set si__KirinSasukeStruct_V[this]=si__KirinSasukeStruct_F
set si__KirinSasukeStruct_F=this
endfunction
function sc__KatonSasukeStruct_KatonSasukeStart takes unit NewCaster returns nothing
set f__arg_unit1=NewCaster
call TriggerEvaluate(st__KatonSasukeStruct_KatonSasukeStart)
endfunction
function s__KatonSasukeStruct__allocate takes nothing returns integer
local integer this=si__KatonSasukeStruct_F
if(this!=0)then
set si__KatonSasukeStruct_F=si__KatonSasukeStruct_V[this]
else
set si__KatonSasukeStruct_I=si__KatonSasukeStruct_I+1
set this=si__KatonSasukeStruct_I
endif
if(this>8190)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Unable to allocate id for an object of type: KatonSasukeStruct")
return 0
endif
set si__KatonSasukeStruct_V[this]=-1
return this
endfunction
function s__KatonSasukeStruct_deallocate takes integer this returns nothing
if this==null then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Attempt to destroy a null struct of type: KatonSasukeStruct")
return
elseif(si__KatonSasukeStruct_V[this]!=-1)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Double free of type: KatonSasukeStruct")
return
endif
set si__KatonSasukeStruct_V[this]=si__KatonSasukeStruct_F
set si__KatonSasukeStruct_F=this
endfunction
function sc__KirinSetapStruct_KirinSetapStart takes unit NewCaster returns nothing
set f__arg_unit1=NewCaster
call TriggerEvaluate(st__KirinSetapStruct_KirinSetapStart)
endfunction
function s__KirinSetapStruct__allocate takes nothing returns integer
local integer this=si__KirinSetapStruct_F
if(this!=0)then
set si__KirinSetapStruct_F=si__KirinSetapStruct_V[this]
else
set si__KirinSetapStruct_I=si__KirinSetapStruct_I+1
set this=si__KirinSetapStruct_I
endif
if(this>8190)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Unable to allocate id for an object of type: KirinSetapStruct")
return 0
endif
set si__KirinSetapStruct_V[this]=-1
return this
endfunction
function s__KirinSetapStruct_deallocate takes integer this returns nothing
if this==null then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Attempt to destroy a null struct of type: KirinSetapStruct")
return
elseif(si__KirinSetapStruct_V[this]!=-1)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Double free of type: KirinSetapStruct")
return
endif
set si__KirinSetapStruct_V[this]=si__KirinSetapStruct_F
set si__KirinSetapStruct_F=this
endfunction
function sc__KirinSetap2Struct_KirinSetap2Start takes unit NewCaster returns nothing
set f__arg_unit1=NewCaster
call TriggerEvaluate(st__KirinSetap2Struct_KirinSetap2Start)
endfunction
function s__KirinSetap2Struct__allocate takes nothing returns integer
local integer this=si__KirinSetap2Struct_F
if(this!=0)then
set si__KirinSetap2Struct_F=si__KirinSetap2Struct_V[this]
else
set si__KirinSetap2Struct_I=si__KirinSetap2Struct_I+1
set this=si__KirinSetap2Struct_I
endif
if(this>8190)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Unable to allocate id for an object of type: KirinSetap2Struct")
return 0
endif
set si__KirinSetap2Struct_V[this]=-1
return this
endfunction
function s__KirinSetap2Struct_deallocate takes integer this returns nothing
if this==null then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Attempt to destroy a null struct of type: KirinSetap2Struct")
return
elseif(si__KirinSetap2Struct_V[this]!=-1)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Double free of type: KirinSetap2Struct")
return
endif
set si__KirinSetap2Struct_V[this]=si__KirinSetap2Struct_F
set si__KirinSetap2Struct_F=this
endfunction
function s__KirinSetap3Struct__allocate takes nothing returns integer
local integer this=si__KirinSetap3Struct_F
if(this!=0)then
set si__KirinSetap3Struct_F=si__KirinSetap3Struct_V[this]
else
set si__KirinSetap3Struct_I=si__KirinSetap3Struct_I+1
set this=si__KirinSetap3Struct_I
endif
if(this>8190)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Unable to allocate id for an object of type: KirinSetap3Struct")
return 0
endif
set si__KirinSetap3Struct_V[this]=-1
return this
endfunction
function s__KirinSetap3Struct_deallocate takes integer this returns nothing
if this==null then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Attempt to destroy a null struct of type: KirinSetap3Struct")
return
elseif(si__KirinSetap3Struct_V[this]!=-1)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Double free of type: KirinSetap3Struct")
return
endif
set si__KirinSetap3Struct_V[this]=si__KirinSetap3Struct_F
set si__KirinSetap3Struct_F=this
endfunction
function s__items__allocate takes nothing returns integer
local integer this=si__items_F
if(this!=0)then
set si__items_F=si__items_V[this]
else
set si__items_I=si__items_I+1
set this=si__items_I
endif
if(this>39)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Unable to allocate id for an object of type: items")
return 0
endif
set s__items_list[this]=(this-1)*$C8
set si__items_V[this]=-1
return this
endfunction
function s__itemdummy__allocate takes nothing returns integer
local integer this=si__itemdummy_F
if(this!=0)then
set si__itemdummy_F=si__itemdummy_V[this]
else
set si__itemdummy_I=si__itemdummy_I+1
set this=si__itemdummy_I
endif
if(this>8190)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Unable to allocate id for an object of type: itemdummy")
return 0
endif
set si__itemdummy_V[this]=-1
return this
endfunction
function s__recepts__allocate takes nothing returns integer
local integer this=si__recepts_F
if(this!=0)then
set si__recepts_F=si__recepts_V[this]
else
set si__recepts_I=si__recepts_I+1
set this=si__recepts_I
endif
if(this>80)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Unable to allocate id for an object of type: recepts")
return 0
endif
set s__recepts_list[this]=(this-1)*'d'
set si__recepts_V[this]=-1
return this
endfunction
function sc__recept_normalize takes integer this returns nothing
set f__arg_this=this
call TriggerEvaluate(st__recept_normalize)
endfunction
function s__recept__allocate takes nothing returns integer
local integer this=si__recept_F
if(this!=0)then
set si__recept_F=si__recept_V[this]
else
set si__recept_I=si__recept_I+1
set this=si__recept_I
endif
if(this>$491)then
call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1000,"Unable to allocate id for an object of type: recept")
return 0
endif
set s__recept_it[this]=(this-1)*7
set s__recept_kratn[this]=(this-1)*7
set si__recept_V[this]=-1
return this
endfunction
function IF_CountItemInInventory takes unit u,integer it returns integer
local integer i=0
local integer count=0
loop
exitwhen i>5
if(GetItemTypeId(UnitItemInSlot(u,i))==it)then
set count=count+1
endif
set i=i+1
endloop
return count
endfunction
function IF_RemoveItemFromInventory takes unit u,integer it returns nothing
local integer i=0
loop
exitwhen i>5 or GetItemTypeId(UnitItemInSlot(u,i))==it
set i=i+1
endloop
if(i<6)then
call RemoveItem(UnitItemInSlot(u,i))
endif
endfunction
function IF_IsItemInInventory takes unit u,item it returns boolean
local integer i=0
loop
exitwhen i>5 or UnitItemInSlot(u,i)==it
set i=i+1
endloop
return i<6
endfunction
function KB__KillDestructables takes nothing returns nothing
local destructable d=GetEnumDestructable()
if GetDestructableLife(d)>.405 then
call KillDestructable(d)
endif
set d=null
endfunction
function PS_KillTrees takes real x,real y,real radius returns nothing
local rect r=Rect(x-radius,y-radius,x+radius,y+radius)
call EnumDestructablesInRect(r,null,function KB__KillDestructables)
call RemoveRect(r)
set r=null
endfunction
function KB__Parabola takes real h,real d,real x returns real
return(4*h/d)*(d-x)*(x/d)
endfunction
function s__KB__TS_discheck takes integer this returns nothing
if(s__KB__TS_kbs[this])then
set s__KB__TS_distance[this]=s__KB__TS_distance[this]-s__KB__TS_spkbs[this]
set s__KB__TS_x[this]=s__KB__TS_x[this]+s__KB__TS_distance[this]*Cos(s__KB__TS_angle[this]*bj_DEGTORAD)
set s__KB__TS_y[this]=s__KB__TS_y[this]+s__KB__TS_distance[this]*Sin(s__KB__TS_angle[this]*bj_DEGTORAD)
else
set s__KB__TS_distance[this]=s__KB__TS_distance[this]-s__KB__TS_speed[this]
set s__KB__TS_x[this]=s__KB__TS_x[this]+s__KB__TS_speed[this]*Cos(s__KB__TS_angle[this]*bj_DEGTORAD)
set s__KB__TS_y[this]=s__KB__TS_y[this]+s__KB__TS_speed[this]*Sin(s__KB__TS_angle[this]*bj_DEGTORAD)
endif
endfunction
function KB__Looper takes nothing returns nothing
local integer d
local integer i=0
loop
exitwhen i>=KB__counter
set d=KB__indx[i]
set s__KB__TS_x[d]=GetUnitX(s__KB__TS_target[d])
set s__KB__TS_y[d]=GetUnitY(s__KB__TS_target[d])
call s__KB__TS_discheck(d)
if s__KB__TS_distance[d]<=5. then
call SetUnitFlyHeight(s__KB__TS_target[d],GetUnitDefaultFlyHeight(s__KB__TS_target[d]),.0)
set s__KB__TS_target[d]=null
set s__KB__TS_sfx[d]=null
call s__KB__TS_deallocate(d)
set KB__counter=KB__counter-1
set KB__indx[i]=KB__indx[KB__counter]
set i=i-1
return
else
if IsTerrainPathable(s__KB__TS_x[d],s__KB__TS_y[d],PATHING_TYPE_WALKABILITY)then
set s__KB__TS_distance[d]=.0
else
call SetUnitX(s__KB__TS_target[d],s__KB__TS_x[d])
call SetUnitY(s__KB__TS_target[d],s__KB__TS_y[d])
call PS_KillTrees(s__KB__TS_x[d],s__KB__TS_y[d],125.)
if s__KB__TS_fly[d]then
call SetUnitFlyHeight(s__KB__TS_target[d],KB__Parabola(s__KB__TS_height[d],s__KB__TS_cur[d],s__KB__TS_distance[d]),.0)
endif
if(s__KB__TS_fxpath[d])!=null then
call DestroyEffect(AddSpecialEffect(s__KB__TS_fxpath[d],GetUnitX(s__KB__TS_target[d]),GetUnitY(s__KB__TS_target[d])))
endif
endif
endif
set i=i+1
endloop
if KB__counter==0 then
call PauseTimer(KB__time)
endif
endfunction
function KB_KB_Set takes unit target,real height,real distance,real speed,real angle,string fxpath,boolean fly,boolean kbs,real spkbs returns nothing
local integer d
set d=s__KB__TS__allocate()
set s__KB__TS_target[d]=target
set s__KB__TS_height[d]=height
set s__KB__TS_speed[d]=speed
set s__KB__TS_distance[d]=distance
set s__KB__TS_cur[d]=distance
set s__KB__TS_angle[d]=angle
set s__KB__TS_fxpath[d]=fxpath
set s__KB__TS_fly[d]=fly
set s__KB__TS_kbs[d]=kbs
set s__KB__TS_spkbs[d]=spkbs
set s__KB__TS_kbs[d]=kbs
if KB__counter==0 then
call TimerStart(KB__time,KB__TimerInterval,true,function KB__Looper)
endif
set KB__indx[KB__counter]=d
set KB__counter=KB__counter+1
endfunction
function KBs takes unit target,real distance,real angle,string fxpath,real spkbs returns nothing
if(target==null or IsUnitType(target,UNIT_TYPE_DEAD)or distance<=.0)then
return
else
call KB_KB_Set(target,.0,distance,.0,angle,fxpath,false,true,spkbs)
endif
endfunction
function KB__Init takes nothing returns nothing
set KB__time=CreateTimer()
endfunction
function StunTarget takes unit c,unit t,real sec returns nothing
local unit d=CreateUnit(GetOwningPlayer(c),StunSystem__DummyID,.0,.0,.0)
local integer i=R2I(sec/.05)
call UnitApplyTimedLife(d,'BLTF',1.)
call UnitAddAbility(d,StunSystem__AbilityID)
call SetUnitAbilityLevel(d,StunSystem__AbilityID,i)
call IssueTargetOrderById(d,$D007F,t)
set d=null
endfunction
function Init takes nothing returns nothing
local unit dummy=CreateUnit(Player($F),StunSystem__DummyID,.0,.0,.0)
call UnitAddAbility(dummy,StunSystem__AbilityID)
call UnitApplyTimedLife(dummy,'BLTF',1.)
set dummy=null
endfunction
function s__recept_create takes integer target,integer s1,integer s2,integer s3,integer s4,integer s5,integer s6,integer s7 returns integer
local integer r=s__recept__allocate()
set s__recept_target[r]=target
set s__recept_count[r]=0
set s___recept_it[s__recept_it[r]]=s1
set s___recept_it[s__recept_it[r]+1]=s2
set s___recept_it[s__recept_it[r]+2]=s3
set s___recept_it[s__recept_it[r]+3]=s4
set s___recept_it[s__recept_it[r]+4]=s5
set s___recept_it[s__recept_it[r]+5]=s6
set s___recept_it[s__recept_it[r]+6]=s7
set s___recept_kratn[s__recept_kratn[r]]=1
set s___recept_kratn[s__recept_kratn[r]+1]=1
set s___recept_kratn[s__recept_kratn[r]+2]=1
set s___recept_kratn[s__recept_kratn[r]+3]=1
set s___recept_kratn[s__recept_kratn[r]+4]=1
set s___recept_kratn[s__recept_kratn[r]+5]=1
set s___recept_kratn[s__recept_kratn[r]+6]=1
call sc__recept_normalize(r)
return r
endfunction
function s__recepts_create takes nothing returns integer
local integer r=s__recepts__allocate()
set s__recepts_count[r]=0
return r
endfunction
function s__recepts_add takes integer this,integer target,integer s1,integer s2,integer s3,integer s4,integer s5,integer s6,integer s7 returns nothing
if(target>0)and(s1>0)and(s2>0)then
set s___recepts_list[s__recepts_list[this]+s__recepts_count[this]]=s__recept_create(target,s1,s2,s3,s4,s5,s6,s7)
set s__recepts_count[this]=s__recepts_count[this]+1
endif
endfunction
function s__recepts_try takes integer this,item it,unit u returns boolean
local boolean b
local boolean bb
local integer i=0
local integer j
local integer k
local item it1
loop
exitwhen i>=s__recepts_count[this]
set b=true
set j=0
set bb=IF_IsItemInInventory(u,it)
loop
exitwhen(j>=s__recept_count[s___recepts_list[s__recepts_list[this]+i]])or(not b)
set k=IF_CountItemInInventory(u,s___recept_it[s__recept_it[s___recepts_list[s__recepts_list[this]+i]]+j])
set b=((not bb)and((k>=s___recept_kratn[s__recept_kratn[s___recepts_list[s__recepts_list[this]+i]]+j])or((k>=s___recept_kratn[s__recept_kratn[s___recepts_list[s__recepts_list[this]+i]]+j]-1)and(GetItemTypeId(it)==s___recept_it[s__recept_it[s___recepts_list[s__recepts_list[this]+i]]+j]))))or((bb)and((k>=s___recept_kratn[s__recept_kratn[s___recepts_list[s__recepts_list[this]+i]]+j])))
set j=j+1
endloop
if b then
call RemoveItem(it)
set j=0
loop
exitwhen j>s__recept_count[s___recepts_list[s__recepts_list[this]+i]]
set k=0
loop
exitwhen(k>=s___recept_kratn[s__recept_kratn[s___recepts_list[s__recepts_list[this]+i]]+j])or((k>=s___recept_kratn[s__recept_kratn[s___recepts_list[s__recepts_list[this]+i]]+j]-1)and(GetItemTypeId(it)==s___recept_it[s__recept_it[s___recepts_list[s__recepts_list[this]+i]]+j]))
call IF_RemoveItemFromInventory(u,s___recept_it[s__recept_it[s___recepts_list[s__recepts_list[this]+i]]+j])
set k=k+1
endloop
set j=j+1
endloop
set it1=CreateItem(s__recept_target[s___recepts_list[s__recepts_list[this]+i]],GetUnitX(u),GetUnitY(u))
call DestroyEffect(AddSpecialEffectTarget(ISS__FX,u,"origin"))
call UnitAddItem(u,it1)
set it1=null
return true
endif
set i=i+1
endloop
return false
endfunction
function s__items_create takes nothing returns integer
local integer i=s__items__allocate()
set s__items_count[i]=0
return i
endfunction
function s__items_getdummyindex takes integer this,integer it returns integer
local integer i=0
loop
exitwhen i>=s__items_count[this]
if(s__itemdummy_du[s___items_list[s__items_list[this]+i]]==it)then
return i
endif
set i=i+1
endloop
return-1
endfunction
function s__items_getitemindex takes integer this,integer it returns integer
local integer i=0
loop
exitwhen i>=s__items_count[this]
if(s__itemdummy_it[s___items_list[s__items_list[this]+i]]==it)then
return i
endif
set i=i+1
endloop
return-1
endfunction
function s__items_getdummy takes integer this,integer i returns integer
return s__itemdummy_du[s___items_list[s__items_list[this]+i]]
endfunction
function s__items_getitem takes integer this,integer i returns integer
return s__itemdummy_it[s___items_list[s__items_list[this]+i]]
endfunction
function s__items_getbuy takes integer this,integer i returns boolean
return s__itemdummy_buy[s___items_list[s__items_list[this]+i]]
endfunction
function ISS__replace takes nothing returns nothing
local item it=GetEnumItem()
local integer id=GetItemTypeId(it)
local integer pl_id
local real x
local real y
local integer k=s__items_getitemindex(itemlist,id)
if(k!=-1)then
set x=GetItemX(it)
set y=GetItemY(it)
set pl_id=GetItemUserData(it)
call RemoveItem(it)
set it=CreateItem(s__items_getdummy(itemlist,k),x,y)
call SetItemUserData(it,pl_id)
endif
set it=null
endfunction
function ISS__replacestart takes nothing returns nothing
call EnumItemsInRect(bj_mapInitialPlayableArea,null,function ISS__replace)
call DestroyTimer(GetExpiredTimer())
endfunction
function ISS__Trig_GetItem_Actions takes nothing returns nothing
local real x
local real y
local item it=GetManipulatedItem()
local integer id=GetItemTypeId(it)
local integer k=s__items_getdummyindex(itemlist,id)
local unit u=GetTriggerUnit()
if(k!=-1)then
if(not s__items_getbuy(itemlist,k))and(GetItemUserData(it)==null)then
call RemoveItem(it)
call StartSound(snd_Error)
call DisplayTextToPlayer(GetOwningPlayer(u),0,0,"Этот рецепт не нужно покупать.")
else
set x=GetItemX(it)
set y=GetItemY(it)
call RemoveItem(it)
set it=CreateItem(s__items_getitem(itemlist,k),x,y)
if(not s__recepts_try(receptlist,it,u))then
if(UnitInventoryCount(u)==6)then
call SetItemPosition(it,x,y)
call SetItemUserData(it,GetPlayerId(GetOwningPlayer(u))+1)
call TimerStart(CreateTimer(),.0,false,function ISS__replacestart)
else
call UnitAddItem(u,it)
endif
endif
endif
else
if OWNERS then
if GetItemUserData(it)==null then
call SetItemUserData(GetManipulatedItem(),GetPlayerId(GetOwningPlayer(u))+1)
endif
if GetItemUserData(it)!=GetPlayerId(GetOwningPlayer(u))+1 then
call SetItemPosition(it,GetUnitX(u),GetUnitY(u))
else
call s__recepts_try(receptlist,it,u)
endif
else
call s__recepts_try(receptlist,it,u)
endif
endif
set it=null
set u=null
endfunction
function ISS__init takes nothing returns nothing
set receptlist=s__recepts_create()
set itemlist=s__items_create()
set ISS__ISS_trig_GetItem=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ISS__ISS_trig_GetItem,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(ISS__ISS_trig_GetItem,function ISS__Trig_GetItem_Actions)
endfunction
function InitGlobals takes nothing returns nothing
local integer i=0
set i=0
loop
exitwhen(i>1)
set udg_PickHero[i]=0
set udg_kill_count[i]=0
set udg_death_count[i]=0
set udg_icon_row[i]=0
set udg_Walloff[i]=false
set udg_Queston[i]=false
set udg_Questnumerals[i]=0
set udg_PlayerNames[i]=""
set udg_RandomTalk[i]=0
set udg_Arrow[i]=CreateGroup()
set udg_Angle[i]=0
set udg_PeinReal[i]=0
set udg_UnitGroups[i]=CreateGroup()
set udg_HookDistance[i]=0
set udg_HookCount[i]=0
set udg_meathookanglediff[i]=0
set udg_HookTimer[i]=CreateTimer()
set udg_EdoTensei[i]=0
set udg_Degree[i]=0
set udg_Bankai[i]=false
set udg_SkillLoops[i]=0
set udg_Omnislashing[i]=false
set udg_Oonoki_MJ_R[i]=0
set udg_Oonoki_MJ_T[i]=CreateTimer()
set udg_Oonoki_MJ_G[i]=CreateGroup()
set udg_RS_G[i]=CreateGroup()
set udg_RS_R[i]=0
set udg_Timer_Edo_Tensei[i]=CreateTimer()
set udg_Minato_Real[i]=0
set udg_FL_R[i]=0
set udg_FL_G[i]=CreateGroup()
set udg_GD_R[i]=0
set udg_GD_G[i]=CreateGroup()
set udg_UchihaMadaraReal[i]=0
set udg_UchihaMadaraInteger[i]=0
set udg_UchihaMadaraGroup[i]=CreateGroup()
set udg_E_I[i]=0
set udg_E_G[i]=CreateGroup()
set udg_E_R[i]=0
set udg_SenpouChouOodaraSize[i]=0
set udg_SenpouChouDist[i]=0
set udg_SenpouChouAngle[i]=0
set udg_UnitGroupAkatsuki[i]=CreateGroup()
set udg_RANDOM[i]=0
set i=i+1
endloop
set udg_KabutoTime=CreateTimer()
set udg_TimeMoon=CreateTimer()
set udg_UnitGroup=CreateGroup()
set udg_SasukeTime=CreateTimer()
set udg_DialogMidare1=DialogCreate()
set udg_DialogMidare2=DialogCreate()
set udg_Peins=CreateGroup()
set udg_Tp_dialog=DialogCreate()
set udg_KamuyK=CreateGroup()
set udg_KamuyON=CreateGroup()
set udg_KamuySh=CreateGroup()
set udg_CloneGroup=CreateGroup()
set udg_Oonoki_K_T=CreateTimer()
set udg_Oonoki_MJ_A_G=CreateGroup()
set udg_SSJ_HandGroup=CreateGroup()
set udg_ST_SK_MoveGroup=CreateGroup()
set udg_IB_group=CreateGroup()
set udg_IB_group2=CreateGroup()
set udg_IB_group3=CreateGroup()
set udg_KagebunshinPickGroup=CreateGroup()
set udg_SenpouChouGroup=CreateGroup()
endfunction
function Unit000068_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if(trigWidget==null)then
set trigUnit=GetTriggerUnit()
endif
if(trigUnit!=null)then
set canDrop=not IsUnitHidden(trigUnit)
if(canDrop and GetChangingUnit()!=null)then
set canDrop=(GetChangingUnitPrevOwner()==Player($C))
endif
endif
if(canDrop)then
call RandomDistReset()
call RandomDistAddItem('I02N','d')
set itemID=RandomDistChoose()
if(trigUnit!=null)then
call UnitDropItem(trigUnit,itemID)
else
call WidgetDropItem(trigWidget,itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
set trigUnit=null
set trigWidget=null
endfunction
function Unit000244_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if(trigWidget==null)then
set trigUnit=GetTriggerUnit()
endif
if(trigUnit!=null)then
set canDrop=not IsUnitHidden(trigUnit)
if(canDrop and GetChangingUnit()!=null)then
set canDrop=(GetChangingUnitPrevOwner()==Player($C))
endif
endif
if(canDrop)then
call RandomDistReset()
call RandomDistAddItem('I03B','d')
set itemID=RandomDistChoose()
if(trigUnit!=null)then
call UnitDropItem(trigUnit,itemID)
else
call WidgetDropItem(trigWidget,itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
set trigUnit=null
set trigWidget=null
endfunction
function Unit000336_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if(trigWidget==null)then
set trigUnit=GetTriggerUnit()
endif
if(trigUnit!=null)then
set canDrop=not IsUnitHidden(trigUnit)
if(canDrop and GetChangingUnit()!=null)then
set canDrop=(GetChangingUnitPrevOwner()==Player($C))
endif
endif
if(canDrop)then
call RandomDistReset()
call RandomDistAddItem('I02I','d')
set itemID=RandomDistChoose()
if(trigUnit!=null)then
call UnitDropItem(trigUnit,itemID)
else
call WidgetDropItem(trigWidget,itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
set trigUnit=null
set trigWidget=null
endfunction
function Unit000341_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if(trigWidget==null)then
set trigUnit=GetTriggerUnit()
endif
if(trigUnit!=null)then
set canDrop=not IsUnitHidden(trigUnit)
if(canDrop and GetChangingUnit()!=null)then
set canDrop=(GetChangingUnitPrevOwner()==Player($C))
endif
endif
if(canDrop)then
call RandomDistReset()
call RandomDistAddItem('I02H','d')
set itemID=RandomDistChoose()
if(trigUnit!=null)then
call UnitDropItem(trigUnit,itemID)
else
call WidgetDropItem(trigWidget,itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
set trigUnit=null
set trigWidget=null
endfunction
function Unit000342_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if(trigWidget==null)then
set trigUnit=GetTriggerUnit()
endif
if(trigUnit!=null)then
set canDrop=not IsUnitHidden(trigUnit)
if(canDrop and GetChangingUnit()!=null)then
set canDrop=(GetChangingUnitPrevOwner()==Player($C))
endif
endif
if(canDrop)then
call RandomDistReset()
call RandomDistAddItem('I02G','d')
set itemID=RandomDistChoose()
if(trigUnit!=null)then
call UnitDropItem(trigUnit,itemID)
else
call WidgetDropItem(trigWidget,itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
set trigUnit=null
set trigWidget=null
endfunction
function Unit000343_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if(trigWidget==null)then
set trigUnit=GetTriggerUnit()
endif
if(trigUnit!=null)then
set canDrop=not IsUnitHidden(trigUnit)
if(canDrop and GetChangingUnit()!=null)then
set canDrop=(GetChangingUnitPrevOwner()==Player($C))
endif
endif
if(canDrop)then
call RandomDistReset()
call RandomDistAddItem('I02J','d')
set itemID=RandomDistChoose()
if(trigUnit!=null)then
call UnitDropItem(trigUnit,itemID)
else
call WidgetDropItem(trigWidget,itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
set trigUnit=null
set trigWidget=null
endfunction
function Unit000344_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if(trigWidget==null)then
set trigUnit=GetTriggerUnit()
endif
if(trigUnit!=null)then
set canDrop=not IsUnitHidden(trigUnit)
if(canDrop and GetChangingUnit()!=null)then
set canDrop=(GetChangingUnitPrevOwner()==Player($C))
endif
endif
if(canDrop)then
call RandomDistReset()
call RandomDistAddItem('I02F','d')
set itemID=RandomDistChoose()
if(trigUnit!=null)then
call UnitDropItem(trigUnit,itemID)
else
call WidgetDropItem(trigWidget,itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
set trigUnit=null
set trigWidget=null
endfunction
function Unit000353_DropItems takes nothing returns nothing
local widget trigWidget=null
local unit trigUnit=null
local integer itemID=0
local boolean canDrop=true
set trigWidget=bj_lastDyingWidget
if(trigWidget==null)then
set trigUnit=GetTriggerUnit()
endif
if(trigUnit!=null)then
set canDrop=not IsUnitHidden(trigUnit)
if(canDrop and GetChangingUnit()!=null)then
set canDrop=(GetChangingUnitPrevOwner()==Player($C))
endif
endif
if(canDrop)then
call RandomDistReset()
call RandomDistAddItem('I02N','d')
set itemID=RandomDistChoose()
if(trigUnit!=null)then
call UnitDropItem(trigUnit,itemID)
else
call WidgetDropItem(trigWidget,itemID)
endif
endif
set bj_lastDyingWidget=null
call DestroyTrigger(GetTriggeringTrigger())
set trigUnit=null
set trigWidget=null
endfunction
function CreateAllDestructables takes nothing returns nothing
local destructable d
local trigger t
local real life
set gg_dest_B000_6926=CreateDestructable('B000',10048.,-2560.,340.21,4.,2)
endfunction
function CreateAllItems takes nothing returns nothing
local integer itemID
call CreateItem('I00S',7491.3,-10419.)
call CreateItem('I00T',-1681.1,-5142.5)
call CreateItem('I00T',-617.8,3281.9)
call CreateItem('I00T',-4254.,-4636.7)
call CreateItem('I00T',-2505.8,-7121.3)
call CreateItem('I00T',7699.7,7721.)
call CreateItem('I014',-7564.1,-10463.5)
call CreateItem('I02X',-8407.8,-8135.5)
call CreateItem('I02Y',-8364.4,-8220.3)
endfunction
function CreateBuildingsForPlayer4 takes nothing returns nothing
local player p=Player(4)
local unit u
local integer unitID
local trigger t
local real life
set gg_unit_hcas_0038=CreateUnit(p,'hcas',-8384.,10368.,270.)
set u=CreateUnit(p,'owtw',-6976.,6272.,270.)
set u=CreateUnit(p,'owtw',-7680.,6272.,270.)
set u=CreateUnit(p,'owtw',6976.,8512.,270.)
set u=CreateUnit(p,'owtw',6976.,8128.,270.)
set u=CreateUnit(p,'owtw',9088.,6976.,270.)
set u=CreateUnit(p,'owtw',-5888.,7360.,270.)
set u=CreateUnit(p,'owtw',10816.,1088.,270.)
set u=CreateUnit(p,'owtw',11264.,1088.,270.)
set u=CreateUnit(p,'owtw',10112.,8384.,270.)
set u=CreateUnit(p,'owtw',-9536.,7040.,270.)
set u=CreateUnit(p,'owtw',9856.,9984.,270.)
set u=CreateUnit(p,'owtw',3328.,4416.,270.)
set u=CreateUnit(p,'owtw',3712.,4416.,270.)
set u=CreateUnit(p,'owtw',4096.,4928.,270.)
set u=CreateUnit(p,'owtw',10880.,2048.,270.)
set u=CreateUnit(p,'hgtw',-448.,10048.,270.)
call SetUnitColor(u,ConvertPlayerColor(8))
set gg_unit_nfoh_0184=CreateUnit(p,'nfoh',9088.,10368.,270.)
set gg_unit_nfoh_0194=CreateUnit(p,'nfoh',-9536.,10496.,270.)
set gg_unit_nfoh_0204=CreateUnit(p,'nfoh',6144.,-11392.,270.)
set u=CreateUnit(p,'owtw',-8640.,8320.,270.)
set u=CreateUnit(p,'hgtw',-11328.,11136.,270.)
call SetUnitColor(u,ConvertPlayerColor(8))
set u=null
endfunction
function CreateUnitsForPlayer4 takes nothing returns nothing
local player p=Player(4)
local unit u
local integer unitID
local trigger t
local real life
set gg_unit_H027_0113=CreateUnit(p,'H027',-571.2,-7370.,180.)
call SetHeroLevel(gg_unit_H027_0113,30,false)
call SetUnitState(gg_unit_H027_0113,UNIT_STATE_MANA,$816)
call SetUnitColor(gg_unit_H027_0113,ConvertPlayerColor(9))
call UnitAddItemToSlotById(gg_unit_H027_0113,'I02V',0)
call UnitAddItemToSlotById(gg_unit_H027_0113,'I00B',1)
set gg_unit_Ewrd_0114=CreateUnit(p,'Ewrd',6987.3,5344.2,270.)
call SetHeroLevel(gg_unit_Ewrd_0114,30,false)
call SetUnitState(gg_unit_Ewrd_0114,UNIT_STATE_MANA,5095)
call SetUnitColor(gg_unit_Ewrd_0114,ConvertPlayerColor($C))
call UnitAddItemToSlotById(gg_unit_Ewrd_0114,'I01U',0)
call UnitAddItemToSlotById(gg_unit_Ewrd_0114,'I01S',1)
set gg_unit_Emns_0115=CreateUnit(p,'Emns',-1854.1,8513.4,67.39)
call SetHeroLevel(gg_unit_Emns_0115,30,false)
call SetUnitState(gg_unit_Emns_0115,UNIT_STATE_MANA,$7D5)
call UnitAddItemToSlotById(gg_unit_Emns_0115,'I01R',0)
call UnitAddItemToSlotById(gg_unit_Emns_0115,'I01S',1)
call UnitAddItemToSlotById(gg_unit_Emns_0115,'I025',2)
call UnitAddItemToSlotById(gg_unit_Emns_0115,'I02P',3)
set gg_unit_Oshd_0117=CreateUnit(p,'Oshd',-6871.7,9187.,270.)
call SetHeroLevel(gg_unit_Oshd_0117,30,false)
call SetUnitState(gg_unit_Oshd_0117,UNIT_STATE_MANA,$537)
call UnitAddItemToSlotById(gg_unit_Oshd_0117,'I025',0)
call UnitAddItemToSlotById(gg_unit_Oshd_0117,'I020',1)
call UnitAddItemToSlotById(gg_unit_Oshd_0117,'I01S',2)
call UnitAddItemToSlotById(gg_unit_Oshd_0117,'I01U',3)
set gg_unit_Ekgg_0119=CreateUnit(p,'Ekgg',9094.2,2034.7,180.)
call SetHeroLevel(gg_unit_Ekgg_0119,30,false)
call SetUnitState(gg_unit_Ekgg_0119,UNIT_STATE_MANA,$77B)
call SetUnitColor(gg_unit_Ekgg_0119,ConvertPlayerColor($C))
call UnitAddItemToSlotById(gg_unit_Ekgg_0119,'I01R',0)
call UnitAddItemToSlotById(gg_unit_Ekgg_0119,'I01S',1)
set u=CreateUnit(p,'h00D',-1182.6,10192.,250.)
call SetUnitColor(u,ConvertPlayerColor(9))
set u=CreateUnit(p,'h00D',-1443.8,10271.4,255.)
call SetUnitColor(u,ConvertPlayerColor(9))
set u=CreateUnit(p,'h00D',-431.2,10957.9,270.)
call SetUnitColor(u,ConvertPlayerColor(9))
set u=CreateUnit(p,'h00D',49.1,11015.6,225.)
call SetUnitColor(u,ConvertPlayerColor(9))
set u=CreateUnit(p,'h00D',-75.7,10390.7,135.)
call SetUnitColor(u,ConvertPlayerColor(9))
set u=CreateUnit(p,'h00D',-998.9,-8834.6,45.)
call SetUnitColor(u,ConvertPlayerColor(9))
set u=CreateUnit(p,'h00D',-555.9,-8834.6,135.)
call SetUnitColor(u,ConvertPlayerColor(9))
set u=CreateUnit(p,'h00D',-1669.9,-9018.9,.0)
call SetUnitColor(u,ConvertPlayerColor(9))
set u=CreateUnit(p,'h00D',-1690.1,-7741.1,270.)
call SetUnitColor(u,ConvertPlayerColor(9))
set u=CreateUnit(p,'h00D',-1509.5,-7744.1,270.)
call SetUnitColor(u,ConvertPlayerColor(9))
set u=CreateUnit(p,'h00A',6492.2,-10956.2,180.)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'h00A',5784.4,-10948.9,.0)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set gg_unit_n00Y_0139=CreateUnit(p,'n00Y',-6191.6,-2109.,323.)
call SetUnitState(gg_unit_n00Y_0139,UNIT_STATE_MANA,$3E8)
set gg_unit_n010_0140=CreateUnit(p,'n010',-6038.7,-1956.8,323.)
set u=CreateUnit(p,'nenp',-8598.9,7000.2,90.)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'h00B',7394.4,8493.,270.)
call SetUnitState(u,UNIT_STATE_MANA,$4B0)
set u=CreateUnit(p,'h00B',7395.,8120.2,90.)
call SetUnitState(u,UNIT_STATE_MANA,$4B0)
set u=CreateUnit(p,'h00B',8701.,7472.1,270.)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'hcth',-1606.6,-8234.9,270.)
call SetUnitColor(u,ConvertPlayerColor(9))
set u=CreateUnit(p,'nbds',-7016.3,7010.8,270.)
call SetUnitState(u,UNIT_STATE_MANA,$ED8)
set u=CreateUnit(p,'nbds',-8529.7,8522.6,.0)
call SetUnitState(u,UNIT_STATE_MANA,$ED8)
set u=CreateUnit(p,'h00B',10722.7,9683.7,225.)
call SetUnitState(u,UNIT_STATE_MANA,$4B0)
set u=CreateUnit(p,'h00B',10462.8,9892.6,225.)
call SetUnitState(u,UNIT_STATE_MANA,$4B0)
set u=CreateUnit(p,'h00B',10595.4,9789.3,225.)
call SetUnitState(u,UNIT_STATE_MANA,$4B0)
set u=CreateUnit(p,'h00B',9433.,8285.9,270.)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'h00B',10474.5,8435.2,.0)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'nenp',-9320.6,7450.8,270.)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'nenp',-10060.3,6448.3,.0)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'nenp',-8505.9,9369.4,270.)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'nenp',-8228.,9373.7,270.)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'nenp',-7787.7,7835.9,270.)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'nenp',-6433.9,8774.5,180.)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'nenp',-5752.,8722.8,270.)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'nenp',-11159.,9436.4,.0)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'h00B',8218.1,9294.1,.0)
call SetUnitState(u,UNIT_STATE_MANA,$4B0)
set u=CreateUnit(p,'nenp',-6726.7,7644.,.0)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set gg_unit_nenf_0240=CreateUnit(p,'nenf',-10567.5,10813.3,180.)
call SetUnitColor(gg_unit_nenf_0240,ConvertPlayerColor(8))
set gg_unit_nenf_0241=CreateUnit(p,'nenf',-10560.,10625.8,180.)
call SetUnitColor(gg_unit_nenf_0241,ConvertPlayerColor(8))
set gg_unit_nenf_0242=CreateUnit(p,'nenf',-10568.1,10423.5,180.)
call SetUnitColor(gg_unit_nenf_0242,ConvertPlayerColor(8))
set gg_unit_nenf_0243=CreateUnit(p,'nenf',-11321.,10437.8,.0)
call SetUnitColor(gg_unit_nenf_0243,ConvertPlayerColor(8))
set gg_unit_nenf_0244=CreateUnit(p,'nenf',-11327.8,10632.3,.0)
call SetUnitColor(gg_unit_nenf_0244,ConvertPlayerColor(8))
set gg_unit_nenf_0245=CreateUnit(p,'nenf',-11320.1,10821.3,.0)
call SetUnitColor(gg_unit_nenf_0245,ConvertPlayerColor(8))
set u=CreateUnit(p,'h00B',3241.7,4942.6,270.)
call SetUnitState(u,UNIT_STATE_MANA,$4B0)
set u=CreateUnit(p,'h00B',3122.6,4689.4,50.)
call SetUnitState(u,UNIT_STATE_MANA,$4B0)
set gg_unit_h01J_0251=CreateUnit(p,'h01J',-9170.1,1398.6,135.)
call SetUnitState(gg_unit_h01J_0251,UNIT_STATE_MANA,$5DC)
set gg_unit_h01J_0252=CreateUnit(p,'h01J',-9424.6,1251.4,90.)
call SetUnitState(gg_unit_h01J_0252,UNIT_STATE_MANA,$5DC)
set gg_unit_h01J_0253=CreateUnit(p,'h01J',-9610.9,1678.1,290.)
call SetUnitState(gg_unit_h01J_0253,UNIT_STATE_MANA,$5DC)
set u=CreateUnit(p,'ospw',7292.9,9194.2,270.)
call SetUnitState(u,UNIT_STATE_MANA,$DAC)
set u=CreateUnit(p,'h00B',10559.8,9202.7,.0)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'nenp',-8186.7,8273.8,180.)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'nenp',-7449.5,8463.2,.0)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'nenp',-9201.9,6923.1,.0)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'h00B',3750.6,4651.5,180.)
call SetUnitState(u,UNIT_STATE_MANA,$4B0)
set u=CreateUnit(p,'h01S',-7511.3,6576.6,270.)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'h01R',-7201.7,6571.,270.)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set gg_unit_Ucrl_0264=CreateUnit(p,'Ucrl',-5549.5,-368.2,180.)
call SetHeroLevel(gg_unit_Ucrl_0264,30,false)
call UnitAddItemToSlotById(gg_unit_Ucrl_0264,'I00U',0)
call UnitAddItemToSlotById(gg_unit_Ucrl_0264,'I01R',1)
call UnitAddItemToSlotById(gg_unit_Ucrl_0264,'I025',2)
call UnitAddItemToSlotById(gg_unit_Ucrl_0264,'I01D',3)
call UnitAddItemToSlotById(gg_unit_Ucrl_0264,'I02P',4)
set u=CreateUnit(p,'nenp',-7749.5,9138.2,270.)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'nenp',-7033.9,9148.2,270.)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'nenp',-6470.3,7158.1,180.)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'nenp',-5586.5,7413.,270.)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'nenp',-6171.8,8586.6,.0)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'h00B',10061.2,10723.2,270.)
call SetUnitState(u,UNIT_STATE_MANA,$4B0)
set u=CreateUnit(p,'nbds',9470.9,7902.,135.)
call SetUnitState(u,UNIT_STATE_MANA,$ED8)
set u=CreateUnit(p,'h00B',9479.6,9046.4,270.)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'h00B',10655.5,7709.3,.0)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'hcth',171.8,10714.2,180.)
call SetUnitColor(u,ConvertPlayerColor(9))
set gg_unit_nnmg_0378=CreateUnit(p,'nnmg',-9247.3,1676.1,225.)
set gg_unit_nhyc_0379=CreateUnit(p,'nhyc',-9273.8,1315.6,130.)
set gg_unit_nnsw_0380=CreateUnit(p,'nnsw',11443.5,1882.6,270.)
set gg_unit_nsnp_0381=CreateUnit(p,'nsnp',11102.7,1677.5,.0)
set gg_unit_nnrg_0382=CreateUnit(p,'nnrg',7933.1,8457.2,270.)
set u=null
endfunction
function CreateBuildingsForPlayer7 takes nothing returns nothing
local player p=Player(7)
local unit u
local integer unitID
local trigger t
local real life
set gg_unit_h01N_0039=CreateUnit(p,'h01N',-8352.,-8928.,270.)
set gg_unit_nbfl_0198=CreateUnit(p,'nbfl',-6976.,-8832.,270.)
set gg_unit_nbfl_0199=CreateUnit(p,'nbfl',-6912.,-9856.,270.)
endfunction
function CreateBuildingsForPlayer11 takes nothing returns nothing
local player p=Player($B)
local unit u
local integer unitID
local trigger t
local real life
set gg_unit_nfoh_0195=CreateUnit(p,'nfoh',4544.,-1344.,270.)
set u=CreateUnit(p,'nbfl',8256.,-10368.,270.)
set u=null
endfunction
function CreateUnitsForPlayer11 takes nothing returns nothing
local player p=Player($B)
local unit u
local integer unitID
local trigger t
local real life
set gg_unit_h00E_0087=CreateUnit(p,'h00E',11896.8,-2555.2,180.)
endfunction
function CreateNeutralHostile takes nothing returns nothing
local player p=Player($C)
local unit u
local integer unitID
local trigger t
local real life
set u=CreateUnit(p,'nzom',-11101.9,-8602.7,62.844)
set u=CreateUnit(p,'nzom',-10440.2,-8824.6,21.841)
set u=CreateUnit(p,'nzom',-11300.5,-8829.7,9.8)
set u=CreateUnit(p,'nzom',-10862.3,-8798.7,33.136)
set u=CreateUnit(p,'nzom',-10298.3,-8334.,89.761)
set u=CreateUnit(p,'nzom',-10045.4,-8682.9,101.55)
set u=CreateUnit(p,'nzom',-10629.,-8417.1,131.752)
set u=CreateUnit(p,'nzom',-10670.2,-8603.7,99.33)
set u=CreateUnit(p,'nzom',-10310.7,-8622.4,320.844)
set u=CreateUnit(p,'nzom',-10936.1,-8427.2,99.314)
set gg_unit_Eevi_0116=CreateUnit(p,'Eevi',-5300.7,-2988.9,.0)
call SetHeroLevel(gg_unit_Eevi_0116,30,false)
call SetUnitState(gg_unit_Eevi_0116,UNIT_STATE_MANA,6140)
set gg_unit_Ewar_0118=CreateUnit(p,'Ewar',1329.2,6013.4,180.)
call SetHeroLevel(gg_unit_Ewar_0118,30,false)
call SetUnitState(gg_unit_Ewar_0118,UNIT_STATE_MANA,5095)
set u=CreateUnit(p,'E00J',8176.4,4871.1,270.)
call SetHeroLevel(u,30,false)
call SetUnitState(u,UNIT_STATE_MANA,$AC8)
call UnitAddItemToSlotById(u,'I00Y',0)
set u=CreateUnit(p,'E00H',8449.7,4856.6,270.)
call SetHeroLevel(u,30,false)
call SetUnitState(u,UNIT_STATE_MANA,$8E8)
call UnitAddItemToSlotById(u,'I00Z',0)
set u=CreateUnit(p,'E00F',8302.9,4856.6,270.)
call SetHeroLevel(u,30,false)
call SetUnitState(u,UNIT_STATE_MANA,$AD7)
call UnitAddItemToSlotById(u,'I00X',0)
set u=CreateUnit(p,'E00K',8734.3,4867.4,270.)
call SetHeroLevel(u,30,false)
call SetUnitState(u,UNIT_STATE_MANA,$870)
set u=CreateUnit(p,'E00L',8896.4,4870.9,270.)
call SetHeroLevel(u,30,false)
call SetUnitState(u,UNIT_STATE_MANA,$87F)
call UnitAddItemToSlotById(u,'I010',0)
set u=CreateUnit(p,'E00I',8588.7,4867.4,270.)
call SetHeroLevel(u,30,false)
call SetUnitState(u,UNIT_STATE_MANA,$717)
call UnitAddItemToSlotById(u,'I011',0)
set u=CreateUnit(p,'E00G',8006.5,4866.1,270.)
call SetHeroLevel(u,30,false)
call SetUnitState(u,UNIT_STATE_MANA,$AAA)
call UnitAddItemToSlotById(u,'I012',0)
set u=CreateUnit(p,'h003',5580.3,1615.9,270.)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'h003',5681.9,1475.8,180.)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'h003',5453.6,1479.6,.0)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'h003',5575.3,1336.2,90.)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'h002',1896.9,-1563.7,298.12)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'h002',214.4,-3424.1,48.73)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'h002',218.1,-4657.6,117.99)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'h002',4416.4,-5844.9,53.21)
set u=CreateUnit(p,'h002',2159.,-5815.9,303.75)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'h007',3960.9,7995.5,270.)
call SetUnitState(u,UNIT_STATE_MANA,$7D0)
set u=CreateUnit(p,'h007',4116.9,7837.6,180.)
call SetUnitState(u,UNIT_STATE_MANA,$7D0)
set u=CreateUnit(p,'h007',3775.3,7785.5,.0)
call SetUnitState(u,UNIT_STATE_MANA,$7D0)
set u=CreateUnit(p,'h007',3982.3,7649.,87.069)
call SetUnitState(u,UNIT_STATE_MANA,$7D0)
set u=CreateUnit(p,'h007',3400.1,6665.3,225.)
call SetUnitState(u,UNIT_STATE_MANA,$7D0)
set u=CreateUnit(p,'h007',3192.4,6649.2,315.)
call SetUnitState(u,UNIT_STATE_MANA,$7D0)
set u=CreateUnit(p,'h007',3398.3,6404.3,135.)
call SetUnitState(u,UNIT_STATE_MANA,$7D0)
set u=CreateUnit(p,'h007',5302.7,6421.4,336.251)
call SetUnitState(u,UNIT_STATE_MANA,$7D0)
set u=CreateUnit(p,'h007',5523.6,6463.4,231.719)
call SetUnitState(u,UNIT_STATE_MANA,$7D0)
set u=CreateUnit(p,'h004',-7707.3,2078.1,270.)
call SetUnitState(u,UNIT_STATE_MANA,$7D0)
set u=CreateUnit(p,'h004',-11198.4,3056.3,.0)
call SetUnitState(u,UNIT_STATE_MANA,$7D0)
set u=CreateUnit(p,'h004',-11214.6,2870.1,.0)
call SetUnitState(u,UNIT_STATE_MANA,$7D0)
set u=CreateUnit(p,'h004',-10519.2,4224.1,225.)
call SetUnitState(u,UNIT_STATE_MANA,$7D0)
set u=CreateUnit(p,'h003',-8106.7,225.4,270.)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'h004',-5390.7,4893.2,225.)
call SetUnitState(u,UNIT_STATE_MANA,$7D0)
set u=CreateUnit(p,'h003',-9346.3,3613.3,225.)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'h003',-3053.4,2451.2,225.)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'h00G',-6326.1,-4000.,315.)
call SetUnitState(u,UNIT_STATE_MANA,$5DC)
set u=CreateUnit(p,'h00G',-4706.6,-4477.8,90.)
call SetUnitState(u,UNIT_STATE_MANA,$5DC)
set u=CreateUnit(p,'h00G',-3250.1,-2870.,.0)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'h00G',-4651.4,-2266.8,135.)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'h00G',-6936.7,-2838.6,225.)
call SetUnitState(u,UNIT_STATE_MANA,$5DC)
set u=CreateUnit(p,'nwld',-4355.1,2654.8,192.827)
set u=CreateUnit(p,'nele',-2705.2,6190.3,69.86)
call SetUnitAcquireRange(u,200.)
set u=CreateUnit(p,'h002',1832.9,-3985.1,117.99)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'nplg',-1282.5,9040.,300.)
call SetUnitAcquireRange(u,200.)
set u=CreateUnit(p,'nplg',-1605.2,7995.2,32.466)
call SetUnitAcquireRange(u,200.)
set u=CreateUnit(p,'nplg',97.7,7929.4,135.)
call SetUnitAcquireRange(u,200.)
set u=CreateUnit(p,'nrog',-11044.8,-2629.,270.)
call SetUnitAcquireRange(u,200.)
set u=CreateUnit(p,'nrog',-11084.2,-2893.,90.)
call SetUnitAcquireRange(u,200.)
set gg_unit_u00V_0231=CreateUnit(p,'u00V',-9757.8,-250.7,86.6)
call SetUnitState(gg_unit_u00V_0231,UNIT_STATE_MANA,$3A98)
call SetUnitColor(gg_unit_u00V_0231,ConvertPlayerColor($C))
set u=CreateUnit(p,'h003',-2414.3,-4358.5,45.)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'h004',-4634.1,1283.6,225.)
call SetUnitState(u,UNIT_STATE_MANA,$7D0)
set u=CreateUnit(p,'nwld',-10292.4,3256.8,192.827)
set u=CreateUnit(p,'nwld',-3234.5,53.6,192.827)
set u=CreateUnit(p,'h004',-5151.4,3040.,270.)
call SetUnitState(u,UNIT_STATE_MANA,$7D0)
set u=CreateUnit(p,'n00A',-874.3,-3527.5,270.)
call SetUnitAcquireRange(u,200.)
set u=CreateUnit(p,'n00A',-9171.9,-5174.6,135.)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
call SetUnitAcquireRange(u,200.)
set u=CreateUnit(p,'n00A',1150.1,9187.6,282.3)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
call SetUnitAcquireRange(u,200.)
set u=CreateUnit(p,'n00A',1174.,292.8,225.)
call SetUnitAcquireRange(u,200.)
set u=CreateUnit(p,'nsqa',-4728.8,-519.7,315.)
set u=CreateUnit(p,'U004',9049.4,-5942.,90.)
call SetHeroLevel(u,30,false)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function Unit000344_DropItems)
set u=CreateUnit(p,'h00I',9283.7,583.6,.0)
set u=CreateUnit(p,'h00I',9897.6,2226.2,335.428)
set u=CreateUnit(p,'h00I',9948.7,2366.8,258.196)
set u=CreateUnit(p,'U002',11040.9,-5206.,190.)
call SetHeroLevel(u,30,false)
call SetUnitState(u,UNIT_STATE_MANA,$8CA)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function Unit000341_DropItems)
set u=CreateUnit(p,'U001',11159.2,5649.5,225.)
call SetHeroLevel(u,30,false)
call SetUnitState(u,UNIT_STATE_MANA,$EA6)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function Unit000342_DropItems)
set u=CreateUnit(p,'U003',6256.4,-3627.8,4.81)
call SetHeroLevel(u,30,false)
call SetUnitState(u,UNIT_STATE_MANA,$A41)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function Unit000343_DropItems)
set u=CreateUnit(p,'U005',12048.9,4428.3,180.)
call SetHeroLevel(u,30,false)
call SetUnitState(u,UNIT_STATE_MANA,4125)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function Unit000336_DropItems)
set u=CreateUnit(p,'n00A',6731.8,3683.2,90.)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
call SetUnitAcquireRange(u,200.)
set u=CreateUnit(p,'h00I',10334.8,-846.1,57.362)
set u=CreateUnit(p,'h00I',10491.3,-820.6,99.705)
set u=CreateUnit(p,'ngz4',-11324.3,-1401.,41.6)
call SetUnitAcquireRange(u,200.)
set u=CreateUnit(p,'ngz4',-3204.5,4464.1,202.28)
call SetUnitAcquireRange(u,200.)
set u=CreateUnit(p,'ngz4',-9698.7,5583.2,294.65)
call SetUnitAcquireRange(u,200.)
set gg_unit_E00R_0362=CreateUnit(p,'E00R',7682.3,-2420.7,180.)
call SetHeroLevel(gg_unit_E00R_0362,30,false)
call SetUnitState(gg_unit_E00R_0362,UNIT_STATE_MANA,390)
call UnitAddItemToSlotById(gg_unit_E00R_0362,'I039',0)
set u=CreateUnit(p,'hfoo',7881.5,-2617.3,.0)
call SetUnitState(u,UNIT_STATE_MANA,$5DC)
set u=CreateUnit(p,'hfoo',7681.6,-2619.,270.)
call SetUnitState(u,UNIT_STATE_MANA,$5DC)
set u=CreateUnit(p,'ntrd',493.6,3423.8,199.43)
set u=CreateUnit(p,'E00O',-4104.7,-8547.1,270.)
call SetHeroLevel(u,30,false)
call SetUnitState(u,UNIT_STATE_MANA,5470)
call SetUnitColor(u,ConvertPlayerColor($C))
call UnitAddItemToSlotById(u,'I02Q',0)
call UnitAddItemToSlotById(u,'I01S',1)
call UnitAddItemToSlotById(u,'I01O',2)
call UnitAddItemToSlotById(u,'I020',3)
call UnitAddItemToSlotById(u,'I03B',4)
call UnitAddItemToSlotById(u,'I02T',5)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function Unit000244_DropItems)
set u=CreateUnit(p,'hfoo',7488.,-2240.9,180.)
call SetUnitState(u,UNIT_STATE_MANA,$5DC)
set u=CreateUnit(p,'hfoo',7876.7,-2232.4,.0)
call SetUnitState(u,UNIT_STATE_MANA,$5DC)
set u=CreateUnit(p,'hfoo',7888.4,-2443.6,.0)
call SetUnitState(u,UNIT_STATE_MANA,$5DC)
set u=CreateUnit(p,'hfoo',7672.9,-2243.7,90.)
call SetUnitState(u,UNIT_STATE_MANA,$5DC)
set u=CreateUnit(p,'hfoo',7477.6,-2429.8,180.)
call SetUnitState(u,UNIT_STATE_MANA,$5DC)
set u=CreateUnit(p,'hfoo',7501.3,-2622.7,180.)
call SetUnitState(u,UNIT_STATE_MANA,$5DC)
set t=null
set u=null
endfunction
function CreateNeutralPassiveBuildings takes nothing returns nothing
local player p=Player($F)
local unit u
local integer unitID
local trigger t
local real life
set u=CreateUnit(p,'nmrk',-8640.,7104.,270.)
call SetUnitColor(u,ConvertPlayerColor(0))
set u=CreateUnit(p,'nmrk',-768.,-4992.,270.)
call SetUnitColor(u,ConvertPlayerColor(0))
set u=CreateUnit(p,'nmrk',2688.,-640.,270.)
call SetUnitColor(u,ConvertPlayerColor(0))
set u=CreateUnit(p,'nmrk',-5696.,.0,270.)
call SetUnitColor(u,ConvertPlayerColor(0))
set u=CreateUnit(p,'n00G',-8384.,9920.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele9),GetRectCenterY(gg_rct_tele9))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',2816.,11136.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele7),GetRectCenterY(gg_rct_tele7))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',12032.,6400.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele13),GetRectCenterY(gg_rct_tele13))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',7552.,5888.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele19),GetRectCenterY(gg_rct_tele19))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',11968.,1664.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele23),GetRectCenterY(gg_rct_tele23))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',9152.,3840.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele20),GetRectCenterY(gg_rct_tele20))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',12096.,-1984.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_telemadarabase),GetRectCenterY(gg_rct_telemadarabase))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',5056.,-2880.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele30),GetRectCenterY(gg_rct_tele30))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',-6784.,-1280.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele21),GetRectCenterY(gg_rct_tele21))
call WaygateActivate(u,true)
set u=CreateUnit(p,'nbsm',-9536.,-8960.,270.)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function Unit000353_DropItems)
set u=CreateUnit(p,'n00G',-9600.,1280.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele25),GetRectCenterY(gg_rct_tele25))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',-11264.,-6848.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele1),GetRectCenterY(gg_rct_tele1))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',-8064.,-5888.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_teleorochbase),GetRectCenterY(gg_rct_teleorochbase))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',-1152.,10560.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele12),GetRectCenterY(gg_rct_tele12))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',-7168.,7616.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele3),GetRectCenterY(gg_rct_tele3))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',5888.,10496.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_TownofRoushin),GetRectCenterY(gg_rct_TownofRoushin))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',5760.,2816.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele14),GetRectCenterY(gg_rct_tele14))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',-10752.,-11392.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele31),GetRectCenterY(gg_rct_tele31))
call WaygateActivate(u,true)
set u=CreateUnit(p,'nbsm',-7552.,-11584.,270.)
set t=CreateTrigger()
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)
call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_CHANGE_OWNER)
call TriggerAddAction(t,function Unit000068_DropItems)
set u=CreateUnit(p,'n00G',-6784.,-11520.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele8),GetRectCenterY(gg_rct_tele8))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',-5952.,-11392.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_Secret_Chamber),GetRectCenterY(gg_rct_Secret_Chamber))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',-5184.,-10368.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele17),GetRectCenterY(gg_rct_tele17))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',-5888.,-9024.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele15),GetRectCenterY(gg_rct_tele15))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',-6016.,-9856.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele18),GetRectCenterY(gg_rct_tele18))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',-5120.,-8896.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_Secret_Chamber_2),GetRectCenterY(gg_rct_Secret_Chamber_2))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',-4096.,-9024.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele16),GetRectCenterY(gg_rct_tele16))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',-4416.,-7744.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele6),GetRectCenterY(gg_rct_tele6))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',-3072.,-7552.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele4),GetRectCenterY(gg_rct_tele4))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',-768.,-8256.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele11),GetRectCenterY(gg_rct_tele11))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',6464.,-8896.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele29),GetRectCenterY(gg_rct_tele29))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',5632.,-9792.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele28),GetRectCenterY(gg_rct_tele28))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',8512.,-9664.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele22),GetRectCenterY(gg_rct_tele22))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',8320.,-11456.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_telegedobase),GetRectCenterY(gg_rct_telegedobase))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',5824.,-11136.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele24),GetRectCenterY(gg_rct_tele24))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',-6272.,64.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele5),GetRectCenterY(gg_rct_tele5))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',-2560.,-1088.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele27),GetRectCenterY(gg_rct_tele27))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',-1984.,-576.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele26),GetRectCenterY(gg_rct_tele26))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',-5568.,-7808.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_TownofRoushin2),GetRectCenterY(gg_rct_TownofRoushin2))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',-7168.,-6848.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele2),GetRectCenterY(gg_rct_tele2))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',-2688.,-9024.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_tele10),GetRectCenterY(gg_rct_tele10))
call WaygateActivate(u,true)
set u=CreateUnit(p,'n00G',6016.,-7680.,270.)
call WaygateSetDestination(u,GetRectCenterX(gg_rct_Mei_respawn),GetRectCenterY(gg_rct_Mei_respawn))
call WaygateActivate(u,true)
set u=CreateUnit(p,'nmrk',9600.,7424.,270.)
call SetUnitColor(u,ConvertPlayerColor(0))
set u=CreateUnit(p,'nmrk',-11008.,5632.,270.)
call SetUnitColor(u,ConvertPlayerColor(0))
set u=CreateUnit(p,'ncp2',11360.,-2592.,270.)
set u=CreateUnit(p,'nmr8',11648.,1216.,270.)
call SetUnitColor(u,ConvertPlayerColor(9))
set u=CreateUnit(p,'nmoo',-576.,5184.,270.)
set u=CreateUnit(p,'nmoo',6016.,-8000.,270.)
set u=CreateUnit(p,'ndfl',-1728.,5184.,270.)
set u=CreateUnit(p,'nmr9',7808.,8704.,270.)
call SetUnitColor(u,ConvertPlayerColor(5))
set u=CreateUnit(p,'nmra',-6528.,9088.,270.)
call SetUnitColor(u,ConvertPlayerColor(6))
set u=CreateUnit(p,'ncop',-8512.,-10112.,270.)
set u=CreateUnit(p,'ncop',-9408.,-10112.,270.)
set u=CreateUnit(p,'nmr7',-10688.,11072.,270.)
call SetUnitColor(u,ConvertPlayerColor(8))
set u=CreateUnit(p,'nmrb',-7744.,-8896.,270.)
call SetUnitColor(u,ConvertPlayerColor($C))
set u=CreateUnit(p,'nmr0',3648.,-4800.,270.)
call SetUnitColor(u,ConvertPlayerColor(8))
set u=CreateUnit(p,'nmr5',-6784.,-3136.,270.)
call SetUnitColor(u,ConvertPlayerColor(4))
set u=CreateUnit(p,'ncp2',-2720.,10272.,270.)
set u=CreateUnit(p,'ncp2',-1120.,5152.,270.)
set u=CreateUnit(p,'ncp2',-6304.,-352.,270.)
set u=CreateUnit(p,'ncp2',-1056.,-5536.,270.)
set t=null
set u=null
endfunction
function CreateNeutralPassive takes nothing returns nothing
local player p=Player($F)
local unit u
local integer unitID
local trigger t
local real life
set gg_unit_Harf_0004=CreateUnit(p,'Harf',11712.9,-10958.5,270.)
call SetUnitState(gg_unit_Harf_0004,UNIT_STATE_MANA,700)
set gg_unit_Ofar_0013=CreateUnit(p,'Ofar',10427.5,-10959.5,270.)
call SetUnitState(gg_unit_Ofar_0013,UNIT_STATE_MANA,600)
set gg_unit_Obla_0014=CreateUnit(p,'Obla',11457.,-11213.5,270.)
call SetUnitState(gg_unit_Obla_0014,UNIT_STATE_MANA,$C8)
set gg_unit_Hpb2_0015=CreateUnit(p,'Hpb2',11706.3,-11211.7,270.)
set gg_unit_Hvwd_0016=CreateUnit(p,'Hvwd',10942.4,-10958.,270.)
call SetUnitState(gg_unit_Hvwd_0016,UNIT_STATE_MANA,500)
set gg_unit_Eill_0017=CreateUnit(p,'Eill',11196.1,-10961.,270.)
call SetUnitState(gg_unit_Eill_0017,UNIT_STATE_MANA,700)
set gg_unit_Huth_0018=CreateUnit(p,'Huth',9917.,-11213.4,270.)
call SetUnitState(gg_unit_Huth_0018,UNIT_STATE_MANA,500)
set gg_unit_Hart_0019=CreateUnit(p,'Hart',11452.9,-11474.3,270.)
call SetUnitState(gg_unit_Hart_0019,UNIT_STATE_MANA,500)
set gg_unit_Hkal_0020=CreateUnit(p,'Hkal',10686.7,-10961.,270.)
call SetUnitState(gg_unit_Hkal_0020,UNIT_STATE_MANA,700)
call UnitAddItemToSlotById(gg_unit_Hkal_0020,'I02L',0)
set gg_unit_Hhkl_0021=CreateUnit(p,'Hhkl',9660.1,-11214.6,270.)
call SetUnitState(gg_unit_Hhkl_0021,UNIT_STATE_MANA,500)
call IssueImmediateOrder(gg_unit_Hhkl_0021,"")
call IssueImmediateOrder(gg_unit_Hhkl_0021,"")
call IssueImmediateOrder(gg_unit_Hhkl_0021,"")
set gg_unit_Udre_0022=CreateUnit(p,'Udre',10679.6,-11471.2,270.)
call SetUnitState(gg_unit_Udre_0022,UNIT_STATE_MANA,400)
call SetUnitColor(gg_unit_Udre_0022,ConvertPlayerColor(8))
set gg_unit_Edem_0023=CreateUnit(p,'Edem',10180.1,-11212.2,270.)
call SetUnitState(gg_unit_Edem_0023,UNIT_STATE_MANA,500)
set gg_unit_Hamg_0024=CreateUnit(p,'Hamg',9404.,-10957.2,270.)
call SetUnitState(gg_unit_Hamg_0024,UNIT_STATE_MANA,800)
call UnitAddItemToSlotById(gg_unit_Hamg_0024,'I013',0)
set gg_unit_Hblm_0025=CreateUnit(p,'Hblm',9914.8,-10961.2,270.)
call SetUnitState(gg_unit_Hblm_0025,UNIT_STATE_MANA,700)
set gg_unit_Hpb1_0026=CreateUnit(p,'Hpb1',9403.1,-11216.9,270.)
call SetUnitState(gg_unit_Hpb1_0026,UNIT_STATE_MANA,$3E8)
set gg_unit_Nmag_0027=CreateUnit(p,'Nmag',11202.2,-11465.7,270.)
call SetUnitState(gg_unit_Nmag_0027,UNIT_STATE_MANA,400)
set gg_unit_Hant_0028=CreateUnit(p,'Hant',10689.9,-11211.8,270.)
call SetUnitState(gg_unit_Hant_0028,UNIT_STATE_MANA,$3E8)
call SetUnitColor(gg_unit_Hant_0028,ConvertPlayerColor(8))
set gg_unit_Hlgr_0029=CreateUnit(p,'Hlgr',10175.1,-10957.7,270.)
call SetUnitState(gg_unit_Hlgr_0029,UNIT_STATE_MANA,400)
set gg_unit_Hgam_0030=CreateUnit(p,'Hgam',10428.4,-11216.,270.)
call SetUnitState(gg_unit_Hgam_0030,UNIT_STATE_MANA,800)
set gg_unit_Emoo_0031=CreateUnit(p,'Emoo',10939.6,-11216.,270.)
call SetUnitState(gg_unit_Emoo_0031,UNIT_STATE_MANA,500)
set gg_unit_Uktl_0032=CreateUnit(p,'Uktl',10941.6,-11472.3,270.)
call SetUnitState(gg_unit_Uktl_0032,UNIT_STATE_MANA,300)
set gg_unit_Emfr_0033=CreateUnit(p,'Emfr',11705.6,-11472.3,270.)
call SetUnitState(gg_unit_Emfr_0033,UNIT_STATE_MANA,800)
call UnitAddItemToSlotById(gg_unit_Emfr_0033,'I00I',0)
set gg_unit_Hpal_0034=CreateUnit(p,'Hpal',11452.,-10958.,270.)
call SetUnitState(gg_unit_Hpal_0034,UNIT_STATE_MANA,700)
call UnitAddItemToSlotById(gg_unit_Hpal_0034,'I03M',0)
set gg_unit_Hmgd_0035=CreateUnit(p,'Hmgd',11193.5,-11212.,270.)
call SetUnitState(gg_unit_Hmgd_0035,UNIT_STATE_MANA,600)
set gg_unit_E006_0036=CreateUnit(p,'E006',9657.8,-10953.1,270.)
call SetUnitState(gg_unit_E006_0036,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'H01O',-9400.3,-9917.1,270.)
call SetHeroLevel(u,30,false)
call SetUnitState(u,UNIT_STATE_MANA,$1AE78)
set gg_unit_h00C_0141=CreateUnit(p,'h00C',3537.1,-3641.3,270.)
call SetUnitState(gg_unit_h00C_0141,UNIT_STATE_MANA,$5DC)
set u=CreateUnit(p,'nshe',-4205.,4964.,225.)
set u=CreateUnit(p,'H01D',-8518.7,-9916.6,270.)
call SetHeroLevel(u,30,false)
call SetUnitState(u,UNIT_STATE_MANA,$1AE78)
set u=CreateUnit(p,'n00E',10228.9,7894.5,270.)
set gg_unit_hrif_0187=CreateUnit(p,'hrif',-3725.,5353.9,225.)
set u=CreateUnit(p,'nshe',-4315.7,4998.8,322.557)
set u=CreateUnit(p,'nshe',-4049.1,4825.3,165.932)
set u=CreateUnit(p,'nshe',-4146.2,4816.2,66.041)
set u=CreateUnit(p,'n00D',10026.7,8925.3,250.)
set gg_unit_Hvsh_0206=CreateUnit(p,'Hvsh',-8056.4,799.3,270.)
call SetHeroLevel(gg_unit_Hvsh_0206,30,false)
call SetUnitState(gg_unit_Hvsh_0206,UNIT_STATE_MANA,735)
call UnitAddItemToSlotById(gg_unit_Hvsh_0206,'I000',0)
set gg_unit_n007_0207=CreateUnit(p,'n007',-4441.2,-7095.2,270.)
set gg_unit_n006_0208=CreateUnit(p,'n006',11568.5,7202.3,180.)
set u=CreateUnit(p,'n00Z',-6714.5,-2415.8,270.)
set gg_unit_nsgh_0222=CreateUnit(p,'nsgh',-3820.3,-7444.1,180.)
set gg_unit_nsrw_0223=CreateUnit(p,'nsrw',6448.9,-9729.9,180.)
set gg_unit_ndrd_0224=CreateUnit(p,'ndrd',5654.,-8976.1,16.78)
call SetUnitState(gg_unit_ndrd_0224,UNIT_STATE_MANA,300)
set gg_unit_nchg_0225=CreateUnit(p,'nchg',219.9,4520.8,270.)
set gg_unit_nkob_0232=CreateUnit(p,'nkob',-8741.8,-2383.,220.)
set gg_unit_uktn_0235=CreateUnit(p,'uktn',-1504.6,3037.1,180.)
set gg_unit_ndrh_0236=CreateUnit(p,'ndrh',-3817.4,-7776.3,150.)
set gg_unit_n00I_0237=CreateUnit(p,'n00I',-8365.2,8922.7,225.)
set gg_unit_n008_0248=CreateUnit(p,'n008',-10893.8,7101.8,90.)
set u=CreateUnit(p,'nvlk',-10543.1,5526.2,270.)
set u=CreateUnit(p,'nvlw',-10961.4,5532.2,90.)
set u=CreateUnit(p,'n00Q',-10885.5,8764.7,270.)
set u=CreateUnit(p,'n00C',-10755.,8755.9,270.)
set u=CreateUnit(p,'n00C',-10693.6,-6872.5,270.)
set u=CreateUnit(p,'n00Q',-10819.9,-6863.9,270.)
set u=CreateUnit(p,'nvl2',-11188.5,5259.9,.0)
set u=CreateUnit(p,'nvlw',-10913.6,6926.1,270.)
set u=CreateUnit(p,'nvl2',-1415.4,-5791.6,90.)
set u=CreateUnit(p,'nvlk',-934.3,-5156.4,277.)
set u=CreateUnit(p,'nvlw',-385.4,-5197.5,270.)
set u=CreateUnit(p,'nvil',-10700.2,9576.6,270.)
set u=CreateUnit(p,'nvl2',-6381.6,160.8,225.)
set u=CreateUnit(p,'nvlw',-6831.9,173.2,.0)
set u=CreateUnit(p,'nvlw',-9449.,8917.1,.0)
set u=CreateUnit(p,'nvlk',-9691.1,6580.9,270.)
set u=CreateUnit(p,'nvl2',-9128.4,7784.3,315.)
set u=CreateUnit(p,'nvlw',-8585.2,8070.3,.0)
set u=CreateUnit(p,'nvk2',-7643.7,9153.7,270.)
set u=CreateUnit(p,'nvlw',-7531.4,9141.6,270.)
set u=CreateUnit(p,'n00C',8767.8,8667.9,270.)
set u=CreateUnit(p,'n00Q',8642.2,8663.4,270.)
set u=CreateUnit(p,'n00C',2370.5,-4031.7,.0)
set u=CreateUnit(p,'n00Q',2371.5,-3906.2,.0)
set u=CreateUnit(p,'nvlw',-6890.4,7029.,270.)
set u=CreateUnit(p,'nvlk',-6801.,7040.6,270.)
set u=CreateUnit(p,'nvil',-6183.7,8243.6,.0)
set u=CreateUnit(p,'nvlw',-5537.7,7036.9,180.)
set u=CreateUnit(p,'ndog',-5538.8,6930.4,180.)
set u=CreateUnit(p,'nvil',-10241.9,7318.,266.306)
set u=CreateUnit(p,'ndog',-10122.6,7358.,270.)
set u=CreateUnit(p,'n00D',7960.7,10789.6,315.)
set u=CreateUnit(p,'n00D',9167.6,10920.2,270.)
set u=CreateUnit(p,'n00E',9249.7,10923.6,270.)
set u=CreateUnit(p,'n00E',9004.9,7610.9,315.)
set u=CreateUnit(p,'nvlk',10340.9,7902.8,270.)
set u=CreateUnit(p,'nvlk',2876.3,-4226.7,.0)
set u=CreateUnit(p,'nvil',4697.1,-2987.8,90.)
set u=CreateUnit(p,'nvil',4321.5,-3003.1,130.)
set u=CreateUnit(p,'nvlw',4103.4,-2239.,.0)
set u=CreateUnit(p,'ndog',5131.8,-2203.6,180.)
set u=CreateUnit(p,'nvlw',5139.2,-1913.8,180.)
set u=CreateUnit(p,'nvl2',4129.5,-1660.4,90.)
set u=CreateUnit(p,'nvil',3279.,-1746.8,270.)
set u=CreateUnit(p,'ndog',3146.9,-1734.,270.)
set u=CreateUnit(p,'nvlw',2577.5,-1390.3,.0)
set u=CreateUnit(p,'n00F',-8172.4,9128.6,250.)
set u=CreateUnit(p,'n00B',-5220.6,6476.9,325.)
set gg_unit_H04N_0359=CreateUnit(p,'H04N',-4642.6,10662.6,270.)
call SetHeroLevel(gg_unit_H04N_0359,30,false)
call SetHeroStr(gg_unit_H04N_0359,$BD,true)
call SetHeroAgi(gg_unit_H04N_0359,$AD,true)
call SetHeroInt(gg_unit_H04N_0359,$A3,true)
call SetUnitState(gg_unit_H04N_0359,UNIT_STATE_MANA,945)
call UnitAddItemToSlotById(gg_unit_H04N_0359,'I025',0)
call UnitAddItemToSlotById(gg_unit_H04N_0359,'I01R',1)
call UnitAddItemToSlotById(gg_unit_H04N_0359,'I01S',2)
call UnitAddItemToSlotById(gg_unit_H04N_0359,'I01G',3)
set u=CreateUnit(p,'n00P',1745.1,3451.4,304.)
set gg_unit_n00T_0369=CreateUnit(p,'n00T',-6921.5,7940.1,180.)
call SetUnitState(gg_unit_n00T_0369,UNIT_STATE_MANA,$44C)
set u=null
endfunction
function CreatePlayerBuildings takes nothing returns nothing
local player p
local unit u
local integer unitID
local trigger t
local real life
set p=Player(4)
set gg_unit_hcas_0038=CreateUnit(p,'hcas',-8384.,10368.,270.)
set u=CreateUnit(p,'owtw',-6976.,6272.,270.)
set u=CreateUnit(p,'owtw',-7680.,6272.,270.)
set u=CreateUnit(p,'owtw',6976.,8512.,270.)
set u=CreateUnit(p,'owtw',6976.,8128.,270.)
set u=CreateUnit(p,'owtw',9088.,6976.,270.)
set u=CreateUnit(p,'owtw',-5888.,7360.,270.)
set u=CreateUnit(p,'owtw',10816.,1088.,270.)
set u=CreateUnit(p,'owtw',11264.,1088.,270.)
set u=CreateUnit(p,'owtw',10112.,8384.,270.)
set u=CreateUnit(p,'owtw',-9536.,7040.,270.)
set u=CreateUnit(p,'owtw',9856.,9984.,270.)
set u=CreateUnit(p,'owtw',3328.,4416.,270.)
set u=CreateUnit(p,'owtw',3712.,4416.,270.)
set u=CreateUnit(p,'owtw',4096.,4928.,270.)
set u=CreateUnit(p,'owtw',10880.,2048.,270.)
set u=CreateUnit(p,'hgtw',-448.,10048.,270.)
call SetUnitColor(u,ConvertPlayerColor(8))
set gg_unit_nfoh_0184=CreateUnit(p,'nfoh',9088.,10368.,270.)
set gg_unit_nfoh_0194=CreateUnit(p,'nfoh',-9536.,10496.,270.)
set gg_unit_nfoh_0204=CreateUnit(p,'nfoh',6144.,-11392.,270.)
set u=CreateUnit(p,'owtw',-8640.,8320.,270.)
set u=CreateUnit(p,'hgtw',-11328.,11136.,270.)
call SetUnitColor(u,ConvertPlayerColor(8))
set u=null
set p=Player(7)
set gg_unit_h01N_0039=CreateUnit(p,'h01N',-8352.,-8928.,270.)
set gg_unit_nbfl_0198=CreateUnit(p,'nbfl',-6976.,-8832.,270.)
set gg_unit_nbfl_0199=CreateUnit(p,'nbfl',-6912.,-9856.,270.)
set p=Player($B)
set gg_unit_nfoh_0195=CreateUnit(p,'nfoh',4544.,-1344.,270.)
set u=CreateUnit(p,'nbfl',8256.,-10368.,270.)
set u=null
endfunction
function CreatePlayerUnits takes nothing returns nothing
local player p
local unit u
local integer unitID
local trigger t
local real life
set p=Player(4)
set gg_unit_H027_0113=CreateUnit(p,'H027',-571.2,-7370.,180.)
call SetHeroLevel(gg_unit_H027_0113,30,false)
call SetUnitState(gg_unit_H027_0113,UNIT_STATE_MANA,$816)
call SetUnitColor(gg_unit_H027_0113,ConvertPlayerColor(9))
call UnitAddItemToSlotById(gg_unit_H027_0113,'I02V',0)
call UnitAddItemToSlotById(gg_unit_H027_0113,'I00B',1)
set gg_unit_Ewrd_0114=CreateUnit(p,'Ewrd',6987.3,5344.2,270.)
call SetHeroLevel(gg_unit_Ewrd_0114,30,false)
call SetUnitState(gg_unit_Ewrd_0114,UNIT_STATE_MANA,5095)
call SetUnitColor(gg_unit_Ewrd_0114,ConvertPlayerColor($C))
call UnitAddItemToSlotById(gg_unit_Ewrd_0114,'I01U',0)
call UnitAddItemToSlotById(gg_unit_Ewrd_0114,'I01S',1)
set gg_unit_Emns_0115=CreateUnit(p,'Emns',-1854.1,8513.4,67.39)
call SetHeroLevel(gg_unit_Emns_0115,30,false)
call SetUnitState(gg_unit_Emns_0115,UNIT_STATE_MANA,$7D5)
call UnitAddItemToSlotById(gg_unit_Emns_0115,'I01R',0)
call UnitAddItemToSlotById(gg_unit_Emns_0115,'I01S',1)
call UnitAddItemToSlotById(gg_unit_Emns_0115,'I025',2)
call UnitAddItemToSlotById(gg_unit_Emns_0115,'I02P',3)
set gg_unit_Oshd_0117=CreateUnit(p,'Oshd',-6871.7,9187.,270.)
call SetHeroLevel(gg_unit_Oshd_0117,30,false)
call SetUnitState(gg_unit_Oshd_0117,UNIT_STATE_MANA,$537)
call UnitAddItemToSlotById(gg_unit_Oshd_0117,'I025',0)
call UnitAddItemToSlotById(gg_unit_Oshd_0117,'I020',1)
call UnitAddItemToSlotById(gg_unit_Oshd_0117,'I01S',2)
call UnitAddItemToSlotById(gg_unit_Oshd_0117,'I01U',3)
set gg_unit_Ekgg_0119=CreateUnit(p,'Ekgg',9094.2,2034.7,180.)
call SetHeroLevel(gg_unit_Ekgg_0119,30,false)
call SetUnitState(gg_unit_Ekgg_0119,UNIT_STATE_MANA,$77B)
call SetUnitColor(gg_unit_Ekgg_0119,ConvertPlayerColor($C))
call UnitAddItemToSlotById(gg_unit_Ekgg_0119,'I01R',0)
call UnitAddItemToSlotById(gg_unit_Ekgg_0119,'I01S',1)
set u=CreateUnit(p,'h00D',-1182.6,10192.,250.)
call SetUnitColor(u,ConvertPlayerColor(9))
set u=CreateUnit(p,'h00D',-1443.8,10271.4,255.)
call SetUnitColor(u,ConvertPlayerColor(9))
set u=CreateUnit(p,'h00D',-431.2,10957.9,270.)
call SetUnitColor(u,ConvertPlayerColor(9))
set u=CreateUnit(p,'h00D',49.1,11015.6,225.)
call SetUnitColor(u,ConvertPlayerColor(9))
set u=CreateUnit(p,'h00D',-75.7,10390.7,135.)
call SetUnitColor(u,ConvertPlayerColor(9))
set u=CreateUnit(p,'h00D',-998.9,-8834.6,45.)
call SetUnitColor(u,ConvertPlayerColor(9))
set u=CreateUnit(p,'h00D',-555.9,-8834.6,135.)
call SetUnitColor(u,ConvertPlayerColor(9))
set u=CreateUnit(p,'h00D',-1669.9,-9018.9,.0)
call SetUnitColor(u,ConvertPlayerColor(9))
set u=CreateUnit(p,'h00D',-1690.1,-7741.1,270.)
call SetUnitColor(u,ConvertPlayerColor(9))
set u=CreateUnit(p,'h00D',-1509.5,-7744.1,270.)
call SetUnitColor(u,ConvertPlayerColor(9))
set u=CreateUnit(p,'h00A',6492.2,-10956.2,180.)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'h00A',5784.4,-10948.9,.0)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set gg_unit_n00Y_0139=CreateUnit(p,'n00Y',-6191.6,-2109.,323.)
call SetUnitState(gg_unit_n00Y_0139,UNIT_STATE_MANA,$3E8)
set gg_unit_n010_0140=CreateUnit(p,'n010',-6038.7,-1956.8,323.)
set u=CreateUnit(p,'nenp',-8598.9,7000.2,90.)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'h00B',7394.4,8493.,270.)
call SetUnitState(u,UNIT_STATE_MANA,$4B0)
set u=CreateUnit(p,'h00B',7395.,8120.2,90.)
call SetUnitState(u,UNIT_STATE_MANA,$4B0)
set u=CreateUnit(p,'h00B',8701.,7472.1,270.)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'hcth',-1606.6,-8234.9,270.)
call SetUnitColor(u,ConvertPlayerColor(9))
set u=CreateUnit(p,'nbds',-7016.3,7010.8,270.)
call SetUnitState(u,UNIT_STATE_MANA,$ED8)
set u=CreateUnit(p,'nbds',-8529.7,8522.6,.0)
call SetUnitState(u,UNIT_STATE_MANA,$ED8)
set u=CreateUnit(p,'h00B',10722.7,9683.7,225.)
call SetUnitState(u,UNIT_STATE_MANA,$4B0)
set u=CreateUnit(p,'h00B',10462.8,9892.6,225.)
call SetUnitState(u,UNIT_STATE_MANA,$4B0)
set u=CreateUnit(p,'h00B',10595.4,9789.3,225.)
call SetUnitState(u,UNIT_STATE_MANA,$4B0)
set u=CreateUnit(p,'h00B',9433.,8285.9,270.)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'h00B',10474.5,8435.2,.0)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'nenp',-9320.6,7450.8,270.)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'nenp',-10060.3,6448.3,.0)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'nenp',-8505.9,9369.4,270.)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'nenp',-8228.,9373.7,270.)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'nenp',-7787.7,7835.9,270.)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'nenp',-6433.9,8774.5,180.)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'nenp',-5752.,8722.8,270.)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'nenp',-11159.,9436.4,.0)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'h00B',8218.1,9294.1,.0)
call SetUnitState(u,UNIT_STATE_MANA,$4B0)
set u=CreateUnit(p,'nenp',-6726.7,7644.,.0)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set gg_unit_nenf_0240=CreateUnit(p,'nenf',-10567.5,10813.3,180.)
call SetUnitColor(gg_unit_nenf_0240,ConvertPlayerColor(8))
set gg_unit_nenf_0241=CreateUnit(p,'nenf',-10560.,10625.8,180.)
call SetUnitColor(gg_unit_nenf_0241,ConvertPlayerColor(8))
set gg_unit_nenf_0242=CreateUnit(p,'nenf',-10568.1,10423.5,180.)
call SetUnitColor(gg_unit_nenf_0242,ConvertPlayerColor(8))
set gg_unit_nenf_0243=CreateUnit(p,'nenf',-11321.,10437.8,.0)
call SetUnitColor(gg_unit_nenf_0243,ConvertPlayerColor(8))
set gg_unit_nenf_0244=CreateUnit(p,'nenf',-11327.8,10632.3,.0)
call SetUnitColor(gg_unit_nenf_0244,ConvertPlayerColor(8))
set gg_unit_nenf_0245=CreateUnit(p,'nenf',-11320.1,10821.3,.0)
call SetUnitColor(gg_unit_nenf_0245,ConvertPlayerColor(8))
set u=CreateUnit(p,'h00B',3241.7,4942.6,270.)
call SetUnitState(u,UNIT_STATE_MANA,$4B0)
set u=CreateUnit(p,'h00B',3122.6,4689.4,50.)
call SetUnitState(u,UNIT_STATE_MANA,$4B0)
set gg_unit_h01J_0251=CreateUnit(p,'h01J',-9170.1,1398.6,135.)
call SetUnitState(gg_unit_h01J_0251,UNIT_STATE_MANA,$5DC)
set gg_unit_h01J_0252=CreateUnit(p,'h01J',-9424.6,1251.4,90.)
call SetUnitState(gg_unit_h01J_0252,UNIT_STATE_MANA,$5DC)
set gg_unit_h01J_0253=CreateUnit(p,'h01J',-9610.9,1678.1,290.)
call SetUnitState(gg_unit_h01J_0253,UNIT_STATE_MANA,$5DC)
set u=CreateUnit(p,'ospw',7292.9,9194.2,270.)
call SetUnitState(u,UNIT_STATE_MANA,$DAC)
set u=CreateUnit(p,'h00B',10559.8,9202.7,.0)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'nenp',-8186.7,8273.8,180.)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'nenp',-7449.5,8463.2,.0)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'nenp',-9201.9,6923.1,.0)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'h00B',3750.6,4651.5,180.)
call SetUnitState(u,UNIT_STATE_MANA,$4B0)
set u=CreateUnit(p,'h01S',-7511.3,6576.6,270.)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'h01R',-7201.7,6571.,270.)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set gg_unit_Ucrl_0264=CreateUnit(p,'Ucrl',-5549.5,-368.2,180.)
call SetHeroLevel(gg_unit_Ucrl_0264,30,false)
call UnitAddItemToSlotById(gg_unit_Ucrl_0264,'I00U',0)
call UnitAddItemToSlotById(gg_unit_Ucrl_0264,'I01R',1)
call UnitAddItemToSlotById(gg_unit_Ucrl_0264,'I025',2)
call UnitAddItemToSlotById(gg_unit_Ucrl_0264,'I01D',3)
call UnitAddItemToSlotById(gg_unit_Ucrl_0264,'I02P',4)
set u=CreateUnit(p,'nenp',-7749.5,9138.2,270.)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'nenp',-7033.9,9148.2,270.)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'nenp',-6470.3,7158.1,180.)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'nenp',-5586.5,7413.,270.)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'nenp',-6171.8,8586.6,.0)
call SetUnitState(u,UNIT_STATE_MANA,$44C)
set u=CreateUnit(p,'h00B',10061.2,10723.2,270.)
call SetUnitState(u,UNIT_STATE_MANA,$4B0)
set u=CreateUnit(p,'nbds',9470.9,7902.,135.)
call SetUnitState(u,UNIT_STATE_MANA,$ED8)
set u=CreateUnit(p,'h00B',9479.6,9046.4,270.)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'h00B',10655.5,7709.3,.0)
call SetUnitState(u,UNIT_STATE_MANA,$3E8)
set u=CreateUnit(p,'hcth',171.8,10714.2,180.)
call SetUnitColor(u,ConvertPlayerColor(9))
set gg_unit_nnmg_0378=CreateUnit(p,'nnmg',-9247.3,1676.1,225.)
set gg_unit_nhyc_0379=CreateUnit(p,'nhyc',-9273.8,1315.6,130.)
set gg_unit_nnsw_0380=CreateUnit(p,'nnsw',11443.5,1882.6,270.)
set gg_unit_nsnp_0381=CreateUnit(p,'nsnp',11102.7,1677.5,.0)
set gg_unit_nnrg_0382=CreateUnit(p,'nnrg',7933.1,8457.2,270.)
set u=null
set p=Player($B)
set gg_unit_h00E_0087=CreateUnit(p,'h00E',11896.8,-2555.2,180.)
endfunction
function CreateAllUnits takes nothing returns nothing
call CreateNeutralPassiveBuildings()
call CreatePlayerBuildings()
call CreateNeutralHostile()
call CreateNeutralPassive()
call CreatePlayerUnits()
endfunction
function CreateRegions takes nothing returns nothing
local weathereffect we
set gg_rct_Ame=Rect(64.,-6080.,5664.,-352.)
set we=AddWeatherEffect(gg_rct_Ame,'RAhr')
call EnableWeatherEffect(we,true)
set gg_rct_World=Rect(-11552.,-6048.,12224.,11424.)
set gg_rct_Konoha=Rect(-11456.,5696.,-4800.,11008.)
set gg_rct_Itachi_Kisame=Rect(2656.,-4992.,2976.,-4672.)
set gg_rct_Revive_Orochimaru=Rect(-7104.,-8640.,-6848.,-8384.)
set gg_rct_Arena=Rect(4128.,352.,5088.,1248.)
set gg_rct_Roushin=Rect(-5568.,-3616.,-4384.,-2560.)
set gg_rct_Magtheriton=Rect(3168.,10016.,4320.,11104.)
set we=AddWeatherEffect(gg_rct_Magtheriton,'FDgh')
call EnableWeatherEffect(we,true)
set gg_rct_Team_Gai_2=Rect(-6112.,8192.,-5504.,8640.)
set gg_rct_Kazekage=Rect(10880.,10048.,11936.,11200.)
set gg_rct_Gedo_2=Rect(11552.,-2656.,11776.,-2496.)
set gg_rct_Training_Sasuke=Rect(-11296.,-8800.,-10144.,-7424.)
set gg_rct_Sasuke_cinematic=Rect(10592.,-9856.,10784.,-9664.)
set gg_rct_Sasuke_Itachi=Rect(6816.,-2080.,7200.,-1696.)
set gg_rct_Team_Kakashi=Rect(-9248.,6304.,-8736.,7072.)
set gg_rct_Team_Danzo_2=Rect(-11392.,10240.,-10496.,11200.)
set gg_rct_Cave_Gedo=Rect(9568.,-4000.,12160.,-1248.)
set gg_rct_Revive_Akatsuki=Rect(4832.,-1440.,5024.,-1248.)
set gg_rct_Dreadlord=Rect(-1248.,5056.,-992.,5248.)
set gg_rct_NinjaN=Rect(-11456.,608.,-11360.,704.)
set gg_rct_Samuro=Rect(-448.,9184.,-320.,9312.)
set gg_rct_Abos=Rect(3712.,10784.,3968.,10976.)
set gg_rct_Hunter=Rect(-2624.,-5888.,-2432.,-5664.)
set gg_rct_Pain_Respawn=Rect(4960.,-2752.,5088.,-2624.)
set gg_rct_Juugo_respawn=Rect(-11072.,-7776.,-10944.,-7648.)
set gg_rct_Gl=Rect(4512.,704.,4672.,864.)
set gg_rct_Karin_respawn=Rect(-10784.,-7616.,-10656.,-7488.)
set gg_rct_Suigetsu_respawn=Rect(-10592.,-7744.,-10464.,-7616.)
set gg_rct_Snake_crew=Rect(-9024.,-8640.,-8288.,-7872.)
set gg_rct_Sasuke_respawn=Rect(-10848.,-7808.,-10720.,-7680.)
set gg_rct_Team_7=Rect(-9856.,10496.,-9728.,10624.)
set gg_rct_KingakuN=Rect(11552.,-512.,11808.,-320.)
set gg_rct_GinkakuN=Rect(11520.,-768.,11776.,-576.)
set gg_rct_Madara_respawn=Rect(7584.,-10368.,7776.,-10272.)
set gg_rct_Madara_revive=Rect(7616.,-10496.,7744.,-10368.)
set gg_rct_Barah_respawn=Rect(-11360.,-2816.,-11232.,-2688.)
set gg_rct_Gaara_respawn=Rect(11456.,10688.,11584.,10816.)
set gg_rct_Mei_respawn=Rect(-9664.,1216.,-9536.,1344.)
set gg_rct_Suna2=Rect(6784.,6208.,12192.,11360.)
set gg_rct_Rai_respawn=Rect(6080.,-10816.,6208.,-10688.)
set gg_rct_Sunabase=Rect(2720.,4192.,4384.,5408.)
set gg_rct_Rikudo=Rect(-2560.,-11328.,-768.,-10176.)
set gg_rct_Tsunade_respawn=Rect(-2752.,-8512.,-2624.,-8416.)
set gg_rct_Bossshield=Rect(7808.,3936.,9376.,5760.)
set we=AddWeatherEffect(gg_rct_Bossshield,'FDwh')
call EnableWeatherEffect(we,true)
set gg_rct_Utaka=Rect(-11200.,1824.,-11072.,1952.)
set gg_rct_tele1=Rect(-11264.,-6080.,-11136.,-5952.)
set gg_rct_tele2=Rect(-8128.,-5952.,-8000.,-5824.)
set gg_rct_teleorochbase=Rect(-7360.,-7040.,-6976.,-6720.)
set gg_rct_telemadarabase=Rect(8256.,-11520.,8384.,-11392.)
set gg_rct_telegedobase=Rect(12032.,-2048.,12160.,-1920.)
set gg_rct_Base_Orochimaru2=Rect(-10880.,-8704.,-7264.,-7200.)
set gg_rct_Base_Orochimaru=Rect(-11552.,-9568.,-6560.,-6784.)
set gg_rct_wall1=Rect(-12288.,-6560.,12256.,-6400.)
set gg_rct_wall2=Rect(-6496.,-12288.,-6304.,-6560.)
set gg_rct_wall3=Rect(-8064.,-11872.,-7840.,-9248.)
set gg_rct_wall4=Rect(8704.,-10048.,8992.,-6560.)
set gg_rct_wall5=Rect(8992.,-10112.,12288.,-9952.)
set gg_rct_wall6=Rect(6976.,-9984.,8704.,-9824.)
set gg_rct_VisibleMap=Rect(-10816.,-5824.,11552.,11040.)
set gg_rct_Madaras_room=Rect(7808.,-11200.,7840.,-10752.)
set gg_rct_TownofRoushin=Rect(-5632.,-7872.,-5504.,-7744.)
set gg_rct_TownofRoushin2=Rect(5824.,10432.,5952.,10560.)
set gg_rct_TownRoushin3=Rect(-5568.,-7424.,-5536.,-7392.)
set gg_rct_tele3=Rect(-3136.,-7616.,-3008.,-7488.)
set gg_rct_tele4=Rect(-7232.,7552.,-7104.,7680.)
set gg_rct_Narutohome=Rect(-2784.,-7584.,-2752.,-7552.)
set gg_rct_tele5=Rect(-4480.,-7808.,-4352.,-7680.)
set gg_rct_tele6=Rect(-6336.,.0,-6208.,128.)
set gg_rct_BarEl=Rect(-4128.,-7552.,-4096.,-7520.)
set gg_rct_tele7=Rect(-6848.,-11584.,-6720.,-11456.)
set gg_rct_tele8=Rect(1024.,11072.,1152.,11200.)
set gg_rct_Orochbase2=Rect(-7072.,-11232.,-7040.,-10208.)
set gg_rct_tele9=Rect(-2752.,-9088.,-2624.,-8960.)
set gg_rct_tele10=Rect(-8448.,9856.,-8320.,9984.)
set gg_rct_Hokageoffice=Rect(-2720.,-8800.,-2688.,-8768.)
set gg_rct_tele11=Rect(-1216.,10496.,-1088.,10624.)
set gg_rct_tele12=Rect(-832.,-8320.,-704.,-8192.)
set gg_rct_Samuraibase=Rect(-1056.,-8704.,-1024.,-7552.)
set gg_rct_tele13=Rect(-4160.,-9088.,-4032.,-8960.)
set gg_rct_tele14=Rect(-5952.,-9088.,-5824.,-8960.)
set gg_rct_tele15=Rect(5696.,2752.,5824.,2880.)
set gg_rct_tele16=Rect(11968.,6336.,12096.,6464.)
set gg_rct_wall7=Rect(-6304.,-9440.,-192.,-9312.)
set gg_rct_wall8=Rect(-6304.,-8224.,-1920.,-8096.)
set gg_rct_wall9=Rect(-4896.,-10880.,-4704.,-6432.)
set gg_rct_wall10=Rect(-2144.,-9472.,-1952.,-6464.)
set gg_rct_wall11=Rect(-3520.,-9472.,-3328.,-6464.)
set gg_rct_wall12=Rect(-3296.,-12288.,-3104.,-9408.)
set gg_rct_wall13=Rect(-6304.,-10880.,-3296.,-10752.)
set gg_rct_SplatterHouse=Rect(-5600.,-8800.,-5568.,-8768.)
set gg_rct_Kazekageplace=Rect(-4096.,-8800.,-4064.,-8768.)
set gg_rct_AnozerWorld=Rect(-4768.,-10816.,-3264.,-9408.)
set gg_rct_Kamuy_World=Rect(-4128.,-10176.,-3968.,-10080.)
set gg_rct_Point1=Rect(-1824.,-9216.,-416.,-6912.)
set gg_rct_Point2=Rect(-3200.,-7904.,-2304.,-6976.)
set gg_rct_Point3=Rect(-3136.,-9216.,-2208.,-8256.)
set gg_rct_Point4=Rect(-4576.,-9248.,-3584.,-8416.)
set gg_rct_Point5=Rect(-6144.,-9216.,-5024.,-8352.)
set gg_rct_Point6=Rect(-6112.,-10624.,-4992.,-9600.)
set gg_rct_Point8=Rect(-4576.,-7936.,-3648.,-6944.)
set gg_rct_Base_Orochimaru_second=Rect(-7744.,-11840.,-6528.,-9504.)
set gg_rct_wall15=Rect(-11840.,-9440.,-6496.,-9248.)
set gg_rct_Point9=Rect(7104.,-11648.,8576.,-10176.)
set gg_rct_CaveKabuto=Rect(-5568.,-10176.,-5536.,-10144.)
set gg_rct_tele17=Rect(9088.,3776.,9216.,3904.)
set gg_rct_tele18=Rect(7488.,5824.,7616.,5952.)
set gg_rct_tele19=Rect(-6080.,-9920.,-5952.,-9792.)
set gg_rct_tele20=Rect(-5248.,-10432.,-5120.,-10304.)
set gg_rct_Village_Full=Rect(-1280.,6560.,-416.,7488.)
set gg_rct_Itachi_cinematic=Rect(10592.,-7488.,10784.,-7360.)
set gg_rct_Uchiha=Rect(9152.,-9856.,12128.,-7264.)
set gg_rct_Hero_pick_point=Rect(9024.,-11680.,12096.,-10816.)
set gg_rct_tele21=Rect(8448.,-9728.,8576.,-9600.)
set gg_rct_tele22=Rect(-6848.,-1344.,-6720.,-1216.)
set gg_rct_Point10=Rect(7072.,-9728.,8576.,-7168.)
set gg_rct_Super=Rect(7744.,-9280.,7936.,-7712.)
set gg_rct_Point11=Rect(5568.,-11712.,6688.,-10464.)
set gg_rct_tele23=Rect(5760.,-11200.,5888.,-11072.)
set gg_rct_tele24=Rect(11904.,1600.,12032.,1728.)
set gg_rct_RaiKage_OldMan=Rect(6112.,-10944.,6176.,-10784.)
set gg_rct_Mizukage=Rect(-9760.,1184.,-8768.,1728.)
set gg_rct_tele25=Rect(5952.,-7744.,6080.,-7616.)
set gg_rct_MeiPoint=Rect(5472.,-8224.,6560.,-6848.)
set we=AddWeatherEffect(gg_rct_MeiPoint,'FDwh')
call EnableWeatherEffect(we,true)
set gg_rct_MeiPoint2=Rect(5984.,-7616.,6048.,-7456.)
set gg_rct_Taka_Sasuke=Rect(-7232.,-9920.,-7136.,-9824.)
set gg_rct_tele26=Rect(6400.,-8960.,6528.,-8832.)
set gg_rct_tele27=Rect(5568.,-9856.,5696.,-9728.)
set gg_rct_tele28=Rect(-2624.,-1152.,-2496.,-1024.)
set gg_rct_tele29=Rect(-2048.,-640.,-1920.,-512.)
set gg_rct_Town=Rect(5472.,-10016.,6688.,-8736.)
set gg_rct_Town2=Rect(6016.,-9408.,6144.,-9312.)
set gg_rct_wall16=Rect(6784.,-11744.,6912.,-6560.)
set gg_rct_wall17=Rect(5056.,-11936.,5184.,-6752.)
set gg_rct_wall18=Rect(5184.,-8480.,6784.,-8352.)
set gg_rct_wall19=Rect(5184.,-10272.,6784.,-10112.)
set gg_rct_Sunagakure=Rect(8256.,8512.,8320.,8576.)
set gg_rct_Konohagakure=Rect(-7392.,6912.,-7328.,6976.)
set gg_rct_Valley_of_the_End=Rect(-2752.,10272.,-2688.,10336.)
set gg_rct_Roshs_tower=Rect(-5248.,-3520.,-5184.,-3456.)
set gg_rct_Rain_city=Rect(3776.,-2528.,3840.,-2464.)
set gg_rct_Deidara_tobi=Rect(2528.,-1120.,2880.,-800.)
set gg_rct_Nibi=Rect(6336.,4288.,7616.,5696.)
set gg_rct_tele30=Rect(-10816.,-11456.,-10688.,-11328.)
set gg_rct_tele31=Rect(4992.,-2944.,5120.,-2816.)
set gg_rct_Secret_of_Chamber=Rect(-11200.,-11616.,-10272.,-9888.)
set gg_rct_Secret_of_Chamber2=Rect(-10816.,-11136.,-10656.,-10400.)
set gg_rct_wall20=Rect(-10080.,-11904.,-9856.,-9280.)
set gg_rct_PeinRes=Rect(-10464.,-10624.,-10400.,-10560.)
set gg_rct_PeinRes2=Rect(-10464.,-10880.,-10400.,-10816.)
set gg_rct_PeinRes3=Rect(-10464.,-11136.,-10400.,-11072.)
set gg_rct_PeinRes4=Rect(-11104.,-10880.,-11040.,-10816.)
set gg_rct_PeinRes5=Rect(-11104.,-10624.,-11040.,-10560.)
set gg_rct_PeinResN=Rect(-10752.,-10208.,-10688.,-10144.)
set gg_rct_D=Rect(-8448.,-11328.,-8320.,-11200.)
set gg_rct_R2D2=Rect(-9792.,-11808.,-8160.,-10848.)
set gg_rct_D2=Rect(-9216.,-11392.,-8704.,-11328.)
set gg_rct_MapVicdef=Rect(-9760.,-10496.,-8192.,-9600.)
set gg_rct_Shadow=Rect(416.,-11872.,5024.,-7104.)
set we=AddWeatherEffect(gg_rct_Shadow,'MEds')
call EnableWeatherEffect(we,true)
set gg_rct_ShadowVisible=Rect(1120.,-11328.,4256.,-7584.)
set we=AddWeatherEffect(gg_rct_ShadowVisible,'FDwh')
call EnableWeatherEffect(we,true)
set gg_rct_wall14=Rect(-192.,-12288.,.0,-6560.)
set gg_rct_Gedo=Rect(11264.,-2688.,11456.,-2496.)
set gg_rct_Sunasolaire=Rect(11200.,8128.,11392.,8320.)
set gg_rct_Midare=Rect(-3584.,-5472.,-3328.,-5216.)
set gg_rct_Midare2=Rect(6528.,6336.,6784.,6592.)
set gg_rct_Secret_Chamber=Rect(-5184.,-8960.,-5056.,-8832.)
set gg_rct_Secret_Chamber_2=Rect(-6016.,-11456.,-5888.,-11328.)
set gg_rct_Point7=Rect(-6176.,-11808.,-4544.,-10976.)
set gg_rct_SecretCha=Rect(-5664.,-11360.,-3808.,-11328.)
set gg_rct_MizuMove2=Rect(5952.,-7200.,6080.,-7072.)
set gg_rct_MizuMove1=Rect(5632.,-7200.,5760.,-7072.)
set gg_rct_MizuMove3=Rect(6272.,-7200.,6400.,-7072.)
set gg_rct_Kv_zmei=Rect(-2720.,-2336.,-2432.,-2048.)
set gg_rct_New_Naruto=Rect(9888.,3232.,10048.,3392.)
set gg_rct_Kamen=Rect(-6240.,-2016.,-6144.,-1920.)
set gg_rct_Faraon=Rect(-6144.,-8000.,-4960.,-6944.)
set gg_rct_Nar_D=Rect(-9568.,-11392.,-9408.,-11232.)
set gg_rct_Mechniki=Rect(-9312.,-10144.,-8608.,-10080.)
set gg_rct_Uchiha_Shisui=Rect(-7104.,9984.,-6976.,10112.)
set gg_rct_Baraht_Full=Rect(-11552.,-3136.,-10784.,-2336.)
set gg_rct_sanbi=Rect(-9760.,-448.,-9664.,-32.)
set gg_rct_gobi=Rect(-1792.,8448.,-1600.,8640.)
set gg_rct_sichibi=Rect(1280.,5920.,1408.,6144.)
set gg_rct_hashibi=Rect(8928.,1984.,9056.,2112.)
set gg_rct_kyubi=Rect(-6304.,10304.,-6080.,10432.)
set gg_rct_Secret_Orochimaru=Rect(-3744.,-11456.,-3648.,-11360.)
set gg_rct_Hanzo=Rect(7424.,-2688.,7936.,-2048.)
set gg_rct_Monoment=Rect(-10752.,6272.,-10496.,6528.)
set gg_rct_Sasuke_Rekudo=Rect(-8576.,-10176.,-8448.,-10048.)
set gg_rct_Naruto_Rekudo=Rect(-9472.,-10176.,-9344.,-10048.)
set we=null
endfunction
function CreateCameras takes nothing returns nothing
set gg_cam_Konoha=CreateCameraSetup()
call CameraSetupSetField(gg_cam_Konoha,CAMERA_FIELD_ZOFFSET,.0,.0)
call CameraSetupSetField(gg_cam_Konoha,CAMERA_FIELD_ROTATION,90.,.0)
call CameraSetupSetField(gg_cam_Konoha,CAMERA_FIELD_ANGLE_OF_ATTACK,304.,.0)
call CameraSetupSetField(gg_cam_Konoha,CAMERA_FIELD_TARGET_DISTANCE,2000.,.0)
call CameraSetupSetField(gg_cam_Konoha,CAMERA_FIELD_ROLL,.0,.0)
call CameraSetupSetField(gg_cam_Konoha,CAMERA_FIELD_FIELD_OF_VIEW,70.,.0)
call CameraSetupSetField(gg_cam_Konoha,CAMERA_FIELD_FARZ,4000.,.0)
call CameraSetupSetDestPosition(gg_cam_Konoha,-9006.9,6826.3,.0)
set gg_cam_Pain=CreateCameraSetup()
call CameraSetupSetField(gg_cam_Pain,CAMERA_FIELD_ZOFFSET,.0,.0)
call CameraSetupSetField(gg_cam_Pain,CAMERA_FIELD_ROTATION,90.,.0)
call CameraSetupSetField(gg_cam_Pain,CAMERA_FIELD_ANGLE_OF_ATTACK,304.,.0)
call CameraSetupSetField(gg_cam_Pain,CAMERA_FIELD_TARGET_DISTANCE,1650.,.0)
call CameraSetupSetField(gg_cam_Pain,CAMERA_FIELD_ROLL,.0,.0)
call CameraSetupSetField(gg_cam_Pain,CAMERA_FIELD_FIELD_OF_VIEW,70.,.0)
call CameraSetupSetField(gg_cam_Pain,CAMERA_FIELD_FARZ,5000.,.0)
call CameraSetupSetDestPosition(gg_cam_Pain,4974.2,-2228.2,.0)
endfunction
function Trig_Monoment_Conditions takes nothing returns boolean
return((GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)and(IsUnitIllusion(GetEnteringUnit())==false)and(IsUnitType(GetEnteringUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function Trig_Monoment_Actions takes nothing returns nothing
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetEnteringUnit())),"TRIGSTR_2881")
endfunction
function InitTrig_Monoment takes nothing returns nothing
set gg_trg_Monoment=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Monoment,gg_rct_Monoment)
call TriggerAddCondition(gg_trg_Monoment,Condition(function Trig_Monoment_Conditions))
call TriggerAddAction(gg_trg_Monoment,function Trig_Monoment_Actions)
endfunction
function Trig_Monoment_2_Conditions takes nothing returns boolean
return((GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)and(IsUnitIllusion(GetEnteringUnit())==false)and(IsUnitType(GetEnteringUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function Trig_Monoment_2_Actions takes nothing returns nothing
call DisableTrigger(gg_trg_Monoment)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetEnteringUnit())),"TRIGSTR_3962")
endfunction
function InitTrig_Monoment_2 takes nothing returns nothing
set gg_trg_Monoment_2=CreateTrigger()
call DisableTrigger(gg_trg_Monoment_2)
call TriggerRegisterEnterRectSimple(gg_trg_Monoment_2,gg_rct_Monoment)
call TriggerAddCondition(gg_trg_Monoment_2,Condition(function Trig_Monoment_2_Conditions))
call TriggerAddAction(gg_trg_Monoment_2,function Trig_Monoment_2_Actions)
endfunction
function Trig_Monoment_3_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())=='Hant')
endfunction
function Trig_Monoment_3_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(gg_trg_Monoment_2)
call UnitAddItemByIdSwapped('I02X',GetEnteringUnit())
endfunction
function InitTrig_Monoment_3 takes nothing returns nothing
set gg_trg_Monoment_3=CreateTrigger()
call DisableTrigger(gg_trg_Monoment_3)
call TriggerRegisterEnterRectSimple(gg_trg_Monoment_3,gg_rct_Monoment)
call TriggerAddCondition(gg_trg_Monoment_3,Condition(function Trig_Monoment_3_Conditions))
call TriggerAddAction(gg_trg_Monoment_3,function Trig_Monoment_3_Actions)
endfunction
function Trig_init_Actions takes nothing returns nothing
call SetUnitUserData(gg_unit_Hblm_0025,1)
call SetUnitManaPercentBJ(gg_unit_H04N_0359,'d')
call CreateNUnitsAtLoc(1,'E00D',Player($F),GetRectCenter(gg_rct_Uchiha_Shisui),270.)
set udg_Hero2[1]=bj_lastCreatedUnit
call SetHeroLevelBJ(udg_Hero2[1],30,false)
call SetUnitManaPercentBJ(udg_Hero2[1],'d')
call UnitAddItemByIdSwapped('I025',udg_Hero2[1])
call UnitAddItemByIdSwapped('I01U',udg_Hero2[1])
call UnitAddItemByIdSwapped('I01S',udg_Hero2[1])
call CreateNUnitsAtLoc(1,'H020',Player($F),GetRectCenter(gg_rct_PeinResN),270.)
set udg_Hero2[2]=bj_lastCreatedUnit
call SetUnitManaPercentBJ(udg_Hero2[2],'d')
call CreateNUnitsAtLoc(1,'Udth',Player($F),GetRectCenter(gg_rct_PeinRes),180.)
set udg_Hero2[3]=bj_lastCreatedUnit
call SetUnitManaPercentBJ(udg_Hero2[3],'d')
call CreateNUnitsAtLoc(1,'Umal',Player($F),GetRectCenter(gg_rct_PeinRes2),180.)
set udg_Hero2[4]=bj_lastCreatedUnit
call SetUnitManaPercentBJ(udg_Hero2[4],'d')
call CreateNUnitsAtLoc(1,'Naka',Player($F),GetRectCenter(gg_rct_PeinRes3),180.)
set udg_Hero2[5]=bj_lastCreatedUnit
call SetUnitManaPercentBJ(udg_Hero2[5],'d')
call CreateNUnitsAtLoc(1,'Otch',Player($F),GetRectCenter(gg_rct_PeinRes5),.0)
set udg_Hero2[6]=bj_lastCreatedUnit
call SetUnitManaPercentBJ(udg_Hero2[6],'d')
call CreateNUnitsAtLoc(1,'Nbbc',Player($F),GetRectCenter(gg_rct_PeinRes4),.0)
set udg_Hero2[7]=bj_lastCreatedUnit
call SetUnitManaPercentBJ(udg_Hero2[7],'d')
call CreateNUnitsAtLoc(1,'H026',Player($C),GetRectCenter(gg_rct_Gl),.0)
set udg_Hero2[8]=bj_lastCreatedUnit
call SetUnitManaPercentBJ(udg_Hero2[8],'d')
call SetHeroLevelBJ(udg_Hero2[8],30,false)
call ModifyHeroStat(0,udg_Hero2[8],0,$C8)
call ModifyHeroStat(1,udg_Hero2[8],0,$C8)
call ModifyHeroStat(2,udg_Hero2[8],0,$C8)
call CreateNUnitsAtLoc(1,'nogl',Player($C),GetRectCenter(gg_rct_Barah_respawn),.0)
set udg_Hero2[86]=bj_lastCreatedUnit
call SetUnitManaPercentBJ(udg_Hero2[86],'d')
call CreateNUnitsAtLoc(1,'H018',Player($F),GetRectCenter(gg_rct_Madara_respawn),270.)
set udg_Hero2[87]=bj_lastCreatedUnit
call SetHeroLevelBJ(udg_Hero2[87],30,false)
call SetUnitManaPercentBJ(udg_Hero2[87],'d')
call CreateNUnitsAtLoc(1,'Udea',Player($C),GetRectCenter(gg_rct_KingakuN),130.)
set udg_Hero2[88]=bj_lastCreatedUnit
call SetHeroLevelBJ(udg_Hero2[88],30,false)
call UnitAddItemByIdSwapped('I00R',udg_Hero2[88])
call UnitAddItemByIdSwapped('I03K',udg_Hero2[88])
call TriggerRegisterUnitLifeEvent(gg_trg_G,udg_Hero2[88],LESS_THAN_OR_EQUAL,1000.)
call SetUnitManaPercentBJ(udg_Hero2[88],'d')
call CreateNUnitsAtLoc(1,'Ekee',Player($C),GetRectCenter(gg_rct_GinkakuN),130.)
set udg_Hero2[89]=bj_lastCreatedUnit
call SetHeroLevelBJ(udg_Hero2[89],30,false)
call UnitAddItemByIdSwapped('I03H',udg_Hero2[89])
call UnitAddItemByIdSwapped('I03J',udg_Hero2[89])
call TriggerRegisterUnitLifeEvent(gg_trg_K,udg_Hero2[89],LESS_THAN_OR_EQUAL,1000.)
call SetUnitManaPercentBJ(udg_Hero2[89],'d')
call CreateNUnitsAtLoc(1,'Efur',Player($F),GetRectCenter(gg_rct_Utaka),180.)
set udg_Hero2[90]=bj_lastCreatedUnit
call SetHeroLevelBJ(udg_Hero2[90],30,false)
call TriggerRegisterUnitLifeEvent(gg_trg_Six_tail_chakra,udg_Hero2[90],LESS_THAN_OR_EQUAL,1000.)
call SetUnitManaPercentBJ(udg_Hero2[90],'d')
call CreateNUnitsAtLoc(1,'Nbrn',Player($C),GetRectCenter(gg_rct_Hunter),180.)
set udg_Hero2[92]=bj_lastCreatedUnit
call SetHeroLevelBJ(udg_Hero2[92],30,false)
call UnitAddItemByIdSwapped('I01C',udg_Hero2[92])
call SetUnitManaPercentBJ(udg_Hero2[92],'d')
call CreateNUnitsAtLoc(1,'Osam',Player($C),GetRectCenter(gg_rct_Samuro),270.)
set udg_Hero2[93]=bj_lastCreatedUnit
call SetHeroLevelBJ(udg_Hero2[93],30,false)
call SetUnitManaPercentBJ(udg_Hero2[93],'d')
call CreateNUnitsAtLoc(1,'Nplh',Player($C),GetRectCenter(gg_rct_Abos),270.)
set udg_Hero2[94]=bj_lastCreatedUnit
call SetHeroLevelBJ(udg_Hero2[94],30,false)
call SetUnitManaPercentBJ(udg_Hero2[94],'d')
call UnitAddItemByIdSwapped('I02Y',udg_Hero2[94])
call CreateNUnitsAtLoc(1,'E002',Player($C),GetRectCenter(gg_rct_NinjaN),.0)
set udg_Hero2[95]=bj_lastCreatedUnit
call SetHeroLevelBJ(udg_Hero2[95],30,false)
call SetUnitManaPercentBJ(udg_Hero2[95],'d')
call CreateNUnitsAtLoc(1,'Nfir',Player($C),GetRectCenter(gg_rct_Village_Full),180.)
set udg_Hero2[96]=bj_lastCreatedUnit
call SetHeroLevelBJ(udg_Hero2[96],30,false)
call UnitAddItemByIdSwapped('I03I',udg_Hero2[96])
call SetUnitManaPercentBJ(udg_Hero2[96],'d')
call CreateNUnitsAtLoc(1,'Ubal',Player($C),GetRectCenter(gg_rct_Dreadlord),270.)
set udg_Hero2[97]=bj_lastCreatedUnit
call SetHeroLevelBJ(udg_Hero2[97],30,false)
call SetUnitManaPercentBJ(udg_Hero2[97],'d')
call CreateNUnitsAtLoc(1,'Hapm',Player(4),GetRectCenter(gg_rct_Tsunade_respawn),270.)
set udg_Hero2['i']=bj_lastCreatedUnit
call SetHeroLevelBJ(udg_Hero2['i'],30,false)
call SetUnitManaPercentBJ(udg_Hero2['i'],'d')
call UnitAddItemByIdSwapped('I032',udg_Hero2['i'])
endfunction
function InitTrig_init takes nothing returns nothing
set gg_trg_init=CreateTrigger()
call TriggerAddAction(gg_trg_init,function Trig_init_Actions)
endfunction
function Trig_init2_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call StopMusic(false)
call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,40,"Выберите быстрее! в течении 1 мин.")
call CreateQuestBJ(0,"|c00FF0303 Цели\\Задании|r","TRIGSTR_1740","ReplaceableTextures\\CommandButtons\\BTNMoonKey.blp")
call CreateQuestBJ(0,"|c00FFFC01 Обычные команд","TRIGSTR_022","ReplaceableTextures\\CommandButtons\\BTNGhostKey.blp")
call CreateQuestBJ(0,"|c00FF8000 Команды ботов","TRIGSTR_024","ReplaceableTextures\\CommandButtons\\BTNBloodKey.blp")
call CreateQuestBJ(2,"|c00FFFFFFБлагодарности","TRIGSTR_1166","ReplaceableTextures\\CommandButtons\\BTNSpasibo.blp")
call CreateQuestBJ(2,"|c00808080Вконтакте|r","Нашли баги или есть новые идеи пишите мы ответим на вашы вопросы: https://vk.com/newnarutoshippuuden","ReplaceableTextures\\CommandButtons\\BTNNew VK.blp")
call CreateNUnitsAtLoc(1,'H02X',Player($C),GetRectCenter(gg_rct_Kv_zmei),bj_UNIT_FACING)
call RemoveGuardPosition(bj_lastCreatedUnit)
set udg_DarkZetsu=bj_lastCreatedUnit
call SetHeroLevelBJ(udg_DarkZetsu,30,false)
call SetUnitManaPercentBJ(udg_DarkZetsu,'d')
call CreateNUnitsAtLoc(1,'nbdo',Player($F),GetRectCenter(gg_rct_Midare),225.)
call RemoveGuardPosition(bj_lastCreatedUnit)
set udg_Midare[1]=bj_lastCreatedUnit
call SetUnitInvulnerable(udg_Midare[1],true)
call CreateNUnitsAtLoc(1,'nbdo',Player($F),GetRectCenter(gg_rct_Midare2),200.)
call RemoveGuardPosition(bj_lastCreatedUnit)
set udg_Midare[2]=bj_lastCreatedUnit
call SetUnitInvulnerable(udg_Midare[2],true)
call CreateNUnitsAtLoc(1,'earc',Player(4),GetRectCenter(gg_rct_Sunasolaire),200.)
set udg_temari=bj_lastCreatedUnit
call SetPlayerStateBJ(Player(0),PLAYER_STATE_RESOURCE_GOLD,$3E8)
call SetPlayerStateBJ(Player(1),PLAYER_STATE_RESOURCE_GOLD,$3E8)
call SetPlayerStateBJ(Player(2),PLAYER_STATE_RESOURCE_GOLD,$3E8)
call SetPlayerStateBJ(Player(3),PLAYER_STATE_RESOURCE_GOLD,$3E8)
call SetPlayerStateBJ(Player(6),PLAYER_STATE_RESOURCE_GOLD,$3E8)
call SetPlayerStateBJ(Player(5),PLAYER_STATE_RESOURCE_GOLD,$3E8)
call SetPlayerStateBJ(Player(8),PLAYER_STATE_RESOURCE_GOLD,$3E8)
call SetPlayerStateBJ(Player(9),PLAYER_STATE_RESOURCE_GOLD,$3E8)
call SetPlayerStateBJ(Player($A),PLAYER_STATE_RESOURCE_GOLD,$3E8)
call SetPlayerAllianceStateBJ(Player(0),Player(1),3)
call SetPlayerAllianceStateBJ(Player(0),Player(2),3)
call SetPlayerAllianceStateBJ(Player(1),Player(0),3)
call SetPlayerAllianceStateBJ(Player(1),Player(2),3)
call SetPlayerAllianceStateBJ(Player(2),Player(0),3)
call SetPlayerAllianceStateBJ(Player(2),Player(1),3)
call SetPlayerAllianceStateBJ(Player(3),Player(5),3)
call SetPlayerAllianceStateBJ(Player(3),Player(6),3)
call SetPlayerAllianceStateBJ(Player(5),Player(3),3)
call SetPlayerAllianceStateBJ(Player(5),Player(6),3)
call SetPlayerAllianceStateBJ(Player(6),Player(3),3)
call SetPlayerAllianceStateBJ(Player(6),Player(5),3)
call SetPlayerAllianceStateBJ(Player(8),Player(9),3)
call SetPlayerAllianceStateBJ(Player(8),Player($A),3)
call SetPlayerAllianceStateBJ(Player(9),Player(8),3)
call SetPlayerAllianceStateBJ(Player(9),Player($A),3)
call SetPlayerAllianceStateBJ(Player($A),Player(8),3)
call SetPlayerAllianceStateBJ(Player($A),Player(9),3)
call AddSpecialEffectTargetUnitBJ("overhead",gg_unit_hrif_0187,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
set udg_Questeffects[1]=bj_lastCreatedEffect
call SetUnitInvulnerable(gg_unit_hrif_0187,true)
call AddSpecialEffectTargetUnitBJ("overhead",gg_unit_n00I_0237,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
set udg_Questeffects[2]=bj_lastCreatedEffect
call SetUnitInvulnerable(gg_unit_n00I_0237,true)
call AddSpecialEffectTargetUnitBJ("overhead",gg_unit_h00C_0141,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
set udg_Questeffects[3]=bj_lastCreatedEffect
call SetUnitInvulnerable(gg_unit_h00C_0141,true)
call AddSpecialEffectTargetUnitBJ("overhead",gg_unit_uktn_0235,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
set udg_Questeffects[4]=bj_lastCreatedEffect
call SetUnitInvulnerable(gg_unit_uktn_0235,true)
call SetUnitInvulnerable(gg_unit_nchg_0225,true)
call AddSpecialEffectTargetUnitBJ("overhead",gg_unit_nkob_0232,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
set udg_Questeffects[5]=bj_lastCreatedEffect
call SetUnitInvulnerable(gg_unit_nkob_0232,true)
call AddSpecialEffectTargetUnitBJ("overhead",gg_unit_nsgh_0222,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
set udg_Questeffects[6]=bj_lastCreatedEffect
call SetUnitInvulnerable(gg_unit_nsgh_0222,true)
call AddSpecialEffectTargetUnitBJ("overhead",gg_unit_nsrw_0223,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
set udg_Questeffects[7]=bj_lastCreatedEffect
call SetUnitInvulnerable(gg_unit_nsrw_0223,true)
call AddSpecialEffectTargetUnitBJ("overhead",gg_unit_ndrd_0224,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
set udg_Questeffects[8]=bj_lastCreatedEffect
call SetUnitInvulnerable(gg_unit_ndrh_0236,true)
call SetUnitInvulnerable(gg_unit_ndrd_0224,true)
call AddSpecialEffectTargetUnitBJ("overhead",gg_unit_n006_0208,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
set udg_Questeffects[9]=bj_lastCreatedEffect
call SetUnitInvulnerable(gg_unit_n006_0208,true)
call SetUnitInvulnerable(gg_unit_n008_0248,true)
call AddSpecialEffectTargetUnitBJ("overhead",gg_unit_n007_0207,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
set udg_Questeffects[$A]=bj_lastCreatedEffect
call SetUnitInvulnerable(gg_unit_n007_0207,true)
call SetUnitInvulnerable(gg_unit_n00T_0369,true)
call RemoveAllGuardPositions(Player(4))
call RemoveAllGuardPositions(Player(7))
call RemoveAllGuardPositions(Player($B))
call CreateItemLoc('I003',GetRandomLocInRect(gg_rct_World))
endfunction
function InitTrig_init2 takes nothing returns nothing
set gg_trg_init2=CreateTrigger()
call TriggerAddAction(gg_trg_init2,function Trig_init2_Actions)
endfunction
function Trig_Init_ai_3_Func003C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_Hvwd_0016)==Player($F))
endfunction
function Trig_Init_ai_3_Func004C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_Eill_0017)==Player($F))
endfunction
function Trig_Init_ai_3_Func005C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_Hpal_0034)==Player($F))
endfunction
function Trig_Init_ai_3_Func006C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_Harf_0004)==Player($F))
endfunction
function Trig_Init_ai_3_Func007C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_Udre_0022)==Player($F))
endfunction
function Trig_Init_ai_3_Func008C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_Uktl_0032)==Player($F))
endfunction
function Trig_Init_ai_3_Func009C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_Nmag_0027)==Player($F))
endfunction
function Trig_Init_ai_3_Func010C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_Hart_0019)==Player($F))
endfunction
function Trig_Init_ai_3_Func011C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_Emfr_0033)==Player($F))
endfunction
function Trig_Init_ai_3_Func012C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_Hmgd_0035)==Player($F))
endfunction
function Trig_Init_ai_3_Func013C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_Emoo_0031)==Player($F))
endfunction
function Trig_Init_ai_3_Func014C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_Obla_0014)==Player($F))
endfunction
function Trig_Init_ai_3_Func015C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_Hpb2_0015)==Player($F))
endfunction
function Trig_Init_ai_3_Func030C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_Hlgr_0029)==Player($F))
endfunction
function Trig_Init_ai_3_Func031C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_Ofar_0013)==Player($F))
endfunction
function Trig_Init_ai_3_Func032C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_Hkal_0020)==Player($F))
endfunction
function Trig_Init_ai_3_Func033C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_Edem_0023)==Player($F))
endfunction
function Trig_Init_ai_3_Func034C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_Hgam_0030)==Player($F))
endfunction
function Trig_Init_ai_3_Func035C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_Hant_0028)==Player($F))
endfunction
function Trig_Init_ai_3_Func048C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_Hamg_0024)==Player($F))
endfunction
function Trig_Init_ai_3_Func049C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_E006_0036)==Player($F))
endfunction
function Trig_Init_ai_3_Func050C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_Hblm_0025)==Player($F))
endfunction
function Trig_Init_ai_3_Func051C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_Hpb1_0026)==Player($F))
endfunction
function Trig_Init_ai_3_Func052C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_Hhkl_0021)==Player($F))
endfunction
function Trig_Init_ai_3_Func053C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_Huth_0018)==Player($F))
endfunction
function Trig_Init_ai_3_Func075A takes nothing returns nothing
call ResetToGameCameraForPlayer(GetEnumPlayer(),0)
endfunction
function Trig_Init_ai_3_Actions takes nothing returns nothing
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"Start AI")
call DisableTrigger(GetTriggeringTrigger())
if(Trig_Init_ai_3_Func003C())then
call SetUnitOwner(gg_unit_Hvwd_0016,Player(4),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hvwd_0016,GetRectCenter(gg_rct_Team_Kakashi),.0)
call UnitAddItemByIdSwapped('I01Z',gg_unit_Hvwd_0016)
call UnitAddItemByIdSwapped('I01S',gg_unit_Hvwd_0016)
call UnitAddItemByIdSwapped('I01R',gg_unit_Hvwd_0016)
call EnableTrigger(gg_trg_Sakura_move)
endif
if(Trig_Init_ai_3_Func004C())then
call SetUnitOwner(gg_unit_Eill_0017,Player(4),true)
call SetUnitPositionLocFacingBJ(gg_unit_Eill_0017,GetRectCenter(gg_rct_Team_Kakashi),.0)
call UnitAddItemByIdSwapped('I01C',gg_unit_Eill_0017)
call UnitAddItemByIdSwapped('I01Z',gg_unit_Eill_0017)
call UnitAddItemByIdSwapped('I01S',gg_unit_Eill_0017)
call UnitAddItemByIdSwapped('I01U',gg_unit_Eill_0017)
call EnableTrigger(gg_trg_Say_move)
endif
if(Trig_Init_ai_3_Func005C())then
call SetUnitOwner(gg_unit_Hpal_0034,Player(4),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hpal_0034,GetRectCenter(gg_rct_Team_Kakashi),.0)
call UnitAddItemByIdSwapped('I032',gg_unit_Hpal_0034)
call UnitAddItemByIdSwapped('I01T',gg_unit_Hpal_0034)
call UnitAddItemByIdSwapped('I01S',gg_unit_Hpal_0034)
call UnitAddItemByIdSwapped('I01R',gg_unit_Hpal_0034)
call EnableTrigger(gg_trg_Naruto_move)
call EnableTrigger(gg_trg_Nine_tail_chakra)
endif
if(Trig_Init_ai_3_Func006C())then
call SetUnitOwner(gg_unit_Harf_0004,Player(4),true)
call SetUnitPositionLocFacingBJ(gg_unit_Harf_0004,GetRectCenter(gg_rct_Team_Kakashi),.0)
call UnitAddItemByIdSwapped('I02P',gg_unit_Harf_0004)
call UnitAddItemByIdSwapped('I025',gg_unit_Harf_0004)
call UnitAddItemByIdSwapped('I020',gg_unit_Harf_0004)
call UnitAddItemByIdSwapped('I01S',gg_unit_Harf_0004)
call UnitAddItemByIdSwapped('I01U',gg_unit_Harf_0004)
call EnableTrigger(gg_trg_Kakashi_move)
endif
if(Trig_Init_ai_3_Func007C())then
call SetUnitOwner(gg_unit_Udre_0022,Player(4),true)
call SetUnitPositionLocFacingBJ(gg_unit_Udre_0022,GetRectCenter(gg_rct_Team_Danzo_2),270.)
call SetHeroLevelBJ(gg_unit_Udre_0022,30,false)
call UnitAddItemByIdSwapped('I025',gg_unit_Udre_0022)
call UnitAddItemByIdSwapped('I01S',gg_unit_Udre_0022)
call UnitAddItemByIdSwapped('I01R',gg_unit_Udre_0022)
call EnableTrigger(gg_trg_Danzo_move)
endif
if(Trig_Init_ai_3_Func008C())then
call SetUnitOwner(gg_unit_Uktl_0032,Player(4),true)
endif
if(Trig_Init_ai_3_Func009C())then
call SetUnitOwner(gg_unit_Nmag_0027,Player(4),true)
call SetUnitPositionLocFacingBJ(gg_unit_Nmag_0027,GetRectCenter(gg_rct_Rai_respawn),270.)
call SetHeroLevelBJ(gg_unit_Nmag_0027,30,false)
call UnitAddItemByIdSwapped('I01M',gg_unit_Nmag_0027)
call UnitAddItemByIdSwapped('I02P',gg_unit_Nmag_0027)
call UnitAddItemByIdSwapped('I01S',gg_unit_Nmag_0027)
call UnitAddItemByIdSwapped('I01R',gg_unit_Nmag_0027)
call EnableTrigger(gg_trg_Ray_move)
endif
if(Trig_Init_ai_3_Func010C())then
call SetUnitOwner(gg_unit_Hart_0019,Player(4),true)
endif
if(Trig_Init_ai_3_Func011C())then
call SetUnitOwner(gg_unit_Emfr_0033,Player(4),true)
call SetUnitPositionLocFacingBJ(gg_unit_Emfr_0033,GetRectCenter(gg_rct_Gaara_respawn),215.)
call SetHeroLevelBJ(gg_unit_Emfr_0033,30,false)
call UnitAddItemByIdSwapped('I01M',gg_unit_Emfr_0033)
call UnitAddItemByIdSwapped('I02P',gg_unit_Emfr_0033)
call UnitAddItemByIdSwapped('I01S',gg_unit_Emfr_0033)
call UnitAddItemByIdSwapped('I01V',gg_unit_Emfr_0033)
call EnableTrigger(gg_trg_One_tail_chakra)
call EnableTrigger(gg_trg_Gaara)
call EnableTrigger(gg_trg_Gaara_Enters)
call EnableTrigger(gg_trg_Gaara_Dying)
endif
if(Trig_Init_ai_3_Func012C())then
call SetUnitOwner(gg_unit_Hmgd_0035,Player(4),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hmgd_0035,GetRectCenter(gg_rct_Team_Gai_2),270.)
call UnitAddItemByIdSwapped('I020',gg_unit_Hmgd_0035)
call UnitAddItemByIdSwapped('I01S',gg_unit_Hmgd_0035)
call UnitAddItemByIdSwapped('I01U',gg_unit_Hmgd_0035)
call EnableTrigger(gg_trg_Neji_move)
endif
if(Trig_Init_ai_3_Func013C())then
call SetUnitOwner(gg_unit_Emoo_0031,Player(4),true)
call SetUnitPositionLocFacingBJ(gg_unit_Emoo_0031,GetRectCenter(gg_rct_Team_Gai_2),270.)
call UnitAddItemByIdSwapped('I01Z',gg_unit_Emoo_0031)
call UnitAddItemByIdSwapped('I01S',gg_unit_Emoo_0031)
call UnitAddItemByIdSwapped('I01U',gg_unit_Emoo_0031)
call EnableTrigger(gg_trg_Ten_move)
endif
if(Trig_Init_ai_3_Func014C())then
call SetUnitOwner(gg_unit_Obla_0014,Player(4),true)
call SetUnitPositionLocFacingBJ(gg_unit_Obla_0014,GetRectCenter(gg_rct_Team_Gai_2),270.)
call UnitAddItemByIdSwapped('I01Z',gg_unit_Obla_0014)
call UnitAddItemByIdSwapped('I01S',gg_unit_Obla_0014)
call UnitAddItemByIdSwapped('I01U',gg_unit_Obla_0014)
call EnableTrigger(gg_trg_Lee_move)
endif
if(Trig_Init_ai_3_Func015C())then
call SetUnitOwner(gg_unit_Hpb2_0015,Player(4),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hpb2_0015,GetRectCenter(gg_rct_Team_Gai_2),270.)
call UnitAddItemByIdSwapped('I02P',gg_unit_Hpb2_0015)
call UnitAddItemByIdSwapped('I020',gg_unit_Hpb2_0015)
call UnitAddItemByIdSwapped('I01S',gg_unit_Hpb2_0015)
call UnitAddItemByIdSwapped('I01R',gg_unit_Hpb2_0015)
call EnableTrigger(gg_trg_Gay_move)
endif
call DisableTrigger(gg_trg_Initialization)
call DisableTrigger(gg_trg_Player_1_left)
call DisableTrigger(gg_trg_Player_1_right)
call DisableTrigger(gg_trg_Player_1_Camera)
call DisableTrigger(gg_trg_Player_1_Setup)
call DisableTrigger(gg_trg_Player_2_left)
call DisableTrigger(gg_trg_Player_2_right)
call DisableTrigger(gg_trg_Player_2_Camera)
call DisableTrigger(gg_trg_Player_2_Setup)
call DisableTrigger(gg_trg_Player_3_left)
call DisableTrigger(gg_trg_Player_3_right)
call DisableTrigger(gg_trg_Player_3_Camera)
call DisableTrigger(gg_trg_Player_3_Setup)
if(Trig_Init_ai_3_Func030C())then
call SetUnitOwner(gg_unit_Hlgr_0029,Player(7),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hlgr_0029,GetRectCenter(gg_rct_Juugo_respawn),270.)
call UnitAddItemByIdSwapped('I01Z',gg_unit_Hlgr_0029)
call UnitAddItemByIdSwapped('I01F',gg_unit_Hlgr_0029)
call UnitAddItemByIdSwapped('I01S',gg_unit_Hlgr_0029)
call UnitAddItemByIdSwapped('I01R',gg_unit_Hlgr_0029)
call EnableTrigger(gg_trg_Djugo_move)
endif
if(Trig_Init_ai_3_Func031C())then
call SetUnitOwner(gg_unit_Ofar_0013,Player(7),true)
call SetUnitPositionLocFacingBJ(gg_unit_Ofar_0013,GetRectCenter(gg_rct_Suigetsu_respawn),270.)
call UnitAddItemByIdSwapped('I01Z',gg_unit_Ofar_0013)
call UnitAddItemByIdSwapped('I01F',gg_unit_Ofar_0013)
call UnitAddItemByIdSwapped('I01S',gg_unit_Ofar_0013)
call UnitAddItemByIdSwapped('I01R',gg_unit_Ofar_0013)
call EnableTrigger(gg_trg_Suygetsu_move)
endif
if(Trig_Init_ai_3_Func032C())then
call SetUnitOwner(gg_unit_Hkal_0020,Player(7),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hkal_0020,GetRectCenter(gg_rct_Karin_respawn),270.)
call UnitAddItemByIdSwapped('I01Z',gg_unit_Hkal_0020)
call UnitAddItemByIdSwapped('I01F',gg_unit_Hkal_0020)
call UnitAddItemByIdSwapped('I01S',gg_unit_Hkal_0020)
call UnitAddItemByIdSwapped('I01R',gg_unit_Hkal_0020)
call EnableTrigger(gg_trg_Karin_move)
endif
if(Trig_Init_ai_3_Func033C())then
call SetUnitOwner(gg_unit_Edem_0023,Player(7),true)
call SetUnitPositionLocFacingBJ(gg_unit_Edem_0023,GetRectCenter(gg_rct_Sasuke_respawn),270.)
call UnitAddItemByIdSwapped('I01Z',gg_unit_Edem_0023)
call UnitAddItemByIdSwapped('I01F',gg_unit_Edem_0023)
call UnitAddItemByIdSwapped('I02P',gg_unit_Edem_0023)
call UnitAddItemByIdSwapped('I01S',gg_unit_Edem_0023)
call UnitAddItemByIdSwapped('I01U',gg_unit_Edem_0023)
call EnableTrigger(gg_trg_Sasuke_move)
call EnableTrigger(gg_trg_Sasuke_Itachi_kv)
endif
if(Trig_Init_ai_3_Func034C())then
call SetUnitOwner(gg_unit_Hgam_0030,Player(7),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hgam_0030,GetRectCenter(gg_rct_Snake_crew),.0)
call UnitAddItemByIdSwapped('I02P',gg_unit_Hgam_0030)
call UnitAddItemByIdSwapped('I01T',gg_unit_Hgam_0030)
call UnitAddItemByIdSwapped('I025',gg_unit_Hgam_0030)
call UnitAddItemByIdSwapped('I01S',gg_unit_Hgam_0030)
call UnitAddItemByIdSwapped('I01V',gg_unit_Hgam_0030)
call EnableTrigger(gg_trg_Kabuto_move)
endif
if(Trig_Init_ai_3_Func035C())then
call SetUnitOwner(gg_unit_Hant_0028,Player(7),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hant_0028,GetRectCenter(gg_rct_Snake_crew),.0)
call SetHeroLevelBJ(gg_unit_Hant_0028,30,false)
call UnitAddItemByIdSwapped('I01D',gg_unit_Hant_0028)
call UnitAddItemByIdSwapped('I026',gg_unit_Hant_0028)
call UnitAddItemByIdSwapped('I02P',gg_unit_Hant_0028)
call UnitAddItemByIdSwapped('I01S',gg_unit_Hant_0028)
call UnitAddItemByIdSwapped('I02Q',gg_unit_Hant_0028)
call EnableTrigger(gg_trg_Orachimaru_move)
endif
call DisableTrigger(gg_trg_Player_4_left)
call DisableTrigger(gg_trg_Player_4_right)
call DisableTrigger(gg_trg_Player_4_Camera)
call DisableTrigger(gg_trg_Player_4_Setup)
call DisableTrigger(gg_trg_Player_5_left)
call DisableTrigger(gg_trg_Player_5_right)
call DisableTrigger(gg_trg_Player_5_Camera)
call DisableTrigger(gg_trg_Player_5_Setup)
call DisableTrigger(gg_trg_Player_6_left)
call DisableTrigger(gg_trg_Player_6_right)
call DisableTrigger(gg_trg_Player_6_Camera)
call DisableTrigger(gg_trg_Player_6_Setup)
if(Trig_Init_ai_3_Func048C())then
call SetUnitOwner(gg_unit_Hamg_0024,Player($B),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hamg_0024,GetRectCenter(gg_rct_Deidara_tobi),270.)
call UnitAddItemByIdSwapped('I01O',gg_unit_Hamg_0024)
call UnitAddItemByIdSwapped('I026',gg_unit_Hamg_0024)
call UnitAddItemByIdSwapped('I01S',gg_unit_Hamg_0024)
call UnitAddItemByIdSwapped('I01V',gg_unit_Hamg_0024)
call EnableTrigger(gg_trg_Daydara_move)
endif
if(Trig_Init_ai_3_Func049C())then
call SetUnitOwner(gg_unit_E006_0036,Player($B),true)
call SetUnitPositionLocFacingBJ(gg_unit_E006_0036,GetRectCenter(gg_rct_Deidara_tobi),270.)
call UnitAddItemByIdSwapped('I01O',gg_unit_E006_0036)
call UnitAddItemByIdSwapped('I026',gg_unit_E006_0036)
call UnitAddItemByIdSwapped('I01S',gg_unit_E006_0036)
call UnitAddItemByIdSwapped('I01V',gg_unit_E006_0036)
call EnableTrigger(gg_trg_Sasori_move)
endif
if(Trig_Init_ai_3_Func050C())then
call SetUnitOwner(gg_unit_Hblm_0025,Player($B),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hblm_0025,GetRectCenter(gg_rct_Itachi_Kisame),90.)
call UnitAddItemByIdSwapped('I01O',gg_unit_Hblm_0025)
call UnitAddItemByIdSwapped('I026',gg_unit_Hblm_0025)
call UnitAddItemByIdSwapped('I01S',gg_unit_Hblm_0025)
call UnitAddItemByIdSwapped('I01V',gg_unit_Hblm_0025)
call EnableTrigger(gg_trg_Itachi_move)
endif
if(Trig_Init_ai_3_Func051C())then
call SetUnitOwner(gg_unit_Hpb1_0026,Player($B),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hpb1_0026,GetRectCenter(gg_rct_Itachi_Kisame),90.)
call UnitAddItemByIdSwapped('I01O',gg_unit_Hpb1_0026)
call UnitAddItemByIdSwapped('I026',gg_unit_Hpb1_0026)
call UnitAddItemByIdSwapped('I01S',gg_unit_Hpb1_0026)
call UnitAddItemByIdSwapped('I01R',gg_unit_Hpb1_0026)
call EnableTrigger(gg_trg_Kisame_move)
endif
if(Trig_Init_ai_3_Func052C())then
call SetUnitOwner(gg_unit_Hhkl_0021,Player($B),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hhkl_0021,GetRectCenter(gg_rct_Pain_Respawn),180.)
call SetUnitOwner(udg_Hero2[2],Player($B),true)
call SetUnitOwner(udg_Hero2[3],Player($B),true)
call SetUnitOwner(udg_Hero2[4],Player($B),true)
call SetUnitOwner(udg_Hero2[5],Player($B),true)
call SetUnitOwner(udg_Hero2[6],Player($B),true)
call SetUnitOwner(udg_Hero2[7],Player($B),true)
call SetHeroLevelBJ(gg_unit_Hhkl_0021,30,false)
call UnitAddItemByIdSwapped('I01O',gg_unit_Hhkl_0021)
call UnitAddItemByIdSwapped('I026',gg_unit_Hhkl_0021)
call UnitAddItemByIdSwapped('I01S',gg_unit_Hhkl_0021)
call UnitAddItemByIdSwapped('I02Q',gg_unit_Hhkl_0021)
call SetHeroLevelBJ(udg_Hero2[2],30,false)
call UnitAddItemByIdSwapped('I01O',udg_Hero2[2])
call UnitAddItemByIdSwapped('I026',udg_Hero2[2])
call UnitAddItemByIdSwapped('I01S',udg_Hero2[2])
call UnitAddItemByIdSwapped('I02Q',udg_Hero2[2])
call SetHeroLevelBJ(udg_Hero2[3],30,false)
call UnitAddItemByIdSwapped('I01O',udg_Hero2[3])
call UnitAddItemByIdSwapped('I026',udg_Hero2[3])
call UnitAddItemByIdSwapped('I01S',udg_Hero2[3])
call UnitAddItemByIdSwapped('I02Q',udg_Hero2[3])
call SetHeroLevelBJ(udg_Hero2[4],30,false)
call UnitAddItemByIdSwapped('I01O',udg_Hero2[4])
call UnitAddItemByIdSwapped('I026',udg_Hero2[4])
call UnitAddItemByIdSwapped('I01S',udg_Hero2[4])
call UnitAddItemByIdSwapped('I02Q',udg_Hero2[4])
call SetHeroLevelBJ(udg_Hero2[5],30,false)
call UnitAddItemByIdSwapped('I01O',udg_Hero2[5])
call UnitAddItemByIdSwapped('I026',udg_Hero2[5])
call UnitAddItemByIdSwapped('I01S',udg_Hero2[5])
call UnitAddItemByIdSwapped('I02Q',udg_Hero2[5])
call SetHeroLevelBJ(udg_Hero2[6],30,false)
call UnitAddItemByIdSwapped('I01O',udg_Hero2[6])
call UnitAddItemByIdSwapped('I026',udg_Hero2[6])
call UnitAddItemByIdSwapped('I01S',udg_Hero2[6])
call UnitAddItemByIdSwapped('I02Q',udg_Hero2[6])
call SetHeroLevelBJ(udg_Hero2[7],30,false)
call UnitAddItemByIdSwapped('I01O',udg_Hero2[7])
call UnitAddItemByIdSwapped('I026',udg_Hero2[7])
call UnitAddItemByIdSwapped('I01S',udg_Hero2[7])
call UnitAddItemByIdSwapped('I02Q',udg_Hero2[7])
endif
if(Trig_Init_ai_3_Func053C())then
call SetUnitOwner(gg_unit_Huth_0018,Player($B),true)
call SetUnitPositionLocFacingBJ(gg_unit_Huth_0018,GetRectCenter(gg_rct_Revive_Akatsuki),270.)
call UnitAddItemByIdSwapped('I01O',gg_unit_Huth_0018)
call UnitAddItemByIdSwapped('I026',gg_unit_Huth_0018)
call UnitAddItemByIdSwapped('I02P',gg_unit_Huth_0018)
call UnitAddItemByIdSwapped('I01S',gg_unit_Huth_0018)
call UnitAddItemByIdSwapped('I01U',gg_unit_Huth_0018)
call SetHeroLevelBJ(gg_unit_Huth_0018,30,false)
call EnableTrigger(gg_trg_Tobi_move)
call EnableTrigger(gg_trg_TobiRinnegan_kv)
endif
call DisableTrigger(gg_trg_Player_7_left)
call DisableTrigger(gg_trg_Player_7_right)
call DisableTrigger(gg_trg_Player_7_Camera)
call DisableTrigger(gg_trg_Player_7_Setup)
call DisableTrigger(gg_trg_Player_8_left)
call DisableTrigger(gg_trg_Player_8_right)
call DisableTrigger(gg_trg_Player_8_Camera)
call DisableTrigger(gg_trg_Player_8_Setup)
call DisableTrigger(gg_trg_Player_9_left)
call DisableTrigger(gg_trg_Player_9_right)
call DisableTrigger(gg_trg_Player_9_Camera)
call DisableTrigger(gg_trg_Player_9_Setup)
call CreateTextTagLocBJ("Песок",GetRectCenter(gg_rct_Sunagakure),0,14.,'d','d','d',0)
call CreateTextTagLocBJ("Коноха",GetRectCenter(gg_rct_Konohagakure),0,14.,'d','d','d',0)
call CreateTextTagLocBJ("Дождя",GetRectCenter(gg_rct_Rain_city),0,14.,'d','d','d',0)
call CreateTextTagLocBJ("Долина Завершения",GetRectCenter(gg_rct_Valley_of_the_End),0,14.,'d','d','d',0)
call CreateTextTagLocBJ("Убежища Учиха",GetRectCenter(gg_rct_Sasuke_Itachi),0,14.,'d','d','d',0)
call CreateTextTagLocBJ("Башня Рош",GetRectCenter(gg_rct_Roshs_tower),0,14.,'d','d','d',0)
call CreateTextTagLocBJ("Семь Шиноби-Мечников Тумана",GetRectCenter(gg_rct_Bossshield),0,14.,'d','d','d',0)
call EnableTrigger(gg_trg_Midare_1)
call EnableTrigger(gg_trg_Midare_2)
call ForForce(bj_FORCE_ALL_PLAYERS,function Trig_Init_ai_3_Func075A)
endfunction
function InitTrig_Init_ai_3 takes nothing returns nothing
set gg_trg_Init_ai_3=CreateTrigger()
call TriggerRegisterTimerEventSingle(gg_trg_Init_ai_3,59.)
call TriggerAddAction(gg_trg_Init_ai_3,function Trig_Init_ai_3_Actions)
endfunction
function Trig_time takes nothing returns nothing
call SetPlayerState(GetEnumPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED,GetPlayerState(GetEnumPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED)+1)
endfunction
function Trig_time_Actions takes nothing returns nothing
call ForForce(bj_FORCE_ALL_PLAYERS,function Trig_time)
endfunction
function InitTrig_time takes nothing returns nothing
set gg_trg_time=CreateTrigger()
call TriggerRegisterTimerEvent(gg_trg_time,1.,true)
call TriggerAddAction(gg_trg_time,function Trig_time_Actions)
endfunction
function Trig_time2 takes nothing returns nothing
call SetPlayerState(GetEnumPlayer(),PLAYER_STATE_RESOURCE_FOOD_USED,0)
call SetPlayerState(GetEnumPlayer(),PLAYER_STATE_RESOURCE_FOOD_CAP,GetPlayerState(GetEnumPlayer(),PLAYER_STATE_RESOURCE_FOOD_CAP)+1)
endfunction
function Trig_time2_Actions takes nothing returns nothing
call ForForce(bj_FORCE_ALL_PLAYERS,function Trig_time2)
endfunction
function InitTrig_time2 takes nothing returns nothing
set gg_trg_time2=CreateTrigger()
call TriggerRegisterTimerEvent(gg_trg_time2,59.,true)
call TriggerAddAction(gg_trg_time2,function Trig_time2_Actions)
endfunction
function Trig_Item_level_Conditions takes nothing returns boolean
return(GetItemTypeId(GetSoldItem())=='I02W')
endfunction
function Trig_Item_level_Func001C takes nothing returns boolean
return(GetHeroLevel(GetBuyingUnit())==30)
endfunction
function Trig_Item_level_Actions takes nothing returns nothing
if(Trig_Item_level_Func001C())then
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(GetBuyingUnit())),1,"                                                    |cffffcc00Герой достиг максимального уровня!")
call RemoveItem(GetSoldItem())
else
call SetHeroLevelBJ(GetBuyingUnit(),(GetHeroLevel(GetBuyingUnit())+1),true)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"Abilities\\Spells\\Other\\Levelup\\LevelupCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endif
endfunction
function InitTrig_Item_level takes nothing returns nothing
set gg_trg_Item_level=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Item_level,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(gg_trg_Item_level,Condition(function Trig_Item_level_Conditions))
call TriggerAddAction(gg_trg_Item_level,function Trig_Item_level_Actions)
endfunction
function Trig_Board_Refresh_Func003001001 takes nothing returns boolean
return(GetPlayerController(GetFilterPlayer())==MAP_CONTROL_USER)
endfunction
function Trig_Board_Refresh_Func003A takes nothing returns nothing
call MultiboardSetItemValueBJ(udg_leaderboard,2,udg_int,GetPlayerName(GetEnumPlayer()))
call MultiboardSetItemValueBJ(udg_leaderboard,3,udg_int,I2S(udg_kill_count[(1+GetPlayerId(GetEnumPlayer()))]))
call MultiboardSetItemValueBJ(udg_leaderboard,4,udg_int,I2S(udg_death_count[(1+GetPlayerId(GetEnumPlayer()))]))
set udg_int=(udg_int+1)
endfunction
function Trig_Board_Refresh_Actions takes nothing returns nothing
set udg_leader_refresh_int=2
set udg_int=2
call ForForce(GetPlayersMatching(Condition(function Trig_Board_Refresh_Func003001001)),function Trig_Board_Refresh_Func003A)
endfunction
function InitTrig_Board_Refresh takes nothing returns nothing
set gg_trg_Board_Refresh=CreateTrigger()
call DisableTrigger(gg_trg_Board_Refresh)
call TriggerRegisterTimerEventPeriodic(gg_trg_Board_Refresh,.4)
call TriggerAddAction(gg_trg_Board_Refresh,function Trig_Board_Refresh_Actions)
endfunction
function Trig_Create_Leaderboard_Func003001001 takes nothing returns boolean
return(GetPlayerController(GetFilterPlayer())==MAP_CONTROL_USER)
endfunction
function Trig_Create_Leaderboard_Func003A takes nothing returns nothing
set udg_int=(udg_int+1)
endfunction
function Trig_Create_Leaderboard_Func022001001 takes nothing returns boolean
return(GetPlayerController(GetFilterPlayer())==MAP_CONTROL_USER)
endfunction
function Trig_Create_Leaderboard_Func022Func004Func002Func002Func002Func002Func002Func002Func002Func002Func001C takes nothing returns boolean
return(GetPlayerController(Player($A))==MAP_CONTROL_USER)and(GetEnumPlayer()==Player($A))
endfunction
function Trig_Create_Leaderboard_Func022Func004Func002Func002Func002Func002Func002Func002Func002Func002C takes nothing returns boolean
return(Trig_Create_Leaderboard_Func022Func004Func002Func002Func002Func002Func002Func002Func002Func002Func001C())
endfunction
function Trig_Create_Leaderboard_Func022Func004Func002Func002Func002Func002Func002Func002Func002C takes nothing returns boolean
return(GetEnumPlayer()==Player(9))
endfunction
function Trig_Create_Leaderboard_Func022Func004Func002Func002Func002Func002Func002Func002C takes nothing returns boolean
return(GetEnumPlayer()==Player(8))
endfunction
function Trig_Create_Leaderboard_Func022Func004Func002Func002Func002Func002Func002C takes nothing returns boolean
return(GetEnumPlayer()==Player(6))
endfunction
function Trig_Create_Leaderboard_Func022Func004Func002Func002Func002Func002C takes nothing returns boolean
return(GetEnumPlayer()==Player(5))
endfunction
function Trig_Create_Leaderboard_Func022Func004Func002Func002Func002C takes nothing returns boolean
return(GetEnumPlayer()==Player(3))
endfunction
function Trig_Create_Leaderboard_Func022Func004Func002Func002C takes nothing returns boolean
return(GetEnumPlayer()==Player(2))
endfunction
function Trig_Create_Leaderboard_Func022Func004Func002C takes nothing returns boolean
return(GetEnumPlayer()==Player(1))
endfunction
function Trig_Create_Leaderboard_Func022Func004C takes nothing returns boolean
return(GetEnumPlayer()==Player(0))
endfunction
function Trig_Create_Leaderboard_Func022A takes nothing returns nothing
call MultiboardSetItemValueBJ(udg_leaderboard,2,udg_int,GetPlayerName(GetEnumPlayer()))
call MultiboardSetItemValueBJ(udg_leaderboard,3,udg_int,I2S(udg_kill_count[(1+GetPlayerId(GetEnumPlayer()))]))
call MultiboardSetItemValueBJ(udg_leaderboard,4,udg_int,I2S(udg_death_count[(1+GetPlayerId(GetEnumPlayer()))]))
if(Trig_Create_Leaderboard_Func022Func004C())then
call MultiboardSetItemIconBJ(bj_lastCreatedMultiboard,1,udg_int,"ReplaceableTextures\\WorldEditUI\\Editor-Random-Unit.blp")
call MultiboardSetItemColorBJ(bj_lastCreatedMultiboard,2,udg_int,'d',20.,20.,0)
set udg_icon_row[(1+GetPlayerId(GetEnumPlayer()))]=udg_int
else
if(Trig_Create_Leaderboard_Func022Func004Func002C())then
call MultiboardSetItemIconBJ(bj_lastCreatedMultiboard,1,udg_int,"ReplaceableTextures\\WorldEditUI\\Editor-Random-Unit.blp")
call MultiboardSetItemColorBJ(bj_lastCreatedMultiboard,2,udg_int,20.,20.,100.,0)
set udg_icon_row[(1+GetPlayerId(GetEnumPlayer()))]=udg_int
else
if(Trig_Create_Leaderboard_Func022Func004Func002Func002C())then
call MultiboardSetItemIconBJ(bj_lastCreatedMultiboard,1,udg_int,"ReplaceableTextures\\WorldEditUI\\Editor-Random-Unit.blp")
call MultiboardSetItemColorBJ(bj_lastCreatedMultiboard,2,udg_int,20.,100.,100.,0)
set udg_icon_row[(1+GetPlayerId(GetEnumPlayer()))]=udg_int
else
if(Trig_Create_Leaderboard_Func022Func004Func002Func002Func002C())then
call MultiboardSetItemIconBJ(bj_lastCreatedMultiboard,1,udg_int,"ReplaceableTextures\\WorldEditUI\\Editor-Random-Unit.blp")
call MultiboardSetItemColorBJ(bj_lastCreatedMultiboard,2,udg_int,50.,20.,100.,0)
set udg_icon_row[(1+GetPlayerId(GetEnumPlayer()))]=udg_int
else
if(Trig_Create_Leaderboard_Func022Func004Func002Func002Func002Func002C())then
call MultiboardSetItemIconBJ(bj_lastCreatedMultiboard,1,udg_int,"ReplaceableTextures\\WorldEditUI\\Editor-Random-Unit.blp")
call MultiboardSetItemColorBJ(bj_lastCreatedMultiboard,2,udg_int,100.,50.,20.,0)
set udg_icon_row[(1+GetPlayerId(GetEnumPlayer()))]=udg_int
else
if(Trig_Create_Leaderboard_Func022Func004Func002Func002Func002Func002Func002C())then
call MultiboardSetItemIconBJ(bj_lastCreatedMultiboard,1,udg_int,"ReplaceableTextures\\WorldEditUI\\Editor-Random-Unit.blp")
call MultiboardSetItemColorBJ(bj_lastCreatedMultiboard,2,udg_int,20.,100.,20.,0)
set udg_icon_row[(1+GetPlayerId(GetEnumPlayer()))]=udg_int
else
if(Trig_Create_Leaderboard_Func022Func004Func002Func002Func002Func002Func002Func002C())then
call MultiboardSetItemIconBJ(bj_lastCreatedMultiboard,1,udg_int,"ReplaceableTextures\\WorldEditUI\\Editor-Random-Unit.blp")
call MultiboardSetItemColorBJ(bj_lastCreatedMultiboard,2,udg_int,50.,50.,50.,0)
set udg_icon_row[(1+GetPlayerId(GetEnumPlayer()))]=udg_int
else
if(Trig_Create_Leaderboard_Func022Func004Func002Func002Func002Func002Func002Func002Func002C())then
call MultiboardSetItemIconBJ(bj_lastCreatedMultiboard,1,udg_int,"ReplaceableTextures\\WorldEditUI\\Editor-Random-Unit.blp")
call MultiboardSetItemColorBJ(bj_lastCreatedMultiboard,2,udg_int,100.,70.,50.,0)
set udg_icon_row[(1+GetPlayerId(GetEnumPlayer()))]=udg_int
else
if(Trig_Create_Leaderboard_Func022Func004Func002Func002Func002Func002Func002Func002Func002Func002C())then
call MultiboardSetItemIconBJ(bj_lastCreatedMultiboard,1,udg_int,"ReplaceableTextures\\WorldEditUI\\Editor-Random-Unit.blp")
call MultiboardSetItemColorBJ(bj_lastCreatedMultiboard,2,udg_int,50.,70.,20.,0)
set udg_icon_row[(1+GetPlayerId(GetEnumPlayer()))]=udg_int
endif
endif
endif
endif
endif
endif
endif
endif
endif
call MultiboardSetItemWidthBJ(udg_leaderboard,1,udg_int,1.5)
call MultiboardSetItemWidthBJ(udg_leaderboard,2,udg_int,10.)
call MultiboardSetItemWidthBJ(udg_leaderboard,3,udg_int,4.)
call MultiboardSetItemWidthBJ(udg_leaderboard,4,udg_int,5.)
call MultiboardSetItemStyleBJ(udg_leaderboard,1,udg_int,false,true)
call MultiboardSetItemStyleBJ(udg_leaderboard,2,udg_int,true,false)
call MultiboardSetItemStyleBJ(udg_leaderboard,3,udg_int,true,false)
call MultiboardSetItemStyleBJ(udg_leaderboard,4,udg_int,true,false)
set udg_int=(udg_int+1)
endfunction
function Trig_Create_Leaderboard_Actions takes nothing returns nothing
set udg_int=0
call ForForce(GetPlayersMatching(Condition(function Trig_Create_Leaderboard_Func003001001)),function Trig_Create_Leaderboard_Func003A)
call CreateMultiboardBJ(4,(udg_int+1),"Список лидеров")
call MultiboardDisplay(udg_leaderboard,false)
set udg_leaderboard=bj_lastCreatedMultiboard
call MultiboardSetItemValueBJ(udg_leaderboard,1,1," ")
call MultiboardSetItemValueBJ(udg_leaderboard,2,1,"|cffffcc00Имя игрока:|r")
call MultiboardSetItemValueBJ(udg_leaderboard,3,1,"|cffffcc00Очки:|r")
call MultiboardSetItemValueBJ(udg_leaderboard,4,1,"|c00AE0000Смерти:|r")
call MultiboardSetItemStyleBJ(udg_leaderboard,1,1,false,false)
call MultiboardSetItemStyleBJ(udg_leaderboard,2,1,true,false)
call MultiboardSetItemStyleBJ(udg_leaderboard,3,1,true,false)
call MultiboardSetItemStyleBJ(udg_leaderboard,4,1,true,false)
call MultiboardSetItemWidthBJ(udg_leaderboard,1,1,1.5)
call MultiboardSetItemWidthBJ(udg_leaderboard,2,1,10.)
call MultiboardSetItemWidthBJ(udg_leaderboard,3,1,4.)
call MultiboardSetItemWidthBJ(udg_leaderboard,4,1,5.)
set udg_int=2
call ForForce(GetPlayersMatching(Condition(function Trig_Create_Leaderboard_Func022001001)),function Trig_Create_Leaderboard_Func022A)
call EnableTrigger(gg_trg_Board_Refresh)
call MultiboardDisplay(udg_leaderboard,true)
endfunction
function InitTrig_Create_Leaderboard takes nothing returns nothing
set gg_trg_Create_Leaderboard=CreateTrigger()
call TriggerRegisterTimerEventSingle(gg_trg_Create_Leaderboard,1.)
call TriggerAddAction(gg_trg_Create_Leaderboard,function Trig_Create_Leaderboard_Actions)
endfunction
function Trig_Normal_Kill_Func001Func002001001 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())!=GetOwningPlayer(GetKillingUnit()))
endfunction
function Trig_Normal_Kill_Func001Func002A takes nothing returns nothing
call DisplayTextToForce(GetForceOfPlayer(GetEnumPlayer()),(GetPlayerName(GetEnumPlayer())+" заслужил Ложная Победа!"))
endfunction
function Trig_Normal_Kill_Func001C takes nothing returns boolean
return(udg_kill_count[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]==$FA)
endfunction
function Trig_Normal_Kill_Func002Func005C takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())!='Ucrl')and(GetUnitTypeId(GetDyingUnit())!='Hvsh')and(GetUnitTypeId(GetDyingUnit())!='Ekee')and(GetUnitTypeId(GetDyingUnit())!='Udea')and(GetUnitTypeId(GetDyingUnit())!='Osam')and(GetUnitTypeId(GetDyingUnit())!='Ubal')and(GetUnitTypeId(GetDyingUnit())!='Ewrd')and(GetUnitTypeId(GetDyingUnit())!='Eevi')and(GetUnitTypeId(GetDyingUnit())!='Emns')and(GetUnitTypeId(GetDyingUnit())!='Efur')and(GetUnitTypeId(GetDyingUnit())!='Ewar')and(GetUnitTypeId(GetDyingUnit())!='H026')and(GetUnitTypeId(GetDyingUnit())!='H02K')and(GetUnitTypeId(GetDyingUnit())!='Nfir')and(GetUnitTypeId(GetDyingUnit())!='Nplh')and(GetUnitTypeId(GetDyingUnit())!='Nbrn')and(GetUnitTypeId(GetDyingUnit())!='Otch')and(GetUnitTypeId(GetDyingUnit())!='Nbbc')and(GetUnitTypeId(GetDyingUnit())!='Udth')and(GetUnitTypeId(GetDyingUnit())!='Umal')and(GetUnitTypeId(GetDyingUnit())!='Naka')and(GetUnitTypeId(GetDyingUnit())!='Hhkl')and(GetUnitTypeId(GetDyingUnit())!='E00Y')and(GetUnitTypeId(GetDyingUnit())!='E00X')and(GetUnitTypeId(GetDyingUnit())!='E00Z')and(GetUnitTypeId(GetDyingUnit())!='E00W')
endfunction
function Trig_Normal_Kill_Func002Func008Func002Func001Func001C takes nothing returns boolean
return(GetHeroLevel(GetDyingUnit())<31)
endfunction
function Trig_Normal_Kill_Func002Func008Func002Func001C takes nothing returns boolean
return(GetHeroLevel(GetDyingUnit())<21)
endfunction
function Trig_Normal_Kill_Func002Func008Func002C takes nothing returns boolean
return(GetHeroLevel(GetDyingUnit())<$B)
endfunction
function Trig_Normal_Kill_Func002Func008C takes nothing returns boolean
return(IsPlayerAlly(GetOwningPlayer(GetKillingUnit()),GetOwningPlayer(GetDyingUnit()))==false)
endfunction
function Trig_Normal_Kill_Func002C takes nothing returns boolean
return((GetPlayerController(GetOwningPlayer(GetKillingUnit()))==MAP_CONTROL_USER)and(GetPlayerController(GetOwningPlayer(GetDyingUnit()))==MAP_CONTROL_COMPUTER)and(IsUnitType(GetDyingUnit(),UNIT_TYPE_HERO))and(GetOwningPlayer(GetKillingUnit())!=GetOwningPlayer(GetDyingUnit()))and(Trig_Normal_Kill_Func002Func005C()))!=null
endfunction
function Trig_Normal_Kill_Func003Func005C takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())!='Ucrl')and(GetUnitTypeId(GetDyingUnit())!='Osam')and(GetUnitTypeId(GetDyingUnit())!='Udea')and(GetUnitTypeId(GetDyingUnit())!='Ubal')and(GetUnitTypeId(GetDyingUnit())!='Uvng')and(GetUnitTypeId(GetDyingUnit())!='Ekee')and(GetUnitTypeId(GetDyingUnit())!='Ewar')and(GetUnitTypeId(GetDyingUnit())!='Ewrd')and(GetUnitTypeId(GetDyingUnit())!='Eevi')and(GetUnitTypeId(GetDyingUnit())!='Emns')and(GetUnitTypeId(GetDyingUnit())!='Efur')and(GetUnitTypeId(GetDyingUnit())!='Nbst')and(GetUnitTypeId(GetDyingUnit())!='Nfir')and(GetUnitTypeId(GetDyingUnit())!='Nplh')and(GetUnitTypeId(GetDyingUnit())!='Nbrn')and(GetUnitTypeId(GetDyingUnit())!='Otch')and(GetUnitTypeId(GetDyingUnit())!='Nbbc')and(GetUnitTypeId(GetDyingUnit())!='Udth')and(GetUnitTypeId(GetDyingUnit())!='Umal')and(GetUnitTypeId(GetDyingUnit())!='Naka')and(GetUnitTypeId(GetDyingUnit())!='Hhkl')
endfunction
function Trig_Normal_Kill_Func003Func008Func002Func001Func001C takes nothing returns boolean
return(GetHeroLevel(GetDyingUnit())<31)
endfunction
function Trig_Normal_Kill_Func003Func008Func002Func001C takes nothing returns boolean
return(GetHeroLevel(GetDyingUnit())<21)
endfunction
function Trig_Normal_Kill_Func003Func008Func002C takes nothing returns boolean
return(GetHeroLevel(GetDyingUnit())<$B)
endfunction
function Trig_Normal_Kill_Func003Func008C takes nothing returns boolean
return(IsPlayerAlly(GetOwningPlayer(GetKillingUnit()),GetOwningPlayer(GetDyingUnit()))==false)
endfunction
function Trig_Normal_Kill_Func003C takes nothing returns boolean
return((IsUnitType(GetDyingUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetKillingUnit()))==MAP_CONTROL_USER)and(GetPlayerController(GetOwningPlayer(GetDyingUnit()))==MAP_CONTROL_USER)and(GetOwningPlayer(GetKillingUnit())!=GetOwningPlayer(GetDyingUnit()))and(Trig_Normal_Kill_Func003Func005C()))!=null
endfunction
function Trig_Normal_Kill_Func004Func003Func007C takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())!='Ucrl')and(GetUnitTypeId(GetDyingUnit())!='Osam')and(GetUnitTypeId(GetDyingUnit())!='Udea')and(GetUnitTypeId(GetDyingUnit())!='Ubal')and(GetUnitTypeId(GetDyingUnit())!='Uvng')and(GetUnitTypeId(GetDyingUnit())!='Ekee')and(GetUnitTypeId(GetDyingUnit())!='Ewar')and(GetUnitTypeId(GetDyingUnit())!='Ewrd')and(GetUnitTypeId(GetDyingUnit())!='Eevi')and(GetUnitTypeId(GetDyingUnit())!='Emns')and(GetUnitTypeId(GetDyingUnit())!='Efur')and(GetUnitTypeId(GetDyingUnit())!='Nbst')and(GetUnitTypeId(GetDyingUnit())!='Nfir')and(GetUnitTypeId(GetDyingUnit())!='Nplh')and(GetUnitTypeId(GetDyingUnit())!='Nbrn')and(GetUnitTypeId(GetDyingUnit())!='Otch')and(GetUnitTypeId(GetDyingUnit())!='Nbbc')and(GetUnitTypeId(GetDyingUnit())!='Udth')and(GetUnitTypeId(GetDyingUnit())!='Umal')and(GetUnitTypeId(GetDyingUnit())!='Naka')and(GetUnitTypeId(GetDyingUnit())!='Hhkl')
endfunction
function Trig_Normal_Kill_Func004Func003C takes nothing returns boolean
return((IsUnitType(GetKillingUnit(),UNIT_TYPE_HERO))and(IsUnitType(GetDyingUnit(),UNIT_TYPE_HERO))and(IsUnitIllusion(GetDyingUnit())==false)and(GetPlayerController(GetOwningPlayer(GetKillingUnit()))==MAP_CONTROL_COMPUTER)and(GetPlayerController(GetOwningPlayer(GetDyingUnit()))==MAP_CONTROL_USER)and(GetOwningPlayer(GetKillingUnit())!=GetOwningPlayer(GetDyingUnit()))and(Trig_Normal_Kill_Func004Func003Func007C()))!=null
endfunction
function Trig_Normal_Kill_Func004C takes nothing returns boolean
return(Trig_Normal_Kill_Func004Func003C())
endfunction
function Trig_Normal_Kill_Func005Func003C takes nothing returns boolean
return((IsUnitType(GetKillingUnit(),UNIT_TYPE_HERO))and(IsUnitIllusion(GetDyingUnit())==false)and(IsUnitType(GetDyingUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetKillingUnit()))==MAP_CONTROL_COMPUTER)and(GetPlayerController(GetOwningPlayer(GetDyingUnit()))==MAP_CONTROL_COMPUTER)and(GetOwningPlayer(GetKillingUnit())!=GetOwningPlayer(GetDyingUnit())))!=null
endfunction
function Trig_Normal_Kill_Func005C takes nothing returns boolean
return(Trig_Normal_Kill_Func005Func003C())
endfunction
function Trig_Normal_Kill_Func006Func001C takes nothing returns boolean
return((GetKillingUnit()==GetDyingUnit())and(GetPlayerController(GetOwningPlayer(GetDyingUnit()))==MAP_CONTROL_COMPUTER)and(IsUnitType(GetKillingUnit(),UNIT_TYPE_HERO))and(IsUnitType(GetDyingUnit(),UNIT_TYPE_HERO))and(IsUnitIllusion(GetDyingUnit())==false))!=null
endfunction
function Trig_Normal_Kill_Func006C takes nothing returns boolean
return(Trig_Normal_Kill_Func006Func001C())
endfunction
function Trig_Normal_Kill_Func007Func001Func001C takes nothing returns boolean
return((GetPlayerController(GetOwningPlayer(GetDyingUnit()))==MAP_CONTROL_USER)and(IsUnitType(GetDyingUnit(),UNIT_TYPE_HERO))and(IsUnitIllusion(GetDyingUnit())==false)and(GetUnitTypeId(GetDyingUnit())!='Ucrl')and(GetUnitTypeId(GetDyingUnit())!='Osam')and(GetUnitTypeId(GetDyingUnit())!='Udea')and(GetUnitTypeId(GetDyingUnit())!='Ubal')and(GetUnitTypeId(GetDyingUnit())!='Uvng')and(GetUnitTypeId(GetDyingUnit())!='Ekee')and(GetUnitTypeId(GetDyingUnit())!='Ewar')and(GetUnitTypeId(GetDyingUnit())!='Ewrd')and(GetUnitTypeId(GetDyingUnit())!='Eevi')and(GetUnitTypeId(GetDyingUnit())!='Emns')and(GetUnitTypeId(GetDyingUnit())!='Efur')and(GetUnitTypeId(GetDyingUnit())!='Nbst')and(GetUnitTypeId(GetDyingUnit())!='Nfir')and(GetUnitTypeId(GetDyingUnit())!='Nplh')and(GetUnitTypeId(GetDyingUnit())!='Nbrn')and(GetUnitTypeId(GetDyingUnit())!='Otch')and(GetUnitTypeId(GetDyingUnit())!='Nbbc')and(GetUnitTypeId(GetDyingUnit())!='Udth')and(GetUnitTypeId(GetDyingUnit())!='Umal')and(GetUnitTypeId(GetDyingUnit())!='Naka')and(GetUnitTypeId(GetDyingUnit())!='Hhkl'))!=null
endfunction
function Trig_Normal_Kill_Func007Func001C takes nothing returns boolean
return(Trig_Normal_Kill_Func007Func001Func001C())
endfunction
function Trig_Normal_Kill_Func007Func002C takes nothing returns boolean
return((GetPlayerController(GetOwningPlayer(GetDyingUnit()))==MAP_CONTROL_USER)and(IsUnitType(GetKillingUnit(),UNIT_TYPE_HERO))and(IsUnitType(GetDyingUnit(),UNIT_TYPE_HERO))and(IsUnitIllusion(GetDyingUnit())==false)and(GetOwningPlayer(GetKillingUnit())==GetOwningPlayer(GetDyingUnit())))!=null
endfunction
function Trig_Normal_Kill_Func007C takes nothing returns boolean
return(Trig_Normal_Kill_Func007Func002C())
endfunction
function Trig_Normal_Kill_Actions takes nothing returns nothing
if(Trig_Normal_Kill_Func001C())then
call CustomVictoryBJ(GetOwningPlayer(GetKillingUnit()),true,false)
call ForForce(GetPlayersMatching(Condition(function Trig_Normal_Kill_Func001Func002001001)),function Trig_Normal_Kill_Func001Func002A)
endif
if(Trig_Normal_Kill_Func002C())then
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,((GetPlayerName(GetOwningPlayer(GetKillingUnit()))+" убил ")+GetHeroProperName(GetDyingUnit())))
set udg_kill_count[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(udg_kill_count[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)
if(Trig_Normal_Kill_Func002Func008C())then
if(Trig_Normal_Kill_Func002Func008Func002C())then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetKillingUnit())),"|c00FDC635+200 золота+1 дерево|r")
call AdjustPlayerStateBJ($C8,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
else
if(Trig_Normal_Kill_Func002Func008Func002Func001C())then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetKillingUnit())),"|c00FDC635+400 золота+1 дерево|r")
call AdjustPlayerStateBJ($C8,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
else
if(Trig_Normal_Kill_Func002Func008Func002Func001Func001C())then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetKillingUnit())),"|c00FDC635+600 золота+1 дерево|r")
call AdjustPlayerStateBJ(400,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
endif
endif
endif
set udg_death_count[(1+GetPlayerId(GetOwningPlayer(GetDyingUnit())))]=(udg_death_count[(1+GetPlayerId(GetOwningPlayer(GetDyingUnit())))]+1)
endif
endif
if(Trig_Normal_Kill_Func003C())then
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,((GetPlayerName(GetOwningPlayer(GetKillingUnit()))+" убил ")+GetPlayerName(GetOwningPlayer(GetDyingUnit()))))
set udg_kill_count[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(udg_kill_count[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)
if(Trig_Normal_Kill_Func003Func008C())then
if(Trig_Normal_Kill_Func003Func008Func002C())then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetKillingUnit())),"|c00FDC635+200 золота+1 дерево|r")
else
if(Trig_Normal_Kill_Func003Func008Func002Func001C())then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetKillingUnit())),"|c00FDC635+400 золота+1 дерево|r")
call AdjustPlayerStateBJ($C8,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
else
if(Trig_Normal_Kill_Func003Func008Func002Func001Func001C())then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetKillingUnit())),"|c00FDC635+600 золота+1 дерево|r")
call AdjustPlayerStateBJ(400,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
endif
endif
endif
endif
endif
if(Trig_Normal_Kill_Func004C())then
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,((GetHeroProperName(GetKillingUnit())+" убил ")+GetPlayerName(GetOwningPlayer(GetDyingUnit()))))
set udg_kill_count[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(udg_kill_count[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)
endif
if(Trig_Normal_Kill_Func005C())then
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,((GetHeroProperName(GetKillingUnit())+" убил ")+GetHeroProperName(GetDyingUnit())))
set udg_kill_count[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]=(udg_kill_count[(1+GetPlayerId(GetOwningPlayer(GetKillingUnit())))]+1)
endif
if(Trig_Normal_Kill_Func006C())then
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetHeroProperName(GetDyingUnit())+" самоубийство"))
set udg_death_count[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=(udg_death_count[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]+1)
endif
if(Trig_Normal_Kill_Func007C())then
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetOwningPlayer(GetDyingUnit()))+" самоубийство"))
else
if(Trig_Normal_Kill_Func007Func001C())then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetDyingUnit())),"|c00880000-200 золота|r")
set udg_death_count[(1+GetPlayerId(GetOwningPlayer(GetDyingUnit())))]=(udg_death_count[(1+GetPlayerId(GetOwningPlayer(GetDyingUnit())))]+1)
call SetPlayerStateBJ(GetOwningPlayer(GetDyingUnit()),PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(GetOwningPlayer(GetDyingUnit()),PLAYER_STATE_RESOURCE_GOLD)-$C8))
endif
endif
endfunction
function InitTrig_Normal_Kill takes nothing returns nothing
set gg_trg_Normal_Kill=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Normal_Kill,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_Normal_Kill,function Trig_Normal_Kill_Actions)
endfunction
function Trig_Move_Hunter_Actions takes nothing returns nothing
call IssuePointOrderByIdLoc(udg_Hero2[92],$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_World),GetRectMaxX(gg_rct_World)),GetRandomReal(GetRectMinY(gg_rct_World),GetRectMaxY(gg_rct_World))))
endfunction
function InitTrig_Move_Hunter takes nothing returns nothing
set gg_trg_Move_Hunter=CreateTrigger()
call TriggerRegisterTimerEvent(gg_trg_Move_Hunter,20.,true)
call TriggerAddAction(gg_trg_Move_Hunter,function Trig_Move_Hunter_Actions)
endfunction
function Trig_Move_Sixtail_jinchur_Actions takes nothing returns nothing
call DestroyEffect(AddSpecialEffectTarget("shadowclone.mdx",udg_Hero2[90],"origin"))
call SetUnitPositionLoc(udg_Hero2[90],Location(GetRandomReal(GetRectMinX(gg_rct_World),GetRectMaxX(gg_rct_World)),GetRandomReal(GetRectMinY(gg_rct_World),GetRectMaxY(gg_rct_World))))
endfunction
function InitTrig_Move_Sixtail_jinchur takes nothing returns nothing
set gg_trg_Move_Sixtail_jinchur=CreateTrigger()
call TriggerRegisterTimerEvent(gg_trg_Move_Sixtail_jinchur,600.,true)
call TriggerAddAction(gg_trg_Move_Sixtail_jinchur,function Trig_Move_Sixtail_jinchur_Actions)
endfunction
function Sixtail_jinchur_attack_Cond takes nothing returns boolean
return GetTriggerUnit()==udg_Hero2[90]
endfunction
function Sixtail_jinchur_attack_Act takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(udg_Hero2[90],Player($C),true)
endfunction
function InitTrig_Sixtail_jinchur_attack takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_ATTACKED,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Sixtail_jinchur_attack_Cond))
call TriggerAddAction(t,function Sixtail_jinchur_attack_Act)
set t=null
endfunction
function Trig_UnitPo_Actions takes nothing returns nothing
if GetPlayerController(Player(4))==MAP_CONTROL_COMPUTER then
call IssuePointOrderByIdLoc(gg_unit_Emns_0115,$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_World),GetRectMaxX(gg_rct_World)),GetRandomReal(GetRectMinY(gg_rct_World),GetRectMaxY(gg_rct_World))))
endif
if GetPlayerController(Player(4))==MAP_CONTROL_COMPUTER then
call IssuePointOrderByIdLoc(gg_unit_Ucrl_0264,$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_World),GetRectMaxX(gg_rct_World)),GetRandomReal(GetRectMinY(gg_rct_World),GetRectMaxY(gg_rct_World))))
endif
endfunction
function InitTrig_UnitPo takes nothing returns nothing
local trigger dv=CreateTrigger()
call TriggerRegisterTimerEvent(dv,15.,true)
call TriggerAddAction(dv,function Trig_UnitPo_Actions)
set dv=null
endfunction
function Trig_Move_Shisui_Actions takes nothing returns nothing
call IssuePointOrderByIdLoc(udg_Hero2[1],$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_Konoha),GetRectMaxX(gg_rct_Konoha)),GetRandomReal(GetRectMinY(gg_rct_Konoha),GetRectMaxY(gg_rct_Konoha))))
endfunction
function InitTrig_Move_Shisui takes nothing returns nothing
set gg_trg_Move_Shisui=CreateTrigger()
call TriggerRegisterTimerEvent(gg_trg_Move_Shisui,10.,true)
call TriggerAddAction(gg_trg_Move_Shisui,function Trig_Move_Shisui_Actions)
endfunction
function Uchiha_Shisui_attack_Cond takes nothing returns boolean
return GetTriggerUnit()==udg_Hero2[1]
endfunction
function Uchiha_Shisui_attack_Act takes nothing returns nothing
call DisableTrigger(gg_trg_Move_Shisui)
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(udg_Hero2[1],Player($C),true)
endfunction
function InitTrig_Uchiha_Shisui_attack takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_ATTACKED,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Uchiha_Shisui_attack_Cond))
call TriggerAddAction(t,function Uchiha_Shisui_attack_Act)
set t=null
endfunction
function Yamato_attack_Cond takes nothing returns boolean
return GetTriggerUnit()==gg_unit_H04N_0359
endfunction
function Yamato_attack_Act takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitOwner(gg_unit_H04N_0359,Player($C),true)
endfunction
function InitTrig_Yamato_attack takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_ATTACKED,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Yamato_attack_Cond))
call TriggerAddAction(t,function Yamato_attack_Act)
set t=null
endfunction
function Trig_Naruto_Actions takes nothing returns nothing
call IssuePointOrderByIdLoc(gg_unit_Hpal_0034,$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_World),GetRectMaxX(gg_rct_World)),GetRandomReal(GetRectMinY(gg_rct_World),GetRectMaxY(gg_rct_World))))
endfunction
function InitTrig_Naruto_move takes nothing returns nothing
set gg_trg_Naruto_move=CreateTrigger()
call DisableTrigger(gg_trg_Naruto_move)
call TriggerRegisterTimerEvent(gg_trg_Naruto_move,7.,true)
call TriggerAddAction(gg_trg_Naruto_move,function Trig_Naruto_Actions)
endfunction
function Trig_Say_Actions takes nothing returns nothing
call IssuePointOrderByIdLoc(gg_unit_Eill_0017,$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_World),GetRectMaxX(gg_rct_World)),GetRandomReal(GetRectMinY(gg_rct_World),GetRectMaxY(gg_rct_World))))
endfunction
function InitTrig_Say_move takes nothing returns nothing
set gg_trg_Say_move=CreateTrigger()
call DisableTrigger(gg_trg_Say_move)
call TriggerRegisterTimerEvent(gg_trg_Say_move,7.,true)
call TriggerAddAction(gg_trg_Say_move,function Trig_Say_Actions)
endfunction
function Trig_Sakura_Actions takes nothing returns nothing
call IssuePointOrderByIdLoc(gg_unit_Hvwd_0016,$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_World),GetRectMaxX(gg_rct_World)),GetRandomReal(GetRectMinY(gg_rct_World),GetRectMaxY(gg_rct_World))))
endfunction
function InitTrig_Sakura_move takes nothing returns nothing
set gg_trg_Sakura_move=CreateTrigger()
call DisableTrigger(gg_trg_Sakura_move)
call TriggerRegisterTimerEvent(gg_trg_Sakura_move,7.,true)
call TriggerAddAction(gg_trg_Sakura_move,function Trig_Sakura_Actions)
endfunction
function Trig_Kakashi_Actions takes nothing returns nothing
call IssuePointOrderByIdLoc(gg_unit_Harf_0004,$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_World),GetRectMaxX(gg_rct_World)),GetRandomReal(GetRectMinY(gg_rct_World),GetRectMaxY(gg_rct_World))))
endfunction
function InitTrig_Kakashi_move takes nothing returns nothing
set gg_trg_Kakashi_move=CreateTrigger()
call DisableTrigger(gg_trg_Kakashi_move)
call TriggerRegisterTimerEvent(gg_trg_Kakashi_move,7.,true)
call TriggerAddAction(gg_trg_Kakashi_move,function Trig_Kakashi_Actions)
endfunction
function Trig_Ten_Actions takes nothing returns nothing
call IssuePointOrderByIdLoc(gg_unit_Emoo_0031,$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_World),GetRectMaxX(gg_rct_World)),GetRandomReal(GetRectMinY(gg_rct_World),GetRectMaxY(gg_rct_World))))
endfunction
function InitTrig_Ten_move takes nothing returns nothing
set gg_trg_Ten_move=CreateTrigger()
call DisableTrigger(gg_trg_Ten_move)
call TriggerRegisterTimerEvent(gg_trg_Ten_move,7.,true)
call TriggerAddAction(gg_trg_Ten_move,function Trig_Ten_Actions)
endfunction
function Trig_Neji_Actions takes nothing returns nothing
call IssuePointOrderByIdLoc(gg_unit_Hmgd_0035,$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_World),GetRectMaxX(gg_rct_World)),GetRandomReal(GetRectMinY(gg_rct_World),GetRectMaxY(gg_rct_World))))
endfunction
function InitTrig_Neji_move takes nothing returns nothing
set gg_trg_Neji_move=CreateTrigger()
call DisableTrigger(gg_trg_Neji_move)
call TriggerRegisterTimerEvent(gg_trg_Neji_move,7.,true)
call TriggerAddAction(gg_trg_Neji_move,function Trig_Neji_Actions)
endfunction
function Trig_Lee_Actions takes nothing returns nothing
call IssuePointOrderByIdLoc(gg_unit_Obla_0014,$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_World),GetRectMaxX(gg_rct_World)),GetRandomReal(GetRectMinY(gg_rct_World),GetRectMaxY(gg_rct_World))))
endfunction
function InitTrig_Lee_move takes nothing returns nothing
set gg_trg_Lee_move=CreateTrigger()
call DisableTrigger(gg_trg_Lee_move)
call TriggerRegisterTimerEvent(gg_trg_Lee_move,7.,true)
call TriggerAddAction(gg_trg_Lee_move,function Trig_Lee_Actions)
endfunction
function Trig_Gay_Actions takes nothing returns nothing
call IssuePointOrderByIdLoc(gg_unit_Hpb2_0015,$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_World),GetRectMaxX(gg_rct_World)),GetRandomReal(GetRectMinY(gg_rct_World),GetRectMaxY(gg_rct_World))))
endfunction
function InitTrig_Gay_move takes nothing returns nothing
set gg_trg_Gay_move=CreateTrigger()
call DisableTrigger(gg_trg_Gay_move)
call TriggerRegisterTimerEvent(gg_trg_Gay_move,7.,true)
call TriggerAddAction(gg_trg_Gay_move,function Trig_Gay_Actions)
endfunction
function Trig_Ray_Actions takes nothing returns nothing
call IssuePointOrderByIdLoc(gg_unit_Nmag_0027,$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_World),GetRectMaxX(gg_rct_World)),GetRandomReal(GetRectMinY(gg_rct_World),GetRectMaxY(gg_rct_World))))
endfunction
function InitTrig_Ray_move takes nothing returns nothing
set gg_trg_Ray_move=CreateTrigger()
call DisableTrigger(gg_trg_Ray_move)
call TriggerRegisterTimerEvent(gg_trg_Ray_move,7.,true)
call TriggerAddAction(gg_trg_Ray_move,function Trig_Ray_Actions)
endfunction
function Trig_Danzo_Actions takes nothing returns nothing
call IssuePointOrderByIdLoc(gg_unit_Udre_0022,$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_Konoha),GetRectMaxX(gg_rct_Konoha)),GetRandomReal(GetRectMinY(gg_rct_Konoha),GetRectMaxY(gg_rct_Konoha))))
endfunction
function InitTrig_Danzo_move takes nothing returns nothing
set gg_trg_Danzo_move=CreateTrigger()
call DisableTrigger(gg_trg_Danzo_move)
call TriggerRegisterTimerEvent(gg_trg_Danzo_move,7.,true)
call TriggerAddAction(gg_trg_Danzo_move,function Trig_Danzo_Actions)
endfunction
function Trig_Djugo_Actions takes nothing returns nothing
call IssuePointOrderByIdLoc(gg_unit_Hlgr_0029,$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_World),GetRectMaxX(gg_rct_World)),GetRandomReal(GetRectMinY(gg_rct_World),GetRectMaxY(gg_rct_World))))
endfunction
function InitTrig_Djugo_move takes nothing returns nothing
set gg_trg_Djugo_move=CreateTrigger()
call DisableTrigger(gg_trg_Djugo_move)
call TriggerRegisterTimerEvent(gg_trg_Djugo_move,7.,true)
call TriggerAddAction(gg_trg_Djugo_move,function Trig_Djugo_Actions)
endfunction
function Trig_Suygetsu_Actions takes nothing returns nothing
call IssuePointOrderByIdLoc(gg_unit_Ofar_0013,$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_World),GetRectMaxX(gg_rct_World)),GetRandomReal(GetRectMinY(gg_rct_World),GetRectMaxY(gg_rct_World))))
endfunction
function InitTrig_Suygetsu_move takes nothing returns nothing
set gg_trg_Suygetsu_move=CreateTrigger()
call DisableTrigger(gg_trg_Suygetsu_move)
call TriggerRegisterTimerEvent(gg_trg_Suygetsu_move,7.,true)
call TriggerAddAction(gg_trg_Suygetsu_move,function Trig_Suygetsu_Actions)
endfunction
function Trig_Karin_Actions takes nothing returns nothing
call IssuePointOrderByIdLoc(gg_unit_Hkal_0020,$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_World),GetRectMaxX(gg_rct_World)),GetRandomReal(GetRectMinY(gg_rct_World),GetRectMaxY(gg_rct_World))))
endfunction
function InitTrig_Karin_move takes nothing returns nothing
set gg_trg_Karin_move=CreateTrigger()
call DisableTrigger(gg_trg_Karin_move)
call TriggerRegisterTimerEvent(gg_trg_Karin_move,7.,true)
call TriggerAddAction(gg_trg_Karin_move,function Trig_Karin_Actions)
endfunction
function Trig_Sasuke_Actions takes nothing returns nothing
call IssuePointOrderByIdLoc(gg_unit_Edem_0023,$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_World),GetRectMaxX(gg_rct_World)),GetRandomReal(GetRectMinY(gg_rct_World),GetRectMaxY(gg_rct_World))))
endfunction
function InitTrig_Sasuke_move takes nothing returns nothing
set gg_trg_Sasuke_move=CreateTrigger()
call DisableTrigger(gg_trg_Sasuke_move)
call TriggerRegisterTimerEvent(gg_trg_Sasuke_move,7.,true)
call TriggerAddAction(gg_trg_Sasuke_move,function Trig_Sasuke_Actions)
endfunction
function Sasuke_Itachi_kv_Cond takes nothing returns boolean
return GetUnitLevel(gg_unit_Edem_0023)==30
endfunction
function Sasuke_Itachi_kv_Act takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Sasuke_move)
call EnableTrigger(gg_trg_Sasuke_Itachi_kv1)
call EnableTrigger(gg_trg_Sasuke_Itachi_kv2)
endfunction
function InitTrig_Sasuke_Itachi_kv takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
call DisableTrigger(gg_trg_Sasuke_Itachi_kv)
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_HERO_LEVEL,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Sasuke_Itachi_kv_Cond))
call TriggerAddAction(t,function Sasuke_Itachi_kv_Act)
set t=null
endfunction
function Trig_Sasuke_Itachi_kv1_Actions takes nothing returns nothing
call IssueTargetOrderById(gg_unit_Edem_0023,$D0012,gg_unit_Hblm_0025)
endfunction
function InitTrig_Sasuke_Itachi_kv1 takes nothing returns nothing
set gg_trg_Sasuke_Itachi_kv1=CreateTrigger()
call DisableTrigger(gg_trg_Sasuke_Itachi_kv1)
call TriggerRegisterTimerEvent(gg_trg_Sasuke_Itachi_kv1,2.,true)
call TriggerAddAction(gg_trg_Sasuke_Itachi_kv1,function Trig_Sasuke_Itachi_kv1_Actions)
endfunction
function Trig_Sasuke_Itachi_kv2_Conditions takes nothing returns boolean
return(GetEnteringUnit()==gg_unit_Edem_0023)
endfunction
function Trig_Sasuke_Itachi_kv2_Func006002001 takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='Edem')
endfunction
function Trig_Sasuke_Itachi_kv2_Func007002001 takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='Hblm')
endfunction
function Trig_Sasuke_Itachi_kv2_Func014002001 takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='Edem')
endfunction
function Trig_Sasuke_Itachi_kv2_Func015002001 takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='Hblm')
endfunction
function Trig_Sasuke_Itachi_kv2_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(gg_trg_Sasuke_Itachi_kv3)
call PauseUnit(gg_unit_Hblm_0025,true)
call PauseUnit(gg_unit_Edem_0023,true)
call ForceCinematicSubtitles(false)
call CinematicModeBJ(true,GetPlayersMatching(Condition(function Trig_Sasuke_Itachi_kv2_Func006002001)))
call CinematicModeBJ(true,GetPlayersMatching(Condition(function Trig_Sasuke_Itachi_kv2_Func007002001)))
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(gg_unit_Hblm_0025)),gg_unit_Hblm_0025,"|c00CA0000Итачи|r",null,"Вот и снова встретились...",0,2.,false)
call TriggerSleepAction(1.75)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(gg_unit_Hblm_0025)),gg_unit_Edem_0023,"|c008000FFСаске|r",null,"Умри!",0,1.,false)
call TriggerSleepAction(1.)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(gg_unit_Hblm_0025)),gg_unit_Hblm_0025,"|c00CA0000Итачи|r",null,"Приходи в убежище учиха, там мы всё решим...",0,2.,false)
call CinematicModeBJ(false,GetPlayersMatching(Condition(function Trig_Sasuke_Itachi_kv2_Func014002001)))
call CinematicModeBJ(false,GetPlayersMatching(Condition(function Trig_Sasuke_Itachi_kv2_Func015002001)))
call SetUnitAnimation(gg_unit_Edem_0023,"attack 4")
call TriggerSleepAction(.5)
call SetUnitAnimation(gg_unit_Edem_0023,"attack 3")
call TriggerSleepAction(.5)
call SetUnitAnimation(gg_unit_Edem_0023,"attack 1")
call TriggerSleepAction(.5)
call KillUnit(gg_unit_Hblm_0025)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(gg_unit_Hblm_0025)),gg_unit_Hblm_0025,"|c00CA0000Итачи|r",null,"Вот и всё.. Саске...",0,2.,false)
call PauseUnit(gg_unit_Hblm_0025,false)
call PauseUnit(gg_unit_Edem_0023,false)
endfunction
function InitTrig_Sasuke_Itachi_kv2 takes nothing returns nothing
set gg_trg_Sasuke_Itachi_kv2=CreateTrigger()
call DisableTrigger(gg_trg_Sasuke_Itachi_kv2)
call TriggerRegisterUnitInRangeSimple(gg_trg_Sasuke_Itachi_kv2,125.,gg_unit_Hblm_0025)
call TriggerAddCondition(gg_trg_Sasuke_Itachi_kv2,Condition(function Trig_Sasuke_Itachi_kv2_Conditions))
call TriggerAddAction(gg_trg_Sasuke_Itachi_kv2,function Trig_Sasuke_Itachi_kv2_Actions)
endfunction
function Trig_Sasuke_Itachi_kv3_Conditions takes nothing returns boolean
return(GetDyingUnit()==gg_unit_Hblm_0025)
endfunction
function Trig_Sasuke_Itachi_kv3_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Sasuke_Itachi_kv1)
call EnableTrigger(gg_trg_SasukeMSH_move)
call CreateNUnitsAtLoc(1,'E005',GetOwningPlayer(gg_unit_Edem_0023),GetRectCenter(gg_rct_Taka_Sasuke),180.)
set udg_Hero2['h']=bj_lastCreatedUnit
call SetHeroLevelBJ(bj_lastCreatedUnit,30,false)
call ModifyHeroStat(0,bj_lastReplacedUnit,2,GetHeroStatBJ(0,udg_Hero2['h'],true))
call ModifyHeroStat(1,bj_lastReplacedUnit,2,GetHeroStatBJ(1,udg_Hero2['h'],true))
call ModifyHeroStat(2,bj_lastReplacedUnit,2,GetHeroStatBJ(2,udg_Hero2['h'],true))
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Edem_0023,1)),bj_lastCreatedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Edem_0023,2)),bj_lastCreatedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Edem_0023,3)),bj_lastCreatedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Edem_0023,4)),bj_lastCreatedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Edem_0023,5)),bj_lastCreatedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Edem_0023,6)),bj_lastCreatedUnit)
call SelectHeroSkill(bj_lastCreatedUnit,'A02R')
call SelectHeroSkill(bj_lastCreatedUnit,'A02R')
call SelectHeroSkill(bj_lastCreatedUnit,'A02R')
call SelectHeroSkill(bj_lastCreatedUnit,'A02R')
call SelectHeroSkill(bj_lastCreatedUnit,'A00J')
call SelectHeroSkill(bj_lastCreatedUnit,'A00J')
call SelectHeroSkill(bj_lastCreatedUnit,'A00J')
call SelectHeroSkill(bj_lastCreatedUnit,'A00J')
call SelectHeroSkill(bj_lastCreatedUnit,'A00P')
call SelectHeroSkill(bj_lastCreatedUnit,'A00P')
call SelectHeroSkill(bj_lastCreatedUnit,'A00P')
call SelectHeroSkill(bj_lastCreatedUnit,'A00P')
call SelectHeroSkill(bj_lastCreatedUnit,'A00Z')
call RemoveUnit(gg_unit_Edem_0023)
endfunction
function InitTrig_Sasuke_Itachi_kv3 takes nothing returns nothing
set gg_trg_Sasuke_Itachi_kv3=CreateTrigger()
call DisableTrigger(gg_trg_Sasuke_Itachi_kv3)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sasuke_Itachi_kv3,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Sasuke_Itachi_kv3,Condition(function Trig_Sasuke_Itachi_kv3_Conditions))
call TriggerAddAction(gg_trg_Sasuke_Itachi_kv3,function Trig_Sasuke_Itachi_kv3_Actions)
endfunction
function SasukeMSH_Act takes nothing returns nothing
call IssuePointOrderByIdLoc(udg_Hero2['h'],$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_World),GetRectMaxX(gg_rct_World)),GetRandomReal(GetRectMinY(gg_rct_World),GetRectMaxY(gg_rct_World))))
endfunction
function InitTrig_SasukeMSH_move takes nothing returns nothing
set gg_trg_SasukeMSH_move=CreateTrigger()
call DisableTrigger(gg_trg_SasukeMSH_move)
call TriggerRegisterTimerEvent(gg_trg_SasukeMSH_move,7.,true)
call TriggerAddAction(gg_trg_SasukeMSH_move,function SasukeMSH_Act)
endfunction
function Trig_Kabuto_Actions takes nothing returns nothing
call IssuePointOrderByIdLoc(gg_unit_Hgam_0030,$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_World),GetRectMaxX(gg_rct_World)),GetRandomReal(GetRectMinY(gg_rct_World),GetRectMaxY(gg_rct_World))))
endfunction
function InitTrig_Kabuto_move takes nothing returns nothing
set gg_trg_Kabuto_move=CreateTrigger()
call DisableTrigger(gg_trg_Kabuto_move)
call TriggerRegisterTimerEvent(gg_trg_Kabuto_move,7.,true)
call TriggerAddAction(gg_trg_Kabuto_move,function Trig_Kabuto_Actions)
endfunction
function Trig_Orachimaru_Actions takes nothing returns nothing
call IssuePointOrderByIdLoc(gg_unit_Hant_0028,$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_World),GetRectMaxX(gg_rct_World)),GetRandomReal(GetRectMinY(gg_rct_World),GetRectMaxY(gg_rct_World))))
endfunction
function InitTrig_Orachimaru_move takes nothing returns nothing
set gg_trg_Orachimaru_move=CreateTrigger()
call DisableTrigger(gg_trg_Orachimaru_move)
call TriggerRegisterTimerEvent(gg_trg_Orachimaru_move,7.,true)
call TriggerAddAction(gg_trg_Orachimaru_move,function Trig_Orachimaru_Actions)
endfunction
function Trig_Daydara_Actions takes nothing returns nothing
call IssuePointOrderByIdLoc(gg_unit_Hamg_0024,$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_World),GetRectMaxX(gg_rct_World)),GetRandomReal(GetRectMinY(gg_rct_World),GetRectMaxY(gg_rct_World))))
endfunction
function InitTrig_Daydara_move takes nothing returns nothing
set gg_trg_Daydara_move=CreateTrigger()
call DisableTrigger(gg_trg_Daydara_move)
call TriggerRegisterTimerEvent(gg_trg_Daydara_move,7.,true)
call TriggerAddAction(gg_trg_Daydara_move,function Trig_Daydara_Actions)
endfunction
function Trig_Sasori_Actions takes nothing returns nothing
call IssuePointOrderByIdLoc(gg_unit_E006_0036,$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_World),GetRectMaxX(gg_rct_World)),GetRandomReal(GetRectMinY(gg_rct_World),GetRectMaxY(gg_rct_World))))
endfunction
function InitTrig_Sasori_move takes nothing returns nothing
set gg_trg_Sasori_move=CreateTrigger()
call DisableTrigger(gg_trg_Sasori_move)
call TriggerRegisterTimerEvent(gg_trg_Sasori_move,7.,true)
call TriggerAddAction(gg_trg_Sasori_move,function Trig_Sasori_Actions)
endfunction
function Trig_Itachi_Actions takes nothing returns nothing
call IssuePointOrderByIdLoc(gg_unit_Hblm_0025,$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_World),GetRectMaxX(gg_rct_World)),GetRandomReal(GetRectMinY(gg_rct_World),GetRectMaxY(gg_rct_World))))
endfunction
function InitTrig_Itachi_move takes nothing returns nothing
set gg_trg_Itachi_move=CreateTrigger()
call DisableTrigger(gg_trg_Itachi_move)
call TriggerRegisterTimerEvent(gg_trg_Itachi_move,7.,true)
call TriggerAddAction(gg_trg_Itachi_move,function Trig_Itachi_Actions)
endfunction
function Trig_Kisame_Actions takes nothing returns nothing
call IssuePointOrderByIdLoc(gg_unit_Hpb1_0026,$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_World),GetRectMaxX(gg_rct_World)),GetRandomReal(GetRectMinY(gg_rct_World),GetRectMaxY(gg_rct_World))))
endfunction
function InitTrig_Kisame_move takes nothing returns nothing
set gg_trg_Kisame_move=CreateTrigger()
call DisableTrigger(gg_trg_Kisame_move)
call TriggerRegisterTimerEvent(gg_trg_Kisame_move,7.,true)
call TriggerAddAction(gg_trg_Kisame_move,function Trig_Kisame_Actions)
endfunction
function Trig_Tobi_Actions takes nothing returns nothing
call IssuePointOrderByIdLoc(gg_unit_Huth_0018,$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_World),GetRectMaxX(gg_rct_World)),GetRandomReal(GetRectMinY(gg_rct_World),GetRectMaxY(gg_rct_World))))
endfunction
function InitTrig_Tobi_move takes nothing returns nothing
set gg_trg_Tobi_move=CreateTrigger()
call DisableTrigger(gg_trg_Tobi_move)
call TriggerRegisterTimerEvent(gg_trg_Tobi_move,7.,true)
call TriggerAddAction(gg_trg_Tobi_move,function Trig_Tobi_Actions)
endfunction
function TobiRinnegan_kv_Cond takes nothing returns boolean
return GetUnitLevel(gg_unit_Huth_0018)==30
endfunction
function TobiRinnegan_kv_Act takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(gg_trg_TobiRinnegan_kv1)
call EnableTrigger(gg_trg_TobiRinnegan_kv2)
call KillDestructable(gg_dest_B000_6926)
call DisableTrigger(gg_trg_Tobi_move)
call UnitAddItemByIdSwapped('I00C',gg_unit_Huth_0018)
endfunction
function InitTrig_TobiRinnegan_kv takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
call DisableTrigger(gg_trg_TobiRinnegan_kv)
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_HERO_LEVEL,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function TobiRinnegan_kv_Cond))
call TriggerAddAction(t,function TobiRinnegan_kv_Act)
set t=null
endfunction
function Trig_TobiRinnegan_kv1_Actions takes nothing returns nothing
call IssueTargetOrderById(gg_unit_Huth_0018,$D0012,udg_Hero2[87])
endfunction
function InitTrig_TobiRinnegan_kv1 takes nothing returns nothing
set gg_trg_TobiRinnegan_kv1=CreateTrigger()
call DisableTrigger(gg_trg_TobiRinnegan_kv1)
call TriggerRegisterTimerEvent(gg_trg_TobiRinnegan_kv1,1.,true)
call TriggerAddAction(gg_trg_TobiRinnegan_kv1,function Trig_TobiRinnegan_kv1_Actions)
endfunction
function Trig_TobiRinnegan_kv2_Func034C takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetEnteringUnit(),'I00C'))and(GetEnteringUnit()==gg_unit_Huth_0018)
endfunction
function Trig_TobiRinnegan_kv2_Conditions takes nothing returns boolean
return(Trig_TobiRinnegan_kv2_Func034C())
endfunction
function Trig_TobiRinnegan_kv2_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(gg_trg_TobiRinengan_kv3)
call EnableTrigger(gg_trg_TobiRin_move)
call RemoveItem(GetItemOfTypeFromUnitBJ(gg_unit_Huth_0018,'I00C'))
call ReplaceUnitBJ(gg_unit_Huth_0018,'H01F',1)
set udg_TobiM=bj_lastReplacedUnit
call ModifyHeroStat(0,bj_lastReplacedUnit,2,GetHeroStatBJ(0,gg_unit_Huth_0018,false))
call ModifyHeroStat(1,bj_lastReplacedUnit,2,GetHeroStatBJ(1,gg_unit_Huth_0018,false))
call ModifyHeroStat(2,bj_lastReplacedUnit,2,GetHeroStatBJ(2,gg_unit_Huth_0018,false))
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Huth_0018,1)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Huth_0018,2)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Huth_0018,3)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Huth_0018,4)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Huth_0018,5)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Huth_0018,6)),bj_lastReplacedUnit)
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call SelectHeroSkill(bj_lastReplacedUnit,'A05S')
call SelectHeroSkill(bj_lastReplacedUnit,'A05S')
call SelectHeroSkill(bj_lastReplacedUnit,'A05S')
call SelectHeroSkill(bj_lastReplacedUnit,'A05T')
call DestructableRestoreLife(gg_dest_B000_6926,GetDestructableMaxLife(bj_lastCreatedDestructable),false)
call SetUnitPositionLoc(udg_TobiM,GetRectCenter(gg_rct_Revive_Akatsuki))
endfunction
function InitTrig_TobiRinnegan_kv2 takes nothing returns nothing
set gg_trg_TobiRinnegan_kv2=CreateTrigger()
call DisableTrigger(gg_trg_TobiRinnegan_kv2)
call TriggerRegisterEnterRectSimple(gg_trg_TobiRinnegan_kv2,gg_rct_Madara_revive)
call TriggerAddCondition(gg_trg_TobiRinnegan_kv2,Condition(function Trig_TobiRinnegan_kv2_Conditions))
call TriggerAddAction(gg_trg_TobiRinnegan_kv2,function Trig_TobiRinnegan_kv2_Actions)
endfunction
function Trig_TobiRinengan_kv3_Conditions takes nothing returns boolean
return(GetDyingUnit()==udg_TobiM)
endfunction
function Trig_TobiRinengan_kv3_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(gg_trg_TobiRinengan_kv4)
call TriggerSleepAction(30.)
call CreateNUnitsAtLoc(1,'H01U',GetOwningPlayer(udg_TobiM),GetRectCenter(gg_rct_Gedo),180.)
call SetHeroLevelBJ(bj_lastCreatedUnit,30,false)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(udg_TobiM,1)),bj_lastCreatedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(udg_TobiM,2)),bj_lastCreatedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(udg_TobiM,3)),bj_lastCreatedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(udg_TobiM,4)),bj_lastCreatedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(udg_TobiM,5)),bj_lastCreatedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(udg_TobiM,6)),bj_lastCreatedUnit)
set udg_TobiM=bj_lastCreatedUnit
call SelectHeroSkill(bj_lastCreatedUnit,'A05R')
call SelectHeroSkill(bj_lastCreatedUnit,'A05R')
call SelectHeroSkill(bj_lastCreatedUnit,'A05R')
call SelectHeroSkill(bj_lastCreatedUnit,'A05R')
call SelectHeroSkill(bj_lastCreatedUnit,'A05L')
call SelectHeroSkill(bj_lastCreatedUnit,'A05L')
call SelectHeroSkill(bj_lastCreatedUnit,'A05L')
call SelectHeroSkill(bj_lastCreatedUnit,'A05L')
call SelectHeroSkill(bj_lastCreatedUnit,'A00E')
call SelectHeroSkill(bj_lastCreatedUnit,'A00E')
call SelectHeroSkill(bj_lastCreatedUnit,'A00E')
call SelectHeroSkill(bj_lastCreatedUnit,'A00E')
call SelectHeroSkill(bj_lastCreatedUnit,'A05S')
call SelectHeroSkill(bj_lastCreatedUnit,'A05S')
call SelectHeroSkill(bj_lastCreatedUnit,'A05S')
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"Маска Тоби сломано!")
endfunction
function InitTrig_TobiRinengan_kv3 takes nothing returns nothing
set gg_trg_TobiRinengan_kv3=CreateTrigger()
call DisableTrigger(gg_trg_TobiRinengan_kv3)
call TriggerRegisterAnyUnitEventBJ(gg_trg_TobiRinengan_kv3,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_TobiRinengan_kv3,Condition(function Trig_TobiRinengan_kv3_Conditions))
call TriggerAddAction(gg_trg_TobiRinengan_kv3,function Trig_TobiRinengan_kv3_Actions)
endfunction
function Trig_TobiRinengan_kv4_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='u01A')
endfunction
function Trig_TobiRinengan_kv4_Actions takes nothing returns nothing
call UnitAddItemByIdSwapped('I00Q',udg_TobiM)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"Обито стал Джинчурики!")
call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_TobiRinengan_kv4 takes nothing returns nothing
set gg_trg_TobiRinengan_kv4=CreateTrigger()
call DisableTrigger(gg_trg_TobiRinengan_kv4)
call TriggerRegisterAnyUnitEventBJ(gg_trg_TobiRinengan_kv4,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_TobiRinengan_kv4,Condition(function Trig_TobiRinengan_kv4_Conditions))
call TriggerAddAction(gg_trg_TobiRinengan_kv4,function Trig_TobiRinengan_kv4_Actions)
endfunction
function Trig_TobiRin_Actions takes nothing returns nothing
call IssuePointOrderByIdLoc(udg_TobiM,$D000F,Location(GetRandomReal(GetRectMinX(gg_rct_World),GetRectMaxX(gg_rct_World)),GetRandomReal(GetRectMinY(gg_rct_World),GetRectMaxY(gg_rct_World))))
endfunction
function InitTrig_TobiRin_move takes nothing returns nothing
set gg_trg_TobiRin_move=CreateTrigger()
call DisableTrigger(gg_trg_TobiRin_move)
call TriggerRegisterTimerEvent(gg_trg_TobiRin_move,7.,true)
call TriggerAddAction(gg_trg_TobiRin_move,function Trig_TobiRin_Actions)
endfunction
function Trig_DontAttack_Conditions takes nothing returns boolean
return(IsPlayerAlly(GetOwningPlayer(GetAttacker()),Player(4)))
endfunction
function Trig_DontAttack_Actions takes nothing returns nothing
call IssueImmediateOrderById(GetAttacker(),$D0004)
endfunction
function InitTrig_DontAttack takes nothing returns nothing
set gg_trg_DontAttack=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_DontAttack,Player(4),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_DontAttack,Condition(function Trig_DontAttack_Conditions))
call TriggerAddAction(gg_trg_DontAttack,function Trig_DontAttack_Actions)
endfunction
function Trig_DontAttack2_Conditions takes nothing returns boolean
return(IsPlayerAlly(GetOwningPlayer(GetAttacker()),Player(7)))
endfunction
function Trig_DontAttack2_Actions takes nothing returns nothing
call IssueImmediateOrderById(GetAttacker(),$D0004)
endfunction
function InitTrig_DontAttack2 takes nothing returns nothing
set gg_trg_DontAttack2=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_DontAttack2,Player(7),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_DontAttack2,Condition(function Trig_DontAttack2_Conditions))
call TriggerAddAction(gg_trg_DontAttack2,function Trig_DontAttack2_Actions)
endfunction
function Trig_DontAttack3_Conditions takes nothing returns boolean
return(IsPlayerAlly(GetOwningPlayer(GetAttacker()),Player($B)))
endfunction
function Trig_DontAttack3_Actions takes nothing returns nothing
call IssueImmediateOrderById(GetAttacker(),$D0004)
endfunction
function InitTrig_DontAttack3 takes nothing returns nothing
set gg_trg_DontAttack3=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_DontAttack3,Player($B),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_DontAttack3,Condition(function Trig_DontAttack3_Conditions))
call TriggerAddAction(gg_trg_DontAttack3,function Trig_DontAttack3_Actions)
endfunction
function Trig_player_1ally2_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(0),Player(1),2)
endfunction
function InitTrig_player_1ally2 takes nothing returns nothing
set gg_trg_player_1ally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1ally2,Player(0),"-ally konoha2",true)
call TriggerAddAction(gg_trg_player_1ally2,function Trig_player_1ally2_Actions)
endfunction
function Trig_player_1unally2_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(0),Player(1),0)
call SetPlayerAllianceStateBJ(Player(1),Player(0),0)
endfunction
function InitTrig_player_1unally2 takes nothing returns nothing
set gg_trg_player_1unally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1unally2,Player(0),"-unally konoha2",true)
call TriggerAddAction(gg_trg_player_1unally2,function Trig_player_1unally2_Actions)
endfunction
function Trig_player_1ally3_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(0),Player(2),2)
endfunction
function InitTrig_player_1ally3 takes nothing returns nothing
set gg_trg_player_1ally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1ally3,Player(0),"-ally konoha3",true)
call TriggerAddAction(gg_trg_player_1ally3,function Trig_player_1ally3_Actions)
endfunction
function Trig_player_1unally3_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(0),Player(2),0)
call SetPlayerAllianceStateBJ(Player(2),Player(0),0)
endfunction
function InitTrig_player_1unally3 takes nothing returns nothing
set gg_trg_player_1unally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1unally3,Player(0),"-unally konoha3",true)
call TriggerAddAction(gg_trg_player_1unally3,function Trig_player_1unally3_Actions)
endfunction
function Trig_player_1ally4_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(0),Player(3),2)
endfunction
function InitTrig_player_1ally4 takes nothing returns nothing
set gg_trg_player_1ally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1ally4,Player(0),"-ally sound1",true)
call TriggerAddAction(gg_trg_player_1ally4,function Trig_player_1ally4_Actions)
endfunction
function Trig_player_1unally4_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(0),Player(3),0)
call SetPlayerAllianceStateBJ(Player(3),Player(0),0)
endfunction
function InitTrig_player_1unally4 takes nothing returns nothing
set gg_trg_player_1unally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1unally4,Player(0),"-unally sound1",true)
call TriggerAddAction(gg_trg_player_1unally4,function Trig_player_1unally4_Actions)
endfunction
function Trig_player_1ally6_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(0),Player(5),2)
endfunction
function InitTrig_player_1ally6 takes nothing returns nothing
set gg_trg_player_1ally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1ally6,Player(0),"-ally sound2",true)
call TriggerAddAction(gg_trg_player_1ally6,function Trig_player_1ally6_Actions)
endfunction
function Trig_player_1unally6_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(0),Player(5),0)
call SetPlayerAllianceStateBJ(Player(5),Player(0),0)
endfunction
function InitTrig_player_1unally6 takes nothing returns nothing
set gg_trg_player_1unally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1unally6,Player(0),"-unally sound2",true)
call TriggerAddAction(gg_trg_player_1unally6,function Trig_player_1unally6_Actions)
endfunction
function Trig_player_1ally7_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(0),Player(6),2)
endfunction
function InitTrig_player_1ally7 takes nothing returns nothing
set gg_trg_player_1ally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1ally7,Player(0),"-ally sound3",true)
call TriggerAddAction(gg_trg_player_1ally7,function Trig_player_1ally7_Actions)
endfunction
function Trig_player_1unally7_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(0),Player(6),0)
call SetPlayerAllianceStateBJ(Player(6),Player(0),0)
endfunction
function InitTrig_player_1unally7 takes nothing returns nothing
set gg_trg_player_1unally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1unally7,Player(0),"-unally sound3",true)
call TriggerAddAction(gg_trg_player_1unally7,function Trig_player_1unally7_Actions)
endfunction
function Trig_player_1ally9_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(0),Player(8),2)
endfunction
function InitTrig_player_1ally9 takes nothing returns nothing
set gg_trg_player_1ally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1ally9,Player(0),"-ally akatsuki1",true)
call TriggerAddAction(gg_trg_player_1ally9,function Trig_player_1ally9_Actions)
endfunction
function Trig_player_1unally9_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(0),Player(8),0)
call SetPlayerAllianceStateBJ(Player(8),Player(0),0)
endfunction
function InitTrig_player_1unally9 takes nothing returns nothing
set gg_trg_player_1unally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1unally9,Player(0),"-unally akatsuki1",true)
call TriggerAddAction(gg_trg_player_1unally9,function Trig_player_1unally9_Actions)
endfunction
function Trig_player_1ally10_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(0),Player(9),2)
endfunction
function InitTrig_player_1ally10 takes nothing returns nothing
set gg_trg_player_1ally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1ally10,Player(0),"-ally akatsuki2",true)
call TriggerAddAction(gg_trg_player_1ally10,function Trig_player_1ally10_Actions)
endfunction
function Trig_player_1unally10_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(0),Player(9),0)
call SetPlayerAllianceStateBJ(Player(9),Player(0),0)
endfunction
function InitTrig_player_1unally10 takes nothing returns nothing
set gg_trg_player_1unally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1unally10,Player(0),"-unally akatsuki2",true)
call TriggerAddAction(gg_trg_player_1unally10,function Trig_player_1unally10_Actions)
endfunction
function Trig_player_1ally11_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(0),Player($A),2)
endfunction
function InitTrig_player_1ally11 takes nothing returns nothing
set gg_trg_player_1ally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1ally11,Player(0),"-ally akatsuki3",true)
call TriggerAddAction(gg_trg_player_1ally11,function Trig_player_1ally11_Actions)
endfunction
function Trig_player_1unally11_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(0),Player($A),0)
call SetPlayerAllianceStateBJ(Player($A),Player(0),0)
endfunction
function InitTrig_player_1unally11 takes nothing returns nothing
set gg_trg_player_1unally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1unally11,Player(0),"-unally akatsuki3",true)
call TriggerAddAction(gg_trg_player_1unally11,function Trig_player_1unally11_Actions)
endfunction
function Trig_player_1allyKonoha_Func001C takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_hcas_0038))
endfunction
function Trig_player_1allyKonoha_Actions takes nothing returns nothing
if(Trig_player_1allyKonoha_Func001C())then
call SetPlayerAllianceStateBJ(Player(0),Player(4),2)
call SetPlayerAllianceStateBJ(Player(4),Player(0),2)
else
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"Главное здание разрушено, союз невозможен.")
endif
endfunction
function InitTrig_player_1allyKonoha takes nothing returns nothing
set gg_trg_player_1allyKonoha=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1allyKonoha,Player(0),"-ally konoha",true)
call TriggerAddAction(gg_trg_player_1allyKonoha,function Trig_player_1allyKonoha_Actions)
endfunction
function Trig_player_1unallyKonoha_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(0),Player(4),0)
call SetPlayerAllianceStateBJ(Player(4),Player(0),0)
endfunction
function InitTrig_player_1unallyKonoha takes nothing returns nothing
set gg_trg_player_1unallyKonoha=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1unallyKonoha,Player(0),"-unally konoha",true)
call TriggerAddAction(gg_trg_player_1unallyKonoha,function Trig_player_1unallyKonoha_Actions)
endfunction
function Trig_player_2ally1_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(1),Player(0),2)
endfunction
function InitTrig_player_2ally1 takes nothing returns nothing
set gg_trg_player_2ally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2ally1,Player(1),"-ally konoha1",true)
call TriggerAddAction(gg_trg_player_2ally1,function Trig_player_2ally1_Actions)
endfunction
function Trig_player_2unally1_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(1),Player(0),0)
call SetPlayerAllianceStateBJ(Player(0),Player(1),0)
endfunction
function InitTrig_player_2unally1 takes nothing returns nothing
set gg_trg_player_2unally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2unally1,Player(1),"-unally konoha1",true)
call TriggerAddAction(gg_trg_player_2unally1,function Trig_player_2unally1_Actions)
endfunction
function Trig_player_2ally3_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(1),Player(2),2)
endfunction
function InitTrig_player_2ally3 takes nothing returns nothing
set gg_trg_player_2ally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2ally3,Player(1),"-ally konoha3",true)
call TriggerAddAction(gg_trg_player_2ally3,function Trig_player_2ally3_Actions)
endfunction
function Trig_player_2unally3_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(1),Player(2),0)
call SetPlayerAllianceStateBJ(Player(2),Player(1),0)
endfunction
function InitTrig_player_2unally3 takes nothing returns nothing
set gg_trg_player_2unally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2unally3,Player(1),"-unally konoha3",true)
call TriggerAddAction(gg_trg_player_2unally3,function Trig_player_2unally3_Actions)
endfunction
function Trig_player_2ally4_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(1),Player(3),2)
endfunction
function InitTrig_player_2ally4 takes nothing returns nothing
set gg_trg_player_2ally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2ally4,Player(1),"-ally sound1",true)
call TriggerAddAction(gg_trg_player_2ally4,function Trig_player_2ally4_Actions)
endfunction
function Trig_player_2unally4_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(1),Player(3),0)
call SetPlayerAllianceStateBJ(Player(3),Player(1),0)
endfunction
function InitTrig_player_2unally4 takes nothing returns nothing
set gg_trg_player_2unally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2unally4,Player(1),"-unally sound1",true)
call TriggerAddAction(gg_trg_player_2unally4,function Trig_player_2unally4_Actions)
endfunction
function Trig_player_2ally6_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(1),Player(5),2)
endfunction
function InitTrig_player_2ally6 takes nothing returns nothing
set gg_trg_player_2ally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2ally6,Player(1),"-ally sound2",true)
call TriggerAddAction(gg_trg_player_2ally6,function Trig_player_2ally6_Actions)
endfunction
function Trig_player_2unally6_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(1),Player(5),0)
call SetPlayerAllianceStateBJ(Player(5),Player(1),0)
endfunction
function InitTrig_player_2unally6 takes nothing returns nothing
set gg_trg_player_2unally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2unally6,Player(1),"-unally sound2",true)
call TriggerAddAction(gg_trg_player_2unally6,function Trig_player_2unally6_Actions)
endfunction
function Trig_player_2ally7_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(1),Player(6),2)
endfunction
function InitTrig_player_2ally7 takes nothing returns nothing
set gg_trg_player_2ally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2ally7,Player(1),"-ally sound3",true)
call TriggerAddAction(gg_trg_player_2ally7,function Trig_player_2ally7_Actions)
endfunction
function Trig_player_2unally7_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(1),Player(6),0)
call SetPlayerAllianceStateBJ(Player(6),Player(1),0)
endfunction
function InitTrig_player_2unally7 takes nothing returns nothing
set gg_trg_player_2unally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2unally7,Player(1),"-unally sound3",true)
call TriggerAddAction(gg_trg_player_2unally7,function Trig_player_2unally7_Actions)
endfunction
function Trig_player_2ally9_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(1),Player(8),2)
endfunction
function InitTrig_player_2ally9 takes nothing returns nothing
set gg_trg_player_2ally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2ally9,Player(1),"-ally akatsuki1",true)
call TriggerAddAction(gg_trg_player_2ally9,function Trig_player_2ally9_Actions)
endfunction
function Trig_player_2unally9_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(1),Player(8),0)
call SetPlayerAllianceStateBJ(Player(8),Player(1),0)
endfunction
function InitTrig_player_2unally9 takes nothing returns nothing
set gg_trg_player_2unally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2unally9,Player(1),"-unally akatsuki1",true)
call TriggerAddAction(gg_trg_player_2unally9,function Trig_player_2unally9_Actions)
endfunction
function Trig_player_2ally10_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(1),Player(9),2)
endfunction
function InitTrig_player_2ally10 takes nothing returns nothing
set gg_trg_player_2ally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2ally10,Player(1),"-ally akatsuki2",true)
call TriggerAddAction(gg_trg_player_2ally10,function Trig_player_2ally10_Actions)
endfunction
function Trig_player_2unally10_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(1),Player(9),0)
call SetPlayerAllianceStateBJ(Player(9),Player(1),0)
endfunction
function InitTrig_player_2unally10 takes nothing returns nothing
set gg_trg_player_2unally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2unally10,Player(1),"-unally akatsuki2",true)
call TriggerAddAction(gg_trg_player_2unally10,function Trig_player_2unally10_Actions)
endfunction
function Trig_player_2ally11_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(1),Player($A),2)
endfunction
function InitTrig_player_2ally11 takes nothing returns nothing
set gg_trg_player_2ally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2ally11,Player(1),"-ally akatsuki3",true)
call TriggerAddAction(gg_trg_player_2ally11,function Trig_player_2ally11_Actions)
endfunction
function Trig_player_2unally11_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(1),Player($A),0)
call SetPlayerAllianceStateBJ(Player($A),Player(1),0)
endfunction
function InitTrig_player_2unally11 takes nothing returns nothing
set gg_trg_player_2unally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2unally11,Player(1),"-unally akatsuki3",true)
call TriggerAddAction(gg_trg_player_2unally11,function Trig_player_2unally11_Actions)
endfunction
function Trig_player_2allyKonoha_Func001C takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_hcas_0038))
endfunction
function Trig_player_2allyKonoha_Actions takes nothing returns nothing
if(Trig_player_2allyKonoha_Func001C())then
call SetPlayerAllianceStateBJ(Player(1),Player(4),2)
call SetPlayerAllianceStateBJ(Player(4),Player(1),2)
else
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"Главное здание разрушено, союз невозможен.")
endif
endfunction
function InitTrig_player_2allyKonoha takes nothing returns nothing
set gg_trg_player_2allyKonoha=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2allyKonoha,Player(1),"-ally konoha",true)
call TriggerAddAction(gg_trg_player_2allyKonoha,function Trig_player_2allyKonoha_Actions)
endfunction
function Trig_player_2unallyKonoha_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(1),Player(4),0)
call SetPlayerAllianceStateBJ(Player(4),Player(1),0)
endfunction
function InitTrig_player_2unallyKonoha takes nothing returns nothing
set gg_trg_player_2unallyKonoha=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2unallyKonoha,Player(1),"-unally konoha",true)
call TriggerAddAction(gg_trg_player_2unallyKonoha,function Trig_player_2unallyKonoha_Actions)
endfunction
function Trig_player_3ally1_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(2),Player(0),2)
endfunction
function InitTrig_player_3ally1 takes nothing returns nothing
set gg_trg_player_3ally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3ally1,Player(2),"-ally konoha1",true)
call TriggerAddAction(gg_trg_player_3ally1,function Trig_player_3ally1_Actions)
endfunction
function Trig_player_3unally1_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(2),Player(0),0)
call SetPlayerAllianceStateBJ(Player(0),Player(2),0)
endfunction
function InitTrig_player_3unally1 takes nothing returns nothing
set gg_trg_player_3unally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3unally1,Player(2),"-unally konoha1",true)
call TriggerAddAction(gg_trg_player_3unally1,function Trig_player_3unally1_Actions)
endfunction
function Trig_player_3ally2_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(2),Player(1),2)
endfunction
function InitTrig_player_3ally2 takes nothing returns nothing
set gg_trg_player_3ally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3ally2,Player(2),"-ally konoha2",true)
call TriggerAddAction(gg_trg_player_3ally2,function Trig_player_3ally2_Actions)
endfunction
function Trig_player_3unally2_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(2),Player(1),0)
call SetPlayerAllianceStateBJ(Player(1),Player(2),0)
endfunction
function InitTrig_player_3unally2 takes nothing returns nothing
set gg_trg_player_3unally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3unally2,Player(2),"-unally konoha2",true)
call TriggerAddAction(gg_trg_player_3unally2,function Trig_player_3unally2_Actions)
endfunction
function Trig_player_3ally4_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(2),Player(3),2)
endfunction
function InitTrig_player_3ally4 takes nothing returns nothing
set gg_trg_player_3ally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3ally4,Player(2),"-ally sound1",true)
call TriggerAddAction(gg_trg_player_3ally4,function Trig_player_3ally4_Actions)
endfunction
function Trig_player_3unally4_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(2),Player(3),0)
call SetPlayerAllianceStateBJ(Player(3),Player(2),0)
endfunction
function InitTrig_player_3unally4 takes nothing returns nothing
set gg_trg_player_3unally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3unally4,Player(2),"-unally sound1",true)
call TriggerAddAction(gg_trg_player_3unally4,function Trig_player_3unally4_Actions)
endfunction
function Trig_player_3ally6_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(1),Player(5),2)
endfunction
function InitTrig_player_3ally6 takes nothing returns nothing
set gg_trg_player_3ally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3ally6,Player(1),"-ally sound2",true)
call TriggerAddAction(gg_trg_player_3ally6,function Trig_player_3ally6_Actions)
endfunction
function Trig_player_3unally6_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(2),Player(5),0)
call SetPlayerAllianceStateBJ(Player(5),Player(2),0)
endfunction
function InitTrig_player_3unally6 takes nothing returns nothing
set gg_trg_player_3unally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3unally6,Player(2),"-unally sound2",true)
call TriggerAddAction(gg_trg_player_3unally6,function Trig_player_3unally6_Actions)
endfunction
function Trig_player_3ally7_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(2),Player(6),2)
endfunction
function InitTrig_player_3ally7 takes nothing returns nothing
set gg_trg_player_3ally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3ally7,Player(2),"-ally sound3",true)
call TriggerAddAction(gg_trg_player_3ally7,function Trig_player_3ally7_Actions)
endfunction
function Trig_player_3unally7_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(2),Player(6),0)
call SetPlayerAllianceStateBJ(Player(6),Player(2),0)
endfunction
function InitTrig_player_3unally7 takes nothing returns nothing
set gg_trg_player_3unally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3unally7,Player(2),"-unally sound3",true)
call TriggerAddAction(gg_trg_player_3unally7,function Trig_player_3unally7_Actions)
endfunction
function Trig_player_3ally9_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(2),Player(8),2)
endfunction
function InitTrig_player_3ally9 takes nothing returns nothing
set gg_trg_player_3ally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3ally9,Player(2),"-ally akatsuki1",true)
call TriggerAddAction(gg_trg_player_3ally9,function Trig_player_3ally9_Actions)
endfunction
function Trig_player_3unally9_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(2),Player(8),0)
call SetPlayerAllianceStateBJ(Player(8),Player(2),0)
endfunction
function InitTrig_player_3unally9 takes nothing returns nothing
set gg_trg_player_3unally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3unally9,Player(2),"-unally akatsuki1",true)
call TriggerAddAction(gg_trg_player_3unally9,function Trig_player_3unally9_Actions)
endfunction
function Trig_player_3ally10_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(2),Player(9),2)
endfunction
function InitTrig_player_3ally10 takes nothing returns nothing
set gg_trg_player_3ally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3ally10,Player(2),"-ally akatsuki2",true)
call TriggerAddAction(gg_trg_player_3ally10,function Trig_player_3ally10_Actions)
endfunction
function Trig_player_3unally10_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(2),Player(9),0)
call SetPlayerAllianceStateBJ(Player(9),Player(2),0)
endfunction
function InitTrig_player_3unally10 takes nothing returns nothing
set gg_trg_player_3unally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3unally10,Player(2),"-unally akatsuki2",true)
call TriggerAddAction(gg_trg_player_3unally10,function Trig_player_3unally10_Actions)
endfunction
function Trig_player_3ally11_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(2),Player($A),2)
endfunction
function InitTrig_player_3ally11 takes nothing returns nothing
set gg_trg_player_3ally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3ally11,Player(2),"-ally akatsuki3",true)
call TriggerAddAction(gg_trg_player_3ally11,function Trig_player_3ally11_Actions)
endfunction
function Trig_player_3unally11_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(2),Player($A),0)
call SetPlayerAllianceStateBJ(Player($A),Player(2),0)
endfunction
function InitTrig_player_3unally11 takes nothing returns nothing
set gg_trg_player_3unally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3unally11,Player(2),"-unally akatsuki3",true)
call TriggerAddAction(gg_trg_player_3unally11,function Trig_player_3unally11_Actions)
endfunction
function Trig_player_3allyKonoha_Func001C takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_hcas_0038))
endfunction
function Trig_player_3allyKonoha_Actions takes nothing returns nothing
if(Trig_player_3allyKonoha_Func001C())then
call SetPlayerAllianceStateBJ(Player(2),Player(4),2)
call SetPlayerAllianceStateBJ(Player(4),Player(2),2)
else
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"Главное здание разрушено, союз невозможен.")
endif
endfunction
function InitTrig_player_3allyKonoha takes nothing returns nothing
set gg_trg_player_3allyKonoha=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3allyKonoha,Player(2),"-ally konoha",true)
call TriggerAddAction(gg_trg_player_3allyKonoha,function Trig_player_3allyKonoha_Actions)
endfunction
function Trig_player_3unallyKonoha_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(2),Player(4),0)
call SetPlayerAllianceStateBJ(Player(4),Player(2),0)
endfunction
function InitTrig_player_3unallyKonoha takes nothing returns nothing
set gg_trg_player_3unallyKonoha=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3unallyKonoha,Player(2),"-unally konoha",true)
call TriggerAddAction(gg_trg_player_3unallyKonoha,function Trig_player_3unallyKonoha_Actions)
endfunction
function Trig_player_4ally1_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(3),Player(0),2)
endfunction
function InitTrig_player_4ally1 takes nothing returns nothing
set gg_trg_player_4ally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4ally1,Player(3),"-ally konoha1",true)
call TriggerAddAction(gg_trg_player_4ally1,function Trig_player_4ally1_Actions)
endfunction
function Trig_player_4unally1_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(3),Player(0),0)
call SetPlayerAllianceStateBJ(Player(0),Player(3),0)
endfunction
function InitTrig_player_4unally1 takes nothing returns nothing
set gg_trg_player_4unally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4unally1,Player(3),"-unally konoha1",true)
call TriggerAddAction(gg_trg_player_4unally1,function Trig_player_4unally1_Actions)
endfunction
function Trig_player_4ally2_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(3),Player(1),2)
endfunction
function InitTrig_player_4ally2 takes nothing returns nothing
set gg_trg_player_4ally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4ally2,Player(3),"-ally konoha2",true)
call TriggerAddAction(gg_trg_player_4ally2,function Trig_player_4ally2_Actions)
endfunction
function Trig_player_4unally2_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(3),Player(1),0)
call SetPlayerAllianceStateBJ(Player(1),Player(3),0)
endfunction
function InitTrig_player_4unally2 takes nothing returns nothing
set gg_trg_player_4unally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4unally2,Player(3),"-unally konoha2",true)
call TriggerAddAction(gg_trg_player_4unally2,function Trig_player_4unally2_Actions)
endfunction
function Trig_player_4ally3_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(3),Player(2),2)
endfunction
function InitTrig_player_4ally3 takes nothing returns nothing
set gg_trg_player_4ally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4ally3,Player(3),"-ally konoha3",true)
call TriggerAddAction(gg_trg_player_4ally3,function Trig_player_4ally3_Actions)
endfunction
function Trig_player_4unally3_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(3),Player(2),0)
call SetPlayerAllianceStateBJ(Player(2),Player(3),0)
endfunction
function InitTrig_player_4unally3 takes nothing returns nothing
set gg_trg_player_4unally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4unally3,Player(3),"-unally konoha3",true)
call TriggerAddAction(gg_trg_player_4unally3,function Trig_player_4unally3_Actions)
endfunction
function Trig_player_4ally6_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(3),Player(5),2)
endfunction
function InitTrig_player_4ally6 takes nothing returns nothing
set gg_trg_player_4ally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4ally6,Player(3),"-ally sound2",true)
call TriggerAddAction(gg_trg_player_4ally6,function Trig_player_4ally6_Actions)
endfunction
function Trig_player_4unally6_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(3),Player(5),0)
call SetPlayerAllianceStateBJ(Player(5),Player(3),0)
endfunction
function InitTrig_player_4unally6 takes nothing returns nothing
set gg_trg_player_4unally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4unally6,Player(3),"-unally sound2",true)
call TriggerAddAction(gg_trg_player_4unally6,function Trig_player_4unally6_Actions)
endfunction
function Trig_player_4ally7_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(3),Player(6),2)
endfunction
function InitTrig_player_4ally7 takes nothing returns nothing
set gg_trg_player_4ally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4ally7,Player(3),"-ally sound3",true)
call TriggerAddAction(gg_trg_player_4ally7,function Trig_player_4ally7_Actions)
endfunction
function Trig_player_4unally7_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(3),Player(6),0)
call SetPlayerAllianceStateBJ(Player(6),Player(3),0)
endfunction
function InitTrig_player_4unally7 takes nothing returns nothing
set gg_trg_player_4unally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4unally7,Player(3),"-unally sound3",true)
call TriggerAddAction(gg_trg_player_4unally7,function Trig_player_4unally7_Actions)
endfunction
function Trig_player_4ally9_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(3),Player(8),2)
endfunction
function InitTrig_player_4ally9 takes nothing returns nothing
set gg_trg_player_4ally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4ally9,Player(3),"-ally akatsuki1",true)
call TriggerAddAction(gg_trg_player_4ally9,function Trig_player_4ally9_Actions)
endfunction
function Trig_player_4unally9_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(3),Player(8),0)
call SetPlayerAllianceStateBJ(Player(8),Player(3),0)
endfunction
function InitTrig_player_4unally9 takes nothing returns nothing
set gg_trg_player_4unally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4unally9,Player(3),"-unally akatsuki1",true)
call TriggerAddAction(gg_trg_player_4unally9,function Trig_player_4unally9_Actions)
endfunction
function Trig_player_4ally10_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(3),Player(9),2)
endfunction
function InitTrig_player_4ally10 takes nothing returns nothing
set gg_trg_player_4ally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4ally10,Player(3),"-ally akatsuki2",true)
call TriggerAddAction(gg_trg_player_4ally10,function Trig_player_4ally10_Actions)
endfunction
function Trig_player_4unally10_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(3),Player(9),0)
call SetPlayerAllianceStateBJ(Player(9),Player(3),0)
endfunction
function InitTrig_player_4unally10 takes nothing returns nothing
set gg_trg_player_4unally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4unally10,Player(3),"-unally akatsuki2",true)
call TriggerAddAction(gg_trg_player_4unally10,function Trig_player_4unally10_Actions)
endfunction
function Trig_player_4ally11_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(3),Player($A),2)
endfunction
function InitTrig_player_4ally11 takes nothing returns nothing
set gg_trg_player_4ally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4ally11,Player(3),"-ally akatsuki3",true)
call TriggerAddAction(gg_trg_player_4ally11,function Trig_player_4ally11_Actions)
endfunction
function Trig_player_4unally11_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(3),Player($A),0)
call SetPlayerAllianceStateBJ(Player($A),Player(3),0)
endfunction
function InitTrig_player_4unally11 takes nothing returns nothing
set gg_trg_player_4unally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4unally11,Player(3),"-unally akatsuki3",true)
call TriggerAddAction(gg_trg_player_4unally11,function Trig_player_4unally11_Actions)
endfunction
function Trig_player_4allySound_Func001C takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_h01N_0039))
endfunction
function Trig_player_4allySound_Actions takes nothing returns nothing
if(Trig_player_4allySound_Func001C())then
call SetPlayerAllianceStateBJ(Player(3),Player(7),2)
call SetPlayerAllianceStateBJ(Player(7),Player(3),2)
else
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"Обелиск уничтожен, союз невозможен.")
endif
endfunction
function InitTrig_player_4allySound takes nothing returns nothing
set gg_trg_player_4allySound=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4allySound,Player(3),"-ally sound",true)
call TriggerAddAction(gg_trg_player_4allySound,function Trig_player_4allySound_Actions)
endfunction
function Trig_player_4unallySound_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(3),Player(7),0)
call SetPlayerAllianceStateBJ(Player(7),Player(3),0)
endfunction
function InitTrig_player_4unallySound takes nothing returns nothing
set gg_trg_player_4unallySound=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4unallySound,Player(3),"-unally sound",true)
call TriggerAddAction(gg_trg_player_4unallySound,function Trig_player_4unallySound_Actions)
endfunction
function Trig_player_6ally1_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(5),Player(0),2)
endfunction
function InitTrig_player_6ally1 takes nothing returns nothing
set gg_trg_player_6ally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6ally1,Player(5),"-ally konoha1",true)
call TriggerAddAction(gg_trg_player_6ally1,function Trig_player_6ally1_Actions)
endfunction
function Trig_player_6unally1_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(5),Player(0),0)
call SetPlayerAllianceStateBJ(Player(0),Player(5),0)
endfunction
function InitTrig_player_6unally1 takes nothing returns nothing
set gg_trg_player_6unally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6unally1,Player(5),"-unally konoha1",true)
call TriggerAddAction(gg_trg_player_6unally1,function Trig_player_6unally1_Actions)
endfunction
function Trig_player_6ally2_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(5),Player(1),2)
endfunction
function InitTrig_player_6ally2 takes nothing returns nothing
set gg_trg_player_6ally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6ally2,Player(5),"-ally konoha2",true)
call TriggerAddAction(gg_trg_player_6ally2,function Trig_player_6ally2_Actions)
endfunction
function Trig_player_6unally2_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(5),Player(1),0)
call SetPlayerAllianceStateBJ(Player(1),Player(5),0)
endfunction
function InitTrig_player_6unally2 takes nothing returns nothing
set gg_trg_player_6unally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6unally2,Player(5),"-unally konoha2",true)
call TriggerAddAction(gg_trg_player_6unally2,function Trig_player_6unally2_Actions)
endfunction
function Trig_player_6ally3_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(5),Player(2),2)
endfunction
function InitTrig_player_6ally3 takes nothing returns nothing
set gg_trg_player_6ally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6ally3,Player(5),"-ally konoha3",true)
call TriggerAddAction(gg_trg_player_6ally3,function Trig_player_6ally3_Actions)
endfunction
function Trig_player_6unally3_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(5),Player(2),0)
call SetPlayerAllianceStateBJ(Player(2),Player(5),0)
endfunction
function InitTrig_player_6unally3 takes nothing returns nothing
set gg_trg_player_6unally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6unally3,Player(5),"-unally konoha3",true)
call TriggerAddAction(gg_trg_player_6unally3,function Trig_player_6unally3_Actions)
endfunction
function Trig_player_6ally4_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(5),Player(3),2)
endfunction
function InitTrig_player_6ally4 takes nothing returns nothing
set gg_trg_player_6ally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6ally4,Player(5),"-ally sound1",true)
call TriggerAddAction(gg_trg_player_6ally4,function Trig_player_6ally4_Actions)
endfunction
function Trig_player_6unally4_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(5),Player(3),0)
call SetPlayerAllianceStateBJ(Player(3),Player(5),0)
endfunction
function InitTrig_player_6unally4 takes nothing returns nothing
set gg_trg_player_6unally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6unally4,Player(5),"-unally sound1",true)
call TriggerAddAction(gg_trg_player_6unally4,function Trig_player_6unally4_Actions)
endfunction
function Trig_player_6ally7_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(5),Player(6),2)
endfunction
function InitTrig_player_6ally7 takes nothing returns nothing
set gg_trg_player_6ally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6ally7,Player(5),"-ally sound3",true)
call TriggerAddAction(gg_trg_player_6ally7,function Trig_player_6ally7_Actions)
endfunction
function Trig_player_6unally7_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(5),Player(6),0)
call SetPlayerAllianceStateBJ(Player(6),Player(5),0)
endfunction
function InitTrig_player_6unally7 takes nothing returns nothing
set gg_trg_player_6unally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6unally7,Player(5),"-unally sound3",true)
call TriggerAddAction(gg_trg_player_6unally7,function Trig_player_6unally7_Actions)
endfunction
function Trig_player_6ally9_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(5),Player(8),2)
endfunction
function InitTrig_player_6ally9 takes nothing returns nothing
set gg_trg_player_6ally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6ally9,Player(5),"-ally akatsuki1",true)
call TriggerAddAction(gg_trg_player_6ally9,function Trig_player_6ally9_Actions)
endfunction
function Trig_player_6unally9_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(5),Player(8),0)
call SetPlayerAllianceStateBJ(Player(8),Player(5),0)
endfunction
function InitTrig_player_6unally9 takes nothing returns nothing
set gg_trg_player_6unally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6unally9,Player(5),"-unally akatsuki1",true)
call TriggerAddAction(gg_trg_player_6unally9,function Trig_player_6unally9_Actions)
endfunction
function Trig_player_6ally10_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(5),Player(9),2)
endfunction
function InitTrig_player_6ally10 takes nothing returns nothing
set gg_trg_player_6ally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6ally10,Player(5),"-ally akatsuki2",true)
call TriggerAddAction(gg_trg_player_6ally10,function Trig_player_6ally10_Actions)
endfunction
function Trig_player_6unally10_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(5),Player(9),0)
call SetPlayerAllianceStateBJ(Player(9),Player(5),0)
endfunction
function InitTrig_player_6unally10 takes nothing returns nothing
set gg_trg_player_6unally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6unally10,Player(5),"-unally akatsuki2",true)
call TriggerAddAction(gg_trg_player_6unally10,function Trig_player_6unally10_Actions)
endfunction
function Trig_player_6ally11_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(5),Player($A),2)
endfunction
function InitTrig_player_6ally11 takes nothing returns nothing
set gg_trg_player_6ally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6ally11,Player(5),"-ally akatsuki3",true)
call TriggerAddAction(gg_trg_player_6ally11,function Trig_player_6ally11_Actions)
endfunction
function Trig_player_6unally11_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(5),Player($A),0)
call SetPlayerAllianceStateBJ(Player($A),Player(5),0)
endfunction
function InitTrig_player_6unally11 takes nothing returns nothing
set gg_trg_player_6unally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6unally11,Player(5),"-unally akatsuki3",true)
call TriggerAddAction(gg_trg_player_6unally11,function Trig_player_6unally11_Actions)
endfunction
function Trig_player_6allySound_Func001C takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_h01N_0039))
endfunction
function Trig_player_6allySound_Actions takes nothing returns nothing
if(Trig_player_6allySound_Func001C())then
call SetPlayerAllianceStateBJ(Player(5),Player(7),2)
call SetPlayerAllianceStateBJ(Player(7),Player(5),2)
else
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"Обелиск уничтожен, союз невозможен.")
endif
endfunction
function InitTrig_player_6allySound takes nothing returns nothing
set gg_trg_player_6allySound=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6allySound,Player(5),"-ally sound",true)
call TriggerAddAction(gg_trg_player_6allySound,function Trig_player_6allySound_Actions)
endfunction
function Trig_player_6unallySound_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(5),Player(7),0)
call SetPlayerAllianceStateBJ(Player(7),Player(5),0)
endfunction
function InitTrig_player_6unallySound takes nothing returns nothing
set gg_trg_player_6unallySound=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6unallySound,Player(5),"-unally sound",true)
call TriggerAddAction(gg_trg_player_6unallySound,function Trig_player_6unallySound_Actions)
endfunction
function Trig_player_7ally1_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(6),Player(0),2)
endfunction
function InitTrig_player_7ally1 takes nothing returns nothing
set gg_trg_player_7ally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7ally1,Player(6),"-ally konoha1",true)
call TriggerAddAction(gg_trg_player_7ally1,function Trig_player_7ally1_Actions)
endfunction
function Trig_player_7unally1_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(6),Player(0),0)
call SetPlayerAllianceStateBJ(Player(0),Player(6),0)
endfunction
function InitTrig_player_7unally1 takes nothing returns nothing
set gg_trg_player_7unally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7unally1,Player(6),"-unally konoha1",true)
call TriggerAddAction(gg_trg_player_7unally1,function Trig_player_7unally1_Actions)
endfunction
function Trig_player_7ally2_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(6),Player(1),2)
endfunction
function InitTrig_player_7ally2 takes nothing returns nothing
set gg_trg_player_7ally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7ally2,Player(6),"-ally konoha2",true)
call TriggerAddAction(gg_trg_player_7ally2,function Trig_player_7ally2_Actions)
endfunction
function Trig_player_7unally2_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(6),Player(1),0)
call SetPlayerAllianceStateBJ(Player(1),Player(6),0)
endfunction
function InitTrig_player_7unally2 takes nothing returns nothing
set gg_trg_player_7unally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7unally2,Player(6),"-unally konoha2",true)
call TriggerAddAction(gg_trg_player_7unally2,function Trig_player_7unally2_Actions)
endfunction
function Trig_player_7ally3_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(6),Player(2),2)
endfunction
function InitTrig_player_7ally3 takes nothing returns nothing
set gg_trg_player_7ally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7ally3,Player(6),"-ally konoha3",true)
call TriggerAddAction(gg_trg_player_7ally3,function Trig_player_7ally3_Actions)
endfunction
function Trig_player_7unally3_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(6),Player(2),0)
call SetPlayerAllianceStateBJ(Player(2),Player(6),0)
endfunction
function InitTrig_player_7unally3 takes nothing returns nothing
set gg_trg_player_7unally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7unally3,Player(6),"-unally konoha3",true)
call TriggerAddAction(gg_trg_player_7unally3,function Trig_player_7unally3_Actions)
endfunction
function Trig_player_7ally4_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(6),Player(3),2)
endfunction
function InitTrig_player_7ally4 takes nothing returns nothing
set gg_trg_player_7ally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7ally4,Player(6),"-ally sound1",true)
call TriggerAddAction(gg_trg_player_7ally4,function Trig_player_7ally4_Actions)
endfunction
function Trig_player_7unally4_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(6),Player(3),0)
call SetPlayerAllianceStateBJ(Player(3),Player(6),0)
endfunction
function InitTrig_player_7unally4 takes nothing returns nothing
set gg_trg_player_7unally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7unally4,Player(6),"-unally sound1",true)
call TriggerAddAction(gg_trg_player_7unally4,function Trig_player_7unally4_Actions)
endfunction
function Trig_player_7ally6_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(6),Player(5),2)
endfunction
function InitTrig_player_7ally6 takes nothing returns nothing
set gg_trg_player_7ally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7ally6,Player(6),"-ally sound2",true)
call TriggerAddAction(gg_trg_player_7ally6,function Trig_player_7ally6_Actions)
endfunction
function Trig_player_7unally6_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(6),Player(5),0)
call SetPlayerAllianceStateBJ(Player(5),Player(6),0)
endfunction
function InitTrig_player_7unally6 takes nothing returns nothing
set gg_trg_player_7unally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7unally6,Player(6),"-unally sound2",true)
call TriggerAddAction(gg_trg_player_7unally6,function Trig_player_7unally6_Actions)
endfunction
function Trig_player_7ally9_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(6),Player(8),2)
endfunction
function InitTrig_player_7ally9 takes nothing returns nothing
set gg_trg_player_7ally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7ally9,Player(6),"-ally akatsuki1",true)
call TriggerAddAction(gg_trg_player_7ally9,function Trig_player_7ally9_Actions)
endfunction
function Trig_player_7unally9_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(6),Player(8),0)
call SetPlayerAllianceStateBJ(Player(8),Player(6),0)
endfunction
function InitTrig_player_7unally9 takes nothing returns nothing
set gg_trg_player_7unally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7unally9,Player(6),"-unally akatsuki1",true)
call TriggerAddAction(gg_trg_player_7unally9,function Trig_player_7unally9_Actions)
endfunction
function Trig_player_7ally10_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(6),Player(9),2)
endfunction
function InitTrig_player_7ally10 takes nothing returns nothing
set gg_trg_player_7ally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7ally10,Player(6),"-ally akatsuki2",true)
call TriggerAddAction(gg_trg_player_7ally10,function Trig_player_7ally10_Actions)
endfunction
function Trig_player_7unally10_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(6),Player(9),0)
call SetPlayerAllianceStateBJ(Player(9),Player(6),0)
endfunction
function InitTrig_player_7unally10 takes nothing returns nothing
set gg_trg_player_7unally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7unally10,Player(6),"-unally akatsuki2",true)
call TriggerAddAction(gg_trg_player_7unally10,function Trig_player_7unally10_Actions)
endfunction
function Trig_player_7ally11_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(6),Player($A),2)
endfunction
function InitTrig_player_7ally11 takes nothing returns nothing
set gg_trg_player_7ally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7ally11,Player(6),"-ally akatsuki3",true)
call TriggerAddAction(gg_trg_player_7ally11,function Trig_player_7ally11_Actions)
endfunction
function Trig_player_7unally11_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(6),Player($A),0)
call SetPlayerAllianceStateBJ(Player($A),Player(6),0)
endfunction
function InitTrig_player_7unally11 takes nothing returns nothing
set gg_trg_player_7unally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7unally11,Player(6),"-unally akatsuki3",true)
call TriggerAddAction(gg_trg_player_7unally11,function Trig_player_7unally11_Actions)
endfunction
function Trig_player_7allySound_Func001C takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_h01N_0039))
endfunction
function Trig_player_7allySound_Actions takes nothing returns nothing
if(Trig_player_7allySound_Func001C())then
call SetPlayerAllianceStateBJ(Player(6),Player(7),2)
call SetPlayerAllianceStateBJ(Player(7),Player(6),2)
else
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"Обелиск уничтожен, союз невозможен.")
endif
endfunction
function InitTrig_player_7allySound takes nothing returns nothing
set gg_trg_player_7allySound=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7allySound,Player(6),"-ally sound",true)
call TriggerAddAction(gg_trg_player_7allySound,function Trig_player_7allySound_Actions)
endfunction
function Trig_player_7unallySound_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(6),Player(7),0)
call SetPlayerAllianceStateBJ(Player(7),Player(6),0)
endfunction
function InitTrig_player_7unallySound takes nothing returns nothing
set gg_trg_player_7unallySound=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7unallySound,Player(6),"-unally sound",true)
call TriggerAddAction(gg_trg_player_7unallySound,function Trig_player_7unallySound_Actions)
endfunction
function Trig_player_9ally1_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(8),Player(0),2)
endfunction
function InitTrig_player_9ally1 takes nothing returns nothing
set gg_trg_player_9ally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9ally1,Player(8),"-ally konoha1",true)
call TriggerAddAction(gg_trg_player_9ally1,function Trig_player_9ally1_Actions)
endfunction
function Trig_player_9unally1_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(8),Player(0),0)
call SetPlayerAllianceStateBJ(Player(0),Player(8),0)
endfunction
function InitTrig_player_9unally1 takes nothing returns nothing
set gg_trg_player_9unally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9unally1,Player(8),"-unally konoha1",true)
call TriggerAddAction(gg_trg_player_9unally1,function Trig_player_9unally1_Actions)
endfunction
function Trig_player_9ally2_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(8),Player(1),2)
endfunction
function InitTrig_player_9ally2 takes nothing returns nothing
set gg_trg_player_9ally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9ally2,Player(8),"-ally konoha2",true)
call TriggerAddAction(gg_trg_player_9ally2,function Trig_player_9ally2_Actions)
endfunction
function Trig_player_9unally2_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(8),Player(1),0)
call SetPlayerAllianceStateBJ(Player(1),Player(8),0)
endfunction
function InitTrig_player_9unally2 takes nothing returns nothing
set gg_trg_player_9unally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9unally2,Player(8),"-unally konoha2",true)
call TriggerAddAction(gg_trg_player_9unally2,function Trig_player_9unally2_Actions)
endfunction
function Trig_player_9ally3_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(8),Player(2),2)
endfunction
function InitTrig_player_9ally3 takes nothing returns nothing
set gg_trg_player_9ally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9ally3,Player(8),"-ally konoha3",true)
call TriggerAddAction(gg_trg_player_9ally3,function Trig_player_9ally3_Actions)
endfunction
function Trig_player_9unally3_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(8),Player(2),0)
call SetPlayerAllianceStateBJ(Player(2),Player(8),0)
endfunction
function InitTrig_player_9unally3 takes nothing returns nothing
set gg_trg_player_9unally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9unally3,Player(8),"-unally konoha3",true)
call TriggerAddAction(gg_trg_player_9unally3,function Trig_player_9unally3_Actions)
endfunction
function Trig_player_9ally4_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(8),Player(3),2)
endfunction
function InitTrig_player_9ally4 takes nothing returns nothing
set gg_trg_player_9ally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9ally4,Player(8),"-ally sound1",true)
call TriggerAddAction(gg_trg_player_9ally4,function Trig_player_9ally4_Actions)
endfunction
function Trig_player_9unally4_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(8),Player(3),0)
call SetPlayerAllianceStateBJ(Player(3),Player(8),0)
endfunction
function InitTrig_player_9unally4 takes nothing returns nothing
set gg_trg_player_9unally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9unally4,Player(8),"-unally sound1",true)
call TriggerAddAction(gg_trg_player_9unally4,function Trig_player_9unally4_Actions)
endfunction
function Trig_player_9ally6_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(8),Player(5),2)
endfunction
function InitTrig_player_9ally6 takes nothing returns nothing
set gg_trg_player_9ally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9ally6,Player(8),"-ally sound2",true)
call TriggerAddAction(gg_trg_player_9ally6,function Trig_player_9ally6_Actions)
endfunction
function Trig_player_9unally6_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(8),Player(5),0)
call SetPlayerAllianceStateBJ(Player(5),Player(8),0)
endfunction
function InitTrig_player_9unally6 takes nothing returns nothing
set gg_trg_player_9unally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9unally6,Player(8),"-unally sound2",true)
call TriggerAddAction(gg_trg_player_9unally6,function Trig_player_9unally6_Actions)
endfunction
function Trig_player_9ally7_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(8),Player(6),2)
endfunction
function InitTrig_player_9ally7 takes nothing returns nothing
set gg_trg_player_9ally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9ally7,Player(8),"-ally sound3",true)
call TriggerAddAction(gg_trg_player_9ally7,function Trig_player_9ally7_Actions)
endfunction
function Trig_player_9unally7_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(8),Player(6),0)
call SetPlayerAllianceStateBJ(Player(6),Player(8),0)
endfunction
function InitTrig_player_9unally7 takes nothing returns nothing
set gg_trg_player_9unally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9unally7,Player(8),"-unally sound3",true)
call TriggerAddAction(gg_trg_player_9unally7,function Trig_player_9unally7_Actions)
endfunction
function Trig_player_9ally10_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(8),Player(9),2)
endfunction
function InitTrig_player_9ally10 takes nothing returns nothing
set gg_trg_player_9ally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9ally10,Player(8),"-ally akatsuki2",true)
call TriggerAddAction(gg_trg_player_9ally10,function Trig_player_9ally10_Actions)
endfunction
function Trig_player_9unally10_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(8),Player(9),0)
call SetPlayerAllianceStateBJ(Player(9),Player(8),0)
endfunction
function InitTrig_player_9unally10 takes nothing returns nothing
set gg_trg_player_9unally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9unally10,Player(8),"-unally akatsuki2",true)
call TriggerAddAction(gg_trg_player_9unally10,function Trig_player_9unally10_Actions)
endfunction
function Trig_player_9ally11_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(8),Player($A),2)
endfunction
function InitTrig_player_9ally11 takes nothing returns nothing
set gg_trg_player_9ally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9ally11,Player(8),"-ally akatsuki3",true)
call TriggerAddAction(gg_trg_player_9ally11,function Trig_player_9ally11_Actions)
endfunction
function Trig_player_9unally11_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(8),Player($A),0)
call SetPlayerAllianceStateBJ(Player($A),Player(8),0)
endfunction
function InitTrig_player_9unally11 takes nothing returns nothing
set gg_trg_player_9unally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9unally11,Player(8),"-unally akatsuki3",true)
call TriggerAddAction(gg_trg_player_9unally11,function Trig_player_9unally11_Actions)
endfunction
function Trig_player_9allyAkatsuki_Func001C takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_h00E_0087))
endfunction
function Trig_player_9allyAkatsuki_Actions takes nothing returns nothing
if(Trig_player_9allyAkatsuki_Func001C())then
call SetPlayerAllianceStateBJ(Player(8),Player($B),2)
call SetPlayerAllianceStateBJ(Player($B),Player(8),2)
else
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"Статуя отступника нет, союз невозможен.")
endif
endfunction
function InitTrig_player_9allyAkatsuki takes nothing returns nothing
set gg_trg_player_9allyAkatsuki=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9allyAkatsuki,Player(8),"-ally akatsuki",true)
call TriggerAddAction(gg_trg_player_9allyAkatsuki,function Trig_player_9allyAkatsuki_Actions)
endfunction
function Trig_player_9unallyAkatsuki_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(8),Player($B),0)
call SetPlayerAllianceStateBJ(Player($B),Player(8),0)
endfunction
function InitTrig_player_9unallyAkatsuki takes nothing returns nothing
set gg_trg_player_9unallyAkatsuki=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9unallyAkatsuki,Player(8),"-unally akatsuki",true)
call TriggerAddAction(gg_trg_player_9unallyAkatsuki,function Trig_player_9unallyAkatsuki_Actions)
endfunction
function Trig_player_10ally1_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(9),Player(0),2)
endfunction
function InitTrig_player_10ally1 takes nothing returns nothing
set gg_trg_player_10ally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10ally1,Player(9),"-ally konoha1",true)
call TriggerAddAction(gg_trg_player_10ally1,function Trig_player_10ally1_Actions)
endfunction
function Trig_player_10unally1_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(9),Player(0),0)
call SetPlayerAllianceStateBJ(Player(0),Player(9),0)
endfunction
function InitTrig_player_10unally1 takes nothing returns nothing
set gg_trg_player_10unally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10unally1,Player(9),"-unally konoha1",true)
call TriggerAddAction(gg_trg_player_10unally1,function Trig_player_10unally1_Actions)
endfunction
function Trig_player_10ally2_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(9),Player(1),2)
endfunction
function InitTrig_player_10ally2 takes nothing returns nothing
set gg_trg_player_10ally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10ally2,Player(9),"-ally konoha2",true)
call TriggerAddAction(gg_trg_player_10ally2,function Trig_player_10ally2_Actions)
endfunction
function Trig_player_10unally2_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(9),Player(1),0)
call SetPlayerAllianceStateBJ(Player(1),Player(9),0)
endfunction
function InitTrig_player_10unally2 takes nothing returns nothing
set gg_trg_player_10unally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10unally2,Player(9),"-unally konoha2",true)
call TriggerAddAction(gg_trg_player_10unally2,function Trig_player_10unally2_Actions)
endfunction
function Trig_player_10ally3_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(9),Player(2),2)
endfunction
function InitTrig_player_10ally3 takes nothing returns nothing
set gg_trg_player_10ally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10ally3,Player(9),"-ally konoha3",true)
call TriggerAddAction(gg_trg_player_10ally3,function Trig_player_10ally3_Actions)
endfunction
function Trig_player_10unally3_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(9),Player(2),0)
call SetPlayerAllianceStateBJ(Player(2),Player(9),0)
endfunction
function InitTrig_player_10unally3 takes nothing returns nothing
set gg_trg_player_10unally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10unally3,Player(9),"-unally konoha3",true)
call TriggerAddAction(gg_trg_player_10unally3,function Trig_player_10unally3_Actions)
endfunction
function Trig_player_10ally4_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(9),Player(3),2)
endfunction
function InitTrig_player_10ally4 takes nothing returns nothing
set gg_trg_player_10ally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10ally4,Player(9),"-ally sound1",true)
call TriggerAddAction(gg_trg_player_10ally4,function Trig_player_10ally4_Actions)
endfunction
function Trig_player_10unally4_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(9),Player(3),0)
call SetPlayerAllianceStateBJ(Player(3),Player(9),0)
endfunction
function InitTrig_player_10unally4 takes nothing returns nothing
set gg_trg_player_10unally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10unally4,Player(9),"-unally sound1",true)
call TriggerAddAction(gg_trg_player_10unally4,function Trig_player_10unally4_Actions)
endfunction
function Trig_player_10ally6_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(9),Player(5),2)
endfunction
function InitTrig_player_10ally6 takes nothing returns nothing
set gg_trg_player_10ally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10ally6,Player(9),"-ally sound2",true)
call TriggerAddAction(gg_trg_player_10ally6,function Trig_player_10ally6_Actions)
endfunction
function Trig_player_10unally6_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(9),Player(5),0)
call SetPlayerAllianceStateBJ(Player(5),Player(9),0)
endfunction
function InitTrig_player_10unally6 takes nothing returns nothing
set gg_trg_player_10unally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10unally6,Player(9),"-unally sound2",true)
call TriggerAddAction(gg_trg_player_10unally6,function Trig_player_10unally6_Actions)
endfunction
function Trig_player_10ally7_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(9),Player(6),2)
endfunction
function InitTrig_player_10ally7 takes nothing returns nothing
set gg_trg_player_10ally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10ally7,Player(9),"-ally sound3",true)
call TriggerAddAction(gg_trg_player_10ally7,function Trig_player_10ally7_Actions)
endfunction
function Trig_player_10unally7_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(9),Player(6),0)
call SetPlayerAllianceStateBJ(Player(6),Player(9),0)
endfunction
function InitTrig_player_10unally7 takes nothing returns nothing
set gg_trg_player_10unally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10unally7,Player(9),"-unally sound3",true)
call TriggerAddAction(gg_trg_player_10unally7,function Trig_player_10unally7_Actions)
endfunction
function Trig_player_10ally9_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(9),Player(8),2)
endfunction
function InitTrig_player_10ally9 takes nothing returns nothing
set gg_trg_player_10ally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10ally9,Player(9),"-ally akatsuki1",true)
call TriggerAddAction(gg_trg_player_10ally9,function Trig_player_10ally9_Actions)
endfunction
function Trig_player_10unally9_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(9),Player(8),0)
call SetPlayerAllianceStateBJ(Player(8),Player(9),0)
endfunction
function InitTrig_player_10unally9 takes nothing returns nothing
set gg_trg_player_10unally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10unally9,Player(9),"-unally akatsuki1",true)
call TriggerAddAction(gg_trg_player_10unally9,function Trig_player_10unally9_Actions)
endfunction
function Trig_player_10ally11_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(9),Player($A),2)
endfunction
function InitTrig_player_10ally11 takes nothing returns nothing
set gg_trg_player_10ally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10ally11,Player(9),"-ally akatsuki3",true)
call TriggerAddAction(gg_trg_player_10ally11,function Trig_player_10ally11_Actions)
endfunction
function Trig_player_10unally11_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(9),Player($A),0)
call SetPlayerAllianceStateBJ(Player($A),Player(9),0)
endfunction
function InitTrig_player_10unally11 takes nothing returns nothing
set gg_trg_player_10unally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10unally11,Player(9),"-unally akatsuki3",true)
call TriggerAddAction(gg_trg_player_10unally11,function Trig_player_10unally11_Actions)
endfunction
function Trig_player_10allyAkatsuki_Func001C takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_h00E_0087))
endfunction
function Trig_player_10allyAkatsuki_Actions takes nothing returns nothing
if(Trig_player_10allyAkatsuki_Func001C())then
call SetPlayerAllianceStateBJ(Player(9),Player($B),2)
call SetPlayerAllianceStateBJ(Player($B),Player(9),2)
else
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"Статуя отступника нет, союз невозможен.")
endif
endfunction
function InitTrig_player_10allyAkatsuki takes nothing returns nothing
set gg_trg_player_10allyAkatsuki=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10allyAkatsuki,Player(9),"-ally akatsuki",true)
call TriggerAddAction(gg_trg_player_10allyAkatsuki,function Trig_player_10allyAkatsuki_Actions)
endfunction
function Trig_player_10unallyAkatsuki_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player(9),Player($B),0)
call SetPlayerAllianceStateBJ(Player($B),Player(9),0)
endfunction
function InitTrig_player_10unallyAkatsuki takes nothing returns nothing
set gg_trg_player_10unallyAkatsuki=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10unallyAkatsuki,Player(9),"-unally akatsuki",true)
call TriggerAddAction(gg_trg_player_10unallyAkatsuki,function Trig_player_10unallyAkatsuki_Actions)
endfunction
function Trig_player_11ally1_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player($A),Player(0),2)
endfunction
function InitTrig_player_11ally1 takes nothing returns nothing
set gg_trg_player_11ally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11ally1,Player($A),"-ally konoha1",true)
call TriggerAddAction(gg_trg_player_11ally1,function Trig_player_11ally1_Actions)
endfunction
function Trig_player_11unally1_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player($A),Player(0),0)
call SetPlayerAllianceStateBJ(Player(0),Player($A),0)
endfunction
function InitTrig_player_11unally1 takes nothing returns nothing
set gg_trg_player_11unally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11unally1,Player($A),"-unally konoha1",true)
call TriggerAddAction(gg_trg_player_11unally1,function Trig_player_11unally1_Actions)
endfunction
function Trig_player_11ally2_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player($A),Player(1),2)
endfunction
function InitTrig_player_11ally2 takes nothing returns nothing
set gg_trg_player_11ally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11ally2,Player($A),"-ally konoha2",true)
call TriggerAddAction(gg_trg_player_11ally2,function Trig_player_11ally2_Actions)
endfunction
function Trig_player_11unally2_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player($A),Player(1),0)
call SetPlayerAllianceStateBJ(Player(1),Player($A),0)
endfunction
function InitTrig_player_11unally2 takes nothing returns nothing
set gg_trg_player_11unally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11unally2,Player($A),"-unally konoha2",true)
call TriggerAddAction(gg_trg_player_11unally2,function Trig_player_11unally2_Actions)
endfunction
function Trig_player_11ally3_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player($A),Player(2),2)
endfunction
function InitTrig_player_11ally3 takes nothing returns nothing
set gg_trg_player_11ally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11ally3,Player($A),"-ally konoha3",true)
call TriggerAddAction(gg_trg_player_11ally3,function Trig_player_11ally3_Actions)
endfunction
function Trig_player_11unally3_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player($A),Player(2),0)
call SetPlayerAllianceStateBJ(Player(2),Player($A),0)
endfunction
function InitTrig_player_11unally3 takes nothing returns nothing
set gg_trg_player_11unally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11unally3,Player($A),"-unally konoha3",true)
call TriggerAddAction(gg_trg_player_11unally3,function Trig_player_11unally3_Actions)
endfunction
function Trig_player_11ally4_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player($A),Player(3),2)
endfunction
function InitTrig_player_11ally4 takes nothing returns nothing
set gg_trg_player_11ally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11ally4,Player($A),"-ally sound1",true)
call TriggerAddAction(gg_trg_player_11ally4,function Trig_player_11ally4_Actions)
endfunction
function Trig_player_11unally4_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player($A),Player(3),0)
call SetPlayerAllianceStateBJ(Player(3),Player($A),0)
endfunction
function InitTrig_player_11unally4 takes nothing returns nothing
set gg_trg_player_11unally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11unally4,Player($A),"-unally sound1",true)
call TriggerAddAction(gg_trg_player_11unally4,function Trig_player_11unally4_Actions)
endfunction
function Trig_player_11ally6_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player($A),Player(5),2)
endfunction
function InitTrig_player_11ally6 takes nothing returns nothing
set gg_trg_player_11ally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11ally6,Player($A),"-ally sound2",true)
call TriggerAddAction(gg_trg_player_11ally6,function Trig_player_11ally6_Actions)
endfunction
function Trig_player_11unally6_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player($A),Player(5),0)
call SetPlayerAllianceStateBJ(Player(5),Player($A),0)
endfunction
function InitTrig_player_11unally6 takes nothing returns nothing
set gg_trg_player_11unally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11unally6,Player($A),"-unally sound2",true)
call TriggerAddAction(gg_trg_player_11unally6,function Trig_player_11unally6_Actions)
endfunction
function Trig_player_11ally7_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player($A),Player(6),2)
endfunction
function InitTrig_player_11ally7 takes nothing returns nothing
set gg_trg_player_11ally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11ally7,Player($A),"-ally sound3",true)
call TriggerAddAction(gg_trg_player_11ally7,function Trig_player_11ally7_Actions)
endfunction
function Trig_player_11unally7_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player($A),Player(6),0)
call SetPlayerAllianceStateBJ(Player(6),Player($A),0)
endfunction
function InitTrig_player_11unally7 takes nothing returns nothing
set gg_trg_player_11unally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11unally7,Player($A),"-unally sound3",true)
call TriggerAddAction(gg_trg_player_11unally7,function Trig_player_11unally7_Actions)
endfunction
function Trig_player_11ally9_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player($A),Player(8),2)
endfunction
function InitTrig_player_11ally9 takes nothing returns nothing
set gg_trg_player_11ally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11ally9,Player($A),"-ally akatsuki1",true)
call TriggerAddAction(gg_trg_player_11ally9,function Trig_player_11ally9_Actions)
endfunction
function Trig_player_11unally9_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player($A),Player(8),0)
call SetPlayerAllianceStateBJ(Player(8),Player($A),0)
endfunction
function InitTrig_player_11unally9 takes nothing returns nothing
set gg_trg_player_11unally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11unally9,Player($A),"-unally akatsuki1",true)
call TriggerAddAction(gg_trg_player_11unally9,function Trig_player_11unally9_Actions)
endfunction
function Trig_player_11ally10_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player($A),Player(9),2)
endfunction
function InitTrig_player_11ally10 takes nothing returns nothing
set gg_trg_player_11ally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11ally10,Player($A),"-ally akatsuki2",true)
call TriggerAddAction(gg_trg_player_11ally10,function Trig_player_11ally10_Actions)
endfunction
function Trig_player_11unally10_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player($A),Player(9),0)
call SetPlayerAllianceStateBJ(Player(9),Player($A),0)
endfunction
function InitTrig_player_11unally10 takes nothing returns nothing
set gg_trg_player_11unally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11unally10,Player($A),"-unally akatsuki2",true)
call TriggerAddAction(gg_trg_player_11unally10,function Trig_player_11unally10_Actions)
endfunction
function Trig_player_11allyAkatsuki_Func001C takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_h00E_0087))
endfunction
function Trig_player_11allyAkatsuki_Actions takes nothing returns nothing
if(Trig_player_11allyAkatsuki_Func001C())then
call SetPlayerAllianceStateBJ(Player($A),Player($B),2)
call SetPlayerAllianceStateBJ(Player($B),Player($A),2)
else
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"Статуя отступника нет, союз невозможен.")
endif
endfunction
function InitTrig_player_11allyAkatsuki takes nothing returns nothing
set gg_trg_player_11allyAkatsuki=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11allyAkatsuki,Player($A),"-ally akatsuki",true)
call TriggerAddAction(gg_trg_player_11allyAkatsuki,function Trig_player_11allyAkatsuki_Actions)
endfunction
function Trig_player_11unallyAkatsuki_Actions takes nothing returns nothing
call SetPlayerAllianceStateBJ(Player($A),Player($B),0)
call SetPlayerAllianceStateBJ(Player($B),Player($A),0)
endfunction
function InitTrig_player_11unallyAkatsuki takes nothing returns nothing
set gg_trg_player_11unallyAkatsuki=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11unallyAkatsuki,Player($A),"-unally akatsuki",true)
call TriggerAddAction(gg_trg_player_11unallyAkatsuki,function Trig_player_11unallyAkatsuki_Actions)
endfunction
function Trig_Raiga_Conditions takes nothing returns boolean
return((IsUnitAliveBJ(gg_unit_Hvsh_0206))and(IsUnitType(GetEnteringUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER))!=null
endfunction
function Trig_Raiga_Func001Func001Func002C takes nothing returns boolean
return(GetRandomInt(1,3)==3)
endfunction
function Trig_Raiga_Func001Func001C takes nothing returns boolean
return(GetRandomInt(1,3)==2)
endfunction
function Trig_Raiga_Func001C takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function Trig_Raiga_Actions takes nothing returns nothing
if(Trig_Raiga_Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetEnteringUnit())),gg_unit_Hvsh_0206,"Райга",null,"Ранмару... Где ты!",0,-4.,true)
else
if(Trig_Raiga_Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetEnteringUnit())),gg_unit_Hvsh_0206,"Райга",null,"Где моя Ранмару!",0,-4.,true)
else
if(Trig_Raiga_Func001Func001Func002C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetEnteringUnit())),gg_unit_Hvsh_0206,"Райга",null,"Ранмару!",0,-4.,true)
endif
endif
endif
endfunction
function InitTrig_Raiga takes nothing returns nothing
set gg_trg_Raiga=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Raiga,200.,gg_unit_Hvsh_0206)
call TriggerAddCondition(gg_trg_Raiga,Condition(function Trig_Raiga_Conditions))
call TriggerAddAction(gg_trg_Raiga,function Trig_Raiga_Actions)
endfunction
function Trig_Raiga_Die_Actions takes nothing returns nothing
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetKillingUnit())),gg_unit_Hvsh_0206,"Райга",null,"Ранмару...",0,-4.,true)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Raiga_Ranmaru)
call DisableTrigger(gg_trg_Raiga_Ranmaru_K)
call DisableTrigger(gg_trg_Raiga_Ranmaru_S)
call DisableTrigger(gg_trg_Raiga_Ranmaru_A)
endfunction
function InitTrig_Raiga_Die takes nothing returns nothing
set gg_trg_Raiga_Die=CreateTrigger()
call TriggerRegisterUnitEvent(gg_trg_Raiga_Die,gg_unit_Hvsh_0206,EVENT_UNIT_DEATH)
call TriggerAddAction(gg_trg_Raiga_Die,function Trig_Raiga_Die_Actions)
endfunction
function Trig_GK_Enters_Func004C takes nothing returns boolean
return(GetAttacker()==udg_Hero2[89])or(GetAttacker()==udg_Hero2[88])
endfunction
function Trig_GK_Enters_Conditions takes nothing returns boolean
return(IsUnitAliveBJ(udg_Hero2[88]))and(IsUnitAliveBJ(udg_Hero2[89]))and(Trig_GK_Enters_Func004C())and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)
endfunction
function Trig_GK_Enters_Func007Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetRandomInt(1,$A)==$A)
endfunction
function Trig_GK_Enters_Func007Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetRandomInt(1,$A)==7)
endfunction
function Trig_GK_Enters_Func007Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetRandomInt(1,$A)==6)
endfunction
function Trig_GK_Enters_Func007Func001Func001Func001Func001C takes nothing returns boolean
return(GetRandomInt(1,$A)==5)
endfunction
function Trig_GK_Enters_Func007Func001Func001Func001C takes nothing returns boolean
return(GetRandomInt(1,$A)==4)
endfunction
function Trig_GK_Enters_Func007Func001Func001C takes nothing returns boolean
return(GetRandomInt(1,$A)==3)
endfunction
function Trig_GK_Enters_Func007Func001C takes nothing returns boolean
return(GetRandomInt(1,$A)==2)
endfunction
function Trig_GK_Enters_Func007C takes nothing returns boolean
return(GetRandomInt(1,$A)==1)
endfunction
function Trig_GK_Enters_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if(Trig_GK_Enters_Func007C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[88],"Гинкаку",null,"Кингаку, давай порвём эту хре*ь.",0,5.,true)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[89],"Кингаку",null,"Ну давай!",0,5.,true)
else
if(Trig_GK_Enters_Func007Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[89],"Кингаку",null,"Ха! Вот и приперлась хееехе!",0,4.,true)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[88],"Гинкаку",null,"Это всего лишь, мелкая сошка.",0,5.,true)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[89],"Кингаку",null,"Да! И я его сейчас отделаю!",0,4.,true)
else
if(Trig_GK_Enters_Func007Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[89],"Кингаку",null,"Замочем этого га*а! Гинкаку.",0,4.,true)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[88],"Гинкаку",null,"С удовольствием!",0,4.,true)
else
if(Trig_GK_Enters_Func007Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[88],"Гинкаку",null,"Мешки!",0,4.,true)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[88],"Гинкаку",null,"Что же мне делать, Кингаку!",0,4.,true)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[89],"Кингаку",null,"Просто урой его, Гинкаку.",0,4.,true)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[88],"Гинкаку",null,"Точняк! Кингаку.",0,4.,true)
else
if(Trig_GK_Enters_Func007Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[89],"Кингаку",null,"Не жди пощады!",0,4.,true)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[88],"Гинкаку",null,"Ты не так говришь, Кингаку.",0,4.,true)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[89],"Кингаку",null,"А как я должен?",0,2.,true)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[88],"Гинкаку",null,"А вот так: Я вас жаркое на завтрак сделаю!",0,4.,true)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[89],"Кингаку",null,"Не слишком круто.",0,4.,true)
else
if(Trig_GK_Enters_Func007Func001Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[88],"Гинкаку",null,"А! Вот и наша закуска.",0,4.,true)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[89],"Кингаку",null,"Нет! Это моя закуска!",0,3.,true)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[88],"Гинкаку",null,"Я первый его нашел!",0,4.,true)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[89],"Кингаку",null,"Плевать!",0,3.,true)
else
if(Trig_GK_Enters_Func007Func001Func001Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[89],"Кингаку",null,"Ей, Гинкаку.",0,3.,true)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[88],"Гинкаку",null,"Чё!",0,1.4,true)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[89],"Кингаку",null,"Давай, я сам урою этих га*ов.",0,5.,true)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[88],"Гинкаку",null,"Жадничаешь!",0,1.4,true)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[89],"Кингаку",null,"Нет, просто есть захотелось.",0,4.,true)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[88],"Гинкаку",null,"Ну ты обжора! Давай быстрее убей этих скотов.",0,1.4,true)
else
if(Trig_GK_Enters_Func007Func001Func001Func001Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[88],"Гинкаку",null,"Ты нас понимаешь! СЛОВА СЕРЕБРО!!!",0,4.,true)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[89],"Кингаку",null,"А МОЛЧАНИЕ ЗОЛОТО!!!",0,4.,true)
endif
endif
endif
endif
endif
endif
endif
endif
call TriggerSleepAction(28.)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_GK_Enters takes nothing returns nothing
set gg_trg_GK_Enters=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_GK_Enters,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_GK_Enters,Condition(function Trig_GK_Enters_Conditions))
call TriggerAddAction(gg_trg_GK_Enters,function Trig_GK_Enters_Actions)
endfunction
function Trig_K_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddAbility(udg_Hero2[89],'A034')
call SetUnitMoveSpeed(udg_Hero2[89],520.)
call ModifyHeroStat(0,udg_Hero2[89],0,$F0)
call ModifyHeroStat(1,udg_Hero2[89],0,$C8)
call IssueTargetOrderById(udg_Hero2[89],$D000F,GetKillingUnit())
call DisableTrigger(gg_trg_G)
call DisableTrigger(gg_trg_GK_Enters)
endfunction
function InitTrig_K takes nothing returns nothing
set gg_trg_K=CreateTrigger()
call TriggerAddAction(gg_trg_K,function Trig_K_Actions)
endfunction
function Trig_KDie_2_Conditions takes nothing returns boolean
return(GetDyingUnit()==udg_Hero2[88])
endfunction
function Trig_KDie_2_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateItemLoc('I00G',GetUnitLoc(udg_Hero2[89]))
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetKillingUnit())),udg_Hero2[89],"Гинкаку",null,"ТУПИЦА!!! НЕЕЕТ!! Я ВЫПОТОРОШУ ТЕБЯ НА ВСЕ КУСКИ!!!",0,4.,false)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Hero2[89]),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call ModifyHeroStat(0,udg_Hero2[89],0,480)
call ModifyHeroStat(1,udg_Hero2[89],0,400)
call SetUnitMoveSpeed(udg_Hero2[89],520.)
call IssueTargetOrderById(udg_Hero2[89],$D000F,GetKillingUnit())
call ReplaceUnitBJ(udg_Hero2[89],'U008',2)
set udg_Hero2[89]=null
endfunction
function InitTrig_KDie_2 takes nothing returns nothing
set gg_trg_KDie_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_KDie_2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_KDie_2,Condition(function Trig_KDie_2_Conditions))
call TriggerAddAction(gg_trg_KDie_2,function Trig_KDie_2_Actions)
endfunction
function Trig_G_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddAbility(udg_Hero2[88],'A034')
call SetUnitMoveSpeed(udg_Hero2[88],520.)
call ModifyHeroStat(0,udg_Hero2[88],0,$F0)
call ModifyHeroStat(1,udg_Hero2[88],0,$C8)
call IssueTargetOrderById(udg_Hero2[88],$D000F,GetKillingUnit())
call DisableTrigger(gg_trg_K)
call DisableTrigger(gg_trg_GK_Enters)
endfunction
function InitTrig_G takes nothing returns nothing
set gg_trg_G=CreateTrigger()
call TriggerAddAction(gg_trg_G,function Trig_G_Actions)
endfunction
function Trig_GDie_2_Conditions takes nothing returns boolean
return(GetDyingUnit()==udg_Hero2[89])
endfunction
function Trig_GDie_2_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetKillingUnit())),udg_Hero2[88],"Кингаку",null,"ГИИИНКАААКУУУ!! УР*Д! КААК ТЫ ПОСМЕЛ УБИТЬ ГИНКАКУ!!!",0,4.,false)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Hero2[88]),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call ModifyHeroStat(0,udg_Hero2[88],0,480)
call ModifyHeroStat(1,udg_Hero2[88],0,400)
call SetUnitMoveSpeed(udg_Hero2[88],520.)
call IssueTargetOrderById(udg_Hero2[88],$D000F,GetKillingUnit())
call ReplaceUnitBJ(udg_Hero2[88],'E007',2)
set udg_Hero2[88]=null
endfunction
function InitTrig_GDie_2 takes nothing returns nothing
set gg_trg_GDie_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_GDie_2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_GDie_2,Condition(function Trig_GDie_2_Conditions))
call TriggerAddAction(gg_trg_GDie_2,function Trig_GDie_2_Actions)
endfunction
function Trig_Gaara_Conditions takes nothing returns boolean
return(GetTriggerUnit()==gg_unit_Emfr_0033)
endfunction
function Trig_Gaara_Actions takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageDeathCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(gg_rct_Kazekage))
endfunction
function InitTrig_Gaara takes nothing returns nothing
set gg_trg_Gaara=CreateTrigger()
call DisableTrigger(gg_trg_Gaara)
call TriggerRegisterLeaveRectSimple(gg_trg_Gaara,gg_rct_Kazekage)
call TriggerAddCondition(gg_trg_Gaara,Condition(function Trig_Gaara_Conditions))
call TriggerAddAction(gg_trg_Gaara,function Trig_Gaara_Actions)
endfunction
function Trig_Gaara_Enters_Func008C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())=='Hhkl')or(GetUnitTypeId(GetEnteringUnit())=='Hblm')or(GetUnitTypeId(GetEnteringUnit())=='Hpb1')or(GetUnitTypeId(GetEnteringUnit())=='Hamg')or(GetUnitTypeId(GetEnteringUnit())=='Huth')
endfunction
function Trig_Gaara_Enters_Conditions takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_Emfr_0033))and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)and(Trig_Gaara_Enters_Func008C())
endfunction
function Trig_Gaara_Enters_Func003Func001Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[$A]==5)
endfunction
function Trig_Gaara_Enters_Func003Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[$A]==4)
endfunction
function Trig_Gaara_Enters_Func003Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[$A]==3)
endfunction
function Trig_Gaara_Enters_Func003Func001C takes nothing returns boolean
return(udg_RandomTalk[$A]==2)
endfunction
function Trig_Gaara_Enters_Func003C takes nothing returns boolean
return(udg_RandomTalk[$A]==1)
endfunction
function Trig_Gaara_Enters_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set udg_RandomTalk[$A]=GetRandomInt(1,6)
if(Trig_Gaara_Enters_Func003C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2['j'],"Гаара",null,"Вы кто такие..",0,-3.,true)
else
if(Trig_Gaara_Enters_Func003Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2['j'],"Гаара",null,"Вы из наёмных убийц?",0,-2.,true)
else
if(Trig_Gaara_Enters_Func003Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2['j'],"Гаара",null,"Нелюблю чужаков..",0,-3.,true)
else
if(Trig_Gaara_Enters_Func003Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2['j'],"Гаара",null,"Вы уверены... Я Каге Песка..",0,-3.,true)
else
if(Trig_Gaara_Enters_Func003Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2['j'],"Гаара",null,"Я не проиграю вам..",0,-3.,true)
endif
endif
endif
endif
endif
call TriggerSleepAction(9.)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Gaara_Enters takes nothing returns nothing
set gg_trg_Gaara_Enters=CreateTrigger()
call DisableTrigger(gg_trg_Gaara_Enters)
call TriggerRegisterEnterRectSimple(gg_trg_Gaara_Enters,gg_rct_Kazekage)
call TriggerAddCondition(gg_trg_Gaara_Enters,Condition(function Trig_Gaara_Enters_Conditions))
call TriggerAddAction(gg_trg_Gaara_Enters,function Trig_Gaara_Enters_Actions)
endfunction
function Trig_Gaara_Dying_Conditions takes nothing returns boolean
return(GetDyingUnit()==gg_unit_Emfr_0033)
endfunction
function Trig_Gaara_Dying_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_One_tail_chakra)
call DisableTrigger(gg_trg_Gaara_Enters)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetKillingUnit())),gg_unit_Emfr_0033,"Гаара",null,"ВЫЫЫЫ! МОЯ ДОБЫЫЧААА!!!.",0,3.,false)
call CreateNUnitsAtLoc(1,'u00Q',Player($C),GetUnitLoc(gg_unit_Emfr_0033),GetUnitFacing(gg_unit_Emfr_0033))
endfunction
function InitTrig_Gaara_Dying takes nothing returns nothing
set gg_trg_Gaara_Dying=CreateTrigger()
call DisableTrigger(gg_trg_Gaara_Dying)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Gaara_Dying,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Gaara_Dying,Condition(function Trig_Gaara_Dying_Conditions))
call TriggerAddAction(gg_trg_Gaara_Dying,function Trig_Gaara_Dying_Actions)
endfunction
function Trig_Nibi_Enters_Func008C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())=='Hhkl')or(GetUnitTypeId(GetEnteringUnit())=='Hblm')or(GetUnitTypeId(GetEnteringUnit())=='Hpb1')or(GetUnitTypeId(GetEnteringUnit())=='Hamg')or(GetUnitTypeId(GetEnteringUnit())=='Huth')
endfunction
function Trig_Nibi_Enters_Conditions takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_Ewrd_0114))and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)and(Trig_Nibi_Enters_Func008C())
endfunction
function Trig_Nibi_Enters_Func003Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[9]==6)
endfunction
function Trig_Nibi_Enters_Func003Func001Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[9]==5)
endfunction
function Trig_Nibi_Enters_Func003Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[9]==4)
endfunction
function Trig_Nibi_Enters_Func003Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[9]==3)
endfunction
function Trig_Nibi_Enters_Func003Func001C takes nothing returns boolean
return(udg_RandomTalk[9]==2)
endfunction
function Trig_Nibi_Enters_Func003C takes nothing returns boolean
return(udg_RandomTalk[9]==1)
endfunction
function Trig_Nibi_Enters_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set udg_RandomTalk[9]=GetRandomInt(1,6)
if(Trig_Nibi_Enters_Func003C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ewrd_0114,"Югито",null,"Зря сунулись.",0,-2.,true)
else
if(Trig_Nibi_Enters_Func003Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ewrd_0114,"Югито",null,"Все прут и прут.",0,-2.,true)
else
if(Trig_Nibi_Enters_Func003Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ewrd_0114,"Югито",null,"Господи, да оставтье меня в покое!",0,-1.,true)
else
if(Trig_Nibi_Enters_Func003Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ewrd_0114,"Югито",null,"Акацуки?, лучше умрите.",0,-2.,true)
else
if(Trig_Nibi_Enters_Func003Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ewrd_0114,"Югито",null,"Я готова, ну идите!",0,-2.,true)
else
if(Trig_Nibi_Enters_Func003Func001Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ewrd_0114,"Югито",null,"Я так понимаю, пришли замной.",0,-1.,true)
endif
endif
endif
endif
endif
endif
call TriggerSleepAction(7.5)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Nibi_Enters takes nothing returns nothing
set gg_trg_Nibi_Enters=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Nibi_Enters,600.,gg_unit_Ewrd_0114)
call TriggerAddCondition(gg_trg_Nibi_Enters,Condition(function Trig_Nibi_Enters_Conditions))
call TriggerAddAction(gg_trg_Nibi_Enters,function Trig_Nibi_Enters_Actions)
endfunction
function Trig_Roushin_Conditions takes nothing returns boolean
return(GetTriggerUnit()==gg_unit_Eevi_0116)
endfunction
function Trig_Roushin_Actions takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageDeathCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(gg_rct_Roushin))
call AddSpecialEffectLocBJ(GetRectCenter(gg_rct_Roushin),"Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageDeathCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endfunction
function InitTrig_Roushin takes nothing returns nothing
set gg_trg_Roushin=CreateTrigger()
call TriggerRegisterLeaveRectSimple(gg_trg_Roushin,gg_rct_Roushin)
call TriggerAddCondition(gg_trg_Roushin,Condition(function Trig_Roushin_Conditions))
call TriggerAddAction(gg_trg_Roushin,function Trig_Roushin_Actions)
endfunction
function Trig_Roushin_Enters_Conditions takes nothing returns boolean
return((IsUnitAliveBJ(gg_unit_Eevi_0116))and(IsUnitType(GetEnteringUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER))!=null
endfunction
function Trig_Roushin_Enters_Func003Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[2]==9)
endfunction
function Trig_Roushin_Enters_Func003Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[2]==8)
endfunction
function Trig_Roushin_Enters_Func003Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[2]==7)
endfunction
function Trig_Roushin_Enters_Func003Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[2]==6)
endfunction
function Trig_Roushin_Enters_Func003Func001Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[2]==5)
endfunction
function Trig_Roushin_Enters_Func003Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[2]==4)
endfunction
function Trig_Roushin_Enters_Func003Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[2]==3)
endfunction
function Trig_Roushin_Enters_Func003Func001C takes nothing returns boolean
return(udg_RandomTalk[2]==2)
endfunction
function Trig_Roushin_Enters_Func003C takes nothing returns boolean
return(udg_RandomTalk[2]==1)
endfunction
function Trig_Roushin_Enters_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set udg_RandomTalk[2]=GetRandomInt(1,9)
if(Trig_Roushin_Enters_Func003C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Eevi_0116,"Роушин",null,"Валите отсюда!",0,-1.,true)
else
if(Trig_Roushin_Enters_Func003Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Eevi_0116,"Роушин",null,"Уйдите Вон! ВОН ОТСЮДА!",0,-1.6,true)
else
if(Trig_Roushin_Enters_Func003Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Eevi_0116,"Роушин",null,"Пытаетесь поймать меня... ублюдки!",0,7.,false)
else
if(Trig_Roushin_Enters_Func003Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Eevi_0116,"Роушин",null,"Шайтан!",0,-3.9,true)
else
if(Trig_Roushin_Enters_Func003Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Eevi_0116,"Роушин",null,"Хааааа! Я владею карате!",0,-4.,true)
else
if(Trig_Roushin_Enters_Func003Func001Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Eevi_0116,"Роушин",null,"ВОРЫ!!!",0,-4.,true)
else
if(Trig_Roushin_Enters_Func003Func001Func001Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Eevi_0116,"Роушин",null,"Хйя! оставтье меня!",0,-4.,true)
else
if(Trig_Roushin_Enters_Func003Func001Func001Func001Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Eevi_0116,"Роушин",null,"Не жалко, старика бить.",0,-4.,true)
else
if(Trig_Roushin_Enters_Func003Func001Func001Func001Func001Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Eevi_0116,"Роушин",null,"Шайтан проклятый!",0,-4.,true)
endif
endif
endif
endif
endif
endif
endif
endif
endif
call TriggerSleepAction(7.5)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Roushin_Enters takes nothing returns nothing
set gg_trg_Roushin_Enters=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Roushin_Enters,gg_rct_Roushin)
call TriggerAddCondition(gg_trg_Roushin_Enters,Condition(function Trig_Roushin_Enters_Conditions))
call TriggerAddAction(gg_trg_Roushin_Enters,function Trig_Roushin_Enters_Actions)
endfunction
function Trig_Han_Enters_Func008C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())=='Hhkl')or(GetUnitTypeId(GetEnteringUnit())=='Hblm')or(GetUnitTypeId(GetEnteringUnit())=='Hpb1')or(GetUnitTypeId(GetEnteringUnit())=='Hamg')or(GetUnitTypeId(GetEnteringUnit())=='Huth')
endfunction
function Trig_Han_Enters_Conditions takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_Emns_0115))and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)and(Trig_Han_Enters_Func008C())
endfunction
function Trig_Han_Enters_Func003Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[$F]==7)
endfunction
function Trig_Han_Enters_Func003Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[$F]==6)
endfunction
function Trig_Han_Enters_Func003Func001Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[$F]==5)
endfunction
function Trig_Han_Enters_Func003Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[$F]==4)
endfunction
function Trig_Han_Enters_Func003Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[$F]==3)
endfunction
function Trig_Han_Enters_Func003Func001C takes nothing returns boolean
return(udg_RandomTalk[$F]==2)
endfunction
function Trig_Han_Enters_Func003C takes nothing returns boolean
return(udg_RandomTalk[$F]==1)
endfunction
function Trig_Han_Enters_Actions takes nothing returns nothing
set udg_RandomTalk[$F]=GetRandomInt(1,7)
call DisableTrigger(GetTriggeringTrigger())
if(Trig_Han_Enters_Func003C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Emns_0115,"Хан",null,"Чё за хре*овые плащи.",0,-2.,true)
else
if(Trig_Han_Enters_Func003Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Emns_0115,"Хан",null,"Кто вы чёрт возьми такие.",0,-2.,true)
else
if(Trig_Han_Enters_Func003Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Emns_0115,"Хан",null,"Не стойте у меня на пути. ",0,-2.,true)
else
if(Trig_Han_Enters_Func003Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Emns_0115,"Хан",null,"Красные облака, хм... а это что?",0,-2.,true)
else
if(Trig_Han_Enters_Func003Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Emns_0115,"Хан",null,"Ты чё, бандит!",0,-2.,true)
else
if(Trig_Han_Enters_Func003Func001Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Emns_0115,"Хан",null,"Эти плащи... где-то я это видел.",0,-2.,true)
else
if(Trig_Han_Enters_Func003Func001Func001Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Emns_0115,"Хан",null,"Здороги!",0,-2.,true)
endif
endif
endif
endif
endif
endif
endif
call TriggerSleepAction(7.5)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Han_Enters takes nothing returns nothing
set gg_trg_Han_Enters=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Han_Enters,600.,gg_unit_Emns_0115)
call TriggerAddCondition(gg_trg_Han_Enters,Condition(function Trig_Han_Enters_Conditions))
call TriggerAddAction(gg_trg_Han_Enters,function Trig_Han_Enters_Actions)
endfunction
function Trig_Han_Enters_2_Func008C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())=='Edem')or(GetUnitTypeId(GetEnteringUnit())=='Hant')or(GetUnitTypeId(GetEnteringUnit())=='Hgam')
endfunction
function Trig_Han_Enters_2_Conditions takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_Emns_0115))and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)and(Trig_Han_Enters_2_Func008C())
endfunction
function Trig_Han_Enters_2_Func003Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[18]==4)
endfunction
function Trig_Han_Enters_2_Func003Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[18]==3)
endfunction
function Trig_Han_Enters_2_Func003Func001C takes nothing returns boolean
return(udg_RandomTalk[18]==2)
endfunction
function Trig_Han_Enters_2_Func003C takes nothing returns boolean
return(udg_RandomTalk[18]==1)
endfunction
function Trig_Han_Enters_2_Actions takes nothing returns nothing
set udg_RandomTalk[18]=GetRandomInt(1,4)
call DisableTrigger(GetTriggeringTrigger())
if(Trig_Han_Enters_2_Func003C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Emns_0115,"Хан",null,"Не стоите у меня на пути...",0,-2.,true)
else
if(Trig_Han_Enters_2_Func003Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Emns_0115,"Хан",null,"Я вас знаю орочимару нашел союзников среди учих.",0,-2.,true)
else
if(Trig_Han_Enters_2_Func003Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Emns_0115,"Хан",null,"Звук! это ты?",0,-2.,true)
else
if(Trig_Han_Enters_2_Func003Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Emns_0115,"Хан",null,"Передайте орочимару, что он ползучий г*д.",0,-2.,true)
endif
endif
endif
endif
call TriggerSleepAction(7.5)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Han_Enters_2 takes nothing returns nothing
set gg_trg_Han_Enters_2=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Han_Enters_2,600.,gg_unit_Emns_0115)
call TriggerAddCondition(gg_trg_Han_Enters_2,Condition(function Trig_Han_Enters_2_Conditions))
call TriggerAddAction(gg_trg_Han_Enters_2,function Trig_Han_Enters_2_Actions)
endfunction
function Trig_Bi_Enters_Func008C takes nothing returns boolean
return(GetEnteringUnit()==gg_unit_Hvwd_0016)or(GetEnteringUnit()==gg_unit_Hpal_0034)or(GetEnteringUnit()==gg_unit_Eill_0017)or(GetEnteringUnit()==gg_unit_Harf_0004)or(GetEnteringUnit()==gg_unit_Emoo_0031)or(GetEnteringUnit()==gg_unit_Hmgd_0035)or(GetEnteringUnit()==gg_unit_Hpb2_0015)or(GetEnteringUnit()==gg_unit_Obla_0014)
endfunction
function Trig_Bi_Enters_Conditions takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_Ekgg_0119))and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)and(Trig_Bi_Enters_Func008C())
endfunction
function Trig_Bi_Enters_Func003Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[3]==4)
endfunction
function Trig_Bi_Enters_Func003Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[3]==3)
endfunction
function Trig_Bi_Enters_Func003Func001C takes nothing returns boolean
return(udg_RandomTalk[3]==2)
endfunction
function Trig_Bi_Enters_Func003C takes nothing returns boolean
return(udg_RandomTalk[3]==1)
endfunction
function Trig_Bi_Enters_Actions takes nothing returns nothing
set udg_RandomTalk[3]=GetRandomInt(1,4)
call DisableTrigger(GetTriggeringTrigger())
if(Trig_Bi_Enters_Func003C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ekgg_0119,"Би",null,"Придут забрать меня акацуки, мне не справится, а только можно парится!",0,.0,true)
else
if(Trig_Bi_Enters_Func003Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ekgg_0119,"Би",null,"Йо привет тебе чувак, иди гуляй куда чувак.",0,-4.,true)
else
if(Trig_Bi_Enters_Func003Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ekgg_0119,"Би",null,"Здров! мне бухать, еще бухать и еще еще еще.",0,-3.5,true)
else
if(Trig_Bi_Enters_Func003Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ekgg_0119,"Би",null,"Конохи шиноби короче короче.... хм забыл текст.",0,-2.,true)
endif
endif
endif
endif
call TriggerSleepAction(7.5)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Bi_Enters takes nothing returns nothing
set gg_trg_Bi_Enters=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Bi_Enters,600.,gg_unit_Ekgg_0119)
call TriggerAddCondition(gg_trg_Bi_Enters,Condition(function Trig_Bi_Enters_Conditions))
call TriggerAddAction(gg_trg_Bi_Enters,function Trig_Bi_Enters_Actions)
endfunction
function Trig_Bi_Enters_2_Func005C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())=='Hhkl')or(GetUnitTypeId(GetEnteringUnit())=='Hblm')or(GetUnitTypeId(GetEnteringUnit())=='Hpb1')or(GetUnitTypeId(GetEnteringUnit())=='n00K')or(GetUnitTypeId(GetEnteringUnit())=='E003')or(GetUnitTypeId(GetEnteringUnit())=='Hamg')or(GetUnitTypeId(GetEnteringUnit())=='Huth')or(GetUnitTypeId(GetEnteringUnit())=='E005')
endfunction
function Trig_Bi_Enters_2_Conditions takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_Ekgg_0119))and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)and(Trig_Bi_Enters_2_Func005C())
endfunction
function Trig_Bi_Enters_2_Func002Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[5]==7)
endfunction
function Trig_Bi_Enters_2_Func002Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[5]==6)
endfunction
function Trig_Bi_Enters_2_Func002Func001Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[5]==5)
endfunction
function Trig_Bi_Enters_2_Func002Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[5]==4)
endfunction
function Trig_Bi_Enters_2_Func002Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[5]==3)
endfunction
function Trig_Bi_Enters_2_Func002Func001C takes nothing returns boolean
return(udg_RandomTalk[5]==2)
endfunction
function Trig_Bi_Enters_2_Func002C takes nothing returns boolean
return(udg_RandomTalk[5]==1)
endfunction
function Trig_Bi_Enters_2_Actions takes nothing returns nothing
set udg_RandomTalk[5]=GetRandomInt(1,8)
if(Trig_Bi_Enters_2_Func002C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ekgg_0119,"Би",null,"Херь перь! Уделаю как зверь!",0,3.,false)
else
if(Trig_Bi_Enters_2_Func002Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ekgg_0119,"Би",null,"С*ки Акацуки Ублюдки Придурки!",0,4.,false)
else
if(Trig_Bi_Enters_2_Func002Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ekgg_0119,"Би",null,"Убью вас да! Порву как лохов да! ЙО",0,4.,false)
else
if(Trig_Bi_Enters_2_Func002Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ekgg_0119,"Би",null,"Я хорош а ты плох! Я крутой! А ты тупой! Отстой! И лох! ЙО!",0,5.6,false)
else
if(Trig_Bi_Enters_2_Func002Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ekgg_0119,"Би",null,"Дурень Тупень!",0,2.4,false)
else
if(Trig_Bi_Enters_2_Func002Func001Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ekgg_0119,"Би",null,"Глуп ты туп! Я крут! Ты.... идиоты, из-за вас я язык прикусил...",0,7.,false)
else
if(Trig_Bi_Enters_2_Func002Func001Func001Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ekgg_0119,"Би",null,"Чё прёшь! Не уйдёшь! Врёш!",0,5.,false)
endif
endif
endif
endif
endif
endif
endif
endfunction
function InitTrig_Bi_Enters_2 takes nothing returns nothing
set gg_trg_Bi_Enters_2=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Bi_Enters_2,600.,gg_unit_Ekgg_0119)
call TriggerAddCondition(gg_trg_Bi_Enters_2,Condition(function Trig_Bi_Enters_2_Conditions))
call TriggerAddAction(gg_trg_Bi_Enters_2,function Trig_Bi_Enters_2_Actions)
endfunction
function Trig_Jiraya_Enters_Func008C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())=='Hhkl')or(GetUnitTypeId(GetEnteringUnit())=='Hblm')or(GetUnitTypeId(GetEnteringUnit())=='Hpb1')or(GetUnitTypeId(GetEnteringUnit())=='Hamg')or(GetUnitTypeId(GetEnteringUnit())=='Huth')
endfunction
function Trig_Jiraya_Enters_Conditions takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_Ucrl_0264))and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)and(Trig_Jiraya_Enters_Func008C())
endfunction
function Trig_Jiraya_Enters_Func003Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[16]==6)
endfunction
function Trig_Jiraya_Enters_Func003Func001Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[16]==5)
endfunction
function Trig_Jiraya_Enters_Func003Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[16]==4)
endfunction
function Trig_Jiraya_Enters_Func003Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[16]==3)
endfunction
function Trig_Jiraya_Enters_Func003Func001C takes nothing returns boolean
return(udg_RandomTalk[16]==2)
endfunction
function Trig_Jiraya_Enters_Func003C takes nothing returns boolean
return(udg_RandomTalk[16]==1)
endfunction
function Trig_Jiraya_Enters_Actions takes nothing returns nothing
set udg_RandomTalk[16]=GetRandomInt(1,7)
call DisableTrigger(GetTriggeringTrigger())
if(Trig_Jiraya_Enters_Func003C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ucrl_0264,"Джирая",null,"Чёрт, долго же я вас искал.",0,-2.,true)
else
if(Trig_Jiraya_Enters_Func003Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ucrl_0264,"Джирая",null,"Я не дам вам уйти.",0,-2.,true)
else
if(Trig_Jiraya_Enters_Func003Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ucrl_0264,"Джирая",null,"Вы не получите хвостатых!",0,-2.,true)
else
if(Trig_Jiraya_Enters_Func003Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ucrl_0264,"Джирая",null,"Эй вы кудаа!",0,-2.,true)
else
if(Trig_Jiraya_Enters_Func003Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ucrl_0264,"Джирая",null,"Не стоит недооценивать вас.",0,-2.,true)
else
if(Trig_Jiraya_Enters_Func003Func001Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ucrl_0264,"Джирая",null,"Вот чёрт! как же невовремя.",0,-2.,true)
endif
endif
endif
endif
endif
endif
call TriggerSleepAction(7.5)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Jiraya_Enters takes nothing returns nothing
set gg_trg_Jiraya_Enters=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Jiraya_Enters,600.,gg_unit_Ucrl_0264)
call TriggerAddCondition(gg_trg_Jiraya_Enters,Condition(function Trig_Jiraya_Enters_Conditions))
call TriggerAddAction(gg_trg_Jiraya_Enters,function Trig_Jiraya_Enters_Actions)
endfunction
function Trig_Jiraya_Enters_2_Func008C takes nothing returns boolean
return(GetEnteringUnit()==udg_Hero2['h'])
endfunction
function Trig_Jiraya_Enters_2_Conditions takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_Ucrl_0264))and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)and(Trig_Jiraya_Enters_2_Func008C())
endfunction
function Trig_Jiraya_Enters_2_Func003Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[17]==4)
endfunction
function Trig_Jiraya_Enters_2_Func003Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[17]==3)
endfunction
function Trig_Jiraya_Enters_2_Func003Func001C takes nothing returns boolean
return(udg_RandomTalk[17]==2)
endfunction
function Trig_Jiraya_Enters_2_Func003C takes nothing returns boolean
return(udg_RandomTalk[16]==1)
endfunction
function Trig_Jiraya_Enters_2_Actions takes nothing returns nothing
set udg_RandomTalk[17]=GetRandomInt(1,4)
call DisableTrigger(GetTriggeringTrigger())
if(Trig_Jiraya_Enters_2_Func003C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ucrl_0264,"Джирая",null,"Чёрт, долго же я вас искал.",0,-2.,true)
else
if(Trig_Jiraya_Enters_2_Func003Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ucrl_0264,"Джирая",null,"Ты!? сбежавший к орочимару!",0,-2.,true)
else
if(Trig_Jiraya_Enters_2_Func003Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ucrl_0264,"Джирая",null,"Учиха тебе не следовало идти к орочимару.",0,-2.,true)
else
if(Trig_Jiraya_Enters_2_Func003Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),gg_unit_Ucrl_0264,"Джирая",null,"Месть не решит проблему.",0,-2.,true)
endif
endif
endif
endif
call TriggerSleepAction(7.5)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Jiraya_Enters_2 takes nothing returns nothing
set gg_trg_Jiraya_Enters_2=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Jiraya_Enters_2,600.,gg_unit_Ucrl_0264)
call TriggerAddCondition(gg_trg_Jiraya_Enters_2,Condition(function Trig_Jiraya_Enters_2_Conditions))
call TriggerAddAction(gg_trg_Jiraya_Enters_2,function Trig_Jiraya_Enters_2_Actions)
endfunction
function Trig_Jiraya_Dying_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetKillingUnit())),gg_unit_Ucrl_0264,"|c00FF4242Джирая",null,"Еслиб.. я сумел...",0,4.,false)
call DisableTrigger(gg_trg_Jiraya_Enters_2)
call DisableTrigger(gg_trg_Jiraya_Enters)
call TriggerSleepAction(4.)
call RemoveUnit(GetTriggerUnit())
endfunction
function InitTrig_Jiraya_Dying takes nothing returns nothing
set gg_trg_Jiraya_Dying=CreateTrigger()
call TriggerRegisterUnitEvent(gg_trg_Jiraya_Dying,gg_unit_Ucrl_0264,EVENT_UNIT_DEATH)
call TriggerAddAction(gg_trg_Jiraya_Dying,function Trig_Jiraya_Dying_Actions)
endfunction
function Trig_Barah_Conditions takes nothing returns boolean
return(GetTriggerUnit()==udg_Hero2[86])
endfunction
function Trig_Barah_Actions takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(gg_rct_Baraht_Full))
call AddSpecialEffectLocBJ(GetRectCenter(gg_rct_Baraht_Full),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endfunction
function InitTrig_Barah takes nothing returns nothing
set gg_trg_Barah=CreateTrigger()
call TriggerRegisterLeaveRectSimple(gg_trg_Barah,gg_rct_Baraht_Full)
call TriggerAddCondition(gg_trg_Barah,Condition(function Trig_Barah_Conditions))
call TriggerAddAction(gg_trg_Barah,function Trig_Barah_Actions)
endfunction
function Trig_Barah_Enters_Conditions takes nothing returns boolean
return(GetAttacker()==udg_Hero2[86])and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)
endfunction
function Trig_Barah_Enters_Func003Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetRandomInt(1,6)==5)
endfunction
function Trig_Barah_Enters_Func003Func001Func001Func001Func001C takes nothing returns boolean
return(GetRandomInt(1,6)==5)
endfunction
function Trig_Barah_Enters_Func003Func001Func001Func001C takes nothing returns boolean
return(GetRandomInt(1,6)==4)
endfunction
function Trig_Barah_Enters_Func003Func001Func001C takes nothing returns boolean
return(GetRandomInt(1,6)==3)
endfunction
function Trig_Barah_Enters_Func003Func001C takes nothing returns boolean
return(GetRandomInt(1,6)==2)
endfunction
function Trig_Barah_Enters_Func003C takes nothing returns boolean
return(GetRandomInt(1,6)==1)
endfunction
function Trig_Barah_Enters_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(7.5)
if(Trig_Barah_Enters_Func003C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetEnteringUnit())),udg_Hero2[86],"Барах",null,"Парни! пришла добыча.",0,0,true)
else
if(Trig_Barah_Enters_Func003Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetEnteringUnit())),udg_Hero2[86],"Барах",null,"Кошелёк или жизнь!",0,0,true)
else
if(Trig_Barah_Enters_Func003Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetEnteringUnit())),udg_Hero2[86],"Барах",null,"Эй слыш! Иди сюда есть базар.",0,0,true)
else
if(Trig_Barah_Enters_Func003Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetEnteringUnit())),udg_Hero2[86],"Барах",null,"Эй слыш! Иди сюда есть базар.",0,0,true)
else
if(Trig_Barah_Enters_Func003Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetEnteringUnit())),udg_Hero2[86],"Барах",null,"Ты меня уважаешь?",0,0,true)
else
if(Trig_Barah_Enters_Func003Func001Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetEnteringUnit())),udg_Hero2[86],"Барах",null,"АНУ, ДАЛ КОСАРЬ!!",0,0,true)
endif
endif
endif
endif
endif
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Barah_Enters takes nothing returns nothing
set gg_trg_Barah_Enters=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Barah_Enters,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Barah_Enters,Condition(function Trig_Barah_Enters_Conditions))
call TriggerAddAction(gg_trg_Barah_Enters,function Trig_Barah_Enters_Actions)
endfunction
function Barah_DIe_Conditions takes nothing returns boolean
return GetDyingUnit()==udg_Hero2[86]
endfunction
function Barah_DIe_Actions takes nothing returns nothing
set bj_lastCreatedItem=CreateItem('gold',GetUnitX(GetKillingUnit()),GetUnitY(GetKillingUnit()))
set bj_lastCreatedItem=CreateItem('gold',GetUnitX(GetKillingUnit()),GetUnitY(GetKillingUnit()))
set bj_lastCreatedItem=CreateItem('gold',GetUnitX(GetKillingUnit()),GetUnitY(GetKillingUnit()))
set bj_lastCreatedItem=CreateItem('gold',GetUnitX(GetKillingUnit()),GetUnitY(GetKillingUnit()))
set bj_lastCreatedItem=CreateItem('gold',GetUnitX(GetKillingUnit()),GetUnitY(GetKillingUnit()))
set bj_lastCreatedItem=CreateItem('gold',GetUnitX(GetKillingUnit()),GetUnitY(GetKillingUnit()))
set bj_lastCreatedItem=CreateItem('gold',GetUnitX(GetKillingUnit()),GetUnitY(GetKillingUnit()))
set bj_lastCreatedItem=CreateItem('gold',GetUnitX(GetKillingUnit()),GetUnitY(GetKillingUnit()))
set bj_lastCreatedItem=CreateItem('gold',GetUnitX(GetKillingUnit()),GetUnitY(GetKillingUnit()))
set bj_lastCreatedItem=CreateItem('gold',GetUnitX(GetKillingUnit()),GetUnitY(GetKillingUnit()))
set bj_lastCreatedItem=CreateItem('gold',GetUnitX(GetKillingUnit()),GetUnitY(GetKillingUnit()))
set bj_lastCreatedItem=CreateItem('gold',GetUnitX(GetKillingUnit()),GetUnitY(GetKillingUnit()))
endfunction
function InitTrig_Barah_DIe takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Barah_DIe_Conditions))
call TriggerAddAction(t,function Barah_DIe_Actions)
set t=null
endfunction
function Trig_Fire_Lord_Conditions takes nothing returns boolean
return(GetTriggerUnit()==udg_Hero2[96])
endfunction
function Trig_Fire_Lord_Actions takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(gg_rct_Village_Full))
call AddSpecialEffectLocBJ(GetRectCenter(gg_rct_Village_Full),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endfunction
function InitTrig_Fire_Lord takes nothing returns nothing
set gg_trg_Fire_Lord=CreateTrigger()
call TriggerRegisterLeaveRectSimple(gg_trg_Fire_Lord,gg_rct_Village_Full)
call TriggerAddCondition(gg_trg_Fire_Lord,Condition(function Trig_Fire_Lord_Conditions))
call TriggerAddAction(gg_trg_Fire_Lord,function Trig_Fire_Lord_Actions)
endfunction
function Trig_Fire_Lord_Enters_Conditions takes nothing returns boolean
return(IsUnitAliveBJ(udg_Hero2[96]))and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)
endfunction
function Trig_Fire_Lord_Enters_Func002Func007Func007Func001Func001Func007C takes nothing returns boolean
return(GetRandomInt(1,6)==6)
endfunction
function Trig_Fire_Lord_Enters_Func002Func007Func007Func001Func001C takes nothing returns boolean
return(GetRandomInt(1,6)==5)
endfunction
function Trig_Fire_Lord_Enters_Func002Func007Func007Func001C takes nothing returns boolean
return(GetRandomInt(1,6)==4)
endfunction
function Trig_Fire_Lord_Enters_Func002Func007Func007C takes nothing returns boolean
return(GetRandomInt(1,6)==3)
endfunction
function Trig_Fire_Lord_Enters_Func002Func007C takes nothing returns boolean
return(GetRandomInt(1,6)==2)
endfunction
function Trig_Fire_Lord_Enters_Func002C takes nothing returns boolean
return(GetRandomInt(1,6)==1)
endfunction
function Trig_Fire_Lord_Enters_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if(Trig_Fire_Lord_Enters_Func002C())then
call CreateTextTagUnitBJ("Кто припёрся! Всех порву!",udg_Hero2[96],0,$A,100.,50.,.0,0)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,2.)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,3.)
else
if(Trig_Fire_Lord_Enters_Func002Func007C())then
call CreateTextTagUnitBJ("Испепелю до ТЛА! До ТЛА!",udg_Hero2[96],0,$A,'d',50.,.0,0)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.4)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,2.4)
else
if(Trig_Fire_Lord_Enters_Func002Func007Func007C())then
call CreateTextTagUnitBJ("ШАШЛЫЧОК! и еще добавить жаркое!",udg_Hero2[96],0,$A,'d',50.,.0,0)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.4)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,2.4)
else
if(Trig_Fire_Lord_Enters_Func002Func007Func007Func001C())then
call CreateTextTagUnitBJ("ОГОНЬКУ!!!",udg_Hero2[96],0,$A,'d',50.,.0,0)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,.6)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,1.)
else
if(Trig_Fire_Lord_Enters_Func002Func007Func007Func001Func001C())then
call CreateTextTagUnitBJ("Запах свежей курицы? сейчас поджарим!",udg_Hero2[96],0,$A,'d',50.,.0,0)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,2.)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,3.)
else
if(Trig_Fire_Lord_Enters_Func002Func007Func007Func001Func001Func007C())then
call CreateTextTagUnitBJ("Больше огня и всё будет ok!",udg_Hero2[96],0,$A,'d',50.,.0,0)
call SetTextTagPermanentBJ(bj_lastCreatedTextTag,false)
call SetTextTagVelocityBJ(bj_lastCreatedTextTag,64,90)
call SetTextTagFadepointBJ(bj_lastCreatedTextTag,1.4)
call SetTextTagLifespanBJ(bj_lastCreatedTextTag,2.4)
endif
endif
endif
endif
endif
endif
call TriggerSleepAction(7.5)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Fire_Lord_Enters takes nothing returns nothing
set gg_trg_Fire_Lord_Enters=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Fire_Lord_Enters,gg_rct_Village_Full)
call TriggerAddCondition(gg_trg_Fire_Lord_Enters,Condition(function Trig_Fire_Lord_Enters_Conditions))
call TriggerAddAction(gg_trg_Fire_Lord_Enters,function Trig_Fire_Lord_Enters_Actions)
endfunction
function Trig_Fire_Lord_Dying_Conditions takes nothing returns boolean
return(GetTriggerUnit()==udg_Hero2[96])
endfunction
function Trig_Fire_Lord_Dying_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemByIdSwapped('I01E',GetTriggerUnit())
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetKillingUnit())),udg_Hero2[96],"|c00FF9E0DПакура|r",null,"Быть не может...",0,-3.6,true)
set udg_Hero2[96]=null
call DisableTrigger(gg_trg_Fire_Lord_Enters)
call DisableTrigger(gg_trg_Fire_Lord)
endfunction
function InitTrig_Fire_Lord_Dying takes nothing returns nothing
set gg_trg_Fire_Lord_Dying=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Fire_Lord_Dying,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Fire_Lord_Dying,Condition(function Trig_Fire_Lord_Dying_Conditions))
call TriggerAddAction(gg_trg_Fire_Lord_Dying,function Trig_Fire_Lord_Dying_Actions)
endfunction
function Trig_Gladiator_Func001C takes nothing returns boolean
return(GetTriggerUnit()==udg_Hero2[8])or(GetTriggerUnit()==udg_Hero2[$C])
endfunction
function Trig_Gladiator_Conditions takes nothing returns boolean
return(Trig_Gladiator_Func001C())
endfunction
function Trig_Gladiator_Actions takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(gg_rct_Arena))
call AddSpecialEffectLocBJ(GetRectCenter(gg_rct_Arena),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endfunction
function InitTrig_Gladiator takes nothing returns nothing
set gg_trg_Gladiator=CreateTrigger()
call TriggerRegisterLeaveRectSimple(gg_trg_Gladiator,gg_rct_Arena)
call TriggerAddCondition(gg_trg_Gladiator,Condition(function Trig_Gladiator_Conditions))
call TriggerAddAction(gg_trg_Gladiator,function Trig_Gladiator_Actions)
endfunction
function Trig_Abos_Conditions takes nothing returns boolean
return(GetTriggerUnit()==udg_Hero2[94])
endfunction
function Trig_Abos_Actions takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Abilities\\Spells\\Other\\Incinerate\\FireLordDeathExplode.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(gg_rct_Magtheriton))
call AddSpecialEffectLocBJ(GetRectCenter(gg_rct_Magtheriton),"Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endfunction
function InitTrig_Abos takes nothing returns nothing
set gg_trg_Abos=CreateTrigger()
call TriggerRegisterLeaveRectSimple(gg_trg_Abos,gg_rct_Magtheriton)
call TriggerAddCondition(gg_trg_Abos,Condition(function Trig_Abos_Conditions))
call TriggerAddAction(gg_trg_Abos,function Trig_Abos_Actions)
endfunction
function Trig_Abos_Enters_Conditions takes nothing returns boolean
return(IsUnitAliveBJ(udg_Hero2[94]))and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)
endfunction
function Trig_Abos_Enters_Func002Func001Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[5]==5)
endfunction
function Trig_Abos_Enters_Func002Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[5]==4)
endfunction
function Trig_Abos_Enters_Func002Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[5]==3)
endfunction
function Trig_Abos_Enters_Func002Func001C takes nothing returns boolean
return(udg_RandomTalk[5]==2)
endfunction
function Trig_Abos_Enters_Func002C takes nothing returns boolean
return(udg_RandomTalk[5]==1)
endfunction
function Trig_Abos_Enters_Actions takes nothing returns nothing
set udg_RandomTalk[5]=GetRandomInt(1,5)
if(Trig_Abos_Enters_Func002C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[94],"Хируко",null,"ЗАТОПЧУУ! 5АДЫЫ!!!",0,-2.,true)
else
if(Trig_Abos_Enters_Func002Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[94],"Хируко",null,"НУУУ ВСЁЁЁ!!!",0,-2.,true)
else
if(Trig_Abos_Enters_Func002Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[94],"Хируко",null,"ХААА ХААААА ХАААААА!!!",0,-2.,true)
else
if(Trig_Abos_Enters_Func002Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[94],"Хируко",null,"ТЫЫ НЕЕ СЕРДИИИ МЕНЯ!!!",0,-2.,true)
else
if(Trig_Abos_Enters_Func002Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[94],"Хируко",null,"НУ ХАНАА!!! ВАААМ!!",0,-2.,true)
endif
endif
endif
endif
endif
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(7.5)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Abos_Enters takes nothing returns nothing
set gg_trg_Abos_Enters=CreateTrigger()
call TriggerAddCondition(gg_trg_Abos_Enters,Condition(function Trig_Abos_Enters_Conditions))
call TriggerAddAction(gg_trg_Abos_Enters,function Trig_Abos_Enters_Actions)
endfunction
function Trig_Abos_Dying_Conditions takes nothing returns boolean
return(GetTriggerUnit()==udg_Hero2[94])
endfunction
function Trig_Abos_Dying_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetKillingUnit())),udg_Hero2[94],"Хируко",null,"Я! НЕ ПРААЩУУУУУ!!!!!!!!",0,-3.6,true)
set udg_Hero2[94]=null
call DisableTrigger(gg_trg_Abos)
call DisableTrigger(gg_trg_Abos_Enters)
endfunction
function InitTrig_Abos_Dying takes nothing returns nothing
set gg_trg_Abos_Dying=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Abos_Dying,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Abos_Dying,Condition(function Trig_Abos_Dying_Conditions))
call TriggerAddAction(gg_trg_Abos_Dying,function Trig_Abos_Dying_Actions)
endfunction
function Trig_Ninja_Enters_Conditions takes nothing returns boolean
return(IsUnitAliveBJ(udg_Hero2[95]))and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)
endfunction
function Trig_Ninja_Enters_Func004Func001Func002C takes nothing returns boolean
return(udg_RandomTalk[6]==3)
endfunction
function Trig_Ninja_Enters_Func004Func001C takes nothing returns boolean
return(udg_RandomTalk[6]==2)
endfunction
function Trig_Ninja_Enters_Func004C takes nothing returns boolean
return(udg_RandomTalk[6]==1)
endfunction
function Trig_Ninja_Enters_Actions takes nothing returns nothing
set udg_RandomTalk[6]=GetRandomInt(1,3)
if(Trig_Ninja_Enters_Func004C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetEnteringUnit())),udg_Hero2[95],"Чукичи",null,"Как сам!",0,.0,true)
else
if(Trig_Ninja_Enters_Func004Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[95],"Чукичи",null,"Ну чё. А!",0,.0,true)
else
if(Trig_Ninja_Enters_Func004Func001Func002C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[95],"Чукичи",null,"Ну-и-ну!",0,.0,true)
endif
endif
endif
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(7.5)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Ninja_Enters takes nothing returns nothing
set gg_trg_Ninja_Enters=CreateTrigger()
call TriggerAddCondition(gg_trg_Ninja_Enters,Condition(function Trig_Ninja_Enters_Conditions))
call TriggerAddAction(gg_trg_Ninja_Enters,function Trig_Ninja_Enters_Actions)
endfunction
function Trig_Ninja_Dying_Conditions takes nothing returns boolean
return(GetTriggerUnit()==udg_Hero2[95])
endfunction
function Trig_Ninja_Dying_Func004A takes nothing returns nothing
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetEnumUnit())),udg_Hero2[95],"Чукичи",null,"Не прощу!!!!",0,-3.6,true)
endfunction
function Trig_Ninja_Dying_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemByIdSwapped('I01C',GetTriggerUnit())
call ForGroupBJ(GetUnitsInRangeOfLocAll(800.,GetUnitLoc(udg_Hero2[95])),function Trig_Ninja_Dying_Func004A)
set udg_Hero2[95]=null
call DisableTrigger(gg_trg_Ninja_Enters)
endfunction
function InitTrig_Ninja_Dying takes nothing returns nothing
set gg_trg_Ninja_Dying=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Ninja_Dying,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Ninja_Dying,Condition(function Trig_Ninja_Dying_Conditions))
call TriggerAddAction(gg_trg_Ninja_Dying,function Trig_Ninja_Dying_Actions)
endfunction
function Trig_Samurai_Enters_Conditions takes nothing returns boolean
return(IsUnitAliveBJ(udg_Hero2[93]))and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)
endfunction
function Trig_Samurai_Enters_Func005Func001Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[7]==5)
endfunction
function Trig_Samurai_Enters_Func005Func001Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[7]==4)
endfunction
function Trig_Samurai_Enters_Func005Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[7]==3)
endfunction
function Trig_Samurai_Enters_Func005Func001C takes nothing returns boolean
return(udg_RandomTalk[7]==2)
endfunction
function Trig_Samurai_Enters_Func005C takes nothing returns boolean
return(udg_RandomTalk[7]==1)
endfunction
function Trig_Samurai_Enters_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set udg_RandomTalk[7]=GetRandomInt(1,5)
if(Trig_Samurai_Enters_Func005C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[93],"Гарии",null,"Умри, собачий *рен!",0,.0,true)
else
if(Trig_Samurai_Enters_Func005Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[93],"Гарии",null,"Беги пока жив.",0,.0,true)
else
if(Trig_Samurai_Enters_Func005Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[93],"Гарии",null,"Разрежу надвое!",0,.0,true)
else
if(Trig_Samurai_Enters_Func005Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[93],"Гарии",null,"Эй ты!",0,.0,true)
else
if(Trig_Samurai_Enters_Func005Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[93],"Гарии",null,"Ану не бежать трусы!",0,.0,true)
endif
endif
endif
endif
endif
set udg_RandomTalk[7]=0
call TriggerSleepAction(7.5)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Samurai_Enters takes nothing returns nothing
set gg_trg_Samurai_Enters=CreateTrigger()
call TriggerAddCondition(gg_trg_Samurai_Enters,Condition(function Trig_Samurai_Enters_Conditions))
call TriggerAddAction(gg_trg_Samurai_Enters,function Trig_Samurai_Enters_Actions)
endfunction
function Trig_Samurai_Dying_Conditions takes nothing returns boolean
return(GetTriggerUnit()==udg_Hero2[93])
endfunction
function Trig_Samurai_Dying_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemByIdSwapped('I01A',GetTriggerUnit())
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetKillingUnit())),udg_Hero2[93],"Гарии",null,"Твоя взела...",0,-3.6,true)
set udg_Hero2[93]=null
call DisableTrigger(gg_trg_Samurai_Enters)
endfunction
function InitTrig_Samurai_Dying takes nothing returns nothing
set gg_trg_Samurai_Dying=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Samurai_Dying,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Samurai_Dying,Condition(function Trig_Samurai_Dying_Conditions))
call TriggerAddAction(gg_trg_Samurai_Dying,function Trig_Samurai_Dying_Actions)
endfunction
function Trig_Haku_Enters_Conditions takes nothing returns boolean
return(IsUnitAliveBJ(udg_Hero2[92]))and(UnitHasBuffBJ(udg_Hero2[92],'BOwk')==false)and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)
endfunction
function Trig_Haku_Enters_Func006Func001Func001C takes nothing returns boolean
return(udg_RandomTalk[8]==3)
endfunction
function Trig_Haku_Enters_Func006Func001C takes nothing returns boolean
return(udg_RandomTalk[8]==2)
endfunction
function Trig_Haku_Enters_Func006C takes nothing returns boolean
return(udg_RandomTalk[8]==1)
endfunction
function Trig_Haku_Enters_Actions takes nothing returns nothing
set udg_RandomTalk[8]=GetRandomInt(1,3)
call DisableTrigger(GetTriggeringTrigger())
if(Trig_Haku_Enters_Func006C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[92],"Хаку",null,"Тебе не уйти!",0,.0,true)
else
if(Trig_Haku_Enters_Func006Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[92],"Хаку",null,"Так так, посмотрим что ты можешь.",0,.0,true)
else
if(Trig_Haku_Enters_Func006Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[92],"Хаку",null,"Лучше беги.",0,.0,true)
endif
endif
endif
call TriggerSleepAction(7.5)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Haku_Enters takes nothing returns nothing
set gg_trg_Haku_Enters=CreateTrigger()
call TriggerAddCondition(gg_trg_Haku_Enters,Condition(function Trig_Haku_Enters_Conditions))
call TriggerAddAction(gg_trg_Haku_Enters,function Trig_Haku_Enters_Actions)
endfunction
function Trig_Haku_Dying_Conditions takes nothing returns boolean
return(GetTriggerUnit()==udg_Hero2[92])
endfunction
function Trig_Haku_Dying_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemByIdSwapped('I01O',GetTriggerUnit())
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[92],"Хаку",null,"Просто повезло...",0,-3.6,true)
set udg_Hero2[92]=null
call DisableTrigger(gg_trg_Haku_Enters)
endfunction
function InitTrig_Haku_Dying takes nothing returns nothing
set gg_trg_Haku_Dying=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Haku_Dying,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Haku_Dying,Condition(function Trig_Haku_Dying_Conditions))
call TriggerAddAction(gg_trg_Haku_Dying,function Trig_Haku_Dying_Actions)
endfunction
function Trig_Dreadlord_Enters_Conditions takes nothing returns boolean
return((IsUnitType(GetEnteringUnit(),UNIT_TYPE_HERO))and(IsUnitAliveBJ(udg_Hero2[97]))and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER))!=null
endfunction
function Trig_Dreadlord_Enters_Func004Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetRandomInt(1,$A)==$A)
endfunction
function Trig_Dreadlord_Enters_Func004Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetRandomInt(1,9)==9)
endfunction
function Trig_Dreadlord_Enters_Func004Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetRandomInt(1,8)==8)
endfunction
function Trig_Dreadlord_Enters_Func004Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetRandomInt(1,7)==7)
endfunction
function Trig_Dreadlord_Enters_Func004Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetRandomInt(1,6)==6)
endfunction
function Trig_Dreadlord_Enters_Func004Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetRandomInt(1,6)==5)
endfunction
function Trig_Dreadlord_Enters_Func004Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetRandomInt(1,6)==5)
endfunction
function Trig_Dreadlord_Enters_Func004Func001Func001Func001Func001C takes nothing returns boolean
return(GetRandomInt(1,6)==4)
endfunction
function Trig_Dreadlord_Enters_Func004Func001Func001Func001C takes nothing returns boolean
return(GetRandomInt(1,6)==4)
endfunction
function Trig_Dreadlord_Enters_Func004Func001Func001C takes nothing returns boolean
return(GetRandomInt(1,6)==3)
endfunction
function Trig_Dreadlord_Enters_Func004Func001C takes nothing returns boolean
return(GetRandomInt(1,6)==2)
endfunction
function Trig_Dreadlord_Enters_Func004C takes nothing returns boolean
return(GetRandomInt(1,6)==1)
endfunction
function Trig_Dreadlord_Enters_Actions takes nothing returns nothing
if(Trig_Dreadlord_Enters_Func004C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[97],"Албегтис",null,"Умри!",0,3.,false)
else
if(Trig_Dreadlord_Enters_Func004Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[97],"Албегтис",null,"Берите! Богатства твоё! Хе-хе-хе-хе",0,4.,false)
else
if(Trig_Dreadlord_Enters_Func004Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[97],"Албегтис",null,"Я это вершина. Низшие мои.",0,3.,false)
else
if(Trig_Dreadlord_Enters_Func004Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[97],"Албегтис",null,"А что!? я люблю людей.",0,4.6,false)
else
if(Trig_Dreadlord_Enters_Func004Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[97],"Албегтис",null,"Узрите мощь Легиона!",0,3.8,false)
else
if(Trig_Dreadlord_Enters_Func004Func001Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[97],"Албегтис",null,"ОТНЫНЕ! Я твой господин.",0,3.,false)
else
if(Trig_Dreadlord_Enters_Func004Func001Func001Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[97],"Албегтис",null,"Если у меня есть крылья, почему я хожу пешком.",0,9.,false)
else
if(Trig_Dreadlord_Enters_Func004Func001Func001Func001Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[97],"Албегтис",null,"Я буду вас поджидать. Ха ха ха",0,6.,false)
else
if(Trig_Dreadlord_Enters_Func004Func001Func001Func001Func001Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[97],"Албегтис",null,"Идите сюда! Я ваш друг.",0,3.4,false)
else
if(Trig_Dreadlord_Enters_Func004Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[97],"Албегтис",null,"Меня можно остановить, только правдой и людской верой.",0,3.4,true)
else
if(Trig_Dreadlord_Enters_Func004Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[97],"Албегтис",null,"Я могу сделать стобой всё что угодно. И вы не в силах противостоять мне.",0,6.,true)
else
if(Trig_Dreadlord_Enters_Func004Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_Hero2[97],"Албегтис",null,"Вы просто животные, которые подчиняются инкстинктам. Ну как жизнь.. Обезяна.",0,6.,true)
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(10.)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Dreadlord_Enters takes nothing returns nothing
set gg_trg_Dreadlord_Enters=CreateTrigger()
call TriggerAddCondition(gg_trg_Dreadlord_Enters,Condition(function Trig_Dreadlord_Enters_Conditions))
call TriggerAddAction(gg_trg_Dreadlord_Enters,function Trig_Dreadlord_Enters_Actions)
endfunction
function Trig_Dreadlord_Dying_Conditions takes nothing returns boolean
return(GetTriggerUnit()==udg_Hero2[97])
endfunction
function Trig_Dreadlord_Dying_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitAddItemByIdSwapped('ankh',GetTriggerUnit())
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetKillingUnit())),udg_Hero2[97],"Албегтис",null,"ЭТО НЕВОЗМОЖНО! КАКИЕ-ТО ПРИМАТЫ ОДОЛЕЛИ МЕНЯ! ФЫЫЫЫЫЫ!!!",0,-3.6,true)
set udg_Hero2[97]=null
call DisableTrigger(gg_trg_Dreadlord_Enters)
endfunction
function InitTrig_Dreadlord_Dying takes nothing returns nothing
set gg_trg_Dreadlord_Dying=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Dreadlord_Dying,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Dreadlord_Dying,Condition(function Trig_Dreadlord_Dying_Conditions))
call TriggerAddAction(gg_trg_Dreadlord_Dying,function Trig_Dreadlord_Dying_Actions)
endfunction
function Trig_killme_Func001001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_killme_Func001001002002 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())==Player(0))
endfunction
function Trig_killme_Func001001002 takes nothing returns boolean
return GetBooleanAnd(Trig_killme_Func001001002001(),Trig_killme_Func001001002002())
endfunction
function Trig_killme_Func001A takes nothing returns nothing
call KillUnit(GetEnumUnit())
call PauseUnit(GetEnumUnit(),false)
endfunction
function Trig_killme_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_killme_Func001001002)),function Trig_killme_Func001A)
endfunction
function InitTrig_killme takes nothing returns nothing
set gg_trg_killme=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_killme,Player(0),"-killme",true)
call TriggerAddAction(gg_trg_killme,function Trig_killme_Actions)
endfunction
function Trig_killme_2_Func001001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_killme_2_Func001001002002 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())==Player(1))
endfunction
function Trig_killme_2_Func001001002 takes nothing returns boolean
return GetBooleanAnd(Trig_killme_2_Func001001002001(),Trig_killme_2_Func001001002002())
endfunction
function Trig_killme_2_Func001A takes nothing returns nothing
call KillUnit(GetEnumUnit())
call PauseUnit(GetEnumUnit(),false)
endfunction
function Trig_killme_2_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_killme_2_Func001001002)),function Trig_killme_2_Func001A)
endfunction
function InitTrig_killme_2 takes nothing returns nothing
set gg_trg_killme_2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_killme_2,Player(1),"-killme",true)
call TriggerAddAction(gg_trg_killme_2,function Trig_killme_2_Actions)
endfunction
function Trig_killme_3_Func001001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_killme_3_Func001001002002 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())==Player(2))
endfunction
function Trig_killme_3_Func001001002 takes nothing returns boolean
return GetBooleanAnd(Trig_killme_3_Func001001002001(),Trig_killme_3_Func001001002002())
endfunction
function Trig_killme_3_Func001A takes nothing returns nothing
call KillUnit(GetEnumUnit())
call PauseUnit(GetEnumUnit(),false)
endfunction
function Trig_killme_3_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_killme_3_Func001001002)),function Trig_killme_3_Func001A)
endfunction
function InitTrig_killme_3 takes nothing returns nothing
set gg_trg_killme_3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_killme_3,Player(2),"-killme",true)
call TriggerAddAction(gg_trg_killme_3,function Trig_killme_3_Actions)
endfunction
function Trig_killme_4_Func001001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_killme_4_Func001001002002 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())==Player(3))
endfunction
function Trig_killme_4_Func001001002 takes nothing returns boolean
return GetBooleanAnd(Trig_killme_4_Func001001002001(),Trig_killme_4_Func001001002002())
endfunction
function Trig_killme_4_Func001A takes nothing returns nothing
call KillUnit(GetEnumUnit())
call PauseUnit(GetEnumUnit(),false)
endfunction
function Trig_killme_4_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_killme_4_Func001001002)),function Trig_killme_4_Func001A)
endfunction
function InitTrig_killme_4 takes nothing returns nothing
set gg_trg_killme_4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_killme_4,Player(3),"-killme",true)
call TriggerAddAction(gg_trg_killme_4,function Trig_killme_4_Actions)
endfunction
function Trig_killme_5_Func001001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_killme_5_Func001001002002 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())==Player(5))
endfunction
function Trig_killme_5_Func001001002 takes nothing returns boolean
return GetBooleanAnd(Trig_killme_5_Func001001002001(),Trig_killme_5_Func001001002002())
endfunction
function Trig_killme_5_Func001A takes nothing returns nothing
call KillUnit(GetEnumUnit())
call PauseUnit(GetEnumUnit(),false)
endfunction
function Trig_killme_5_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_killme_5_Func001001002)),function Trig_killme_5_Func001A)
endfunction
function InitTrig_killme_5 takes nothing returns nothing
set gg_trg_killme_5=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_killme_5,Player(5),"-killme",true)
call TriggerAddAction(gg_trg_killme_5,function Trig_killme_5_Actions)
endfunction
function Trig_killme_6_Func001001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_killme_6_Func001001002002 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())==Player(6))
endfunction
function Trig_killme_6_Func001001002 takes nothing returns boolean
return GetBooleanAnd(Trig_killme_6_Func001001002001(),Trig_killme_6_Func001001002002())
endfunction
function Trig_killme_6_Func001A takes nothing returns nothing
call KillUnit(GetEnumUnit())
call PauseUnit(GetEnumUnit(),false)
endfunction
function Trig_killme_6_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_killme_6_Func001001002)),function Trig_killme_6_Func001A)
endfunction
function InitTrig_killme_6 takes nothing returns nothing
set gg_trg_killme_6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_killme_6,Player(6),"-killme",true)
call TriggerAddAction(gg_trg_killme_6,function Trig_killme_6_Actions)
endfunction
function Trig_killme_7_Func001001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_killme_7_Func001001002002 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())==Player(8))
endfunction
function Trig_killme_7_Func001001002 takes nothing returns boolean
return GetBooleanAnd(Trig_killme_7_Func001001002001(),Trig_killme_7_Func001001002002())
endfunction
function Trig_killme_7_Func001A takes nothing returns nothing
call KillUnit(GetEnumUnit())
call PauseUnit(GetEnumUnit(),false)
endfunction
function Trig_killme_7_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_killme_7_Func001001002)),function Trig_killme_7_Func001A)
endfunction
function InitTrig_killme_7 takes nothing returns nothing
set gg_trg_killme_7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_killme_7,Player(8),"-killme",true)
call TriggerAddAction(gg_trg_killme_7,function Trig_killme_7_Actions)
endfunction
function Trig_killme_8_Func001001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_killme_8_Func001001002002 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())==Player(9))
endfunction
function Trig_killme_8_Func001001002 takes nothing returns boolean
return GetBooleanAnd(Trig_killme_8_Func001001002001(),Trig_killme_8_Func001001002002())
endfunction
function Trig_killme_8_Func001A takes nothing returns nothing
call KillUnit(GetEnumUnit())
call PauseUnit(GetEnumUnit(),false)
endfunction
function Trig_killme_8_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_killme_8_Func001001002)),function Trig_killme_8_Func001A)
endfunction
function InitTrig_killme_8 takes nothing returns nothing
set gg_trg_killme_8=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_killme_8,Player(9),"-killme",true)
call TriggerAddAction(gg_trg_killme_8,function Trig_killme_8_Actions)
endfunction
function Trig_killme_9_Func001001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_killme_9_Func001001002002 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())==Player($A))
endfunction
function Trig_killme_9_Func001001002 takes nothing returns boolean
return GetBooleanAnd(Trig_killme_9_Func001001002001(),Trig_killme_9_Func001001002002())
endfunction
function Trig_killme_9_Func001A takes nothing returns nothing
call KillUnit(GetEnumUnit())
call PauseUnit(GetEnumUnit(),false)
endfunction
function Trig_killme_9_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_killme_9_Func001001002)),function Trig_killme_9_Func001A)
endfunction
function InitTrig_killme_9 takes nothing returns nothing
set gg_trg_killme_9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_killme_9,Player($A),"-killme",true)
call TriggerAddAction(gg_trg_killme_9,function Trig_killme_9_Actions)
endfunction
function Trig_Matchup_Func002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_Matchup_Func002002002002 takes nothing returns boolean
return(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_USER)
endfunction
function Trig_Matchup_Func002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Matchup_Func002002002001(),Trig_Matchup_Func002002002002())
endfunction
function Trig_Matchup_Func003A takes nothing returns nothing
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(udg_PlayerNames[(1+GetPlayerId(GetOwningPlayer(GetEnumUnit())))]+(GetPlayerName(GetOwningPlayer(GetEnumUnit()))+(" = "+(GetHeroProperName(GetEnumUnit())+(" уровень - "+I2S(GetHeroLevel(GetEnumUnit()))))))))
endfunction
function Trig_Matchup_Actions takes nothing returns nothing
set udg_UnitGroup=GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_Matchup_Func002002002))
call ForGroupBJ(udg_UnitGroup,function Trig_Matchup_Func003A)
call DestroyGroup(udg_UnitGroup)
set udg_UnitGroup=null
endfunction
function InitTrig_Matchup takes nothing returns nothing
set gg_trg_Matchup=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(0),"-ma",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(1),"-ma",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(2),"-ma",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(3),"-ma",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(4),"-ma",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(5),"-ma",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(6),"-ma",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(7),"-ma",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(8),"-ma",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(9),"-ma",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player($A),"-ma",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player($B),"-ma",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(0),"-matchup",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(1),"-matchup",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(2),"-matchup",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(3),"-matchup",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(4),"-matchup",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(5),"-matchup",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(6),"-matchup",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(7),"-matchup",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(8),"-matchup",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(9),"-matchup",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player($A),"-matchup",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player($B),"-matchup",true)
call TriggerAddAction(gg_trg_Matchup,function Trig_Matchup_Actions)
endfunction
function Trig_greedisgood_Actions takes nothing returns nothing
call DisplayTextToForce(GetForceOfPlayer(GetEnumPlayer()),(GetPlayerName(GetEnumPlayer())+" заслужил Читерскую Победу!"))
call CustomDefeatBJ(GetTriggerPlayer()," заслужил Читерскую Победу!")
endfunction
function InitTrig_greedisgood takes nothing returns nothing
set gg_trg_greedisgood=CreateTrigger()
call TriggerRegisterPlayerStateEvent(gg_trg_greedisgood,Player(0),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1000.)
call TriggerRegisterPlayerStateEvent(gg_trg_greedisgood,Player(1),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1000.)
call TriggerRegisterPlayerStateEvent(gg_trg_greedisgood,Player(2),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1000.)
call TriggerRegisterPlayerStateEvent(gg_trg_greedisgood,Player(3),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1000.)
call TriggerRegisterPlayerStateEvent(gg_trg_greedisgood,Player(4),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1000.)
call TriggerRegisterPlayerStateEvent(gg_trg_greedisgood,Player(5),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1000.)
call TriggerRegisterPlayerStateEvent(gg_trg_greedisgood,Player(6),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1000.)
call TriggerRegisterPlayerStateEvent(gg_trg_greedisgood,Player(7),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1000.)
call TriggerRegisterPlayerStateEvent(gg_trg_greedisgood,Player(8),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1000.)
call TriggerRegisterPlayerStateEvent(gg_trg_greedisgood,Player(9),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1000.)
call TriggerRegisterPlayerStateEvent(gg_trg_greedisgood,Player($A),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1000.)
call TriggerRegisterPlayerStateEvent(gg_trg_greedisgood,Player($B),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1000.)
call TriggerAddAction(gg_trg_greedisgood,function Trig_greedisgood_Actions)
endfunction
function Trig_Movespeed_Con takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_Movespeed takes nothing returns nothing
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),(GetHeroProperName(GetEnumUnit())+(" скорость бега = "+I2S(R2I(GetUnitMoveSpeed(GetEnumUnit()))))))
endfunction
function Trig_Movespeed_Act takes nothing returns nothing
local group g=CreateGroup()
call GroupEnumUnitsOfPlayer(g,GetTriggerPlayer(),Condition(function Trig_Movespeed_Con))
call ForGroup(g,function Trig_Movespeed)
call DestroyGroup(g)
set g=null
endfunction
function InitTrig_Movespeed takes nothing returns nothing
set gg_trg_Movespeed=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_Movespeed,Player(0),"-ms",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Movespeed,Player(1),"-ms",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Movespeed,Player(2),"-ms",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Movespeed,Player(3),"-ms",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Movespeed,Player(4),"-ms",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Movespeed,Player(5),"-ms",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Movespeed,Player(6),"-ms",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Movespeed,Player(7),"-ms",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Movespeed,Player(8),"-ms",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Movespeed,Player(9),"-ms",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Movespeed,Player($A),"-ms",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Movespeed,Player($B),"-ms",true)
call TriggerAddAction(gg_trg_Movespeed,function Trig_Movespeed_Act)
endfunction
function Trig_cam_Actions takes nothing returns nothing
if(GetLocalPlayer()==GetTriggerPlayer())then
call CameraSetupApplyForceDuration(gg_cam_Konoha,false,2)
endif
endfunction
function InitTrig_cam takes nothing returns nothing
set gg_trg_cam=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_cam,Player(0),"-came",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cam,Player(1),"-came",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cam,Player(2),"-came",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cam,Player(3),"-came",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cam,Player(5),"-came",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cam,Player(6),"-came",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cam,Player(8),"-came",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cam,Player(9),"-came",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cam,Player($A),"-came",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cam,Player(4),"-came",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cam,Player($B),"-came",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cam,Player(7),"-came",true)
call TriggerAddAction(gg_trg_cam,function Trig_cam_Actions)
endfunction
function Trig_Visible_Actions takes nothing returns nothing
local real cjlocgn_00000000
local real cjlocgn_00000001
local real cjlocgn_00000002
local real cjlocgn_00000003
if(GetLocalPlayer()==GetTriggerPlayer())then
set cjlocgn_00000000=GetRectMinX(gg_rct_VisibleMap)
set cjlocgn_00000001=GetRectMinY(gg_rct_VisibleMap)
set cjlocgn_00000002=GetRectMaxX(gg_rct_VisibleMap)
set cjlocgn_00000003=GetRectMaxY(gg_rct_VisibleMap)
call SetCameraBounds(cjlocgn_00000000,cjlocgn_00000001,cjlocgn_00000000,cjlocgn_00000003,cjlocgn_00000002,cjlocgn_00000003,cjlocgn_00000002,cjlocgn_00000001)
set cjlocgn_00000003=0
set cjlocgn_00000002=0
set cjlocgn_00000000=0
set cjlocgn_00000001=0
endif
endfunction
function InitTrig_Visible takes nothing returns nothing
set gg_trg_Visible=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_Visible,Player(0),"-visible",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Visible,Player(1),"-visible",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Visible,Player(2),"-visible",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Visible,Player(3),"-visible",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Visible,Player(5),"-visible",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Visible,Player(6),"-visible",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Visible,Player(8),"-visible",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Visible,Player(9),"-visible",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Visible,Player($A),"-visible",true)
call TriggerAddAction(gg_trg_Visible,function Trig_Visible_Actions)
endfunction
function Trig_clear_Actions takes nothing returns nothing
local player p=GetTriggerPlayer()
local force f=CreateForce()
call ForceAddPlayer(f,p)
if(IsPlayerInForce(GetLocalPlayer(),f))then
call ClearTextMessages()
endif
call DestroyForce(f)
set f=null
set p=null
endfunction
function InitTrig_clear takes nothing returns nothing
set gg_trg_clear=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_clear,Player(0),"-clear",false)
call TriggerRegisterPlayerChatEvent(gg_trg_clear,Player(1),"-clear",false)
call TriggerRegisterPlayerChatEvent(gg_trg_clear,Player(2),"-clear",false)
call TriggerRegisterPlayerChatEvent(gg_trg_clear,Player(3),"-clear",false)
call TriggerRegisterPlayerChatEvent(gg_trg_clear,Player(4),"-clear",false)
call TriggerRegisterPlayerChatEvent(gg_trg_clear,Player(5),"-clear",false)
call TriggerRegisterPlayerChatEvent(gg_trg_clear,Player(6),"-clear",false)
call TriggerRegisterPlayerChatEvent(gg_trg_clear,Player(7),"-clear",false)
call TriggerRegisterPlayerChatEvent(gg_trg_clear,Player(8),"-clear",false)
call TriggerRegisterPlayerChatEvent(gg_trg_clear,Player(9),"-clear",false)
call TriggerRegisterPlayerChatEvent(gg_trg_clear,Player($A),"-clear",false)
call TriggerRegisterPlayerChatEvent(gg_trg_clear,Player($B),"-clear",false)
call TriggerAddAction(gg_trg_clear,function Trig_clear_Actions)
endfunction
function Trig_Open_Cave_Actions takes nothing returns nothing
if(GetDestructableLife(gg_dest_B000_6926)>0)then
call KillDestructable(gg_dest_B000_6926)
endif
call SetDestructableAnimation(gg_dest_B000_6926,"death")
endfunction
function InitTrig_Open_Cave takes nothing returns nothing
set gg_trg_Open_Cave=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_Open_Cave,Player(5),"-open",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Open_Cave,Player(8),"-open",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Open_Cave,Player(9),"-open",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Open_Cave,Player($A),"-open",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Open_Cave,Player($B),"-open",true)
call TriggerAddAction(gg_trg_Open_Cave,function Trig_Open_Cave_Actions)
endfunction
function Trig_Close_Cave_Actions takes nothing returns nothing
if(GetDestructableLife(gg_dest_B000_6926)<=0)then
call DestructableRestoreLife(gg_dest_B000_6926,GetDestructableMaxLife(gg_dest_B000_6926),true)
endif
call SetDestructableAnimation(gg_dest_B000_6926,"stand")
endfunction
function InitTrig_Close_Cave takes nothing returns nothing
set gg_trg_Close_Cave=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_Close_Cave,Player(5),"-close",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Close_Cave,Player(8),"-close",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Close_Cave,Player(9),"-close",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Close_Cave,Player($A),"-close",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Close_Cave,Player($B),"-close",true)
call TriggerAddAction(gg_trg_Close_Cave,function Trig_Close_Cave_Actions)
endfunction
function Trig_PeinsDie_Conditions takes nothing returns boolean
return(IsUnitInGroup(GetDyingUnit(),udg_Peins))
endfunction
function Trig_PeinsDie_Actions takes nothing returns nothing
call GroupRemoveUnit(udg_Peins,GetDyingUnit())
endfunction
function InitTrig_PeinsDie takes nothing returns nothing
set gg_trg_PeinsDie=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_PeinsDie,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_PeinsDie,Condition(function Trig_PeinsDie_Conditions))
call TriggerAddAction(gg_trg_PeinsDie,function Trig_PeinsDie_Actions)
endfunction
function Trig_PeinsRespawn_Func001C takes nothing returns boolean
return(GetRevivingUnit()==udg_Hero2[3])or(GetRevivingUnit()==udg_Hero2[4])or(GetRevivingUnit()==udg_Hero2[5])or(GetRevivingUnit()==udg_Hero2[6])or(GetRevivingUnit()==udg_Hero2[7])or(GetRevivingUnit()==gg_unit_Hhkl_0021)
endfunction
function Trig_PeinsRespawn_Conditions takes nothing returns boolean
return(Trig_PeinsRespawn_Func001C())
endfunction
function Trig_PeinsRespawn_Actions takes nothing returns nothing
call GroupAddUnit(udg_Peins,GetRevivingUnit())
endfunction
function InitTrig_PeinsRespawn takes nothing returns nothing
set gg_trg_PeinsRespawn=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_PeinsRespawn,EVENT_PLAYER_HERO_REVIVE_FINISH)
call TriggerAddCondition(gg_trg_PeinsRespawn,Condition(function Trig_PeinsRespawn_Conditions))
call TriggerAddAction(gg_trg_PeinsRespawn,function Trig_PeinsRespawn_Actions)
endfunction
function Trig_BidjuDecontrol_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A02B')
endfunction
function Trig_BidjuDecontrol_Func001Func001C takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='u00Q')or(GetUnitTypeId(GetSpellTargetUnit())=='u00R')or(GetUnitTypeId(GetSpellTargetUnit())=='u00V')or(GetUnitTypeId(GetSpellTargetUnit())=='u00S')or(GetUnitTypeId(GetSpellTargetUnit())=='u00T')or(GetUnitTypeId(GetSpellTargetUnit())=='u00W')or(GetUnitTypeId(GetSpellTargetUnit())=='u00U')or(GetUnitTypeId(GetSpellTargetUnit())=='u00X')or(GetUnitTypeId(GetSpellTargetUnit())=='u017')
endfunction
function Trig_BidjuDecontrol_Func001C takes nothing returns boolean
return(Trig_BidjuDecontrol_Func001Func001C())
endfunction
function Trig_BidjuDecontrol_Actions takes nothing returns nothing
if(Trig_BidjuDecontrol_Func001C())then
call SetUnitOwner(GetSpellTargetUnit(),Player($C),true)
endif
endfunction
function InitTrig_BidjuDecontrol takes nothing returns nothing
set gg_trg_BidjuDecontrol=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_BidjuDecontrol,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_BidjuDecontrol,Condition(function Trig_BidjuDecontrol_Conditions))
call TriggerAddAction(gg_trg_BidjuDecontrol,function Trig_BidjuDecontrol_Actions)
endfunction
function Trig_Sexy_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A020')
endfunction
function Trig_Sexy_Actions takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"shadowclone.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'uaco',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),GetUnitFacing(GetTriggerUnit()))
call UnitApplyTimedLifeBJ(5.,'Brai',bj_lastCreatedUnit)
call SetUnitAnimation(bj_lastCreatedUnit,"spell")
call QueueUnitAnimation(bj_lastCreatedUnit,"spell")
call QueueUnitAnimation(bj_lastCreatedUnit,"spell")
call QueueUnitAnimation(bj_lastCreatedUnit,"spell")
call QueueUnitAnimation(bj_lastCreatedUnit,"spell")
call QueueUnitAnimation(bj_lastCreatedUnit,"spell")
call PauseUnit(GetTriggerUnit(),true)
call ShowUnitHide(GetTriggerUnit())
call TriggerSleepAction(5.)
call PauseUnit(GetTriggerUnit(),false)
call ShowUnitShow(GetTriggerUnit())
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"shadowclone.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveUnit(bj_lastCreatedUnit)
endfunction
function InitTrig_Sexy takes nothing returns nothing
set gg_trg_Sexy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sexy,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(gg_trg_Sexy,Condition(function Trig_Sexy_Conditions))
call TriggerAddAction(gg_trg_Sexy,function Trig_Sexy_Actions)
endfunction
function Trig_Madara_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A022')
endfunction
function Trig_Madara_Func001Func001C takes nothing returns boolean
return(GetSpellTargetUnit()==udg_Hero2[87])
endfunction
function Trig_Madara_Func001C takes nothing returns boolean
return(IsUnitHidden(udg_Hero2[87]))
endfunction
function Trig_Madara_Actions takes nothing returns nothing
if(Trig_Madara_Func001C())then
call SetUnitPositionLoc(udg_Hero2[87],GetUnitLoc(GetTriggerUnit()))
call ShowUnitShow(udg_Hero2[87])
set udg_SealPoint=GetUnitLoc(udg_Hero2[87])
call AddSpecialEffectLocBJ(udg_SealPoint,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(udg_SealPoint)
set udg_SealPoint=null
else
if(Trig_Madara_Func001Func001C())then
set udg_SealPoint=GetUnitLoc(udg_Hero2[87])
call AddSpecialEffectLocBJ(udg_SealPoint,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call ShowUnitHide(udg_Hero2[87])
call RemoveLocation(udg_SealPoint)
set udg_SealPoint=null
else
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),"Target its not a Madara.")
endif
endif
endfunction
function InitTrig_Madara takes nothing returns nothing
set gg_trg_Madara=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Madara,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Madara,Condition(function Trig_Madara_Conditions))
call TriggerAddAction(gg_trg_Madara,function Trig_Madara_Actions)
endfunction
function Trig_Madara_Sword_Conditions takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I00S'))
endfunction
function Trig_Madara_Sword_Func002Func001C takes nothing returns boolean
return(GetUnitTypeId(GetManipulatingUnit())=='H01F')or(GetUnitTypeId(GetManipulatingUnit())=='H01U')or(GetUnitTypeId(GetManipulatingUnit())=='H018')
endfunction
function Trig_Madara_Sword_Func002C takes nothing returns boolean
return(Trig_Madara_Sword_Func002Func001C())
endfunction
function Trig_Madara_Sword_Actions takes nothing returns nothing
if(Trig_Madara_Sword_Func002C())then
else
call UnitRemoveItemSwapped(GetManipulatedItem(),GetManipulatingUnit())
endif
endfunction
function InitTrig_Madara_Sword takes nothing returns nothing
set gg_trg_Madara_Sword=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Madara_Sword,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_Madara_Sword,Condition(function Trig_Madara_Sword_Conditions))
call TriggerAddAction(gg_trg_Madara_Sword,function Trig_Madara_Sword_Actions)
endfunction
function Trig_Shisuya_Danzo_Conditions takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I00W'))
endfunction
function Trig_Shisuya_Danzo_Func002C takes nothing returns boolean
return(GetUnitTypeId(GetManipulatingUnit())=='Udre')
endfunction
function Trig_Shisuya_Danzo_Actions takes nothing returns nothing
if(Trig_Shisuya_Danzo_Func002C())then
else
call UnitRemoveItemSwapped(GetManipulatedItem(),GetManipulatingUnit())
endif
endfunction
function InitTrig_Shisuya_Danzo takes nothing returns nothing
set gg_trg_Shisuya_Danzo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Shisuya_Danzo,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_Shisuya_Danzo,Condition(function Trig_Shisuya_Danzo_Conditions))
call TriggerAddAction(gg_trg_Shisuya_Danzo,function Trig_Shisuya_Danzo_Actions)
endfunction
function Trig_Sennin_item_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='S000')
endfunction
function Trig_Sennin_item_Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='u017')
endfunction
function Trig_Sennin_item_Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='u00X')
endfunction
function Trig_Sennin_item_Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='u00U')
endfunction
function Trig_Sennin_item_Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='u00W')
endfunction
function Trig_Sennin_item_Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='u00T')
endfunction
function Trig_Sennin_item_Func001Func001Func001Func001C takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='u00S')
endfunction
function Trig_Sennin_item_Func001Func001Func001C takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='u00V')
endfunction
function Trig_Sennin_item_Func001Func001C takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='u00R')
endfunction
function Trig_Sennin_item_Func001C takes nothing returns boolean
return(GetUnitTypeId(GetSpellTargetUnit())=='u00Q')
endfunction
function Trig_Sennin_item_Actions takes nothing returns nothing
if(Trig_Sennin_item_Func001C())then
set udg_Butil[1]=GetSpellTargetUnit()
set udg_SealPoint=GetUnitLoc(udg_Butil[1])
call AddSpecialEffectLocBJ(udg_SealPoint,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call PauseUnit(udg_Butil[1],true)
call ShowUnitHide(udg_Butil[1])
call RemoveLocation(udg_SealPoint)
set udg_SealPoint=null
else
if(Trig_Sennin_item_Func001Func001C())then
set udg_Butil[2]=GetSpellTargetUnit()
set udg_SealPoint=GetUnitLoc(udg_Butil[2])
call AddSpecialEffectLocBJ(udg_SealPoint,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call PauseUnit(udg_Butil[2],true)
call ShowUnitHide(udg_Butil[2])
call RemoveLocation(udg_SealPoint)
set udg_SealPoint=null
else
if(Trig_Sennin_item_Func001Func001Func001C())then
set udg_Butil[3]=GetSpellTargetUnit()
set udg_SealPoint=GetUnitLoc(udg_Butil[3])
call AddSpecialEffectLocBJ(udg_SealPoint,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call PauseUnit(udg_Butil[3],true)
call ShowUnitHide(udg_Butil[3])
call RemoveLocation(udg_SealPoint)
set udg_SealPoint=null
else
if(Trig_Sennin_item_Func001Func001Func001Func001C())then
set udg_Butil[4]=GetSpellTargetUnit()
set udg_SealPoint=GetUnitLoc(udg_Butil[4])
call AddSpecialEffectLocBJ(udg_SealPoint,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call PauseUnit(udg_Butil[4],true)
call ShowUnitHide(udg_Butil[4])
call RemoveLocation(udg_SealPoint)
set udg_SealPoint=null
else
if(Trig_Sennin_item_Func001Func001Func001Func001Func001C())then
set udg_Butil[5]=GetSpellTargetUnit()
set udg_SealPoint=GetUnitLoc(udg_Butil[5])
call AddSpecialEffectLocBJ(udg_SealPoint,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call PauseUnit(udg_Butil[5],true)
call ShowUnitHide(udg_Butil[5])
call RemoveLocation(udg_SealPoint)
set udg_SealPoint=null
else
if(Trig_Sennin_item_Func001Func001Func001Func001Func001Func001C())then
set udg_Butil[6]=GetSpellTargetUnit()
set udg_SealPoint=GetUnitLoc(udg_Butil[6])
call AddSpecialEffectLocBJ(udg_SealPoint,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call PauseUnit(udg_Butil[6],true)
call ShowUnitHide(udg_Butil[6])
call RemoveLocation(udg_SealPoint)
set udg_SealPoint=null
else
if(Trig_Sennin_item_Func001Func001Func001Func001Func001Func001Func001C())then
set udg_Butil[7]=GetSpellTargetUnit()
set udg_SealPoint=GetUnitLoc(udg_Butil[7])
call AddSpecialEffectLocBJ(udg_SealPoint,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(udg_SealPoint)
set udg_SealPoint=null
call PauseUnit(udg_Butil[7],true)
call ShowUnitHide(udg_Butil[7])
else
if(Trig_Sennin_item_Func001Func001Func001Func001Func001Func001Func001Func001C())then
set udg_Butil[8]=GetSpellTargetUnit()
set udg_SealPoint=GetUnitLoc(udg_Butil[8])
call AddSpecialEffectLocBJ(udg_SealPoint,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(udg_SealPoint)
set udg_SealPoint=null
call PauseUnit(udg_Butil[8],true)
call ShowUnitHide(udg_Butil[8])
else
if(Trig_Sennin_item_Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
set udg_Butil[9]=GetSpellTargetUnit()
call AddSpecialEffectLocBJ(udg_SealPoint,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
set udg_SealPoint=GetUnitLoc(udg_Butil[9])
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(udg_SealPoint)
set udg_SealPoint=null
call PauseUnit(udg_Butil[9],true)
call ShowUnitHide(udg_Butil[9])
else
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetSpellAbilityUnit()))," the terget must be Biju.")
endif
endif
endif
endif
endif
endif
endif
endif
endif
endfunction
function InitTrig_Sennin_item takes nothing returns nothing
set gg_trg_Sennin_item=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sennin_item,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Sennin_item,Condition(function Trig_Sennin_item_Conditions))
call TriggerAddAction(gg_trg_Sennin_item,function Trig_Sennin_item_Actions)
endfunction
function Trig_Sennin_item2_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A02F')
endfunction
function Trig_Sennin_item2_Func001C takes nothing returns boolean
return(IsUnitHidden(udg_Butil[1]))
endfunction
function Trig_Sennin_item2_Func002C takes nothing returns boolean
return(IsUnitHidden(udg_Butil[2]))
endfunction
function Trig_Sennin_item2_Func003C takes nothing returns boolean
return(IsUnitHidden(udg_Butil[3]))
endfunction
function Trig_Sennin_item2_Func004C takes nothing returns boolean
return(IsUnitHidden(udg_Butil[4]))
endfunction
function Trig_Sennin_item2_Func005C takes nothing returns boolean
return(IsUnitHidden(udg_Butil[5]))
endfunction
function Trig_Sennin_item2_Func006C takes nothing returns boolean
return(IsUnitHidden(udg_Butil[6]))
endfunction
function Trig_Sennin_item2_Func007C takes nothing returns boolean
return(IsUnitHidden(udg_Butil[7]))
endfunction
function Trig_Sennin_item2_Func008C takes nothing returns boolean
return(IsUnitHidden(udg_Butil[8]))
endfunction
function Trig_Sennin_item2_Func009C takes nothing returns boolean
return(IsUnitHidden(udg_Butil[9]))
endfunction
function Trig_Sennin_item2_Actions takes nothing returns nothing
if(Trig_Sennin_item2_Func001C())then
call ShowUnitShow(udg_Butil[1])
call PauseUnit(udg_Butil[1],false)
call SetUnitPositionLoc(udg_Butil[1],GetUnitLoc(GetSpellAbilityUnit()))
set udg_Butil[1]=null
endif
if(Trig_Sennin_item2_Func002C())then
call ShowUnitShow(udg_Butil[2])
call PauseUnit(udg_Butil[2],false)
call SetUnitPositionLoc(udg_Butil[2],GetUnitLoc(GetSpellAbilityUnit()))
set udg_Butil[2]=null
endif
if(Trig_Sennin_item2_Func003C())then
call ShowUnitShow(udg_Butil[3])
call PauseUnit(udg_Butil[3],false)
call SetUnitPositionLoc(udg_Butil[3],GetUnitLoc(GetSpellAbilityUnit()))
set udg_Butil[3]=null
endif
if(Trig_Sennin_item2_Func004C())then
call ShowUnitShow(udg_Butil[4])
call PauseUnit(udg_Butil[4],false)
call SetUnitPositionLoc(udg_Butil[4],GetUnitLoc(GetSpellAbilityUnit()))
set udg_Butil[4]=null
endif
if(Trig_Sennin_item2_Func005C())then
call ShowUnitShow(udg_Butil[5])
call PauseUnit(udg_Butil[5],false)
call SetUnitPositionLoc(udg_Butil[5],GetUnitLoc(GetSpellAbilityUnit()))
set udg_Butil[5]=null
endif
if(Trig_Sennin_item2_Func006C())then
call ShowUnitShow(udg_Butil[6])
call PauseUnit(udg_Butil[6],false)
call SetUnitPositionLoc(udg_Butil[6],GetUnitLoc(GetSpellAbilityUnit()))
set udg_Butil[6]=null
endif
if(Trig_Sennin_item2_Func007C())then
call ShowUnitShow(udg_Butil[7])
call PauseUnit(udg_Butil[7],false)
call SetUnitPositionLoc(udg_Butil[7],GetUnitLoc(GetSpellAbilityUnit()))
set udg_Butil[7]=null
endif
if(Trig_Sennin_item2_Func008C())then
call ShowUnitShow(udg_Butil[8])
call PauseUnit(udg_Butil[8],false)
call SetUnitPositionLoc(udg_Butil[8],GetUnitLoc(GetSpellAbilityUnit()))
set udg_Butil[8]=null
endif
if(Trig_Sennin_item2_Func009C())then
call ShowUnitShow(udg_Butil[9])
call PauseUnit(udg_Butil[9],false)
call SetUnitPositionLoc(udg_Butil[9],GetUnitLoc(GetSpellAbilityUnit()))
set udg_Butil[9]=null
endif
set udg_SealPoint=GetUnitLoc(GetTriggerUnit())
call AddSpecialEffectLocBJ(udg_SealPoint,"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(udg_SealPoint)
set udg_SealPoint=null
endfunction
function InitTrig_Sennin_item2 takes nothing returns nothing
set gg_trg_Sennin_item2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sennin_item2,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Sennin_item2,Condition(function Trig_Sennin_item2_Conditions))
call TriggerAddAction(gg_trg_Sennin_item2,function Trig_Sennin_item2_Actions)
endfunction
function Trig_Veer_Conditions takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())=='I00R'
endfunction
function Trig_Veer_Actions takes nothing returns nothing
set udg_Gintama=GetManipulatingUnit()
call EnableTrigger(gg_trg_Veer_2)
endfunction
function InitTrig_Veer takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_PICKUP_ITEM,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_Veer_Conditions))
call TriggerAddAction(t,function Trig_Veer_Actions)
set t=null
endfunction
function Trig_Veer_2_Conditions takes nothing returns boolean
return GetAttacker()==udg_Gintama
endfunction
function Trig_Veer_2_Func004C takes nothing returns boolean
return(udg_Ginsan==1)
endfunction
function Trig_Veer_2_Func005C takes nothing returns boolean
return(udg_Ginsan==6)
endfunction
function Trig_Veer_2_Func006C takes nothing returns boolean
return(udg_Ginsan==$C)
endfunction
function Trig_Veer_2_Func007C takes nothing returns boolean
return(udg_Ginsan==19)
endfunction
function Trig_Veer_2_Func008C takes nothing returns boolean
return(udg_Ginsan==21)
endfunction
function Trig_Veer_2_Actions takes nothing returns nothing
set udg_Ginsan=GetRandomInt(1,22)
if(Trig_Veer_2_Func004C())then
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(GetAttacker()),GetUnitLoc(GetAttacker()),GetUnitFacing(GetAttacker()))
call UnitApplyTimedLife(bj_lastCreatedUnit,'Bapl',1.)
call UnitAddAbility(bj_lastCreatedUnit,'ACcv')
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,PolarProjectionBJ(GetUnitLoc(GetAttacker()),256,GetUnitFacing(GetAttacker())))
endif
if(Trig_Veer_2_Func005C())then
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(GetAttacker()),GetUnitLoc(GetAttacker()),GetUnitFacing(GetAttacker()))
call UnitApplyTimedLife(bj_lastCreatedUnit,'Bapl',1.)
call UnitAddAbility(bj_lastCreatedUnit,'ACbc')
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0264,PolarProjectionBJ(GetUnitLoc(GetAttacker()),116.,GetUnitFacing(GetAttacker())))
endif
if(Trig_Veer_2_Func006C())then
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(GetAttacker()),GetUnitLoc(GetAttacker()),GetUnitFacing(GetAttacker()))
call UnitApplyTimedLife(bj_lastCreatedUnit,'Bapl',1.)
call UnitAddAbility(bj_lastCreatedUnit,'A08G')
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,PolarProjectionBJ(GetUnitLoc(GetAttacker()),256,GetUnitFacing(GetAttacker())))
endif
if(Trig_Veer_2_Func007C())then
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(GetAttacker()),GetUnitLoc(GetAttacker()),GetUnitFacing(GetAttacker()))
call UnitApplyTimedLife(bj_lastCreatedUnit,'Bapl',1.)
call UnitAddAbility(bj_lastCreatedUnit,'A06X')
call IssueTargetOrderById(bj_lastCreatedUnit,$D0097,GetTriggerUnit())
endif
if(Trig_Veer_2_Func008C())then
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(GetAttacker()),GetUnitLoc(GetAttacker()),GetUnitFacing(GetAttacker()))
call UnitApplyTimedLife(bj_lastCreatedUnit,'Bapl',1.)
call UnitAddAbility(bj_lastCreatedUnit,'ACtb')
call IssueTargetOrderById(bj_lastCreatedUnit,$D011C,GetTriggerUnit())
endif
endfunction
function InitTrig_Veer_2 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
call DisableTrigger(gg_trg_Veer_2)
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_ATTACKED,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_Veer_2_Conditions))
call TriggerAddAction(t,function Trig_Veer_2_Actions)
set t=null
endfunction
function Trig_Veer_3_Conditions takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())=='I00R'
endfunction
function Trig_Veer_3_Actions takes nothing returns nothing
set udg_Gintama=null
call DisableTrigger(gg_trg_Veer_2)
endfunction
function InitTrig_Veer_3 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_DROP_ITEM,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_Veer_3_Conditions))
call TriggerAddAction(t,function Trig_Veer_3_Actions)
set t=null
endfunction
function Trig_Mizukag_Func001C takes nothing returns boolean
return(RectContainsLoc(gg_rct_MizuMove1,GetUnitLoc(GetEnteringUnit())))
endfunction
function Trig_Mizukag_Func002C takes nothing returns boolean
return(RectContainsLoc(gg_rct_MizuMove2,GetUnitLoc(GetEnteringUnit())))
endfunction
function Trig_Mizukag_Func003C takes nothing returns boolean
return(RectContainsLoc(gg_rct_MizuMove3,GetUnitLoc(GetEnteringUnit())))
endfunction
function Trig_Mizukag_Actions takes nothing returns nothing
if(Trig_Mizukag_Func001C())then
call SetUnitPositionLoc(GetEnteringUnit(),GetRectCenter(gg_rct_TownofRoushin2))
endif
if(Trig_Mizukag_Func002C())then
call SetUnitPositionLoc(GetEnteringUnit(),GetRectCenter(gg_rct_Valley_of_the_End))
endif
if(Trig_Mizukag_Func003C())then
call SetUnitPositionLoc(GetEnteringUnit(),GetRectCenter(gg_rct_tele15))
endif
endfunction
function InitTrig_Mizukag takes nothing returns nothing
set gg_trg_Mizukag=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Mizukag,gg_rct_MizuMove1)
call TriggerRegisterEnterRectSimple(gg_trg_Mizukag,gg_rct_MizuMove2)
call TriggerRegisterEnterRectSimple(gg_trg_Mizukag,gg_rct_MizuMove3)
call TriggerAddAction(gg_trg_Mizukag,function Trig_Mizukag_Actions)
endfunction
function Trig_Wallout_Func002Func003C takes nothing returns boolean
return(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_COMPUTER)or(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)
endfunction
function Trig_Wallout_Func002C takes nothing returns boolean
return((IsUnitType(GetEnteringUnit(),UNIT_TYPE_HERO))and(udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(Trig_Wallout_Func002Func003C()))!=null
endfunction
function Trig_Wallout_Conditions takes nothing returns boolean
return(Trig_Wallout_Func002C())
endfunction
function Trig_Wallout_Func001C takes nothing returns boolean
return(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_COMPUTER)
endfunction
function Trig_Wallout_Actions takes nothing returns nothing
if(Trig_Wallout_Func001C())then
call SetUnitPositionLoc(GetEnteringUnit(),GetRectCenter(gg_rct_Dreadlord))
else
set udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]=true
endif
endfunction
function InitTrig_Wallout takes nothing returns nothing
set gg_trg_Wallout=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall1)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall2)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall3)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall4)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall5)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall6)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall7)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall8)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall9)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall10)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall11)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall12)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall13)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall14)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall15)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall16)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall17)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall18)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall19)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall20)
call TriggerAddCondition(gg_trg_Wallout,Condition(function Trig_Wallout_Conditions))
call TriggerAddAction(gg_trg_Wallout,function Trig_Wallout_Actions)
endfunction
function Trig_KameraPoint_Func026Func004C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())!='Ucrl')and(GetUnitTypeId(GetEnteringUnit())!='Osam')and(GetUnitTypeId(GetEnteringUnit())!='Udea')and(GetUnitTypeId(GetEnteringUnit())!='Ubal')and(GetUnitTypeId(GetEnteringUnit())!='Uvng')and(GetUnitTypeId(GetEnteringUnit())!='Ekee')and(GetUnitTypeId(GetEnteringUnit())!='Ewar')and(GetUnitTypeId(GetEnteringUnit())!='Ewrd')and(GetUnitTypeId(GetEnteringUnit())!='Eevi')and(GetUnitTypeId(GetEnteringUnit())!='Emns')and(GetUnitTypeId(GetEnteringUnit())!='Efur')and(GetUnitTypeId(GetEnteringUnit())!='Nbst')and(GetUnitTypeId(GetEnteringUnit())!='Nfir')and(GetUnitTypeId(GetEnteringUnit())!='Nplh')and(GetUnitTypeId(GetEnteringUnit())!='Nbrn')
endfunction
function Trig_KameraPoint_Func026C takes nothing returns boolean
return((IsUnitType(GetEnteringUnit(),UNIT_TYPE_HERO))and(IsUnitIllusion(GetEnteringUnit())==false)and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)and(Trig_KameraPoint_Func026Func004C()))!=null
endfunction
function Trig_KameraPoint_Conditions takes nothing returns boolean
return(Trig_KameraPoint_Func026C())
endfunction
function Trig_KameraPoint_Func002Func004C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())!='Ucrl')and(GetUnitTypeId(GetEnteringUnit())!='Osam')and(GetUnitTypeId(GetEnteringUnit())!='Udea')and(GetUnitTypeId(GetEnteringUnit())!='Ubal')and(GetUnitTypeId(GetEnteringUnit())!='Uvng')and(GetUnitTypeId(GetEnteringUnit())!='Ekee')and(GetUnitTypeId(GetEnteringUnit())!='Ewar')and(GetUnitTypeId(GetEnteringUnit())!='Ewrd')and(GetUnitTypeId(GetEnteringUnit())!='Eevi')and(GetUnitTypeId(GetEnteringUnit())!='Emns')and(GetUnitTypeId(GetEnteringUnit())!='Efur')and(GetUnitTypeId(GetEnteringUnit())!='Nbst')and(GetUnitTypeId(GetEnteringUnit())!='Nfir')and(GetUnitTypeId(GetEnteringUnit())!='Nplh')and(GetUnitTypeId(GetEnteringUnit())!='Nbrn')
endfunction
function Trig_KameraPoint_Func002C takes nothing returns boolean
return(RectContainsLoc(gg_rct_World,GetUnitLoc(GetEnteringUnit())))and(Trig_KameraPoint_Func002Func004C())
endfunction
function Trig_KameraPoint_Func003Func002Func003C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())!='Ucrl')and(GetUnitTypeId(GetEnteringUnit())!='Osam')and(GetUnitTypeId(GetEnteringUnit())!='Udea')and(GetUnitTypeId(GetEnteringUnit())!='Ubal')and(GetUnitTypeId(GetEnteringUnit())!='Uvng')and(GetUnitTypeId(GetEnteringUnit())!='Ekee')and(GetUnitTypeId(GetEnteringUnit())!='Ewar')and(GetUnitTypeId(GetEnteringUnit())!='Ewrd')and(GetUnitTypeId(GetEnteringUnit())!='Eevi')and(GetUnitTypeId(GetEnteringUnit())!='Emns')and(GetUnitTypeId(GetEnteringUnit())!='Efur')and(GetUnitTypeId(GetEnteringUnit())!='Nbst')and(GetUnitTypeId(GetEnteringUnit())!='Nfir')and(GetUnitTypeId(GetEnteringUnit())!='Nplh')and(GetUnitTypeId(GetEnteringUnit())!='Nbrn')
endfunction
function Trig_KameraPoint_Func003Func002C takes nothing returns boolean
return(udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(RectContainsLoc(gg_rct_Base_Orochimaru,GetUnitLoc(GetEnteringUnit())))and(Trig_KameraPoint_Func003Func002Func003C())
endfunction
function Trig_KameraPoint_Func003C takes nothing returns boolean
return(Trig_KameraPoint_Func003Func002C())
endfunction
function Trig_KameraPoint_Func004Func002Func003C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())!='Ucrl')and(GetUnitTypeId(GetEnteringUnit())!='Osam')and(GetUnitTypeId(GetEnteringUnit())!='Udea')and(GetUnitTypeId(GetEnteringUnit())!='Ubal')and(GetUnitTypeId(GetEnteringUnit())!='Uvng')and(GetUnitTypeId(GetEnteringUnit())!='Ekee')and(GetUnitTypeId(GetEnteringUnit())!='Ewar')and(GetUnitTypeId(GetEnteringUnit())!='Ewrd')and(GetUnitTypeId(GetEnteringUnit())!='Eevi')and(GetUnitTypeId(GetEnteringUnit())!='Emns')and(GetUnitTypeId(GetEnteringUnit())!='Efur')and(GetUnitTypeId(GetEnteringUnit())!='Nbst')and(GetUnitTypeId(GetEnteringUnit())!='Nfir')and(GetUnitTypeId(GetEnteringUnit())!='Nplh')and(GetUnitTypeId(GetEnteringUnit())!='Nbrn')
endfunction
function Trig_KameraPoint_Func004Func002C takes nothing returns boolean
return(udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(RectContainsLoc(gg_rct_Base_Orochimaru_second,GetUnitLoc(GetEnteringUnit())))and(Trig_KameraPoint_Func004Func002Func003C())
endfunction
function Trig_KameraPoint_Func004C takes nothing returns boolean
return(Trig_KameraPoint_Func004Func002C())
endfunction
function Trig_KameraPoint_Func005Func002Func003C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())!='Ucrl')and(GetUnitTypeId(GetEnteringUnit())!='Osam')and(GetUnitTypeId(GetEnteringUnit())!='Udea')and(GetUnitTypeId(GetEnteringUnit())!='Ubal')and(GetUnitTypeId(GetEnteringUnit())!='Uvng')and(GetUnitTypeId(GetEnteringUnit())!='Ekee')and(GetUnitTypeId(GetEnteringUnit())!='Ewar')and(GetUnitTypeId(GetEnteringUnit())!='Ewrd')and(GetUnitTypeId(GetEnteringUnit())!='Eevi')and(GetUnitTypeId(GetEnteringUnit())!='Emns')and(GetUnitTypeId(GetEnteringUnit())!='Efur')and(GetUnitTypeId(GetEnteringUnit())!='Nbst')and(GetUnitTypeId(GetEnteringUnit())!='Nfir')and(GetUnitTypeId(GetEnteringUnit())!='Nplh')and(GetUnitTypeId(GetEnteringUnit())!='Nbrn')
endfunction
function Trig_KameraPoint_Func005Func002C takes nothing returns boolean
return(udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(RectContainsLoc(gg_rct_Faraon,GetUnitLoc(GetEnteringUnit())))and(Trig_KameraPoint_Func005Func002Func003C())
endfunction
function Trig_KameraPoint_Func005C takes nothing returns boolean
return(Trig_KameraPoint_Func005Func002C())
endfunction
function Trig_KameraPoint_Func006Func002Func003C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())!='Ucrl')and(GetUnitTypeId(GetEnteringUnit())!='Osam')and(GetUnitTypeId(GetEnteringUnit())!='Udea')and(GetUnitTypeId(GetEnteringUnit())!='Ubal')and(GetUnitTypeId(GetEnteringUnit())!='Uvng')and(GetUnitTypeId(GetEnteringUnit())!='Ekee')and(GetUnitTypeId(GetEnteringUnit())!='Ewar')and(GetUnitTypeId(GetEnteringUnit())!='Ewrd')and(GetUnitTypeId(GetEnteringUnit())!='Eevi')and(GetUnitTypeId(GetEnteringUnit())!='Emns')and(GetUnitTypeId(GetEnteringUnit())!='Efur')and(GetUnitTypeId(GetEnteringUnit())!='Nbst')and(GetUnitTypeId(GetEnteringUnit())!='Nfir')and(GetUnitTypeId(GetEnteringUnit())!='Nplh')and(GetUnitTypeId(GetEnteringUnit())!='Nbrn')
endfunction
function Trig_KameraPoint_Func006Func002C takes nothing returns boolean
return(udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(RectContainsLoc(gg_rct_Point8,GetUnitLoc(GetEnteringUnit())))and(Trig_KameraPoint_Func006Func002Func003C())
endfunction
function Trig_KameraPoint_Func006C takes nothing returns boolean
return(Trig_KameraPoint_Func006Func002C())
endfunction
function Trig_KameraPoint_Func007Func002Func003C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())!='Ucrl')and(GetUnitTypeId(GetEnteringUnit())!='Osam')and(GetUnitTypeId(GetEnteringUnit())!='Udea')and(GetUnitTypeId(GetEnteringUnit())!='Ubal')and(GetUnitTypeId(GetEnteringUnit())!='Uvng')and(GetUnitTypeId(GetEnteringUnit())!='Ekee')and(GetUnitTypeId(GetEnteringUnit())!='Ewar')and(GetUnitTypeId(GetEnteringUnit())!='Ewrd')and(GetUnitTypeId(GetEnteringUnit())!='Eevi')and(GetUnitTypeId(GetEnteringUnit())!='Emns')and(GetUnitTypeId(GetEnteringUnit())!='Efur')and(GetUnitTypeId(GetEnteringUnit())!='Nbst')and(GetUnitTypeId(GetEnteringUnit())!='Nfir')and(GetUnitTypeId(GetEnteringUnit())!='Nplh')and(GetUnitTypeId(GetEnteringUnit())!='Nbrn')
endfunction
function Trig_KameraPoint_Func007Func002C takes nothing returns boolean
return(udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(RectContainsLoc(gg_rct_Point2,GetUnitLoc(GetEnteringUnit())))and(Trig_KameraPoint_Func007Func002Func003C())
endfunction
function Trig_KameraPoint_Func007C takes nothing returns boolean
return(Trig_KameraPoint_Func007Func002C())
endfunction
function Trig_KameraPoint_Func008Func002Func003C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())!='Ucrl')and(GetUnitTypeId(GetEnteringUnit())!='Osam')and(GetUnitTypeId(GetEnteringUnit())!='Udea')and(GetUnitTypeId(GetEnteringUnit())!='Ubal')and(GetUnitTypeId(GetEnteringUnit())!='Uvng')and(GetUnitTypeId(GetEnteringUnit())!='Ekee')and(GetUnitTypeId(GetEnteringUnit())!='Ewar')and(GetUnitTypeId(GetEnteringUnit())!='Ewrd')and(GetUnitTypeId(GetEnteringUnit())!='Eevi')and(GetUnitTypeId(GetEnteringUnit())!='Emns')and(GetUnitTypeId(GetEnteringUnit())!='Efur')and(GetUnitTypeId(GetEnteringUnit())!='Nbst')and(GetUnitTypeId(GetEnteringUnit())!='Nfir')and(GetUnitTypeId(GetEnteringUnit())!='Nplh')and(GetUnitTypeId(GetEnteringUnit())!='Nbrn')
endfunction
function Trig_KameraPoint_Func008Func002C takes nothing returns boolean
return(udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(RectContainsLoc(gg_rct_Point3,GetUnitLoc(GetEnteringUnit())))and(Trig_KameraPoint_Func008Func002Func003C())
endfunction
function Trig_KameraPoint_Func008C takes nothing returns boolean
return(Trig_KameraPoint_Func008Func002C())
endfunction
function Trig_KameraPoint_Func009Func002Func003C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())!='Ucrl')and(GetUnitTypeId(GetEnteringUnit())!='Osam')and(GetUnitTypeId(GetEnteringUnit())!='Udea')and(GetUnitTypeId(GetEnteringUnit())!='Ubal')and(GetUnitTypeId(GetEnteringUnit())!='Uvng')and(GetUnitTypeId(GetEnteringUnit())!='Ekee')and(GetUnitTypeId(GetEnteringUnit())!='Ewar')and(GetUnitTypeId(GetEnteringUnit())!='Ewrd')and(GetUnitTypeId(GetEnteringUnit())!='Eevi')and(GetUnitTypeId(GetEnteringUnit())!='Emns')and(GetUnitTypeId(GetEnteringUnit())!='Efur')and(GetUnitTypeId(GetEnteringUnit())!='Nbst')and(GetUnitTypeId(GetEnteringUnit())!='Nfir')and(GetUnitTypeId(GetEnteringUnit())!='Nplh')and(GetUnitTypeId(GetEnteringUnit())!='Nbrn')
endfunction
function Trig_KameraPoint_Func009Func002C takes nothing returns boolean
return(udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(RectContainsLoc(gg_rct_Point4,GetUnitLoc(GetEnteringUnit())))and(Trig_KameraPoint_Func009Func002Func003C())
endfunction
function Trig_KameraPoint_Func009C takes nothing returns boolean
return(Trig_KameraPoint_Func009Func002C())
endfunction
function Trig_KameraPoint_Func010Func001Func003C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())!='Ucrl')and(GetUnitTypeId(GetEnteringUnit())!='Osam')and(GetUnitTypeId(GetEnteringUnit())!='Udea')and(GetUnitTypeId(GetEnteringUnit())!='Ubal')and(GetUnitTypeId(GetEnteringUnit())!='Uvng')and(GetUnitTypeId(GetEnteringUnit())!='Ekee')and(GetUnitTypeId(GetEnteringUnit())!='Ewar')and(GetUnitTypeId(GetEnteringUnit())!='Ewrd')and(GetUnitTypeId(GetEnteringUnit())!='Eevi')and(GetUnitTypeId(GetEnteringUnit())!='Emns')and(GetUnitTypeId(GetEnteringUnit())!='Efur')and(GetUnitTypeId(GetEnteringUnit())!='Nbst')and(GetUnitTypeId(GetEnteringUnit())!='Nfir')and(GetUnitTypeId(GetEnteringUnit())!='Nplh')and(GetUnitTypeId(GetEnteringUnit())!='Nbrn')
endfunction
function Trig_KameraPoint_Func010Func001C takes nothing returns boolean
return(udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(RectContainsLoc(gg_rct_Point5,GetUnitLoc(GetEnteringUnit())))and(Trig_KameraPoint_Func010Func001Func003C())
endfunction
function Trig_KameraPoint_Func010C takes nothing returns boolean
return(Trig_KameraPoint_Func010Func001C())
endfunction
function Trig_KameraPoint_Func011Func002Func003C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())!='Ucrl')and(GetUnitTypeId(GetEnteringUnit())!='Osam')and(GetUnitTypeId(GetEnteringUnit())!='Udea')and(GetUnitTypeId(GetEnteringUnit())!='Ubal')and(GetUnitTypeId(GetEnteringUnit())!='Uvng')and(GetUnitTypeId(GetEnteringUnit())!='Ekee')and(GetUnitTypeId(GetEnteringUnit())!='Ewar')and(GetUnitTypeId(GetEnteringUnit())!='Ewrd')and(GetUnitTypeId(GetEnteringUnit())!='Eevi')and(GetUnitTypeId(GetEnteringUnit())!='Emns')and(GetUnitTypeId(GetEnteringUnit())!='Efur')and(GetUnitTypeId(GetEnteringUnit())!='Nbst')and(GetUnitTypeId(GetEnteringUnit())!='Nfir')and(GetUnitTypeId(GetEnteringUnit())!='Nplh')and(GetUnitTypeId(GetEnteringUnit())!='Nbrn')
endfunction
function Trig_KameraPoint_Func011Func002C takes nothing returns boolean
return(udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(RectContainsLoc(gg_rct_AnozerWorld,GetUnitLoc(GetEnteringUnit())))and(Trig_KameraPoint_Func011Func002Func003C())
endfunction
function Trig_KameraPoint_Func011C takes nothing returns boolean
return(Trig_KameraPoint_Func011Func002C())
endfunction
function Trig_KameraPoint_Func012Func002Func003C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())!='Ucrl')and(GetUnitTypeId(GetEnteringUnit())!='Osam')and(GetUnitTypeId(GetEnteringUnit())!='Udea')and(GetUnitTypeId(GetEnteringUnit())!='Ubal')and(GetUnitTypeId(GetEnteringUnit())!='Uvng')and(GetUnitTypeId(GetEnteringUnit())!='Ekee')and(GetUnitTypeId(GetEnteringUnit())!='Ewar')and(GetUnitTypeId(GetEnteringUnit())!='Ewrd')and(GetUnitTypeId(GetEnteringUnit())!='Eevi')and(GetUnitTypeId(GetEnteringUnit())!='Emns')and(GetUnitTypeId(GetEnteringUnit())!='Efur')and(GetUnitTypeId(GetEnteringUnit())!='Nbst')and(GetUnitTypeId(GetEnteringUnit())!='Nfir')and(GetUnitTypeId(GetEnteringUnit())!='Nplh')and(GetUnitTypeId(GetEnteringUnit())!='Nbrn')
endfunction
function Trig_KameraPoint_Func012Func002C takes nothing returns boolean
return(udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(RectContainsLoc(gg_rct_Point6,GetUnitLoc(GetEnteringUnit())))and(Trig_KameraPoint_Func012Func002Func003C())
endfunction
function Trig_KameraPoint_Func012C takes nothing returns boolean
return(Trig_KameraPoint_Func012Func002C())
endfunction
function Trig_KameraPoint_Func013Func002Func003C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())!='Ucrl')and(GetUnitTypeId(GetEnteringUnit())!='Osam')and(GetUnitTypeId(GetEnteringUnit())!='Udea')and(GetUnitTypeId(GetEnteringUnit())!='Ubal')and(GetUnitTypeId(GetEnteringUnit())!='Uvng')and(GetUnitTypeId(GetEnteringUnit())!='Ekee')and(GetUnitTypeId(GetEnteringUnit())!='Ewar')and(GetUnitTypeId(GetEnteringUnit())!='Ewrd')and(GetUnitTypeId(GetEnteringUnit())!='Eevi')and(GetUnitTypeId(GetEnteringUnit())!='Emns')and(GetUnitTypeId(GetEnteringUnit())!='Efur')and(GetUnitTypeId(GetEnteringUnit())!='Nbst')and(GetUnitTypeId(GetEnteringUnit())!='Nfir')and(GetUnitTypeId(GetEnteringUnit())!='Nplh')and(GetUnitTypeId(GetEnteringUnit())!='Nbrn')
endfunction
function Trig_KameraPoint_Func013Func002C takes nothing returns boolean
return(udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(RectContainsLoc(gg_rct_Point9,GetUnitLoc(GetEnteringUnit())))and(Trig_KameraPoint_Func013Func002Func003C())
endfunction
function Trig_KameraPoint_Func013C takes nothing returns boolean
return(Trig_KameraPoint_Func013Func002C())
endfunction
function Trig_KameraPoint_Func014Func002Func003C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())!='Ucrl')and(GetUnitTypeId(GetEnteringUnit())!='Osam')and(GetUnitTypeId(GetEnteringUnit())!='Udea')and(GetUnitTypeId(GetEnteringUnit())!='Ubal')and(GetUnitTypeId(GetEnteringUnit())!='Uvng')and(GetUnitTypeId(GetEnteringUnit())!='Ekee')and(GetUnitTypeId(GetEnteringUnit())!='Ewar')and(GetUnitTypeId(GetEnteringUnit())!='Ewrd')and(GetUnitTypeId(GetEnteringUnit())!='Eevi')and(GetUnitTypeId(GetEnteringUnit())!='Emns')and(GetUnitTypeId(GetEnteringUnit())!='Efur')and(GetUnitTypeId(GetEnteringUnit())!='Nbst')and(GetUnitTypeId(GetEnteringUnit())!='Nfir')and(GetUnitTypeId(GetEnteringUnit())!='Nplh')and(GetUnitTypeId(GetEnteringUnit())!='Nbrn')
endfunction
function Trig_KameraPoint_Func014Func002C takes nothing returns boolean
return(udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(RectContainsLoc(gg_rct_Point1,GetUnitLoc(GetEnteringUnit())))and(Trig_KameraPoint_Func014Func002Func003C())
endfunction
function Trig_KameraPoint_Func014C takes nothing returns boolean
return(Trig_KameraPoint_Func014Func002C())
endfunction
function Trig_KameraPoint_Func015Func002Func003C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())!='Huth')and(GetUnitTypeId(GetEnteringUnit())!='H01F')and(GetUnitTypeId(GetEnteringUnit())!='H008')and(GetUnitTypeId(GetEnteringUnit())!='Ucrl')and(GetUnitTypeId(GetEnteringUnit())!='Osam')and(GetUnitTypeId(GetEnteringUnit())!='Udea')and(GetUnitTypeId(GetEnteringUnit())!='Ubal')and(GetUnitTypeId(GetEnteringUnit())!='Uvng')and(GetUnitTypeId(GetEnteringUnit())!='Ekee')and(GetUnitTypeId(GetEnteringUnit())!='Ewar')and(GetUnitTypeId(GetEnteringUnit())!='Ewrd')and(GetUnitTypeId(GetEnteringUnit())!='Eevi')and(GetUnitTypeId(GetEnteringUnit())!='Emns')and(GetUnitTypeId(GetEnteringUnit())!='Efur')and(GetUnitTypeId(GetEnteringUnit())!='Nbst')and(GetUnitTypeId(GetEnteringUnit())!='Nfir')and(GetUnitTypeId(GetEnteringUnit())!='Nplh')and(GetUnitTypeId(GetEnteringUnit())!='Nbrn')
endfunction
function Trig_KameraPoint_Func015Func002C takes nothing returns boolean
return(udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(RectContainsLoc(gg_rct_Point10,GetUnitLoc(GetEnteringUnit())))and(Trig_KameraPoint_Func015Func002Func003C())
endfunction
function Trig_KameraPoint_Func015C takes nothing returns boolean
return(Trig_KameraPoint_Func015Func002C())
endfunction
function Trig_KameraPoint_Func016Func002Func003C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())!='Ucrl')and(GetUnitTypeId(GetEnteringUnit())!='Osam')and(GetUnitTypeId(GetEnteringUnit())!='Udea')and(GetUnitTypeId(GetEnteringUnit())!='Ubal')and(GetUnitTypeId(GetEnteringUnit())!='Uvng')and(GetUnitTypeId(GetEnteringUnit())!='Ekee')and(GetUnitTypeId(GetEnteringUnit())!='Ewar')and(GetUnitTypeId(GetEnteringUnit())!='Ewrd')and(GetUnitTypeId(GetEnteringUnit())!='Eevi')and(GetUnitTypeId(GetEnteringUnit())!='Emns')and(GetUnitTypeId(GetEnteringUnit())!='Efur')and(GetUnitTypeId(GetEnteringUnit())!='Nbst')and(GetUnitTypeId(GetEnteringUnit())!='Nfir')and(GetUnitTypeId(GetEnteringUnit())!='Nplh')and(GetUnitTypeId(GetEnteringUnit())!='Nbrn')
endfunction
function Trig_KameraPoint_Func016Func002C takes nothing returns boolean
return(udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(RectContainsLoc(gg_rct_Point11,GetUnitLoc(GetEnteringUnit())))and(Trig_KameraPoint_Func016Func002Func003C())
endfunction
function Trig_KameraPoint_Func016C takes nothing returns boolean
return(Trig_KameraPoint_Func016Func002C())
endfunction
function Trig_KameraPoint_Func017Func002Func003C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())!='Ucrl')and(GetUnitTypeId(GetEnteringUnit())!='Osam')and(GetUnitTypeId(GetEnteringUnit())!='Udea')and(GetUnitTypeId(GetEnteringUnit())!='Ubal')and(GetUnitTypeId(GetEnteringUnit())!='Uvng')and(GetUnitTypeId(GetEnteringUnit())!='Ekee')and(GetUnitTypeId(GetEnteringUnit())!='Ewar')and(GetUnitTypeId(GetEnteringUnit())!='Ewrd')and(GetUnitTypeId(GetEnteringUnit())!='Eevi')and(GetUnitTypeId(GetEnteringUnit())!='Emns')and(GetUnitTypeId(GetEnteringUnit())!='Efur')and(GetUnitTypeId(GetEnteringUnit())!='Nbst')and(GetUnitTypeId(GetEnteringUnit())!='Nfir')and(GetUnitTypeId(GetEnteringUnit())!='Nplh')and(GetUnitTypeId(GetEnteringUnit())!='Nbrn')
endfunction
function Trig_KameraPoint_Func017Func002C takes nothing returns boolean
return(udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(RectContainsLoc(gg_rct_MeiPoint,GetUnitLoc(GetEnteringUnit())))and(Trig_KameraPoint_Func017Func002Func003C())
endfunction
function Trig_KameraPoint_Func017C takes nothing returns boolean
return(Trig_KameraPoint_Func017Func002C())
endfunction
function Trig_KameraPoint_Func018Func002Func003C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())!='Ucrl')and(GetUnitTypeId(GetEnteringUnit())!='Osam')and(GetUnitTypeId(GetEnteringUnit())!='Udea')and(GetUnitTypeId(GetEnteringUnit())!='Ubal')and(GetUnitTypeId(GetEnteringUnit())!='Uvng')and(GetUnitTypeId(GetEnteringUnit())!='Ekee')and(GetUnitTypeId(GetEnteringUnit())!='Ewar')and(GetUnitTypeId(GetEnteringUnit())!='Ewrd')and(GetUnitTypeId(GetEnteringUnit())!='Eevi')and(GetUnitTypeId(GetEnteringUnit())!='Emns')and(GetUnitTypeId(GetEnteringUnit())!='Efur')and(GetUnitTypeId(GetEnteringUnit())!='Nbst')and(GetUnitTypeId(GetEnteringUnit())!='Nfir')and(GetUnitTypeId(GetEnteringUnit())!='Nplh')and(GetUnitTypeId(GetEnteringUnit())!='Nbrn')
endfunction
function Trig_KameraPoint_Func018Func002C takes nothing returns boolean
return(udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(RectContainsLoc(gg_rct_Town,GetUnitLoc(GetEnteringUnit())))and(Trig_KameraPoint_Func018Func002Func003C())
endfunction
function Trig_KameraPoint_Func018C takes nothing returns boolean
return(Trig_KameraPoint_Func018Func002C())
endfunction
function Trig_KameraPoint_Func019Func002Func003C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())!='Ucrl')and(GetUnitTypeId(GetEnteringUnit())!='Osam')and(GetUnitTypeId(GetEnteringUnit())!='Udea')and(GetUnitTypeId(GetEnteringUnit())!='Ubal')and(GetUnitTypeId(GetEnteringUnit())!='Uvng')and(GetUnitTypeId(GetEnteringUnit())!='Ekee')and(GetUnitTypeId(GetEnteringUnit())!='Ewar')and(GetUnitTypeId(GetEnteringUnit())!='Ewrd')and(GetUnitTypeId(GetEnteringUnit())!='Eevi')and(GetUnitTypeId(GetEnteringUnit())!='Emns')and(GetUnitTypeId(GetEnteringUnit())!='Efur')and(GetUnitTypeId(GetEnteringUnit())!='Nbst')and(GetUnitTypeId(GetEnteringUnit())!='Nfir')and(GetUnitTypeId(GetEnteringUnit())!='Nplh')and(GetUnitTypeId(GetEnteringUnit())!='Nbrn')
endfunction
function Trig_KameraPoint_Func019Func002C takes nothing returns boolean
return(udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(RectContainsLoc(gg_rct_Secret_of_Chamber,GetUnitLoc(GetEnteringUnit())))and(Trig_KameraPoint_Func019Func002Func003C())
endfunction
function Trig_KameraPoint_Func019C takes nothing returns boolean
return(Trig_KameraPoint_Func019Func002C())
endfunction
function Trig_KameraPoint_Func020Func002Func003C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())!='Ucrl')and(GetUnitTypeId(GetEnteringUnit())!='Osam')and(GetUnitTypeId(GetEnteringUnit())!='Udea')and(GetUnitTypeId(GetEnteringUnit())!='Ubal')and(GetUnitTypeId(GetEnteringUnit())!='Uvng')and(GetUnitTypeId(GetEnteringUnit())!='Ekee')and(GetUnitTypeId(GetEnteringUnit())!='Ewar')and(GetUnitTypeId(GetEnteringUnit())!='Ewrd')and(GetUnitTypeId(GetEnteringUnit())!='Eevi')and(GetUnitTypeId(GetEnteringUnit())!='Emns')and(GetUnitTypeId(GetEnteringUnit())!='Efur')and(GetUnitTypeId(GetEnteringUnit())!='Nbst')and(GetUnitTypeId(GetEnteringUnit())!='Nfir')and(GetUnitTypeId(GetEnteringUnit())!='Nplh')and(GetUnitTypeId(GetEnteringUnit())!='Nbrn')
endfunction
function Trig_KameraPoint_Func020Func002C takes nothing returns boolean
return(udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(RectContainsLoc(gg_rct_R2D2,GetUnitLoc(GetEnteringUnit())))and(Trig_KameraPoint_Func020Func002Func003C())
endfunction
function Trig_KameraPoint_Func020C takes nothing returns boolean
return(Trig_KameraPoint_Func020Func002C())
endfunction
function Trig_KameraPoint_Func021Func002Func003C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())!='Ucrl')and(GetUnitTypeId(GetEnteringUnit())!='Osam')and(GetUnitTypeId(GetEnteringUnit())!='Udea')and(GetUnitTypeId(GetEnteringUnit())!='Ubal')and(GetUnitTypeId(GetEnteringUnit())!='Uvng')and(GetUnitTypeId(GetEnteringUnit())!='Ekee')and(GetUnitTypeId(GetEnteringUnit())!='Ewar')and(GetUnitTypeId(GetEnteringUnit())!='Ewrd')and(GetUnitTypeId(GetEnteringUnit())!='Eevi')and(GetUnitTypeId(GetEnteringUnit())!='Emns')and(GetUnitTypeId(GetEnteringUnit())!='Efur')and(GetUnitTypeId(GetEnteringUnit())!='Nbst')and(GetUnitTypeId(GetEnteringUnit())!='Nfir')and(GetUnitTypeId(GetEnteringUnit())!='Nplh')and(GetUnitTypeId(GetEnteringUnit())!='Nbrn')
endfunction
function Trig_KameraPoint_Func021Func002C takes nothing returns boolean
return(udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(RectContainsLoc(gg_rct_Shadow,GetUnitLoc(GetEnteringUnit())))and(Trig_KameraPoint_Func021Func002Func003C())
endfunction
function Trig_KameraPoint_Func021C takes nothing returns boolean
return(Trig_KameraPoint_Func021Func002C())
endfunction
function Trig_KameraPoint_Func022Func002Func003C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())!='Ucrl')and(GetUnitTypeId(GetEnteringUnit())!='Osam')and(GetUnitTypeId(GetEnteringUnit())!='Udea')and(GetUnitTypeId(GetEnteringUnit())!='Ubal')and(GetUnitTypeId(GetEnteringUnit())!='Uvng')and(GetUnitTypeId(GetEnteringUnit())!='Ekee')and(GetUnitTypeId(GetEnteringUnit())!='Ewar')and(GetUnitTypeId(GetEnteringUnit())!='Ewrd')and(GetUnitTypeId(GetEnteringUnit())!='Eevi')and(GetUnitTypeId(GetEnteringUnit())!='Emns')and(GetUnitTypeId(GetEnteringUnit())!='Efur')and(GetUnitTypeId(GetEnteringUnit())!='Nbst')and(GetUnitTypeId(GetEnteringUnit())!='Nfir')and(GetUnitTypeId(GetEnteringUnit())!='Nplh')and(GetUnitTypeId(GetEnteringUnit())!='Nbrn')
endfunction
function Trig_KameraPoint_Func022Func002C takes nothing returns boolean
return(udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(RectContainsLoc(gg_rct_Point7,GetUnitLoc(GetEnteringUnit())))and(Trig_KameraPoint_Func022Func002Func003C())
endfunction
function Trig_KameraPoint_Func022C takes nothing returns boolean
return(Trig_KameraPoint_Func022Func002C())
endfunction
function Trig_KameraPoint_Func023Func002C takes nothing returns boolean
return(udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(RectContainsLoc(gg_rct_Rikudo,GetUnitLoc(GetEnteringUnit())))
endfunction
function Trig_KameraPoint_Func023C takes nothing returns boolean
return(Trig_KameraPoint_Func023Func002C())
endfunction
function Trig_KameraPoint_Func024Func002C takes nothing returns boolean
return(udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(RectContainsLoc(gg_rct_MapVicdef,GetUnitLoc(GetEnteringUnit())))
endfunction
function Trig_KameraPoint_Func024C takes nothing returns boolean
return(Trig_KameraPoint_Func024Func002C())
endfunction
function Trig_KameraPoint_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if(Trig_KameraPoint_Func002C())then
call CameraSetupApplyForPlayer(true,gg_cam_Pain,GetOwningPlayer(GetEnteringUnit()),0)
set udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]=false
call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(GetEnteringUnit()),gg_rct_VisibleMap)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
endif
if(Trig_KameraPoint_Func003C())then
call CameraSetupApplyForPlayer(true,gg_cam_Pain,GetOwningPlayer(GetEnteringUnit()),0)
set udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]=false
call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(GetEnteringUnit()),gg_rct_Base_Orochimaru2)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
endif
if(Trig_KameraPoint_Func004C())then
call CameraSetupApplyForPlayer(true,gg_cam_Pain,GetOwningPlayer(GetEnteringUnit()),0)
set udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]=false
call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(GetEnteringUnit()),gg_rct_Orochbase2)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
endif
if(Trig_KameraPoint_Func005C())then
call CameraSetupApplyForPlayer(true,gg_cam_Pain,GetOwningPlayer(GetEnteringUnit()),0)
set udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]=false
call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(GetEnteringUnit()),gg_rct_TownRoushin3)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
endif
if(Trig_KameraPoint_Func006C())then
call CameraSetupApplyForPlayer(true,gg_cam_Pain,GetOwningPlayer(GetEnteringUnit()),0)
set udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]=false
call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(GetEnteringUnit()),gg_rct_BarEl)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
endif
if(Trig_KameraPoint_Func007C())then
call CameraSetupApplyForPlayer(true,gg_cam_Pain,GetOwningPlayer(GetEnteringUnit()),0)
set udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]=false
call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(GetEnteringUnit()),gg_rct_Narutohome)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
endif
if(Trig_KameraPoint_Func008C())then
call CameraSetupApplyForPlayer(true,gg_cam_Pain,GetOwningPlayer(GetEnteringUnit()),0)
set udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]=false
call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(GetEnteringUnit()),gg_rct_Hokageoffice)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
endif
if(Trig_KameraPoint_Func009C())then
call CameraSetupApplyForPlayer(true,gg_cam_Pain,GetOwningPlayer(GetEnteringUnit()),0)
set udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]=false
call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(GetEnteringUnit()),gg_rct_Kazekageplace)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
endif
if(Trig_KameraPoint_Func010C())then
call CameraSetupApplyForPlayer(true,gg_cam_Pain,GetOwningPlayer(GetEnteringUnit()),0)
set udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]=false
call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(GetEnteringUnit()),gg_rct_SplatterHouse)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
endif
if(Trig_KameraPoint_Func011C())then
call CameraSetupApplyForPlayer(true,gg_cam_Pain,GetOwningPlayer(GetEnteringUnit()),0)
set udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]=false
call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(GetEnteringUnit()),gg_rct_Kamuy_World)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
endif
if(Trig_KameraPoint_Func012C())then
call CameraSetupApplyForPlayer(true,gg_cam_Pain,GetOwningPlayer(GetEnteringUnit()),0)
set udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]=false
call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(GetEnteringUnit()),gg_rct_CaveKabuto)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
endif
if(Trig_KameraPoint_Func013C())then
call CameraSetupApplyForPlayer(true,gg_cam_Pain,GetOwningPlayer(GetEnteringUnit()),0)
set udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]=false
call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(GetEnteringUnit()),gg_rct_Madaras_room)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
endif
if(Trig_KameraPoint_Func014C())then
call CameraSetupApplyForPlayer(true,gg_cam_Pain,GetOwningPlayer(GetEnteringUnit()),0)
set udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]=false
call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(GetEnteringUnit()),gg_rct_Samuraibase)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
endif
if(Trig_KameraPoint_Func015C())then
call CameraSetupApplyForPlayer(true,gg_cam_Pain,GetOwningPlayer(GetEnteringUnit()),0)
set udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]=false
call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(GetEnteringUnit()),gg_rct_Super)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
endif
if(Trig_KameraPoint_Func016C())then
call CameraSetupApplyForPlayer(true,gg_cam_Pain,GetOwningPlayer(GetEnteringUnit()),0)
set udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]=false
call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(GetEnteringUnit()),gg_rct_RaiKage_OldMan)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
endif
if(Trig_KameraPoint_Func017C())then
call CameraSetupApplyForPlayer(true,gg_cam_Pain,GetOwningPlayer(GetEnteringUnit()),0)
set udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]=false
call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(GetEnteringUnit()),gg_rct_MeiPoint2)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
endif
if(Trig_KameraPoint_Func018C())then
call CameraSetupApplyForPlayer(true,gg_cam_Pain,GetOwningPlayer(GetEnteringUnit()),0)
set udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]=false
call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(GetEnteringUnit()),gg_rct_Town2)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
endif
if(Trig_KameraPoint_Func019C())then
call CameraSetupApplyForPlayer(true,gg_cam_Pain,GetOwningPlayer(GetEnteringUnit()),0)
set udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]=false
call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(GetEnteringUnit()),gg_rct_Secret_of_Chamber2)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
endif
if(Trig_KameraPoint_Func020C())then
call CameraSetupApplyForPlayer(true,gg_cam_Pain,GetOwningPlayer(GetEnteringUnit()),0)
set udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]=false
call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(GetEnteringUnit()),gg_rct_D2)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
endif
if(Trig_KameraPoint_Func021C())then
call CameraSetupApplyForPlayer(true,gg_cam_Pain,GetOwningPlayer(GetEnteringUnit()),0)
set udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]=false
call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(GetEnteringUnit()),gg_rct_ShadowVisible)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
endif
if(Trig_KameraPoint_Func022C())then
call CameraSetupApplyForPlayer(true,gg_cam_Pain,GetOwningPlayer(GetEnteringUnit()),0)
set udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]=false
call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(GetEnteringUnit()),gg_rct_SecretCha)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
endif
if(Trig_KameraPoint_Func023C())then
call CameraSetupApplyForPlayer(true,gg_cam_Pain,GetOwningPlayer(GetEnteringUnit()),0)
set udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]=false
call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(GetEnteringUnit()),gg_rct_Rikudo)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
endif
if(Trig_KameraPoint_Func024C())then
call CameraSetupApplyForPlayer(true,gg_cam_Pain,GetOwningPlayer(GetEnteringUnit()),0)
set udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]=false
call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(GetEnteringUnit()),gg_rct_Mechniki)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),GetUnitLoc(GetEnteringUnit()),0)
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_KameraPoint takes nothing returns nothing
set gg_trg_KameraPoint=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_World)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Base_Orochimaru)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Base_Orochimaru_second)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Faraon)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Point1)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Point2)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Point3)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Point4)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Point5)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_AnozerWorld)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Point6)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Point7)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Point8)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Point9)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Point10)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Point11)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Secret_of_Chamber)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_MeiPoint)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Town)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_R2D2)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Shadow)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Rikudo)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_MapVicdef)
call TriggerAddCondition(gg_trg_KameraPoint,Condition(function Trig_KameraPoint_Conditions))
call TriggerAddAction(gg_trg_KameraPoint,function Trig_KameraPoint_Actions)
endfunction
function Trig_HouseAttacked_Conditions takes nothing returns boolean
return(GetTriggerUnit()==gg_unit_h01N_0039)
endfunction
function Trig_HouseAttacked_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTextToForce(GetPlayersAllies(Player(7)),"Главное Здание атаковано!")
call TriggerSleepAction(10.)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_HouseAttacked takes nothing returns nothing
set gg_trg_HouseAttacked=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HouseAttacked,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_HouseAttacked,Condition(function Trig_HouseAttacked_Conditions))
call TriggerAddAction(gg_trg_HouseAttacked,function Trig_HouseAttacked_Actions)
endfunction
function Trig_HouseAttacked2_Conditions takes nothing returns boolean
return(GetTriggerUnit()==gg_unit_hcas_0038)
endfunction
function Trig_HouseAttacked2_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTextToForce(GetPlayersAllies(Player(4)),"Главное Здание атаковано!")
call TriggerSleepAction(10.)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_HouseAttacked2 takes nothing returns nothing
set gg_trg_HouseAttacked2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HouseAttacked2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_HouseAttacked2,Condition(function Trig_HouseAttacked2_Conditions))
call TriggerAddAction(gg_trg_HouseAttacked2,function Trig_HouseAttacked2_Actions)
endfunction
function Trig_HouseAttacked3_Conditions takes nothing returns boolean
return(GetTriggerUnit()==gg_unit_h00E_0087)
endfunction
function Trig_HouseAttacked3_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTextToForce(GetPlayersAllies(Player($B)),"Главное Здание атаковано!")
call TriggerSleepAction(10.)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_HouseAttacked3 takes nothing returns nothing
set gg_trg_HouseAttacked3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HouseAttacked3,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_HouseAttacked3,Condition(function Trig_HouseAttacked3_Conditions))
call TriggerAddAction(gg_trg_HouseAttacked3,function Trig_HouseAttacked3_Actions)
endfunction
function Trig_Suna_vs_Konoha_Conditions takes nothing returns boolean
return(GetOwningPlayer(GetAttacker())==GetOwningPlayer(gg_unit_Emfr_0033))
endfunction
function Trig_Suna_vs_Konoha_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetPlayerAllianceStateBJ(Player(4),GetOwningPlayer(gg_unit_Emfr_0033),0)
call SetPlayerAllianceStateBJ(GetOwningPlayer(gg_unit_Emfr_0033),Player(4),0)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"Сунагакуре вышел с Альянса")
endfunction
function InitTrig_Suna_vs_Konoha takes nothing returns nothing
set gg_trg_Suna_vs_Konoha=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_Suna_vs_Konoha,Player(4),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Suna_vs_Konoha,Condition(function Trig_Suna_vs_Konoha_Conditions))
call TriggerAddAction(gg_trg_Suna_vs_Konoha,function Trig_Suna_vs_Konoha_Actions)
endfunction
function Trig_Mist_vs_Konoha_Conditions takes nothing returns boolean
return(GetOwningPlayer(GetAttacker())==GetOwningPlayer(gg_unit_Uktl_0032))
endfunction
function Trig_Mist_vs_Konoha_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetPlayerAllianceStateBJ(Player(4),GetOwningPlayer(gg_unit_Uktl_0032),0)
call SetPlayerAllianceStateBJ(GetOwningPlayer(gg_unit_Uktl_0032),Player(4),0)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"Туман вышел с Альянса")
endfunction
function InitTrig_Mist_vs_Konoha takes nothing returns nothing
set gg_trg_Mist_vs_Konoha=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_Mist_vs_Konoha,Player(4),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Mist_vs_Konoha,Condition(function Trig_Mist_vs_Konoha_Conditions))
call TriggerAddAction(gg_trg_Mist_vs_Konoha,function Trig_Mist_vs_Konoha_Actions)
endfunction
function Trig_Such_vs_Konoha_Conditions takes nothing returns boolean
return(GetOwningPlayer(GetAttacker())==GetOwningPlayer(gg_unit_Hart_0019))
endfunction
function Trig_Such_vs_Konoha_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetPlayerAllianceStateBJ(Player(4),GetOwningPlayer(gg_unit_Hart_0019),0)
call SetPlayerAllianceStateBJ(GetOwningPlayer(gg_unit_Hart_0019),Player(4),0)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"Камень вышел с Альянса")
endfunction
function InitTrig_Such_vs_Konoha takes nothing returns nothing
set gg_trg_Such_vs_Konoha=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_Such_vs_Konoha,Player(4),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Such_vs_Konoha,Condition(function Trig_Such_vs_Konoha_Conditions))
call TriggerAddAction(gg_trg_Such_vs_Konoha,function Trig_Such_vs_Konoha_Actions)
endfunction
function Trig_Rai_vs_Konoha_Conditions takes nothing returns boolean
return(GetOwningPlayer(GetAttacker())==GetOwningPlayer(gg_unit_Nmag_0027))
endfunction
function Trig_Rai_vs_Konoha_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetPlayerAllianceStateBJ(Player(4),GetOwningPlayer(gg_unit_Nmag_0027),0)
call SetPlayerAllianceStateBJ(GetOwningPlayer(gg_unit_Nmag_0027),Player(4),0)
call SetUnitOwner(gg_unit_Ewrd_0114,GetOwningPlayer(gg_unit_Nmag_0027),false)
call SetUnitOwner(gg_unit_Ekgg_0119,GetOwningPlayer(gg_unit_Nmag_0027),false)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"ОблакаГроз вышел с Альянса")
call DisableTrigger(gg_trg_Nibi_Enters)
endfunction
function InitTrig_Rai_vs_Konoha takes nothing returns nothing
set gg_trg_Rai_vs_Konoha=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_Rai_vs_Konoha,Player(4),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Rai_vs_Konoha,Condition(function Trig_Rai_vs_Konoha_Conditions))
call TriggerAddAction(gg_trg_Rai_vs_Konoha,function Trig_Rai_vs_Konoha_Actions)
endfunction
function Trig_Zetsu_Func004C takes nothing returns boolean
return(GetOwningPlayer(GetSoldUnit())==Player(0))or(GetOwningPlayer(GetSoldUnit())==Player(1))or(GetOwningPlayer(GetSoldUnit())==Player(2))or(GetOwningPlayer(GetSoldUnit())==Player(3))or(GetOwningPlayer(GetSoldUnit())==Player(4))or(GetOwningPlayer(GetSoldUnit())==Player(5))or(GetOwningPlayer(GetSoldUnit())==Player(6))
endfunction
function Trig_Zetsu_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetSellingUnit())=='h00E')and(Trig_Zetsu_Func004C())
endfunction
function Trig_Zetsu_Actions takes nothing returns nothing
call SetUnitOwner(GetSoldUnit(),Player(8),true)
call SetUnitManaPercentBJ(GetSoldUnit(),'d')
endfunction
function InitTrig_Zetsu takes nothing returns nothing
set gg_trg_Zetsu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Zetsu,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(gg_trg_Zetsu,Condition(function Trig_Zetsu_Conditions))
call TriggerAddAction(gg_trg_Zetsu,function Trig_Zetsu_Actions)
endfunction
function Trig_Leave_Game_Actions takes nothing returns nothing
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" has leave game."))
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNCritterChicken.blp")
endfunction
function InitTrig_Leave_Game takes nothing returns nothing
set gg_trg_Leave_Game=CreateTrigger()
call TriggerRegisterPlayerEventLeave(gg_trg_Leave_Game,Player(0))
call TriggerRegisterPlayerEventLeave(gg_trg_Leave_Game,Player(1))
call TriggerRegisterPlayerEventLeave(gg_trg_Leave_Game,Player(2))
call TriggerRegisterPlayerEventLeave(gg_trg_Leave_Game,Player(3))
call TriggerRegisterPlayerEventLeave(gg_trg_Leave_Game,Player(5))
call TriggerRegisterPlayerEventLeave(gg_trg_Leave_Game,Player(6))
call TriggerRegisterPlayerEventLeave(gg_trg_Leave_Game,Player(8))
call TriggerRegisterPlayerEventLeave(gg_trg_Leave_Game,Player(9))
call TriggerRegisterPlayerEventLeave(gg_trg_Leave_Game,Player($A))
call TriggerAddAction(gg_trg_Leave_Game,function Trig_Leave_Game_Actions)
endfunction
function Trig_Madarevive_Func006C takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())=='H01F')and(GetUnitTypeId(GetEnteringUnit())=='H01U')
endfunction
function Trig_Madarevive_Conditions takes nothing returns boolean
return(Trig_Madarevive_Func006C())
endfunction
function Trig_Madarevive_Actions takes nothing returns nothing
call SetPlayerAbilityAvailableBJ(false,'A06I',GetOwningPlayer(udg_Hero2[87]))
call SetPlayerAbilityAvailableBJ(false,'A06K',GetOwningPlayer(udg_Hero2[87]))
call SetPlayerAbilityAvailableBJ(false,'A06G',GetOwningPlayer(udg_Hero2[87]))
call SetPlayerAbilityAvailableBJ(false,'A06N',GetOwningPlayer(udg_Hero2[87]))
call SetPlayerAbilityAvailableBJ(false,'A06O',GetOwningPlayer(udg_Hero2[87]))
call SetUnitOwner(udg_Hero2[87],GetOwningPlayer(GetEnteringUnit()),true)
call TransmissionFromUnitWithNameBJ(bj_FORCE_ALL_PLAYERS,udg_Hero2[87],"Мадара",null,"Надеюсь всё идёт по плану Обито.",0,3.,false)
call EnableTrigger(gg_trg_Mifune)
call DestroyTrigger(gg_trg_Madarevive_oroch)
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Madarevive takes nothing returns nothing
set gg_trg_Madarevive=CreateTrigger()
call DisableTrigger(gg_trg_Madarevive)
call TriggerRegisterEnterRectSimple(gg_trg_Madarevive,gg_rct_Madara_revive)
call TriggerAddCondition(gg_trg_Madarevive,Condition(function Trig_Madarevive_Conditions))
call TriggerAddAction(gg_trg_Madarevive,function Trig_Madarevive_Actions)
endfunction
function Trig_Madarevive_oroch_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())=='Hant')and(GetHeroLevel(GetEnteringUnit())==30)
endfunction
function Trig_Madarevive_oroch_Actions takes nothing returns nothing
call SetPlayerAbilityAvailableBJ(false,'A06I',GetOwningPlayer(udg_Hero2[87]))
call SetPlayerAbilityAvailableBJ(false,'A06K',GetOwningPlayer(udg_Hero2[87]))
call SetPlayerAbilityAvailableBJ(false,'A06G',GetOwningPlayer(udg_Hero2[87]))
call SetPlayerAbilityAvailableBJ(false,'A06N',GetOwningPlayer(udg_Hero2[87]))
call SetPlayerAbilityAvailableBJ(false,'A06O',GetOwningPlayer(udg_Hero2[87]))
call SetUnitOwner(udg_Hero2[87],GetOwningPlayer(GetEnteringUnit()),true)
call TransmissionFromUnitWithNameBJ(bj_FORCE_ALL_PLAYERS,GetEnteringUnit(),"Орочимару",null,"Хе-хе-хе-хе! Я заинтерисован.",0,2.,false)
call EnableTrigger(gg_trg_Mifune)
call DestroyTrigger(gg_trg_Madarevive)
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Madarevive_oroch takes nothing returns nothing
set gg_trg_Madarevive_oroch=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Madarevive_oroch,gg_rct_Madara_revive)
call TriggerAddCondition(gg_trg_Madarevive_oroch,Condition(function Trig_Madarevive_oroch_Conditions))
call TriggerAddAction(gg_trg_Madarevive_oroch,function Trig_Madarevive_oroch_Actions)
endfunction
function Trig_Initialization_Actions takes nothing returns nothing
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"|c00FFFF00Для того чтобы перейти к другому персонажу, нажмите клавишу |c00FF0000Стрелка влево|r или |c00FF0000Стрелка вправо|r. Для выбора персонажа нажмите |c00FF0000ESC|r или |c00FF0000Стрелка вверх|r|r")
call CreateFogModifierRectBJ(true,Player(0),FOG_OF_WAR_VISIBLE,gg_rct_Hero_pick_point)
call SetCameraTargetControllerNoZForPlayer(Player(0),gg_unit_Hvwd_0016,0,0,true)
call SetCameraFieldForPlayer(Player(0),CAMERA_FIELD_TARGET_DISTANCE,285.,.0)
call SetCameraFieldForPlayer(Player(0),CAMERA_FIELD_ANGLE_OF_ATTACK,.0,0)
call SetCameraFieldForPlayer(Player(0),CAMERA_FIELD_ZOFFSET,85.,0)
call SetCameraFieldForPlayer(Player(0),CAMERA_FIELD_FARZ,300.,0)
set udg_PickHero[1]=1
call CreateFogModifierRectBJ(true,Player(1),FOG_OF_WAR_VISIBLE,gg_rct_Hero_pick_point)
call SetCameraTargetControllerNoZForPlayer(Player(1),gg_unit_Hvwd_0016,0,0,true)
call SetCameraFieldForPlayer(Player(1),CAMERA_FIELD_TARGET_DISTANCE,285.,.0)
call SetCameraFieldForPlayer(Player(1),CAMERA_FIELD_ANGLE_OF_ATTACK,.0,0)
call SetCameraFieldForPlayer(Player(1),CAMERA_FIELD_ZOFFSET,85.,0)
call SetCameraFieldForPlayer(Player(1),CAMERA_FIELD_FARZ,300.,0)
set udg_PickHero[2]=1
call CreateFogModifierRectBJ(true,Player(2),FOG_OF_WAR_VISIBLE,gg_rct_Hero_pick_point)
call SetCameraTargetControllerNoZForPlayer(Player(2),gg_unit_Hvwd_0016,0,0,true)
call SetCameraFieldForPlayer(Player(2),CAMERA_FIELD_TARGET_DISTANCE,285.,.0)
call SetCameraFieldForPlayer(Player(2),CAMERA_FIELD_ANGLE_OF_ATTACK,.0,0)
call SetCameraFieldForPlayer(Player(2),CAMERA_FIELD_ZOFFSET,85.,0)
call SetCameraFieldForPlayer(Player(2),CAMERA_FIELD_FARZ,300.,0)
set udg_PickHero[3]=1
call CreateFogModifierRectBJ(true,Player(3),FOG_OF_WAR_VISIBLE,gg_rct_Hero_pick_point)
call SetCameraTargetControllerNoZForPlayer(Player(3),gg_unit_Hlgr_0029,0,0,true)
call SetCameraFieldForPlayer(Player(3),CAMERA_FIELD_TARGET_DISTANCE,285.,.0)
call SetCameraFieldForPlayer(Player(3),CAMERA_FIELD_ANGLE_OF_ATTACK,.0,0)
call SetCameraFieldForPlayer(Player(3),CAMERA_FIELD_ZOFFSET,85.,0)
call SetCameraFieldForPlayer(Player(3),CAMERA_FIELD_FARZ,300.,0)
set udg_PickHero[4]=1
call CreateFogModifierRectBJ(true,Player(5),FOG_OF_WAR_VISIBLE,gg_rct_Hero_pick_point)
call SetCameraTargetControllerNoZForPlayer(Player(5),gg_unit_Hlgr_0029,0,0,true)
call SetCameraFieldForPlayer(Player(5),CAMERA_FIELD_TARGET_DISTANCE,285.,.0)
call SetCameraFieldForPlayer(Player(5),CAMERA_FIELD_ANGLE_OF_ATTACK,.0,0)
call SetCameraFieldForPlayer(Player(5),CAMERA_FIELD_ZOFFSET,85.,0)
call SetCameraFieldForPlayer(Player(5),CAMERA_FIELD_FARZ,300.,0)
set udg_PickHero[5]=1
call CreateFogModifierRectBJ(true,Player(6),FOG_OF_WAR_VISIBLE,gg_rct_Hero_pick_point)
call SetCameraTargetControllerNoZForPlayer(Player(6),gg_unit_Hlgr_0029,0,0,true)
call SetCameraFieldForPlayer(Player(6),CAMERA_FIELD_TARGET_DISTANCE,285.,.0)
call SetCameraFieldForPlayer(Player(6),CAMERA_FIELD_ANGLE_OF_ATTACK,.0,0)
call SetCameraFieldForPlayer(Player(6),CAMERA_FIELD_ZOFFSET,85.,0)
call SetCameraFieldForPlayer(Player(6),CAMERA_FIELD_FARZ,300.,0)
set udg_PickHero[6]=1
call CreateFogModifierRectBJ(true,Player(8),FOG_OF_WAR_VISIBLE,gg_rct_Hero_pick_point)
call SetCameraTargetControllerNoZForPlayer(Player(8),gg_unit_Hamg_0024,0,0,true)
call SetCameraFieldForPlayer(Player(8),CAMERA_FIELD_TARGET_DISTANCE,285.,.0)
call SetCameraFieldForPlayer(Player(8),CAMERA_FIELD_ANGLE_OF_ATTACK,.0,0)
call SetCameraFieldForPlayer(Player(8),CAMERA_FIELD_ZOFFSET,85.,0)
call SetCameraFieldForPlayer(Player(8),CAMERA_FIELD_FARZ,300.,0)
set udg_PickHero[7]=1
call CreateFogModifierRectBJ(true,Player(9),FOG_OF_WAR_VISIBLE,gg_rct_Hero_pick_point)
call SetCameraTargetControllerNoZForPlayer(Player(9),gg_unit_Hamg_0024,0,0,true)
call SetCameraFieldForPlayer(Player(9),CAMERA_FIELD_TARGET_DISTANCE,285.,.0)
call SetCameraFieldForPlayer(Player(9),CAMERA_FIELD_ANGLE_OF_ATTACK,.0,0)
call SetCameraFieldForPlayer(Player(9),CAMERA_FIELD_ZOFFSET,85.,0)
call SetCameraFieldForPlayer(Player(9),CAMERA_FIELD_FARZ,300.,0)
set udg_PickHero[8]=1
call CreateFogModifierRectBJ(true,Player($A),FOG_OF_WAR_VISIBLE,gg_rct_Hero_pick_point)
call SetCameraTargetControllerNoZForPlayer(Player($A),gg_unit_Hamg_0024,0,0,true)
call SetCameraFieldForPlayer(Player($A),CAMERA_FIELD_TARGET_DISTANCE,285.,.0)
call SetCameraFieldForPlayer(Player($A),CAMERA_FIELD_ANGLE_OF_ATTACK,.0,0)
call SetCameraFieldForPlayer(Player($A),CAMERA_FIELD_ZOFFSET,85.,0)
call SetCameraFieldForPlayer(Player($A),CAMERA_FIELD_FARZ,300.,0)
set udg_PickHero[9]=1
endfunction
function InitTrig_Initialization takes nothing returns nothing
set gg_trg_Initialization=CreateTrigger()
call TriggerAddAction(gg_trg_Initialization,function Trig_Initialization_Actions)
endfunction
function Trig_Player_1_right_Conditions takes nothing returns boolean
return(udg_PickHero[1]!=$D)
endfunction
function Trig_Player_1_right_Actions takes nothing returns nothing
set udg_PickHero[1]=(udg_PickHero[1]+1)
endfunction
function InitTrig_Player_1_right takes nothing returns nothing
set gg_trg_Player_1_right=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_1_right,Player(0),0,1)
call TriggerAddCondition(gg_trg_Player_1_right,Condition(function Trig_Player_1_right_Conditions))
call TriggerAddAction(gg_trg_Player_1_right,function Trig_Player_1_right_Actions)
endfunction
function Trig_Player_1_left_Conditions takes nothing returns boolean
return(udg_PickHero[1]!=1)
endfunction
function Trig_Player_1_left_Actions takes nothing returns nothing
set udg_PickHero[1]=(udg_PickHero[1]-1)
endfunction
function InitTrig_Player_1_left takes nothing returns nothing
set gg_trg_Player_1_left=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_1_left,Player(0),0,0)
call TriggerAddCondition(gg_trg_Player_1_left,Condition(function Trig_Player_1_left_Conditions))
call TriggerAddAction(gg_trg_Player_1_left,function Trig_Player_1_left_Actions)
endfunction
function Trig_Player_1_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[1]==$D)and(GetOwningPlayer(gg_unit_Udre_0022)==Player($F))
endfunction
function Trig_Player_1_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[1]==$C)and(GetOwningPlayer(gg_unit_Emfr_0033)==Player($F))
endfunction
function Trig_Player_1_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[1]==$B)and(GetOwningPlayer(gg_unit_Hart_0019)==Player($F))
endfunction
function Trig_Player_1_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[1]==$A)and(GetOwningPlayer(gg_unit_Nmag_0027)==Player($F))
endfunction
function Trig_Player_1_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[1]==9)and(GetOwningPlayer(gg_unit_Uktl_0032)==Player($F))
endfunction
function Trig_Player_1_Camera_Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[1]==8)and(GetOwningPlayer(gg_unit_Hpb2_0015)==Player($F))
endfunction
function Trig_Player_1_Camera_Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[1]==7)and(GetOwningPlayer(gg_unit_Obla_0014)==Player($F))
endfunction
function Trig_Player_1_Camera_Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[1]==6)and(GetOwningPlayer(gg_unit_Hmgd_0035)==Player($F))
endfunction
function Trig_Player_1_Camera_Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[1]==5)and(GetOwningPlayer(gg_unit_Emoo_0031)==Player($F))
endfunction
function Trig_Player_1_Camera_Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[1]==4)and(GetOwningPlayer(gg_unit_Harf_0004)==Player($F))
endfunction
function Trig_Player_1_Camera_Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[1]==3)and(GetOwningPlayer(gg_unit_Hpal_0034)==Player($F))
endfunction
function Trig_Player_1_Camera_Func001Func001C takes nothing returns boolean
return(udg_PickHero[1]==2)and(GetOwningPlayer(gg_unit_Eill_0017)==Player($F))
endfunction
function Trig_Player_1_Camera_Func001C takes nothing returns boolean
return(udg_PickHero[1]==1)and(GetOwningPlayer(gg_unit_Hvwd_0016)==Player($F))
endfunction
function Trig_Player_1_Camera_Actions takes nothing returns nothing
if(Trig_Player_1_Camera_Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(0),gg_unit_Hvwd_0016,0,0,true)
else
if(Trig_Player_1_Camera_Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(0),gg_unit_Eill_0017,0,0,true)
else
if(Trig_Player_1_Camera_Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(0),gg_unit_Hpal_0034,0,0,true)
else
if(Trig_Player_1_Camera_Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(0),gg_unit_Harf_0004,0,0,true)
else
if(Trig_Player_1_Camera_Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(0),gg_unit_Emoo_0031,0,0,true)
else
if(Trig_Player_1_Camera_Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(0),gg_unit_Hmgd_0035,0,0,true)
else
if(Trig_Player_1_Camera_Func001Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(0),gg_unit_Obla_0014,0,0,true)
else
if(Trig_Player_1_Camera_Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(0),gg_unit_Hpb2_0015,0,0,true)
else
if(Trig_Player_1_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(0),gg_unit_Uktl_0032,0,0,true)
else
if(Trig_Player_1_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(0),gg_unit_Nmag_0027,0,0,true)
else
if(Trig_Player_1_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(0),gg_unit_Hart_0019,0,0,true)
else
if(Trig_Player_1_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(0),gg_unit_Emfr_0033,0,0,true)
else
if(Trig_Player_1_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(0),gg_unit_Udre_0022,0,0,true)
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call SetCameraFieldForPlayer(Player(0),CAMERA_FIELD_TARGET_DISTANCE,285.,.0)
call SetCameraFieldForPlayer(Player(0),CAMERA_FIELD_ANGLE_OF_ATTACK,.0,0)
call SetCameraFieldForPlayer(Player(0),CAMERA_FIELD_ZOFFSET,85.,0)
call SetCameraFieldForPlayer(Player(0),CAMERA_FIELD_FARZ,300.,0)
endfunction
function InitTrig_Player_1_Camera takes nothing returns nothing
set gg_trg_Player_1_Camera=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Player_1_Camera,.01)
call TriggerAddAction(gg_trg_Player_1_Camera,function Trig_Player_1_Camera_Actions)
endfunction
function Trig_Player_1_Setup_Func001Func001Func001Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[1]==$D)and(GetOwningPlayer(gg_unit_Udre_0022)==Player($F))
endfunction
function Trig_Player_1_Setup_Func001Func001Func001Func001Func002Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[1]==$C)and(GetOwningPlayer(gg_unit_Emfr_0033)==Player($F))
endfunction
function Trig_Player_1_Setup_Func001Func001Func001Func001Func002Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[1]==$B)and(GetOwningPlayer(gg_unit_Hart_0019)==Player($F))
endfunction
function Trig_Player_1_Setup_Func001Func001Func001Func001Func002Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[1]==$A)and(GetOwningPlayer(gg_unit_Nmag_0027)==Player($F))
endfunction
function Trig_Player_1_Setup_Func001Func001Func001Func001Func002Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[1]==9)and(GetOwningPlayer(gg_unit_Uktl_0032)==Player($F))
endfunction
function Trig_Player_1_Setup_Func001Func001Func001Func001Func002Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[1]==8)and(GetOwningPlayer(gg_unit_Hpb2_0015)==Player($F))
endfunction
function Trig_Player_1_Setup_Func001Func001Func001Func001Func002Func001Func001C takes nothing returns boolean
return(udg_PickHero[1]==7)and(GetOwningPlayer(gg_unit_Obla_0014)==Player($F))
endfunction
function Trig_Player_1_Setup_Func001Func001Func001Func001Func002Func001C takes nothing returns boolean
return(udg_PickHero[1]==6)and(GetOwningPlayer(gg_unit_Hmgd_0035)==Player($F))
endfunction
function Trig_Player_1_Setup_Func001Func001Func001Func001Func002C takes nothing returns boolean
return(udg_PickHero[1]==5)and(GetOwningPlayer(gg_unit_Emoo_0031)==Player($F))
endfunction
function Trig_Player_1_Setup_Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[1]==4)and(GetOwningPlayer(gg_unit_Harf_0004)==Player($F))
endfunction
function Trig_Player_1_Setup_Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[1]==3)and(GetOwningPlayer(gg_unit_Hpal_0034)==Player($F))
endfunction
function Trig_Player_1_Setup_Func001Func001C takes nothing returns boolean
return(udg_PickHero[1]==2)and(GetOwningPlayer(gg_unit_Eill_0017)==Player($F))
endfunction
function Trig_Player_1_Setup_Func001C takes nothing returns boolean
return(udg_PickHero[1]==1)and(GetOwningPlayer(gg_unit_Hvwd_0016)==Player($F))
endfunction
function Trig_Player_1_Setup_Actions takes nothing returns nothing
if(Trig_Player_1_Setup_Func001C())then
call SetUnitOwner(gg_unit_Hvwd_0016,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hvwd_0016,GetRectCenter(gg_rct_Team_7),270.)
set udg_HeroPick[1]=gg_unit_Hvwd_0016
call ResetToGameCameraForPlayer(GetTriggerPlayer(),.0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[1]),.0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Konoha)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNSakura.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Cакуру"))
call SelectUnitForPlayerSingle(udg_HeroPick[1],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_1_left)
call DisableTrigger(gg_trg_Player_1_right)
call DisableTrigger(gg_trg_Player_1_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_1_Setup_Func001Func001C())then
call SetUnitOwner(gg_unit_Eill_0017,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Eill_0017,GetRectCenter(gg_rct_Team_7),270.)
set udg_HeroPick[1]=gg_unit_Eill_0017
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[1]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Konoha)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNSay.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Cай"))
call SelectUnitForPlayerSingle(udg_HeroPick[1],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_1_left)
call DisableTrigger(gg_trg_Player_1_right)
call DisableTrigger(gg_trg_Player_1_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_1_Setup_Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hpal_0034,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hpal_0034,GetRectCenter(gg_rct_Team_7),270.)
set udg_HeroPick[1]=gg_unit_Hpal_0034
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[1]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Konoha)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNNaruto.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Наруто"))
call SelectUnitForPlayerSingle(udg_HeroPick[1],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_1_left)
call DisableTrigger(gg_trg_Player_1_right)
call DisableTrigger(gg_trg_Player_1_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_1_Setup_Func001Func001Func001Func001C())then
set udg_Walloff[(1+GetPlayerId(GetTriggerPlayer()))]=false
call SetUnitOwner(gg_unit_Harf_0004,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Harf_0004,GetRectCenter(gg_rct_Team_Kakashi),.0)
set udg_HeroPick[1]=gg_unit_Harf_0004
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[1]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Konoha)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNKakashi.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Какаши"))
call SelectUnitForPlayerSingle(udg_HeroPick[1],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_1_left)
call DisableTrigger(gg_trg_Player_1_right)
call DisableTrigger(gg_trg_Player_1_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_1_Setup_Func001Func001Func001Func001Func002C())then
call SetUnitOwner(gg_unit_Emoo_0031,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Emoo_0031,GetRectCenter(gg_rct_Team_Gai_2),270.)
set udg_HeroPick[1]=gg_unit_Emoo_0031
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[1]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Konoha)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNTen-ten.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Тен Тен"))
call SelectUnitForPlayerSingle(udg_HeroPick[1],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_1_left)
call DisableTrigger(gg_trg_Player_1_right)
call DisableTrigger(gg_trg_Player_1_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_1_Setup_Func001Func001Func001Func001Func002Func001C())then
call SetUnitOwner(gg_unit_Hmgd_0035,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hmgd_0035,GetRectCenter(gg_rct_Team_Gai_2),270.)
set udg_HeroPick[1]=gg_unit_Hmgd_0035
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[1]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Konoha)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNNedji.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Неджи"))
call SelectUnitForPlayerSingle(udg_HeroPick[1],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_1_left)
call DisableTrigger(gg_trg_Player_1_right)
call DisableTrigger(gg_trg_Player_1_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_1_Setup_Func001Func001Func001Func001Func002Func001Func001C())then
call SetUnitOwner(gg_unit_Obla_0014,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Obla_0014,GetRectCenter(gg_rct_Team_Gai_2),270.)
set udg_HeroPick[1]=gg_unit_Obla_0014
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[1]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Konoha)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNLee.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Ли"))
call SelectUnitForPlayerSingle(udg_HeroPick[1],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_1_left)
call DisableTrigger(gg_trg_Player_1_right)
call DisableTrigger(gg_trg_Player_1_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_1_Setup_Func001Func001Func001Func001Func002Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hpb2_0015,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hpb2_0015,GetRectCenter(gg_rct_Team_Gai_2),270.)
set udg_HeroPick[1]=gg_unit_Hpb2_0015
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[1]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Konoha)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNGay.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Гай"))
call SelectUnitForPlayerSingle(udg_HeroPick[1],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_1_left)
call DisableTrigger(gg_trg_Player_1_right)
call DisableTrigger(gg_trg_Player_1_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_1_Setup_Func001Func001Func001Func001Func002Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Uktl_0032,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nnmg_0378,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nhyc_0379,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_h01J_0253,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_h01J_0251,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_h01J_0252,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Uktl_0032,GetRectCenter(gg_rct_Mei_respawn),90.)
set udg_HeroPick[1]=gg_unit_Uktl_0032
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[1]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Mizukage)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNMey.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Мей"))
call SelectUnitForPlayerSingle(udg_HeroPick[1],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_1_left)
call DisableTrigger(gg_trg_Player_1_right)
call DisableTrigger(gg_trg_Player_1_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_1_Setup_Func001Func001Func001Func001Func002Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Nmag_0027,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nnsw_0380,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nsnp_0381,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Nmag_0027,GetRectCenter(gg_rct_Rai_respawn),270.)
set udg_HeroPick[1]=gg_unit_Nmag_0027
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[1]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Point11)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTN_.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Райкаге"))
call SelectUnitForPlayerSingle(udg_HeroPick[1],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_1_left)
call DisableTrigger(gg_trg_Player_1_right)
call DisableTrigger(gg_trg_Player_1_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_1_Setup_Func001Func001Func001Func001Func002Func001Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hart_0019,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_n00Y_0139,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_n010_0140,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hart_0019,GetRectCenter(gg_rct_Kamen),315.)
set udg_HeroPick[1]=gg_unit_Hart_0019
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[1]),0)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Онноки"))
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNOnoki.blp")
call SelectUnitForPlayerSingle(udg_HeroPick[1],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_1_left)
call DisableTrigger(gg_trg_Player_1_right)
call DisableTrigger(gg_trg_Player_1_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_1_Setup_Func001Func001Func001Func001Func002Func001Func001Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Emfr_0033,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nnrg_0382,GetTriggerPlayer(),true)
call SetUnitOwner(udg_temari,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Emfr_0033,GetRectCenter(gg_rct_Gaara_respawn),225.)
set udg_HeroPick[1]=gg_unit_Emfr_0033
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[1]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Suna2)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Sunabase)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNGaraa.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Гаара"))
call SelectUnitForPlayerSingle(udg_HeroPick[1],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_1_left)
call DisableTrigger(gg_trg_Player_1_right)
call DisableTrigger(gg_trg_Player_1_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_1_Setup_Func001Func001Func001Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Udre_0022,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nenf_0245,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nenf_0244,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nenf_0243,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nenf_0240,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nenf_0241,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nenf_0242,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Udre_0022,GetRectCenter(gg_rct_Team_Danzo_2),270.)
set udg_HeroPick[1]=gg_unit_Udre_0022
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[1]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Team_Danzo_2)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNDanzo.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Данзо"))
call SelectUnitForPlayerSingle(udg_HeroPick[1],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_1_left)
call DisableTrigger(gg_trg_Player_1_right)
call DisableTrigger(gg_trg_Player_1_Camera)
call DisableTrigger(GetTriggeringTrigger())
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endfunction
function InitTrig_Player_1_Setup takes nothing returns nothing
set gg_trg_Player_1_Setup=CreateTrigger()
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Player_1_Setup,Player(0))
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_1_Setup,Player(0),0,3)
call TriggerAddAction(gg_trg_Player_1_Setup,function Trig_Player_1_Setup_Actions)
endfunction
function Trig_Player_2_right_Conditions takes nothing returns boolean
return(udg_PickHero[2]!=$D)
endfunction
function Trig_Player_2_right_Actions takes nothing returns nothing
set udg_PickHero[2]=(udg_PickHero[2]+1)
endfunction
function InitTrig_Player_2_right takes nothing returns nothing
set gg_trg_Player_2_right=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_2_right,Player(1),0,1)
call TriggerAddCondition(gg_trg_Player_2_right,Condition(function Trig_Player_2_right_Conditions))
call TriggerAddAction(gg_trg_Player_2_right,function Trig_Player_2_right_Actions)
endfunction
function Trig_Player_2_left_Conditions takes nothing returns boolean
return(udg_PickHero[2]!=1)
endfunction
function Trig_Player_2_left_Actions takes nothing returns nothing
set udg_PickHero[2]=(udg_PickHero[2]-1)
endfunction
function InitTrig_Player_2_left takes nothing returns nothing
set gg_trg_Player_2_left=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_2_left,Player(1),0,0)
call TriggerAddCondition(gg_trg_Player_2_left,Condition(function Trig_Player_2_left_Conditions))
call TriggerAddAction(gg_trg_Player_2_left,function Trig_Player_2_left_Actions)
endfunction
function Trig_Player_2_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[2]==$D)and(GetOwningPlayer(gg_unit_Udre_0022)==Player($F))
endfunction
function Trig_Player_2_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[2]==$C)and(GetOwningPlayer(gg_unit_Emfr_0033)==Player($F))
endfunction
function Trig_Player_2_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[2]==$B)and(GetOwningPlayer(gg_unit_Hart_0019)==Player($F))
endfunction
function Trig_Player_2_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[2]==$A)and(GetOwningPlayer(gg_unit_Nmag_0027)==Player($F))
endfunction
function Trig_Player_2_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[2]==9)and(GetOwningPlayer(gg_unit_Uktl_0032)==Player($F))
endfunction
function Trig_Player_2_Camera_Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[2]==8)and(GetOwningPlayer(gg_unit_Hpb2_0015)==Player($F))
endfunction
function Trig_Player_2_Camera_Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[2]==7)and(GetOwningPlayer(gg_unit_Obla_0014)==Player($F))
endfunction
function Trig_Player_2_Camera_Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[2]==6)and(GetOwningPlayer(gg_unit_Hmgd_0035)==Player($F))
endfunction
function Trig_Player_2_Camera_Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[2]==5)and(GetOwningPlayer(gg_unit_Emoo_0031)==Player($F))
endfunction
function Trig_Player_2_Camera_Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[2]==4)and(GetOwningPlayer(gg_unit_Harf_0004)==Player($F))
endfunction
function Trig_Player_2_Camera_Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[2]==3)and(GetOwningPlayer(gg_unit_Hpal_0034)==Player($F))
endfunction
function Trig_Player_2_Camera_Func001Func001C takes nothing returns boolean
return(udg_PickHero[2]==2)and(GetOwningPlayer(gg_unit_Eill_0017)==Player($F))
endfunction
function Trig_Player_2_Camera_Func001C takes nothing returns boolean
return(udg_PickHero[2]==1)and(GetOwningPlayer(gg_unit_Hvwd_0016)==Player($F))
endfunction
function Trig_Player_2_Camera_Actions takes nothing returns nothing
if(Trig_Player_2_Camera_Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(1),gg_unit_Hvwd_0016,0,0,true)
else
if(Trig_Player_2_Camera_Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(1),gg_unit_Eill_0017,0,0,true)
else
if(Trig_Player_2_Camera_Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(1),gg_unit_Hpal_0034,0,0,true)
else
if(Trig_Player_2_Camera_Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(1),gg_unit_Harf_0004,0,0,true)
else
if(Trig_Player_2_Camera_Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(1),gg_unit_Emoo_0031,0,0,true)
else
if(Trig_Player_2_Camera_Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(1),gg_unit_Hmgd_0035,0,0,true)
else
if(Trig_Player_2_Camera_Func001Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(1),gg_unit_Obla_0014,0,0,true)
else
if(Trig_Player_2_Camera_Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(1),gg_unit_Hpb2_0015,0,0,true)
else
if(Trig_Player_2_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(1),gg_unit_Uktl_0032,0,0,true)
else
if(Trig_Player_2_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(1),gg_unit_Nmag_0027,0,0,true)
else
if(Trig_Player_2_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(1),gg_unit_Hart_0019,0,0,true)
else
if(Trig_Player_2_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(1),gg_unit_Emfr_0033,0,0,true)
else
if(Trig_Player_2_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(1),gg_unit_Udre_0022,0,0,true)
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call SetCameraFieldForPlayer(Player(1),CAMERA_FIELD_TARGET_DISTANCE,285.,.0)
call SetCameraFieldForPlayer(Player(1),CAMERA_FIELD_ANGLE_OF_ATTACK,.0,0)
call SetCameraFieldForPlayer(Player(1),CAMERA_FIELD_ZOFFSET,85.,0)
call SetCameraFieldForPlayer(Player(1),CAMERA_FIELD_FARZ,300.,0)
endfunction
function InitTrig_Player_2_Camera takes nothing returns nothing
set gg_trg_Player_2_Camera=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Player_2_Camera,.01)
call TriggerAddAction(gg_trg_Player_2_Camera,function Trig_Player_2_Camera_Actions)
endfunction
function Trig_Player_2_Setup_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[2]==$D)and(GetOwningPlayer(gg_unit_Udre_0022)==Player($F))
endfunction
function Trig_Player_2_Setup_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[2]==$C)and(GetOwningPlayer(gg_unit_Emfr_0033)==Player($F))
endfunction
function Trig_Player_2_Setup_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[2]==$B)and(GetOwningPlayer(gg_unit_Hart_0019)==Player($F))
endfunction
function Trig_Player_2_Setup_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[2]==$A)and(GetOwningPlayer(gg_unit_Nmag_0027)==Player($F))
endfunction
function Trig_Player_2_Setup_Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[2]==9)and(GetOwningPlayer(gg_unit_Uktl_0032)==Player($F))
endfunction
function Trig_Player_2_Setup_Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[2]==8)and(GetOwningPlayer(gg_unit_Hpb2_0015)==Player($F))
endfunction
function Trig_Player_2_Setup_Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[2]==7)and(GetOwningPlayer(gg_unit_Obla_0014)==Player($F))
endfunction
function Trig_Player_2_Setup_Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[2]==6)and(GetOwningPlayer(gg_unit_Hmgd_0035)==Player($F))
endfunction
function Trig_Player_2_Setup_Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[2]==5)and(GetOwningPlayer(gg_unit_Emoo_0031)==Player($F))
endfunction
function Trig_Player_2_Setup_Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[2]==4)and(GetOwningPlayer(gg_unit_Harf_0004)==Player($F))
endfunction
function Trig_Player_2_Setup_Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[2]==3)and(GetOwningPlayer(gg_unit_Hpal_0034)==Player($F))
endfunction
function Trig_Player_2_Setup_Func001Func001C takes nothing returns boolean
return(udg_PickHero[2]==2)and(GetOwningPlayer(gg_unit_Eill_0017)==Player($F))and(udg_Walloff[(1+GetPlayerId(GetTriggerPlayer()))])
endfunction
function Trig_Player_2_Setup_Func001C takes nothing returns boolean
return(udg_PickHero[2]==1)and(GetOwningPlayer(gg_unit_Hvwd_0016)==Player($F))
endfunction
function Trig_Player_2_Setup_Actions takes nothing returns nothing
if(Trig_Player_2_Setup_Func001C())then
call SetUnitOwner(gg_unit_Hvwd_0016,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hvwd_0016,GetRectCenter(gg_rct_Team_7),270.)
set udg_HeroPick[2]=gg_unit_Hvwd_0016
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[2]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Konoha)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNSakura.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Сакура"))
call SelectUnitForPlayerSingle(udg_HeroPick[2],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_2_left)
call DisableTrigger(gg_trg_Player_2_right)
call DisableTrigger(gg_trg_Player_2_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_2_Setup_Func001Func001C())then
call SetUnitOwner(gg_unit_Eill_0017,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Eill_0017,GetRectCenter(gg_rct_Team_7),270.)
set udg_HeroPick[2]=gg_unit_Eill_0017
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[2]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Konoha)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNSay.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Cай"))
call SelectUnitForPlayerSingle(udg_HeroPick[2],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_2_left)
call DisableTrigger(gg_trg_Player_2_right)
call DisableTrigger(gg_trg_Player_2_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_2_Setup_Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hpal_0034,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hpal_0034,GetRectCenter(gg_rct_Team_7),270.)
set udg_HeroPick[2]=gg_unit_Hpal_0034
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[2]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Konoha)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNNaruto.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Наруто"))
call SelectUnitForPlayerSingle(udg_HeroPick[2],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_2_left)
call DisableTrigger(gg_trg_Player_2_right)
call DisableTrigger(gg_trg_Player_2_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_2_Setup_Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Harf_0004,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Harf_0004,GetRectCenter(gg_rct_Team_Kakashi),.0)
set udg_HeroPick[2]=gg_unit_Harf_0004
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[2]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Konoha)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNKakashi.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Какаши"))
call SelectUnitForPlayerSingle(udg_HeroPick[2],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_2_left)
call DisableTrigger(gg_trg_Player_2_right)
call DisableTrigger(gg_trg_Player_2_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_2_Setup_Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Emoo_0031,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Emoo_0031,GetRectCenter(gg_rct_Team_Gai_2),270.)
set udg_HeroPick[2]=gg_unit_Emoo_0031
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[2]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Konoha)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNTen-ten.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Тен Тен"))
call SelectUnitForPlayerSingle(udg_HeroPick[2],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_2_left)
call DisableTrigger(gg_trg_Player_2_right)
call DisableTrigger(gg_trg_Player_2_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_2_Setup_Func001Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hmgd_0035,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hmgd_0035,GetRectCenter(gg_rct_Team_Gai_2),270.)
set udg_HeroPick[2]=gg_unit_Hmgd_0035
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[2]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Konoha)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNNedji.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Неджи"))
call SelectUnitForPlayerSingle(udg_HeroPick[2],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_2_left)
call DisableTrigger(gg_trg_Player_2_right)
call DisableTrigger(gg_trg_Player_2_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_2_Setup_Func001Func001Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Obla_0014,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Obla_0014,GetRectCenter(gg_rct_Team_Gai_2),270.)
set udg_HeroPick[2]=gg_unit_Obla_0014
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[2]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Konoha)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNLee.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Ли"))
call SelectUnitForPlayerSingle(udg_HeroPick[2],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_2_left)
call DisableTrigger(gg_trg_Player_2_right)
call DisableTrigger(gg_trg_Player_2_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_2_Setup_Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hpb2_0015,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hpb2_0015,GetRectCenter(gg_rct_Team_Gai_2),270.)
set udg_HeroPick[2]=gg_unit_Hpb2_0015
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[2]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Konoha)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNGay.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Гай"))
call SelectUnitForPlayerSingle(udg_HeroPick[2],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_2_left)
call DisableTrigger(gg_trg_Player_2_right)
call DisableTrigger(gg_trg_Player_2_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_2_Setup_Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Uktl_0032,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nnmg_0378,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nhyc_0379,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_h01J_0253,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_h01J_0252,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_h01J_0251,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Uktl_0032,GetRectCenter(gg_rct_Mei_respawn),90.)
set udg_HeroPick[2]=gg_unit_Uktl_0032
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[2]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Mizukage)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNMey.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Мей"))
call SelectUnitForPlayerSingle(udg_HeroPick[2],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_2_left)
call DisableTrigger(gg_trg_Player_2_right)
call DisableTrigger(gg_trg_Player_2_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_2_Setup_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Nmag_0027,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nnsw_0380,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nsnp_0381,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Nmag_0027,GetRectCenter(gg_rct_Rai_respawn),270.)
set udg_HeroPick[2]=gg_unit_Nmag_0027
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[2]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Point11)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTN_.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Райкаге"))
call SelectUnitForPlayerSingle(udg_HeroPick[2],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_2_left)
call DisableTrigger(gg_trg_Player_2_right)
call DisableTrigger(gg_trg_Player_2_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_2_Setup_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hart_0019,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_n00Y_0139,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_n010_0140,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hart_0019,GetRectCenter(gg_rct_Kamen),315.)
set udg_HeroPick[2]=gg_unit_Hart_0019
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[2]),0)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNOnoki.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Онноки"))
call SelectUnitForPlayerSingle(udg_HeroPick[2],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_2_left)
call DisableTrigger(gg_trg_Player_2_right)
call DisableTrigger(gg_trg_Player_2_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_2_Setup_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Emfr_0033,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nnrg_0382,GetTriggerPlayer(),true)
call SetUnitOwner(udg_temari,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Emfr_0033,GetRectCenter(gg_rct_Gaara_respawn),225.)
set udg_HeroPick[2]=gg_unit_Emfr_0033
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[2]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Suna2)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Sunabase)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNGaraa.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Гаара"))
call SelectUnitForPlayerSingle(udg_HeroPick[2],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_2_left)
call DisableTrigger(gg_trg_Player_2_right)
call DisableTrigger(gg_trg_Player_2_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_2_Setup_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Udre_0022,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nenf_0245,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nenf_0244,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nenf_0243,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nenf_0240,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nenf_0241,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nenf_0242,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Udre_0022,GetRectCenter(gg_rct_Team_Danzo_2),270.)
set udg_HeroPick[2]=gg_unit_Udre_0022
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[2]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Team_Danzo_2)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNDanzo.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Данзо"))
call SelectUnitForPlayerSingle(udg_HeroPick[2],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_2_left)
call DisableTrigger(gg_trg_Player_2_right)
call DisableTrigger(gg_trg_Player_2_Camera)
call DisableTrigger(GetTriggeringTrigger())
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endfunction
function InitTrig_Player_2_Setup takes nothing returns nothing
set gg_trg_Player_2_Setup=CreateTrigger()
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Player_2_Setup,Player(1))
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_2_Setup,Player(1),0,3)
call TriggerAddAction(gg_trg_Player_2_Setup,function Trig_Player_2_Setup_Actions)
endfunction
function Trig_Player_3_right_Conditions takes nothing returns boolean
return(udg_PickHero[3]!=$D)
endfunction
function Trig_Player_3_right_Actions takes nothing returns nothing
set udg_PickHero[3]=(udg_PickHero[3]+1)
endfunction
function InitTrig_Player_3_right takes nothing returns nothing
set gg_trg_Player_3_right=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_3_right,Player(2),0,1)
call TriggerAddCondition(gg_trg_Player_3_right,Condition(function Trig_Player_3_right_Conditions))
call TriggerAddAction(gg_trg_Player_3_right,function Trig_Player_3_right_Actions)
endfunction
function Trig_Player_3_left_Conditions takes nothing returns boolean
return(udg_PickHero[3]!=1)
endfunction
function Trig_Player_3_left_Actions takes nothing returns nothing
set udg_PickHero[3]=(udg_PickHero[3]-1)
endfunction
function InitTrig_Player_3_left takes nothing returns nothing
set gg_trg_Player_3_left=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_3_left,Player(2),0,0)
call TriggerAddCondition(gg_trg_Player_3_left,Condition(function Trig_Player_3_left_Conditions))
call TriggerAddAction(gg_trg_Player_3_left,function Trig_Player_3_left_Actions)
endfunction
function Trig_Player_3_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[3]==$D)and(GetOwningPlayer(gg_unit_Udre_0022)==Player($F))
endfunction
function Trig_Player_3_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[3]==$C)and(GetOwningPlayer(gg_unit_Emfr_0033)==Player($F))
endfunction
function Trig_Player_3_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[3]==$B)and(GetOwningPlayer(gg_unit_Hart_0019)==Player($F))
endfunction
function Trig_Player_3_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[3]==$A)and(GetOwningPlayer(gg_unit_Nmag_0027)==Player($F))
endfunction
function Trig_Player_3_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[3]==9)and(GetOwningPlayer(gg_unit_Uktl_0032)==Player($F))
endfunction
function Trig_Player_3_Camera_Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[3]==8)and(GetOwningPlayer(gg_unit_Hpb2_0015)==Player($F))
endfunction
function Trig_Player_3_Camera_Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[3]==7)and(GetOwningPlayer(gg_unit_Obla_0014)==Player($F))
endfunction
function Trig_Player_3_Camera_Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[3]==6)and(GetOwningPlayer(gg_unit_Hmgd_0035)==Player($F))
endfunction
function Trig_Player_3_Camera_Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[3]==5)and(GetOwningPlayer(gg_unit_Emoo_0031)==Player($F))
endfunction
function Trig_Player_3_Camera_Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[3]==4)and(GetOwningPlayer(gg_unit_Harf_0004)==Player($F))
endfunction
function Trig_Player_3_Camera_Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[3]==3)and(GetOwningPlayer(gg_unit_Hpal_0034)==Player($F))
endfunction
function Trig_Player_3_Camera_Func001Func001C takes nothing returns boolean
return(udg_PickHero[3]==2)and(GetOwningPlayer(gg_unit_Eill_0017)==Player($F))
endfunction
function Trig_Player_3_Camera_Func001C takes nothing returns boolean
return(udg_PickHero[3]==1)and(GetOwningPlayer(gg_unit_Hvwd_0016)==Player($F))
endfunction
function Trig_Player_3_Camera_Actions takes nothing returns nothing
if(Trig_Player_3_Camera_Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(2),gg_unit_Hvwd_0016,0,0,true)
else
if(Trig_Player_3_Camera_Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(2),gg_unit_Eill_0017,0,0,true)
else
if(Trig_Player_3_Camera_Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(2),gg_unit_Hpal_0034,0,0,true)
else
if(Trig_Player_3_Camera_Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(2),gg_unit_Harf_0004,0,0,true)
else
if(Trig_Player_3_Camera_Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(2),gg_unit_Emoo_0031,0,0,true)
else
if(Trig_Player_3_Camera_Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(2),gg_unit_Hmgd_0035,0,0,true)
else
if(Trig_Player_3_Camera_Func001Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(2),gg_unit_Obla_0014,0,0,true)
else
if(Trig_Player_3_Camera_Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(2),gg_unit_Hpb2_0015,0,0,true)
else
if(Trig_Player_3_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(2),gg_unit_Uktl_0032,0,0,true)
else
if(Trig_Player_3_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(2),gg_unit_Nmag_0027,0,0,true)
else
if(Trig_Player_3_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(2),gg_unit_Hart_0019,0,0,true)
else
if(Trig_Player_3_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(2),gg_unit_Emfr_0033,0,0,true)
else
if(Trig_Player_3_Camera_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(2),gg_unit_Udre_0022,0,0,true)
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call SetCameraFieldForPlayer(Player(2),CAMERA_FIELD_TARGET_DISTANCE,285.,.0)
call SetCameraFieldForPlayer(Player(2),CAMERA_FIELD_ANGLE_OF_ATTACK,.0,0)
call SetCameraFieldForPlayer(Player(2),CAMERA_FIELD_ZOFFSET,85.,0)
call SetCameraFieldForPlayer(Player(2),CAMERA_FIELD_FARZ,300.,0)
endfunction
function InitTrig_Player_3_Camera takes nothing returns nothing
set gg_trg_Player_3_Camera=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Player_3_Camera,.01)
call TriggerAddAction(gg_trg_Player_3_Camera,function Trig_Player_3_Camera_Actions)
endfunction
function Trig_Player_3_Setup_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[3]==$D)and(GetOwningPlayer(gg_unit_Udre_0022)==Player($F))
endfunction
function Trig_Player_3_Setup_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[3]==$C)and(GetOwningPlayer(gg_unit_Emfr_0033)==Player($F))
endfunction
function Trig_Player_3_Setup_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[3]==$B)and(GetOwningPlayer(gg_unit_Hart_0019)==Player($F))
endfunction
function Trig_Player_3_Setup_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[3]==$A)and(GetOwningPlayer(gg_unit_Nmag_0027)==Player($F))
endfunction
function Trig_Player_3_Setup_Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[3]==9)and(GetOwningPlayer(gg_unit_Uktl_0032)==Player($F))
endfunction
function Trig_Player_3_Setup_Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[3]==8)and(GetOwningPlayer(gg_unit_Hpb2_0015)==Player($F))
endfunction
function Trig_Player_3_Setup_Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[3]==7)and(GetOwningPlayer(gg_unit_Obla_0014)==Player($F))
endfunction
function Trig_Player_3_Setup_Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[3]==6)and(GetOwningPlayer(gg_unit_Hmgd_0035)==Player($F))
endfunction
function Trig_Player_3_Setup_Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[3]==5)and(GetOwningPlayer(gg_unit_Emoo_0031)==Player($F))
endfunction
function Trig_Player_3_Setup_Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[3]==4)and(GetOwningPlayer(gg_unit_Harf_0004)==Player($F))
endfunction
function Trig_Player_3_Setup_Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[3]==3)and(GetOwningPlayer(gg_unit_Hpal_0034)==Player($F))
endfunction
function Trig_Player_3_Setup_Func001Func001C takes nothing returns boolean
return(udg_PickHero[3]==2)and(GetOwningPlayer(gg_unit_Eill_0017)==Player($F))
endfunction
function Trig_Player_3_Setup_Func001C takes nothing returns boolean
return(udg_PickHero[3]==1)and(GetOwningPlayer(gg_unit_Hvwd_0016)==Player($F))
endfunction
function Trig_Player_3_Setup_Actions takes nothing returns nothing
if(Trig_Player_3_Setup_Func001C())then
call SetUnitOwner(gg_unit_Hvwd_0016,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hvwd_0016,GetRectCenter(gg_rct_Team_7),270.)
set udg_HeroPick[3]=gg_unit_Hvwd_0016
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[3]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Konoha)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Сакура"))
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNSakura.blp")
call SelectUnitForPlayerSingle(udg_HeroPick[3],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_3_left)
call DisableTrigger(gg_trg_Player_3_right)
call DisableTrigger(gg_trg_Player_3_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_3_Setup_Func001Func001C())then
call SetUnitOwner(gg_unit_Eill_0017,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Eill_0017,GetRectCenter(gg_rct_Team_7),270.)
set udg_HeroPick[3]=gg_unit_Eill_0017
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[3]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Konoha)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNSay.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Cай"))
call SelectUnitForPlayerSingle(udg_HeroPick[3],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_3_left)
call DisableTrigger(gg_trg_Player_3_right)
call DisableTrigger(gg_trg_Player_3_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_3_Setup_Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hpal_0034,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hpal_0034,GetRectCenter(gg_rct_Team_7),270.)
set udg_HeroPick[3]=gg_unit_Hpal_0034
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[3]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Konoha)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNNaruto.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Наруто"))
call SelectUnitForPlayerSingle(udg_HeroPick[3],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_3_left)
call DisableTrigger(gg_trg_Player_3_right)
call DisableTrigger(gg_trg_Player_3_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_3_Setup_Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Harf_0004,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Harf_0004,GetRectCenter(gg_rct_Team_Kakashi),.0)
set udg_HeroPick[3]=gg_unit_Harf_0004
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[3]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Konoha)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNKakashi.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Какаши"))
call SelectUnitForPlayerSingle(udg_HeroPick[3],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_3_left)
call DisableTrigger(gg_trg_Player_3_right)
call DisableTrigger(gg_trg_Player_3_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_3_Setup_Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Emoo_0031,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Emoo_0031,GetRectCenter(gg_rct_Team_Gai_2),270.)
set udg_HeroPick[3]=gg_unit_Emoo_0031
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[3]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Konoha)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNTen-ten.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Тен Тен"))
call SelectUnitForPlayerSingle(udg_HeroPick[3],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_3_left)
call DisableTrigger(gg_trg_Player_3_right)
call DisableTrigger(gg_trg_Player_3_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_3_Setup_Func001Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hmgd_0035,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hmgd_0035,GetRectCenter(gg_rct_Team_Gai_2),270.)
set udg_HeroPick[3]=gg_unit_Hmgd_0035
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[3]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Konoha)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNNedji.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Неджи"))
call SelectUnitForPlayerSingle(udg_HeroPick[3],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_3_left)
call DisableTrigger(gg_trg_Player_3_right)
call DisableTrigger(gg_trg_Player_3_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_3_Setup_Func001Func001Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Obla_0014,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Obla_0014,GetRectCenter(gg_rct_Team_Gai_2),270.)
set udg_HeroPick[3]=gg_unit_Obla_0014
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[3]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Konoha)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNLee.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Ли"))
call SelectUnitForPlayerSingle(udg_HeroPick[3],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_3_left)
call DisableTrigger(gg_trg_Player_3_right)
call DisableTrigger(gg_trg_Player_3_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_3_Setup_Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hpb2_0015,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hpb2_0015,GetRectCenter(gg_rct_Team_Gai_2),270.)
set udg_HeroPick[3]=gg_unit_Hpb2_0015
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[3]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Konoha)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNGay.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Гай"))
call SelectUnitForPlayerSingle(udg_HeroPick[3],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_3_left)
call DisableTrigger(gg_trg_Player_3_right)
call DisableTrigger(gg_trg_Player_3_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_3_Setup_Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Uktl_0032,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nnmg_0378,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nhyc_0379,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_h01J_0253,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_h01J_0252,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_h01J_0251,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Uktl_0032,GetRectCenter(gg_rct_Mei_respawn),90.)
set udg_HeroPick[3]=gg_unit_Uktl_0032
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[3]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Konoha)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNMey.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Мей"))
call SelectUnitForPlayerSingle(udg_HeroPick[3],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_3_left)
call DisableTrigger(gg_trg_Player_3_right)
call DisableTrigger(gg_trg_Player_3_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_3_Setup_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Nmag_0027,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nnsw_0380,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nsnp_0381,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Nmag_0027,GetRectCenter(gg_rct_Rai_respawn),270.)
set udg_HeroPick[3]=gg_unit_Nmag_0027
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[3]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Point11)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTN_.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Райкаге"))
call SelectUnitForPlayerSingle(udg_HeroPick[3],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_3_left)
call DisableTrigger(gg_trg_Player_3_right)
call DisableTrigger(gg_trg_Player_3_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_3_Setup_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hart_0019,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_n00Y_0139,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_n010_0140,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hart_0019,GetRectCenter(gg_rct_Kamen),315.)
set udg_HeroPick[3]=gg_unit_Hart_0019
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[3]),0)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNOnoki.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Онноки"))
call SelectUnitForPlayerSingle(udg_HeroPick[3],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_3_left)
call DisableTrigger(gg_trg_Player_3_right)
call DisableTrigger(gg_trg_Player_3_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_3_Setup_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Emfr_0033,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nnrg_0382,GetTriggerPlayer(),true)
call SetUnitOwner(udg_temari,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Emfr_0033,GetRectCenter(gg_rct_Gaara_respawn),225.)
set udg_HeroPick[3]=gg_unit_Emfr_0033
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[3]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Suna2)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Sunabase)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNGaraa.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Гаара"))
call SelectUnitForPlayerSingle(udg_HeroPick[3],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_3_left)
call DisableTrigger(gg_trg_Player_3_right)
call DisableTrigger(gg_trg_Player_3_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_3_Setup_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Udre_0022,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nenf_0245,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nenf_0244,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nenf_0243,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nenf_0240,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nenf_0241,GetTriggerPlayer(),true)
call SetUnitOwner(gg_unit_nenf_0242,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Udre_0022,GetRectCenter(gg_rct_Team_Danzo_2),270.)
set udg_HeroPick[3]=gg_unit_Udre_0022
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[3]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Team_Danzo_2)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNDanzo.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Данзо"))
call SelectUnitForPlayerSingle(udg_HeroPick[3],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_3_left)
call DisableTrigger(gg_trg_Player_3_right)
call DisableTrigger(gg_trg_Player_3_Camera)
call DisableTrigger(GetTriggeringTrigger())
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endfunction
function InitTrig_Player_3_Setup takes nothing returns nothing
set gg_trg_Player_3_Setup=CreateTrigger()
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Player_3_Setup,Player(2))
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_3_Setup,Player(2),0,3)
call TriggerAddAction(gg_trg_Player_3_Setup,function Trig_Player_3_Setup_Actions)
endfunction
function Trig_Player_4_right_Conditions takes nothing returns boolean
return(udg_PickHero[4]!=6)
endfunction
function Trig_Player_4_right_Actions takes nothing returns nothing
set udg_PickHero[4]=(udg_PickHero[4]+1)
endfunction
function InitTrig_Player_4_right takes nothing returns nothing
set gg_trg_Player_4_right=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_4_right,Player(3),0,1)
call TriggerAddCondition(gg_trg_Player_4_right,Condition(function Trig_Player_4_right_Conditions))
call TriggerAddAction(gg_trg_Player_4_right,function Trig_Player_4_right_Actions)
endfunction
function Trig_Player_4_left_Conditions takes nothing returns boolean
return(udg_PickHero[4]!=1)
endfunction
function Trig_Player_4_left_Actions takes nothing returns nothing
set udg_PickHero[4]=(udg_PickHero[4]-1)
endfunction
function InitTrig_Player_4_left takes nothing returns nothing
set gg_trg_Player_4_left=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_4_left,Player(3),0,0)
call TriggerAddCondition(gg_trg_Player_4_left,Condition(function Trig_Player_4_left_Conditions))
call TriggerAddAction(gg_trg_Player_4_left,function Trig_Player_4_left_Actions)
endfunction
function Trig_Player_4_Camera_Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[4]==6)and(GetOwningPlayer(gg_unit_Hant_0028)==Player($F))
endfunction
function Trig_Player_4_Camera_Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[4]==5)and(GetOwningPlayer(gg_unit_Hgam_0030)==Player($F))
endfunction
function Trig_Player_4_Camera_Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[4]==4)and(GetOwningPlayer(gg_unit_Edem_0023)==Player($F))
endfunction
function Trig_Player_4_Camera_Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[4]==3)and(GetOwningPlayer(gg_unit_Hkal_0020)==Player($F))
endfunction
function Trig_Player_4_Camera_Func001Func001C takes nothing returns boolean
return(udg_PickHero[4]==2)and(GetOwningPlayer(gg_unit_Ofar_0013)==Player($F))
endfunction
function Trig_Player_4_Camera_Func001C takes nothing returns boolean
return(udg_PickHero[4]==1)and(GetOwningPlayer(gg_unit_Hlgr_0029)==Player($F))
endfunction
function Trig_Player_4_Camera_Actions takes nothing returns nothing
if(Trig_Player_4_Camera_Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(3),gg_unit_Hlgr_0029,0,0,true)
else
if(Trig_Player_4_Camera_Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(3),gg_unit_Ofar_0013,0,0,true)
else
if(Trig_Player_4_Camera_Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(3),gg_unit_Hkal_0020,0,0,true)
else
if(Trig_Player_4_Camera_Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(3),gg_unit_Edem_0023,0,0,true)
else
if(Trig_Player_4_Camera_Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(3),gg_unit_Hgam_0030,0,0,true)
else
if(Trig_Player_4_Camera_Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(3),gg_unit_Hant_0028,0,0,true)
endif
endif
endif
endif
endif
endif
call SetCameraFieldForPlayer(Player(3),CAMERA_FIELD_TARGET_DISTANCE,285.,.0)
call SetCameraFieldForPlayer(Player(3),CAMERA_FIELD_ANGLE_OF_ATTACK,.0,0)
call SetCameraFieldForPlayer(Player(3),CAMERA_FIELD_ZOFFSET,85.,0)
call SetCameraFieldForPlayer(Player(3),CAMERA_FIELD_FARZ,300.,0)
endfunction
function InitTrig_Player_4_Camera takes nothing returns nothing
set gg_trg_Player_4_Camera=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Player_4_Camera,.01)
call TriggerAddAction(gg_trg_Player_4_Camera,function Trig_Player_4_Camera_Actions)
endfunction
function Trig_Player_4_Setup_Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[4]==6)and(GetOwningPlayer(gg_unit_Hant_0028)==Player($F))
endfunction
function Trig_Player_4_Setup_Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[4]==5)and(GetOwningPlayer(gg_unit_Hgam_0030)==Player($F))
endfunction
function Trig_Player_4_Setup_Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[4]==4)and(GetOwningPlayer(gg_unit_Edem_0023)==Player($F))
endfunction
function Trig_Player_4_Setup_Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[4]==3)and(GetOwningPlayer(gg_unit_Hkal_0020)==Player($F))
endfunction
function Trig_Player_4_Setup_Func001Func001C takes nothing returns boolean
return(udg_PickHero[4]==2)and(GetOwningPlayer(gg_unit_Ofar_0013)==Player($F))
endfunction
function Trig_Player_4_Setup_Func001C takes nothing returns boolean
return(udg_PickHero[4]==1)and(GetOwningPlayer(gg_unit_Hlgr_0029)==Player($F))
endfunction
function Trig_Player_4_Setup_Actions takes nothing returns nothing
if(Trig_Player_4_Setup_Func001C())then
call SetUnitOwner(gg_unit_Hlgr_0029,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hlgr_0029,GetRectCenter(gg_rct_Juugo_respawn),270.)
set udg_HeroPick[4]=gg_unit_Hlgr_0029
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[4]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Training_Sasuke)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNJuugo.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Джуго"))
call SelectUnitForPlayerSingle(udg_HeroPick[4],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_4_left)
call DisableTrigger(gg_trg_Player_4_right)
call DisableTrigger(gg_trg_Player_4_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_4_Setup_Func001Func001C())then
call SetUnitOwner(gg_unit_Ofar_0013,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Ofar_0013,GetRectCenter(gg_rct_Suigetsu_respawn),270.)
set udg_HeroPick[4]=gg_unit_Ofar_0013
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[4]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Training_Sasuke)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNSuygetsu.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Cуйгетцу"))
call SelectUnitForPlayerSingle(udg_HeroPick[4],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_4_left)
call DisableTrigger(gg_trg_Player_4_right)
call DisableTrigger(gg_trg_Player_4_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_4_Setup_Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hkal_0020,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hkal_0020,GetRectCenter(gg_rct_Karin_respawn),270.)
set udg_HeroPick[4]=gg_unit_Hkal_0020
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[4]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Training_Sasuke)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNKarin.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Карин"))
call SelectUnitForPlayerSingle(udg_HeroPick[4],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_4_left)
call DisableTrigger(gg_trg_Player_4_right)
call DisableTrigger(gg_trg_Player_4_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_4_Setup_Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Edem_0023,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Edem_0023,GetRectCenter(gg_rct_Sasuke_respawn),270.)
set udg_HeroPick[4]=gg_unit_Edem_0023
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[4]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Training_Sasuke)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNSasuke.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Cаске"))
call SelectUnitForPlayerSingle(udg_HeroPick[4],GetTriggerPlayer())
set udg_Hero2['h']=GetEnumUnit()
call EnableTrigger(gg_trg_Katana)
call DisableTrigger(gg_trg_Player_4_left)
call DisableTrigger(gg_trg_Player_4_right)
call DisableTrigger(gg_trg_Player_4_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_4_Setup_Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hgam_0030,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hgam_0030,GetRectCenter(gg_rct_Snake_crew),.0)
set udg_HeroPick[4]=gg_unit_Hgam_0030
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[4]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Base_Orochimaru)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNKabuto.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Кабуто"))
call SelectUnitForPlayerSingle(udg_HeroPick[4],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_4_left)
call DisableTrigger(gg_trg_Player_4_right)
call DisableTrigger(gg_trg_Player_4_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_4_Setup_Func001Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hant_0028,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hant_0028,GetRectCenter(gg_rct_Snake_crew),.0)
set udg_HeroPick[4]=gg_unit_Hant_0028
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[4]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Base_Orochimaru)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNOrochimari.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Орочимару"))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"Шаг на победу: Додждитесь пока Саске докачается до 30-го уровня. Затем убейте его, что-бы получить глаза \"Учихи\"")
call SelectUnitForPlayerSingle(udg_HeroPick[4],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_4_left)
call DisableTrigger(gg_trg_Player_4_right)
call DisableTrigger(gg_trg_Player_4_Camera)
call DisableTrigger(GetTriggeringTrigger())
endif
endif
endif
endif
endif
endif
endfunction
function InitTrig_Player_4_Setup takes nothing returns nothing
set gg_trg_Player_4_Setup=CreateTrigger()
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Player_4_Setup,Player(3))
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_4_Setup,Player(3),0,3)
call TriggerAddAction(gg_trg_Player_4_Setup,function Trig_Player_4_Setup_Actions)
endfunction
function Trig_Player_5_right_Conditions takes nothing returns boolean
return(udg_PickHero[5]!=6)
endfunction
function Trig_Player_5_right_Actions takes nothing returns nothing
set udg_PickHero[5]=(udg_PickHero[5]+1)
endfunction
function InitTrig_Player_5_right takes nothing returns nothing
set gg_trg_Player_5_right=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_5_right,Player(5),0,1)
call TriggerAddCondition(gg_trg_Player_5_right,Condition(function Trig_Player_5_right_Conditions))
call TriggerAddAction(gg_trg_Player_5_right,function Trig_Player_5_right_Actions)
endfunction
function Trig_Player_5_left_Conditions takes nothing returns boolean
return(udg_PickHero[5]!=1)
endfunction
function Trig_Player_5_left_Actions takes nothing returns nothing
set udg_PickHero[5]=(udg_PickHero[5]-1)
endfunction
function InitTrig_Player_5_left takes nothing returns nothing
set gg_trg_Player_5_left=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_5_left,Player(5),0,0)
call TriggerAddCondition(gg_trg_Player_5_left,Condition(function Trig_Player_5_left_Conditions))
call TriggerAddAction(gg_trg_Player_5_left,function Trig_Player_5_left_Actions)
endfunction
function Trig_Player_5_Camera_Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[5]==6)and(GetOwningPlayer(gg_unit_Hant_0028)==Player($F))
endfunction
function Trig_Player_5_Camera_Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[5]==5)and(GetOwningPlayer(gg_unit_Hgam_0030)==Player($F))
endfunction
function Trig_Player_5_Camera_Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[5]==4)and(GetOwningPlayer(gg_unit_Edem_0023)==Player($F))
endfunction
function Trig_Player_5_Camera_Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[5]==3)and(GetOwningPlayer(gg_unit_Hkal_0020)==Player($F))
endfunction
function Trig_Player_5_Camera_Func001Func001C takes nothing returns boolean
return(udg_PickHero[5]==2)and(GetOwningPlayer(gg_unit_Ofar_0013)==Player($F))
endfunction
function Trig_Player_5_Camera_Func001C takes nothing returns boolean
return(udg_PickHero[5]==1)and(GetOwningPlayer(gg_unit_Hlgr_0029)==Player($F))
endfunction
function Trig_Player_5_Camera_Actions takes nothing returns nothing
if(Trig_Player_5_Camera_Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(5),gg_unit_Hlgr_0029,0,0,true)
else
if(Trig_Player_5_Camera_Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(5),gg_unit_Ofar_0013,0,0,true)
else
if(Trig_Player_5_Camera_Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(5),gg_unit_Hkal_0020,0,0,true)
else
if(Trig_Player_5_Camera_Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(5),gg_unit_Edem_0023,0,0,true)
else
if(Trig_Player_5_Camera_Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(5),gg_unit_Hgam_0030,0,0,true)
else
if(Trig_Player_5_Camera_Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(5),gg_unit_Hant_0028,0,0,true)
endif
endif
endif
endif
endif
endif
call SetCameraFieldForPlayer(Player(5),CAMERA_FIELD_TARGET_DISTANCE,285.,.0)
call SetCameraFieldForPlayer(Player(5),CAMERA_FIELD_ANGLE_OF_ATTACK,.0,0)
call SetCameraFieldForPlayer(Player(5),CAMERA_FIELD_ZOFFSET,85.,0)
call SetCameraFieldForPlayer(Player(5),CAMERA_FIELD_FARZ,300.,0)
endfunction
function InitTrig_Player_5_Camera takes nothing returns nothing
set gg_trg_Player_5_Camera=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Player_5_Camera,.01)
call TriggerAddAction(gg_trg_Player_5_Camera,function Trig_Player_5_Camera_Actions)
endfunction
function Trig_Player_5_Setup_Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[5]==6)and(GetOwningPlayer(gg_unit_Hant_0028)==Player($F))
endfunction
function Trig_Player_5_Setup_Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[5]==5)and(GetOwningPlayer(gg_unit_Hgam_0030)==Player($F))
endfunction
function Trig_Player_5_Setup_Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[5]==4)and(GetOwningPlayer(gg_unit_Edem_0023)==Player($F))
endfunction
function Trig_Player_5_Setup_Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[5]==3)and(GetOwningPlayer(gg_unit_Hkal_0020)==Player($F))
endfunction
function Trig_Player_5_Setup_Func001Func001C takes nothing returns boolean
return(udg_PickHero[5]==2)and(GetOwningPlayer(gg_unit_Ofar_0013)==Player($F))
endfunction
function Trig_Player_5_Setup_Func001C takes nothing returns boolean
return(udg_PickHero[5]==1)and(GetOwningPlayer(gg_unit_Hlgr_0029)==Player($F))
endfunction
function Trig_Player_5_Setup_Actions takes nothing returns nothing
if(Trig_Player_5_Setup_Func001C())then
call SetUnitOwner(gg_unit_Hlgr_0029,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hlgr_0029,GetRectCenter(gg_rct_Juugo_respawn),270.)
set udg_HeroPick[5]=gg_unit_Hlgr_0029
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[5]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Training_Sasuke)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNJuugo.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Джуго"))
call SelectUnitForPlayerSingle(udg_HeroPick[5],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_5_left)
call DisableTrigger(gg_trg_Player_5_right)
call DisableTrigger(gg_trg_Player_5_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_5_Setup_Func001Func001C())then
call SetUnitOwner(gg_unit_Ofar_0013,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Ofar_0013,GetRectCenter(gg_rct_Suigetsu_respawn),270.)
set udg_HeroPick[5]=gg_unit_Ofar_0013
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[5]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Training_Sasuke)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNSuygetsu.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Cуйгетцу"))
call SelectUnitForPlayerSingle(udg_HeroPick[5],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_5_left)
call DisableTrigger(gg_trg_Player_5_right)
call DisableTrigger(gg_trg_Player_5_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_5_Setup_Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hkal_0020,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hkal_0020,GetRectCenter(gg_rct_Karin_respawn),270.)
set udg_HeroPick[5]=gg_unit_Hkal_0020
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[5]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Training_Sasuke)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNKarin.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Карин"))
call SelectUnitForPlayerSingle(udg_HeroPick[5],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_5_left)
call DisableTrigger(gg_trg_Player_5_right)
call DisableTrigger(gg_trg_Player_5_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_5_Setup_Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Edem_0023,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Edem_0023,GetRectCenter(gg_rct_Sasuke_respawn),270.)
set udg_HeroPick[5]=gg_unit_Edem_0023
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[5]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Training_Sasuke)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNSasuke.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Cаске"))
call SelectUnitForPlayerSingle(udg_HeroPick[5],GetTriggerPlayer())
set udg_Hero2['h']=GetEnumUnit()
call EnableTrigger(gg_trg_Katana)
call DisableTrigger(gg_trg_Player_5_left)
call DisableTrigger(gg_trg_Player_5_right)
call DisableTrigger(gg_trg_Player_5_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_5_Setup_Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hgam_0030,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hgam_0030,GetRectCenter(gg_rct_Snake_crew),.0)
set udg_HeroPick[5]=gg_unit_Hgam_0030
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[5]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Base_Orochimaru)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNKabuto.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Кабуто"))
call SelectUnitForPlayerSingle(udg_HeroPick[5],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_5_left)
call DisableTrigger(gg_trg_Player_5_right)
call DisableTrigger(gg_trg_Player_5_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_5_Setup_Func001Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hant_0028,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hant_0028,GetRectCenter(gg_rct_Snake_crew),.0)
set udg_HeroPick[5]=gg_unit_Hant_0028
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[5]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Base_Orochimaru)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNOrochimari.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Орочимару"))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"Шаг на победу: Додждитесь пока Саске докачается до 30-го уровня. Затем убейте его, что-бы получить глаза \"Учихи\"")
call SelectUnitForPlayerSingle(udg_HeroPick[5],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_5_left)
call DisableTrigger(gg_trg_Player_5_right)
call DisableTrigger(gg_trg_Player_5_Camera)
call DisableTrigger(GetTriggeringTrigger())
endif
endif
endif
endif
endif
endif
endfunction
function InitTrig_Player_5_Setup takes nothing returns nothing
set gg_trg_Player_5_Setup=CreateTrigger()
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Player_5_Setup,Player(5))
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_5_Setup,Player(5),0,3)
call TriggerAddAction(gg_trg_Player_5_Setup,function Trig_Player_5_Setup_Actions)
endfunction
function Trig_Player_6_right_Conditions takes nothing returns boolean
return(udg_PickHero[6]!=6)
endfunction
function Trig_Player_6_right_Actions takes nothing returns nothing
set udg_PickHero[6]=(udg_PickHero[6]+1)
endfunction
function InitTrig_Player_6_right takes nothing returns nothing
set gg_trg_Player_6_right=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_6_right,Player(6),0,1)
call TriggerAddCondition(gg_trg_Player_6_right,Condition(function Trig_Player_6_right_Conditions))
call TriggerAddAction(gg_trg_Player_6_right,function Trig_Player_6_right_Actions)
endfunction
function Trig_Player_6_left_Conditions takes nothing returns boolean
return(udg_PickHero[6]!=1)
endfunction
function Trig_Player_6_left_Actions takes nothing returns nothing
set udg_PickHero[6]=(udg_PickHero[6]-1)
endfunction
function InitTrig_Player_6_left takes nothing returns nothing
set gg_trg_Player_6_left=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_6_left,Player(6),0,0)
call TriggerAddCondition(gg_trg_Player_6_left,Condition(function Trig_Player_6_left_Conditions))
call TriggerAddAction(gg_trg_Player_6_left,function Trig_Player_6_left_Actions)
endfunction
function Trig_Player_6_Camera_Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[6]==6)and(GetOwningPlayer(gg_unit_Hant_0028)==Player($F))
endfunction
function Trig_Player_6_Camera_Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[6]==5)and(GetOwningPlayer(gg_unit_Hgam_0030)==Player($F))
endfunction
function Trig_Player_6_Camera_Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[6]==4)and(GetOwningPlayer(gg_unit_Edem_0023)==Player($F))
endfunction
function Trig_Player_6_Camera_Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[6]==3)and(GetOwningPlayer(gg_unit_Hkal_0020)==Player($F))
endfunction
function Trig_Player_6_Camera_Func001Func001C takes nothing returns boolean
return(udg_PickHero[6]==2)and(GetOwningPlayer(gg_unit_Ofar_0013)==Player($F))
endfunction
function Trig_Player_6_Camera_Func001C takes nothing returns boolean
return(udg_PickHero[6]==1)and(GetOwningPlayer(gg_unit_Hlgr_0029)==Player($F))
endfunction
function Trig_Player_6_Camera_Actions takes nothing returns nothing
if(Trig_Player_6_Camera_Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(6),gg_unit_Hlgr_0029,0,0,true)
else
if(Trig_Player_6_Camera_Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(6),gg_unit_Ofar_0013,0,0,true)
else
if(Trig_Player_6_Camera_Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(6),gg_unit_Hkal_0020,0,0,true)
else
if(Trig_Player_6_Camera_Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(6),gg_unit_Edem_0023,0,0,true)
else
if(Trig_Player_6_Camera_Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(6),gg_unit_Hgam_0030,0,0,true)
else
if(Trig_Player_6_Camera_Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(6),gg_unit_Hant_0028,0,0,true)
endif
endif
endif
endif
endif
endif
call SetCameraFieldForPlayer(Player(6),CAMERA_FIELD_TARGET_DISTANCE,285.,.0)
call SetCameraFieldForPlayer(Player(6),CAMERA_FIELD_ANGLE_OF_ATTACK,.0,0)
call SetCameraFieldForPlayer(Player(6),CAMERA_FIELD_ZOFFSET,85.,0)
call SetCameraFieldForPlayer(Player(6),CAMERA_FIELD_FARZ,300.,0)
endfunction
function InitTrig_Player_6_Camera takes nothing returns nothing
set gg_trg_Player_6_Camera=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Player_6_Camera,.01)
call TriggerAddAction(gg_trg_Player_6_Camera,function Trig_Player_6_Camera_Actions)
endfunction
function Trig_Player_6_Setup_Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[6]==6)and(GetOwningPlayer(gg_unit_Hant_0028)==Player($F))
endfunction
function Trig_Player_6_Setup_Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[6]==5)and(GetOwningPlayer(gg_unit_Hgam_0030)==Player($F))
endfunction
function Trig_Player_6_Setup_Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[6]==4)and(GetOwningPlayer(gg_unit_Edem_0023)==Player($F))
endfunction
function Trig_Player_6_Setup_Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[6]==3)and(GetOwningPlayer(gg_unit_Hkal_0020)==Player($F))
endfunction
function Trig_Player_6_Setup_Func001Func001C takes nothing returns boolean
return(udg_PickHero[6]==2)and(GetOwningPlayer(gg_unit_Ofar_0013)==Player($F))
endfunction
function Trig_Player_6_Setup_Func001C takes nothing returns boolean
return(udg_PickHero[6]==1)and(GetOwningPlayer(gg_unit_Hlgr_0029)==Player($F))
endfunction
function Trig_Player_6_Setup_Actions takes nothing returns nothing
if(Trig_Player_6_Setup_Func001C())then
call SetUnitOwner(gg_unit_Hlgr_0029,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hlgr_0029,GetRectCenter(gg_rct_Juugo_respawn),270.)
set udg_HeroPick[6]=gg_unit_Hlgr_0029
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[6]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Training_Sasuke)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNJuugo.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Джуго"))
call SelectUnitForPlayerSingle(udg_HeroPick[6],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_6_left)
call DisableTrigger(gg_trg_Player_6_right)
call DisableTrigger(gg_trg_Player_6_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_6_Setup_Func001Func001C())then
call SetUnitOwner(gg_unit_Ofar_0013,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Ofar_0013,GetRectCenter(gg_rct_Suigetsu_respawn),270.)
set udg_HeroPick[6]=gg_unit_Ofar_0013
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[6]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Training_Sasuke)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNSuygetsu.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Cуйгетцу"))
call SelectUnitForPlayerSingle(udg_HeroPick[6],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_6_left)
call DisableTrigger(gg_trg_Player_6_right)
call DisableTrigger(gg_trg_Player_6_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_6_Setup_Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hkal_0020,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hkal_0020,GetRectCenter(gg_rct_Karin_respawn),270.)
set udg_HeroPick[6]=gg_unit_Hkal_0020
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[6]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Training_Sasuke)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNKarin.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Карин"))
call SelectUnitForPlayerSingle(udg_HeroPick[6],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_6_left)
call DisableTrigger(gg_trg_Player_6_right)
call DisableTrigger(gg_trg_Player_6_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_6_Setup_Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Edem_0023,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Edem_0023,GetRectCenter(gg_rct_Sasuke_respawn),270.)
set udg_HeroPick[6]=gg_unit_Edem_0023
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[6]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Training_Sasuke)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNSasuke.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Cаске"))
call SelectUnitForPlayerSingle(udg_HeroPick[6],GetTriggerPlayer())
set udg_Hero2['h']=GetEnumUnit()
call EnableTrigger(gg_trg_Katana)
call DisableTrigger(gg_trg_Player_6_left)
call DisableTrigger(gg_trg_Player_6_right)
call DisableTrigger(gg_trg_Player_6_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_6_Setup_Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hgam_0030,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hgam_0030,GetRectCenter(gg_rct_Snake_crew),.0)
set udg_HeroPick[6]=gg_unit_Hgam_0030
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[6]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Base_Orochimaru)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNKabuto.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Кабуто"))
call SelectUnitForPlayerSingle(udg_HeroPick[6],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_6_left)
call DisableTrigger(gg_trg_Player_6_right)
call DisableTrigger(gg_trg_Player_6_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_6_Setup_Func001Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hant_0028,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hant_0028,GetRectCenter(gg_rct_Snake_crew),.0)
set udg_HeroPick[6]=gg_unit_Hant_0028
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[6]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Base_Orochimaru)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNOrochimari.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Орочимару"))
call DisplayTextToForce(GetForceOfPlayer(GetTriggerPlayer()),"Шаг на победу: Додждитесь пока Саске докачается до 30-го уровня. Затем убейте его, что-бы получить глаза \"Учихи\"")
call SelectUnitForPlayerSingle(udg_HeroPick[6],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_6_left)
call DisableTrigger(gg_trg_Player_6_right)
call DisableTrigger(gg_trg_Player_6_Camera)
call DisableTrigger(GetTriggeringTrigger())
endif
endif
endif
endif
endif
endif
endfunction
function InitTrig_Player_6_Setup takes nothing returns nothing
set gg_trg_Player_6_Setup=CreateTrigger()
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Player_6_Setup,Player(6))
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_6_Setup,Player(6),0,3)
call TriggerAddAction(gg_trg_Player_6_Setup,function Trig_Player_6_Setup_Actions)
endfunction
function Trig_Player_7_right_Conditions takes nothing returns boolean
return(udg_PickHero[7]!=6)
endfunction
function Trig_Player_7_right_Actions takes nothing returns nothing
set udg_PickHero[7]=(udg_PickHero[7]+1)
endfunction
function InitTrig_Player_7_right takes nothing returns nothing
set gg_trg_Player_7_right=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_7_right,Player(8),0,1)
call TriggerAddCondition(gg_trg_Player_7_right,Condition(function Trig_Player_7_right_Conditions))
call TriggerAddAction(gg_trg_Player_7_right,function Trig_Player_7_right_Actions)
endfunction
function Trig_Player_7_left_Conditions takes nothing returns boolean
return(udg_PickHero[7]!=1)
endfunction
function Trig_Player_7_left_Actions takes nothing returns nothing
set udg_PickHero[7]=(udg_PickHero[7]-1)
endfunction
function InitTrig_Player_7_left takes nothing returns nothing
set gg_trg_Player_7_left=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_7_left,Player(8),0,0)
call TriggerAddCondition(gg_trg_Player_7_left,Condition(function Trig_Player_7_left_Conditions))
call TriggerAddAction(gg_trg_Player_7_left,function Trig_Player_7_left_Actions)
endfunction
function Trig_Player_7_Camera_Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[7]==6)and(GetOwningPlayer(gg_unit_Huth_0018)==Player($F))
endfunction
function Trig_Player_7_Camera_Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[7]==5)and(GetOwningPlayer(gg_unit_Hhkl_0021)==Player($F))
endfunction
function Trig_Player_7_Camera_Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[7]==4)and(GetOwningPlayer(gg_unit_Hpb1_0026)==Player($F))
endfunction
function Trig_Player_7_Camera_Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[7]==3)and(GetOwningPlayer(gg_unit_Hblm_0025)==Player($F))
endfunction
function Trig_Player_7_Camera_Func001Func001C takes nothing returns boolean
return(udg_PickHero[7]==2)and(GetOwningPlayer(gg_unit_E006_0036)==Player($F))
endfunction
function Trig_Player_7_Camera_Func001C takes nothing returns boolean
return(udg_PickHero[7]==1)and(GetOwningPlayer(gg_unit_Hamg_0024)==Player($F))
endfunction
function Trig_Player_7_Camera_Actions takes nothing returns nothing
if(Trig_Player_7_Camera_Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(8),gg_unit_Hamg_0024,0,0,true)
else
if(Trig_Player_7_Camera_Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(8),gg_unit_E006_0036,0,0,true)
else
if(Trig_Player_7_Camera_Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(8),gg_unit_Hblm_0025,0,0,true)
else
if(Trig_Player_7_Camera_Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(8),gg_unit_Hpb1_0026,0,0,true)
else
if(Trig_Player_7_Camera_Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(8),gg_unit_Hhkl_0021,0,0,true)
else
if(Trig_Player_7_Camera_Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(8),gg_unit_Huth_0018,0,0,true)
endif
endif
endif
endif
endif
endif
call SetCameraFieldForPlayer(Player(8),CAMERA_FIELD_TARGET_DISTANCE,285.,.0)
call SetCameraFieldForPlayer(Player(8),CAMERA_FIELD_ANGLE_OF_ATTACK,.0,0)
call SetCameraFieldForPlayer(Player(8),CAMERA_FIELD_ZOFFSET,85.,0)
call SetCameraFieldForPlayer(Player(8),CAMERA_FIELD_FARZ,300.,0)
endfunction
function InitTrig_Player_7_Camera takes nothing returns nothing
set gg_trg_Player_7_Camera=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Player_7_Camera,.01)
call TriggerAddAction(gg_trg_Player_7_Camera,function Trig_Player_7_Camera_Actions)
endfunction
function Trig_Player_7_Setup_Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[7]==6)and(GetOwningPlayer(gg_unit_Huth_0018)==Player($F))
endfunction
function Trig_Player_7_Setup_Func001Func001Func001Func001Func001Func011002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_Player_7_Setup_Func001Func001Func001Func001Func001Func011002002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_Player_7_Setup_Func001Func001Func001Func001Func001Func011002002002002001 takes nothing returns boolean
return(IsUnitHidden(GetFilterUnit())==false)
endfunction
function Trig_Player_7_Setup_Func001Func001Func001Func001Func001Func011002002002002002001 takes nothing returns boolean
return(GetFilterUnit()!=GetTriggerUnit())
endfunction
function Trig_Player_7_Setup_Func001Func001Func001Func001Func001Func011002002002002002002001 takes nothing returns boolean
return(GetFilterUnit()!=udg_Hero2[2])
endfunction
function Trig_Player_7_Setup_Func001Func001Func001Func001Func001Func011002002002002002002002 takes nothing returns boolean
return(IsUnitPaused(GetFilterUnit())==false)
endfunction
function Trig_Player_7_Setup_Func001Func001Func001Func001Func001Func011002002002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Player_7_Setup_Func001Func001Func001Func001Func001Func011002002002002002002001(),Trig_Player_7_Setup_Func001Func001Func001Func001Func001Func011002002002002002002002())
endfunction
function Trig_Player_7_Setup_Func001Func001Func001Func001Func001Func011002002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Player_7_Setup_Func001Func001Func001Func001Func001Func011002002002002002001(),Trig_Player_7_Setup_Func001Func001Func001Func001Func001Func011002002002002002002())
endfunction
function Trig_Player_7_Setup_Func001Func001Func001Func001Func001Func011002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Player_7_Setup_Func001Func001Func001Func001Func001Func011002002002002001(),Trig_Player_7_Setup_Func001Func001Func001Func001Func001Func011002002002002002())
endfunction
function Trig_Player_7_Setup_Func001Func001Func001Func001Func001Func011002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Player_7_Setup_Func001Func001Func001Func001Func001Func011002002002001(),Trig_Player_7_Setup_Func001Func001Func001Func001Func001Func011002002002002())
endfunction
function Trig_Player_7_Setup_Func001Func001Func001Func001Func001Func011002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Player_7_Setup_Func001Func001Func001Func001Func001Func011002002001(),Trig_Player_7_Setup_Func001Func001Func001Func001Func001Func011002002002())
endfunction
function Trig_Player_7_Setup_Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[7]==5)and(GetOwningPlayer(gg_unit_Hhkl_0021)==Player($F))
endfunction
function Trig_Player_7_Setup_Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[7]==4)and(GetOwningPlayer(gg_unit_Hpb1_0026)==Player($F))
endfunction
function Trig_Player_7_Setup_Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[7]==3)and(GetOwningPlayer(gg_unit_Hblm_0025)==Player($F))
endfunction
function Trig_Player_7_Setup_Func001Func001C takes nothing returns boolean
return(udg_PickHero[7]==2)and(GetOwningPlayer(gg_unit_E006_0036)==Player($F))
endfunction
function Trig_Player_7_Setup_Func001C takes nothing returns boolean
return(udg_PickHero[7]==1)and(GetOwningPlayer(gg_unit_Hamg_0024)==Player($F))
endfunction
function Trig_Player_7_Setup_Actions takes nothing returns nothing
if(Trig_Player_7_Setup_Func001C())then
call SetUnitOwner(gg_unit_Hamg_0024,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hamg_0024,GetRectCenter(gg_rct_Deidara_tobi),270.)
set udg_HeroPick[7]=gg_unit_Hamg_0024
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[7]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Ame)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNDeydara.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Дейдара"))
call SelectUnitForPlayerSingle(udg_HeroPick[7],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_7_left)
call DisableTrigger(gg_trg_Player_7_right)
call DisableTrigger(gg_trg_Player_7_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_7_Setup_Func001Func001C())then
call SetUnitOwner(gg_unit_E006_0036,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_E006_0036,GetRectCenter(gg_rct_Deidara_tobi),270.)
set udg_HeroPick[7]=gg_unit_E006_0036
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[7]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Ame)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNSasori Icon.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Сасори"))
call SelectUnitForPlayerSingle(udg_HeroPick[7],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_7_left)
call DisableTrigger(gg_trg_Player_7_right)
call DisableTrigger(gg_trg_Player_7_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_7_Setup_Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hblm_0025,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hblm_0025,GetRectCenter(gg_rct_Itachi_Kisame),90.)
set udg_HeroPick[7]=gg_unit_Hblm_0025
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[7]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Ame)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNItachi.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Итачи"))
call SelectUnitForPlayerSingle(udg_HeroPick[7],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_7_left)
call DisableTrigger(gg_trg_Player_7_right)
call DisableTrigger(gg_trg_Player_7_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_7_Setup_Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hpb1_0026,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hpb1_0026,GetRectCenter(gg_rct_Itachi_Kisame),90.)
set udg_HeroPick[7]=gg_unit_Hpb1_0026
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[7]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Ame)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNKisame.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Кисаме"))
call SelectUnitForPlayerSingle(udg_HeroPick[7],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_7_left)
call DisableTrigger(gg_trg_Player_7_right)
call DisableTrigger(gg_trg_Player_7_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_7_Setup_Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hhkl_0021,GetTriggerPlayer(),true)
call SetUnitOwner(udg_Hero2[2],GetTriggerPlayer(),true)
call SetUnitOwner(udg_Hero2[3],GetTriggerPlayer(),true)
call SetUnitOwner(udg_Hero2[4],GetTriggerPlayer(),true)
call SetUnitOwner(udg_Hero2[5],GetTriggerPlayer(),true)
call SetUnitOwner(udg_Hero2[6],GetTriggerPlayer(),true)
call SetUnitOwner(udg_Hero2[7],GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hhkl_0021,GetRectCenter(gg_rct_Pain_Respawn),180.)
set udg_HeroPick[7]=gg_unit_Hhkl_0021
set udg_Peins=GetUnitsOfPlayerMatching(GetTriggerPlayer(),Condition(function Trig_Player_7_Setup_Func001Func001Func001Func001Func001Func011002002))
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[7]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Ame)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Cave_Gedo)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNPain Glava.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Пейн"))
call SelectUnitForPlayerSingle(udg_HeroPick[7],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_7_left)
call DisableTrigger(gg_trg_Player_7_right)
call DisableTrigger(gg_trg_Player_7_Camera)
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(gg_trg_RadiusNagatoControl)
else
if(Trig_Player_7_Setup_Func001Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Huth_0018,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Huth_0018,GetRectCenter(gg_rct_Revive_Akatsuki),270.)
set udg_HeroPick[7]=gg_unit_Huth_0018
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[7]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Ame)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Cave_Gedo)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNTobi.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Тоби"))
call SelectUnitForPlayerSingle(udg_HeroPick[7],GetTriggerPlayer())
call EnableTrigger(gg_trg_Tentail_dead)
call DisableTrigger(gg_trg_Player_7_left)
call DisableTrigger(gg_trg_Player_7_right)
call DisableTrigger(gg_trg_Player_7_Camera)
call DisableTrigger(GetTriggeringTrigger())
endif
endif
endif
endif
endif
endif
endfunction
function InitTrig_Player_7_Setup takes nothing returns nothing
set gg_trg_Player_7_Setup=CreateTrigger()
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Player_7_Setup,Player(8))
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_7_Setup,Player(8),0,3)
call TriggerAddAction(gg_trg_Player_7_Setup,function Trig_Player_7_Setup_Actions)
endfunction
function Trig_Player_8_right_Conditions takes nothing returns boolean
return(udg_PickHero[8]!=6)
endfunction
function Trig_Player_8_right_Actions takes nothing returns nothing
set udg_PickHero[8]=(udg_PickHero[8]+1)
endfunction
function InitTrig_Player_8_right takes nothing returns nothing
set gg_trg_Player_8_right=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_8_right,Player(9),0,1)
call TriggerAddCondition(gg_trg_Player_8_right,Condition(function Trig_Player_8_right_Conditions))
call TriggerAddAction(gg_trg_Player_8_right,function Trig_Player_8_right_Actions)
endfunction
function Trig_Player_8_left_Conditions takes nothing returns boolean
return(udg_PickHero[8]!=1)
endfunction
function Trig_Player_8_left_Actions takes nothing returns nothing
set udg_PickHero[8]=(udg_PickHero[8]-1)
endfunction
function InitTrig_Player_8_left takes nothing returns nothing
set gg_trg_Player_8_left=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_8_left,Player(9),0,0)
call TriggerAddCondition(gg_trg_Player_8_left,Condition(function Trig_Player_8_left_Conditions))
call TriggerAddAction(gg_trg_Player_8_left,function Trig_Player_8_left_Actions)
endfunction
function Trig_Player_8_Camera_Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[8]==6)and(GetOwningPlayer(gg_unit_Huth_0018)==Player($F))
endfunction
function Trig_Player_8_Camera_Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[8]==5)and(GetOwningPlayer(gg_unit_Hhkl_0021)==Player($F))
endfunction
function Trig_Player_8_Camera_Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[8]==4)and(GetOwningPlayer(gg_unit_Hpb1_0026)==Player($F))
endfunction
function Trig_Player_8_Camera_Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[8]==3)and(GetOwningPlayer(gg_unit_Hblm_0025)==Player($F))
endfunction
function Trig_Player_8_Camera_Func001Func001C takes nothing returns boolean
return(udg_PickHero[8]==2)and(GetOwningPlayer(gg_unit_E006_0036)==Player($F))
endfunction
function Trig_Player_8_Camera_Func001C takes nothing returns boolean
return(udg_PickHero[8]==1)and(GetOwningPlayer(gg_unit_Hamg_0024)==Player($F))
endfunction
function Trig_Player_8_Camera_Actions takes nothing returns nothing
if(Trig_Player_8_Camera_Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(9),gg_unit_Hamg_0024,0,0,true)
else
if(Trig_Player_8_Camera_Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(9),gg_unit_E006_0036,0,0,true)
else
if(Trig_Player_8_Camera_Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(9),gg_unit_Hblm_0025,0,0,true)
else
if(Trig_Player_8_Camera_Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(9),gg_unit_Hpb1_0026,0,0,true)
else
if(Trig_Player_8_Camera_Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(9),gg_unit_Hhkl_0021,0,0,true)
else
if(Trig_Player_8_Camera_Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player(9),gg_unit_Huth_0018,0,0,true)
endif
endif
endif
endif
endif
endif
call SetCameraFieldForPlayer(Player(9),CAMERA_FIELD_TARGET_DISTANCE,285.,.0)
call SetCameraFieldForPlayer(Player(9),CAMERA_FIELD_ANGLE_OF_ATTACK,.0,0)
call SetCameraFieldForPlayer(Player(9),CAMERA_FIELD_ZOFFSET,85.,0)
call SetCameraFieldForPlayer(Player(9),CAMERA_FIELD_FARZ,300.,0)
endfunction
function InitTrig_Player_8_Camera takes nothing returns nothing
set gg_trg_Player_8_Camera=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Player_8_Camera,.01)
call TriggerAddAction(gg_trg_Player_8_Camera,function Trig_Player_8_Camera_Actions)
endfunction
function Trig_Player_8_Setup_Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[8]==6)and(GetOwningPlayer(gg_unit_Huth_0018)==Player($F))
endfunction
function Trig_Player_8_Setup_Func001Func001Func001Func001Func001Func011002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_Player_8_Setup_Func001Func001Func001Func001Func001Func011002002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_Player_8_Setup_Func001Func001Func001Func001Func001Func011002002002002001 takes nothing returns boolean
return(IsUnitHidden(GetFilterUnit())==false)
endfunction
function Trig_Player_8_Setup_Func001Func001Func001Func001Func001Func011002002002002002001 takes nothing returns boolean
return(GetFilterUnit()!=GetTriggerUnit())
endfunction
function Trig_Player_8_Setup_Func001Func001Func001Func001Func001Func011002002002002002002001 takes nothing returns boolean
return(GetFilterUnit()!=udg_Hero2[2])
endfunction
function Trig_Player_8_Setup_Func001Func001Func001Func001Func001Func011002002002002002002002 takes nothing returns boolean
return(IsUnitPaused(GetFilterUnit())==false)
endfunction
function Trig_Player_8_Setup_Func001Func001Func001Func001Func001Func011002002002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Player_8_Setup_Func001Func001Func001Func001Func001Func011002002002002002002001(),Trig_Player_8_Setup_Func001Func001Func001Func001Func001Func011002002002002002002002())
endfunction
function Trig_Player_8_Setup_Func001Func001Func001Func001Func001Func011002002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Player_8_Setup_Func001Func001Func001Func001Func001Func011002002002002002001(),Trig_Player_8_Setup_Func001Func001Func001Func001Func001Func011002002002002002002())
endfunction
function Trig_Player_8_Setup_Func001Func001Func001Func001Func001Func011002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Player_8_Setup_Func001Func001Func001Func001Func001Func011002002002002001(),Trig_Player_8_Setup_Func001Func001Func001Func001Func001Func011002002002002002())
endfunction
function Trig_Player_8_Setup_Func001Func001Func001Func001Func001Func011002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Player_8_Setup_Func001Func001Func001Func001Func001Func011002002002001(),Trig_Player_8_Setup_Func001Func001Func001Func001Func001Func011002002002002())
endfunction
function Trig_Player_8_Setup_Func001Func001Func001Func001Func001Func011002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Player_8_Setup_Func001Func001Func001Func001Func001Func011002002001(),Trig_Player_8_Setup_Func001Func001Func001Func001Func001Func011002002002())
endfunction
function Trig_Player_8_Setup_Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[8]==5)and(GetOwningPlayer(gg_unit_Hhkl_0021)==Player($F))
endfunction
function Trig_Player_8_Setup_Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[8]==4)and(GetOwningPlayer(gg_unit_Hpb1_0026)==Player($F))
endfunction
function Trig_Player_8_Setup_Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[8]==3)and(GetOwningPlayer(gg_unit_Hblm_0025)==Player($F))
endfunction
function Trig_Player_8_Setup_Func001Func001C takes nothing returns boolean
return(udg_PickHero[8]==2)and(GetOwningPlayer(gg_unit_E006_0036)==Player($F))
endfunction
function Trig_Player_8_Setup_Func001C takes nothing returns boolean
return(udg_PickHero[8]==1)and(GetOwningPlayer(gg_unit_Hamg_0024)==Player($F))
endfunction
function Trig_Player_8_Setup_Actions takes nothing returns nothing
if(Trig_Player_8_Setup_Func001C())then
call SetUnitOwner(gg_unit_Hamg_0024,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hamg_0024,GetRectCenter(gg_rct_Deidara_tobi),270.)
set udg_HeroPick[8]=gg_unit_Hamg_0024
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[8]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Ame)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNDeydara.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Дейдара"))
call SelectUnitForPlayerSingle(udg_HeroPick[8],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_8_left)
call DisableTrigger(gg_trg_Player_8_right)
call DisableTrigger(gg_trg_Player_8_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_8_Setup_Func001Func001C())then
call SetUnitOwner(gg_unit_E006_0036,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_E006_0036,GetRectCenter(gg_rct_Deidara_tobi),270.)
set udg_HeroPick[8]=gg_unit_E006_0036
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[8]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Ame)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNSasori Icon.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Сасори"))
call SelectUnitForPlayerSingle(udg_HeroPick[8],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_8_left)
call DisableTrigger(gg_trg_Player_8_right)
call DisableTrigger(gg_trg_Player_8_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_8_Setup_Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hblm_0025,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hblm_0025,GetRectCenter(gg_rct_Itachi_Kisame),90.)
set udg_HeroPick[8]=gg_unit_Hblm_0025
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[8]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Ame)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNItachi.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Итачи"))
call SelectUnitForPlayerSingle(udg_HeroPick[8],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_8_left)
call DisableTrigger(gg_trg_Player_8_right)
call DisableTrigger(gg_trg_Player_8_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_8_Setup_Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hpb1_0026,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hpb1_0026,GetRectCenter(gg_rct_Itachi_Kisame),90.)
set udg_HeroPick[8]=gg_unit_Hpb1_0026
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[8]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Ame)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNKisame.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Кисаме"))
call SelectUnitForPlayerSingle(udg_HeroPick[8],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_8_left)
call DisableTrigger(gg_trg_Player_8_right)
call DisableTrigger(gg_trg_Player_8_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_8_Setup_Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hhkl_0021,GetTriggerPlayer(),true)
call SetUnitOwner(udg_Hero2[2],GetTriggerPlayer(),true)
call SetUnitOwner(udg_Hero2[3],GetTriggerPlayer(),true)
call SetUnitOwner(udg_Hero2[4],GetTriggerPlayer(),true)
call SetUnitOwner(udg_Hero2[5],GetTriggerPlayer(),true)
call SetUnitOwner(udg_Hero2[6],GetTriggerPlayer(),true)
call SetUnitOwner(udg_Hero2[7],GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hhkl_0021,GetRectCenter(gg_rct_Pain_Respawn),180.)
set udg_HeroPick[8]=gg_unit_Hhkl_0021
set udg_Peins=GetUnitsOfPlayerMatching(GetTriggerPlayer(),Condition(function Trig_Player_8_Setup_Func001Func001Func001Func001Func001Func011002002))
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[8]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Ame)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Cave_Gedo)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNPain Glava.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Пейн"))
call SelectUnitForPlayerSingle(udg_HeroPick[8],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_8_left)
call DisableTrigger(gg_trg_Player_8_right)
call DisableTrigger(gg_trg_Player_8_Camera)
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(gg_trg_RadiusNagatoControl)
else
if(Trig_Player_8_Setup_Func001Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Huth_0018,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Huth_0018,GetRectCenter(gg_rct_Revive_Akatsuki),270.)
set udg_HeroPick[8]=gg_unit_Huth_0018
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[8]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Ame)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Cave_Gedo)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNTobi.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Тоби"))
call SelectUnitForPlayerSingle(udg_HeroPick[8],GetTriggerPlayer())
call EnableTrigger(gg_trg_Tentail_dead)
call DisableTrigger(gg_trg_Player_8_left)
call DisableTrigger(gg_trg_Player_8_right)
call DisableTrigger(gg_trg_Player_8_Camera)
call DisableTrigger(GetTriggeringTrigger())
endif
endif
endif
endif
endif
endif
endfunction
function InitTrig_Player_8_Setup takes nothing returns nothing
set gg_trg_Player_8_Setup=CreateTrigger()
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Player_8_Setup,Player(9))
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_8_Setup,Player(9),0,3)
call TriggerAddAction(gg_trg_Player_8_Setup,function Trig_Player_8_Setup_Actions)
endfunction
function Trig_Player_9_right_Conditions takes nothing returns boolean
return(udg_PickHero[9]!=6)
endfunction
function Trig_Player_9_right_Actions takes nothing returns nothing
set udg_PickHero[9]=(udg_PickHero[9]+1)
endfunction
function InitTrig_Player_9_right takes nothing returns nothing
set gg_trg_Player_9_right=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_9_right,Player($A),0,1)
call TriggerAddCondition(gg_trg_Player_9_right,Condition(function Trig_Player_9_right_Conditions))
call TriggerAddAction(gg_trg_Player_9_right,function Trig_Player_9_right_Actions)
endfunction
function Trig_Player_9_left_Conditions takes nothing returns boolean
return(udg_PickHero[9]!=1)
endfunction
function Trig_Player_9_left_Actions takes nothing returns nothing
set udg_PickHero[9]=(udg_PickHero[9]-1)
endfunction
function InitTrig_Player_9_left takes nothing returns nothing
set gg_trg_Player_9_left=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_9_left,Player($A),0,0)
call TriggerAddCondition(gg_trg_Player_9_left,Condition(function Trig_Player_9_left_Conditions))
call TriggerAddAction(gg_trg_Player_9_left,function Trig_Player_9_left_Actions)
endfunction
function Trig_Player_9_Camera_Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[9]==6)and(GetOwningPlayer(gg_unit_Huth_0018)==Player($F))
endfunction
function Trig_Player_9_Camera_Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[9]==5)and(GetOwningPlayer(gg_unit_Hhkl_0021)==Player($F))
endfunction
function Trig_Player_9_Camera_Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[9]==4)and(GetOwningPlayer(gg_unit_Hpb1_0026)==Player($F))
endfunction
function Trig_Player_9_Camera_Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[9]==3)and(GetOwningPlayer(gg_unit_Hblm_0025)==Player($F))
endfunction
function Trig_Player_9_Camera_Func001Func001C takes nothing returns boolean
return(udg_PickHero[9]==2)and(GetOwningPlayer(gg_unit_E006_0036)==Player($F))
endfunction
function Trig_Player_9_Camera_Func001C takes nothing returns boolean
return(udg_PickHero[9]==1)and(GetOwningPlayer(gg_unit_Hamg_0024)==Player($F))
endfunction
function Trig_Player_9_Camera_Actions takes nothing returns nothing
if(Trig_Player_9_Camera_Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player($A),gg_unit_Hamg_0024,0,0,true)
else
if(Trig_Player_9_Camera_Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player($A),gg_unit_E006_0036,0,0,true)
else
if(Trig_Player_9_Camera_Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player($A),gg_unit_Hblm_0025,0,0,true)
else
if(Trig_Player_9_Camera_Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player($A),gg_unit_Hpb1_0026,0,0,true)
else
if(Trig_Player_9_Camera_Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player($A),gg_unit_Hhkl_0021,0,0,true)
else
if(Trig_Player_9_Camera_Func001Func001Func001Func001Func001Func001C())then
call SetCameraTargetControllerNoZForPlayer(Player($A),gg_unit_Huth_0018,0,0,true)
endif
endif
endif
endif
endif
endif
call SetCameraFieldForPlayer(Player($A),CAMERA_FIELD_TARGET_DISTANCE,285.,.0)
call SetCameraFieldForPlayer(Player($A),CAMERA_FIELD_ANGLE_OF_ATTACK,.0,0)
call SetCameraFieldForPlayer(Player($A),CAMERA_FIELD_ZOFFSET,85.,0)
call SetCameraFieldForPlayer(Player($A),CAMERA_FIELD_FARZ,300.,0)
endfunction
function InitTrig_Player_9_Camera takes nothing returns nothing
set gg_trg_Player_9_Camera=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Player_9_Camera,.01)
call TriggerAddAction(gg_trg_Player_9_Camera,function Trig_Player_9_Camera_Actions)
endfunction
function Trig_Player_9_Setup_Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[9]==6)and(GetOwningPlayer(gg_unit_Huth_0018)==Player($F))
endfunction
function Trig_Player_9_Setup_Func001Func001Func001Func001Func001Func011002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_Player_9_Setup_Func001Func001Func001Func001Func001Func011002002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_Player_9_Setup_Func001Func001Func001Func001Func001Func011002002002002001 takes nothing returns boolean
return(IsUnitHidden(GetFilterUnit())==false)
endfunction
function Trig_Player_9_Setup_Func001Func001Func001Func001Func001Func011002002002002002001 takes nothing returns boolean
return(GetFilterUnit()!=GetTriggerUnit())
endfunction
function Trig_Player_9_Setup_Func001Func001Func001Func001Func001Func011002002002002002002001 takes nothing returns boolean
return(GetFilterUnit()!=udg_Hero2[2])
endfunction
function Trig_Player_9_Setup_Func001Func001Func001Func001Func001Func011002002002002002002002 takes nothing returns boolean
return(IsUnitPaused(GetFilterUnit())==false)
endfunction
function Trig_Player_9_Setup_Func001Func001Func001Func001Func001Func011002002002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Player_9_Setup_Func001Func001Func001Func001Func001Func011002002002002002002001(),Trig_Player_9_Setup_Func001Func001Func001Func001Func001Func011002002002002002002002())
endfunction
function Trig_Player_9_Setup_Func001Func001Func001Func001Func001Func011002002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Player_9_Setup_Func001Func001Func001Func001Func001Func011002002002002002001(),Trig_Player_9_Setup_Func001Func001Func001Func001Func001Func011002002002002002002())
endfunction
function Trig_Player_9_Setup_Func001Func001Func001Func001Func001Func011002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Player_9_Setup_Func001Func001Func001Func001Func001Func011002002002002001(),Trig_Player_9_Setup_Func001Func001Func001Func001Func001Func011002002002002002())
endfunction
function Trig_Player_9_Setup_Func001Func001Func001Func001Func001Func011002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Player_9_Setup_Func001Func001Func001Func001Func001Func011002002002001(),Trig_Player_9_Setup_Func001Func001Func001Func001Func001Func011002002002002())
endfunction
function Trig_Player_9_Setup_Func001Func001Func001Func001Func001Func011002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Player_9_Setup_Func001Func001Func001Func001Func001Func011002002001(),Trig_Player_9_Setup_Func001Func001Func001Func001Func001Func011002002002())
endfunction
function Trig_Player_9_Setup_Func001Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[9]==5)and(GetOwningPlayer(gg_unit_Hhkl_0021)==Player($F))
endfunction
function Trig_Player_9_Setup_Func001Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[9]==4)and(GetOwningPlayer(gg_unit_Hpb1_0026)==Player($F))
endfunction
function Trig_Player_9_Setup_Func001Func001Func001C takes nothing returns boolean
return(udg_PickHero[9]==3)and(GetOwningPlayer(gg_unit_Hblm_0025)==Player($F))
endfunction
function Trig_Player_9_Setup_Func001Func001C takes nothing returns boolean
return(udg_PickHero[9]==2)and(GetOwningPlayer(gg_unit_E006_0036)==Player($F))
endfunction
function Trig_Player_9_Setup_Func001C takes nothing returns boolean
return(udg_PickHero[9]==1)and(GetOwningPlayer(gg_unit_Hamg_0024)==Player($F))
endfunction
function Trig_Player_9_Setup_Actions takes nothing returns nothing
if(Trig_Player_9_Setup_Func001C())then
call SetUnitOwner(gg_unit_Hamg_0024,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hamg_0024,GetRectCenter(gg_rct_Deidara_tobi),270.)
set udg_HeroPick[9]=gg_unit_Hamg_0024
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[9]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Ame)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNDeydara.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Дейдара"))
call SelectUnitForPlayerSingle(udg_HeroPick[9],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_9_left)
call DisableTrigger(gg_trg_Player_9_right)
call DisableTrigger(gg_trg_Player_9_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_9_Setup_Func001Func001C())then
call SetUnitOwner(gg_unit_E006_0036,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_E006_0036,GetRectCenter(gg_rct_Deidara_tobi),270.)
set udg_HeroPick[9]=gg_unit_E006_0036
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[9]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Ame)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNSasori Icon.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Сасори"))
call SelectUnitForPlayerSingle(udg_HeroPick[9],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_9_left)
call DisableTrigger(gg_trg_Player_9_right)
call DisableTrigger(gg_trg_Player_9_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_9_Setup_Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hblm_0025,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hblm_0025,GetRectCenter(gg_rct_Itachi_Kisame),90.)
set udg_HeroPick[9]=gg_unit_Hblm_0025
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[9]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Ame)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNItachi.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Итачи"))
call SelectUnitForPlayerSingle(udg_HeroPick[9],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_9_left)
call DisableTrigger(gg_trg_Player_9_right)
call DisableTrigger(gg_trg_Player_9_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_9_Setup_Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hpb1_0026,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hpb1_0026,GetRectCenter(gg_rct_Itachi_Kisame),90.)
set udg_HeroPick[9]=gg_unit_Hpb1_0026
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[9]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Ame)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNKisame.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Кисаме"))
call SelectUnitForPlayerSingle(udg_HeroPick[9],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_9_left)
call DisableTrigger(gg_trg_Player_9_right)
call DisableTrigger(gg_trg_Player_9_Camera)
call DisableTrigger(GetTriggeringTrigger())
else
if(Trig_Player_9_Setup_Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Hhkl_0021,GetTriggerPlayer(),true)
call SetUnitOwner(udg_Hero2[2],GetTriggerPlayer(),true)
call SetUnitOwner(udg_Hero2[3],GetTriggerPlayer(),true)
call SetUnitOwner(udg_Hero2[4],GetTriggerPlayer(),true)
call SetUnitOwner(udg_Hero2[5],GetTriggerPlayer(),true)
call SetUnitOwner(udg_Hero2[6],GetTriggerPlayer(),true)
call SetUnitOwner(udg_Hero2[7],GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Hhkl_0021,GetRectCenter(gg_rct_Pain_Respawn),180.)
set udg_HeroPick[9]=gg_unit_Hhkl_0021
set udg_Peins=GetUnitsOfPlayerMatching(GetTriggerPlayer(),Condition(function Trig_Player_9_Setup_Func001Func001Func001Func001Func001Func011002002))
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[9]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Ame)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Cave_Gedo)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNPain Glava.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Пейн"))
call SelectUnitForPlayerSingle(udg_HeroPick[9],GetTriggerPlayer())
call DisableTrigger(gg_trg_Player_9_left)
call DisableTrigger(gg_trg_Player_9_right)
call DisableTrigger(gg_trg_Player_9_Camera)
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(gg_trg_RadiusNagatoControl)
else
if(Trig_Player_9_Setup_Func001Func001Func001Func001Func001Func001C())then
call SetUnitOwner(gg_unit_Huth_0018,GetTriggerPlayer(),true)
call SetUnitPositionLocFacingBJ(gg_unit_Huth_0018,GetRectCenter(gg_rct_Revive_Akatsuki),270.)
set udg_HeroPick[9]=gg_unit_Huth_0018
call ResetToGameCameraForPlayer(GetTriggerPlayer(),0)
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),GetUnitLoc(udg_HeroPick[9]),0)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Ame)
call CreateFogModifierRectBJ(true,GetTriggerPlayer(),FOG_OF_WAR_VISIBLE,gg_rct_Cave_Gedo)
call MultiboardSetItemIconBJ(udg_leaderboard,1,udg_icon_row[(1+GetPlayerId(GetTriggerPlayer()))],"ReplaceableTextures\\CommandButtons\\BTNTobi.blp")
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetTriggerPlayer())+" выбрал Тоби"))
call SelectUnitForPlayerSingle(udg_HeroPick[9],GetTriggerPlayer())
call EnableTrigger(gg_trg_Tentail_dead)
call DisableTrigger(gg_trg_Player_9_left)
call DisableTrigger(gg_trg_Player_9_right)
call DisableTrigger(gg_trg_Player_9_Camera)
call DisableTrigger(GetTriggeringTrigger())
endif
endif
endif
endif
endif
endif
endfunction
function InitTrig_Player_9_Setup takes nothing returns nothing
set gg_trg_Player_9_Setup=CreateTrigger()
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Player_9_Setup,Player($A))
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_9_Setup,Player($A),0,3)
call TriggerAddAction(gg_trg_Player_9_Setup,function Trig_Player_9_Setup_Actions)
endfunction
function Trig_Other_Func005C takes nothing returns boolean
return(GetTriggerUnit()==gg_unit_Emfr_0033)or(GetTriggerUnit()==gg_unit_Uktl_0032)or(GetTriggerUnit()==gg_unit_Nmag_0027)or(GetTriggerUnit()==gg_unit_Hart_0019)
endfunction
function Trig_Other_Conditions takes nothing returns boolean
return(Trig_Other_Func005C())
endfunction
function Trig_Other_Func001C takes nothing returns boolean
return(GetTriggerUnit()==gg_unit_Emfr_0033)
endfunction
function Trig_Other_Func002C takes nothing returns boolean
return(GetTriggerUnit()==gg_unit_Nmag_0027)
endfunction
function Trig_Other_Func003C takes nothing returns boolean
return(GetTriggerUnit()==gg_unit_Uktl_0032)
endfunction
function Trig_Other_Func004C takes nothing returns boolean
return(GetTriggerUnit()==gg_unit_Hart_0019)
endfunction
function Trig_Other_Actions takes nothing returns nothing
if(Trig_Other_Func001C())then
call TriggerSleepAction(10.)
call ReviveHeroLoc(gg_unit_Emfr_0033,GetRectCenter(gg_rct_Kazekage),true)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(gg_rct_Kazekage),0)
endif
if(Trig_Other_Func002C())then
call TriggerSleepAction(10.)
call ReviveHeroLoc(gg_unit_Nmag_0027,GetRectCenter(gg_rct_Rai_respawn),true)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(gg_rct_Rai_respawn),0)
endif
if(Trig_Other_Func003C())then
call TriggerSleepAction(10.)
call ReviveHeroLoc(gg_unit_Uktl_0032,GetRectCenter(gg_rct_tele25),true)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(gg_rct_tele25),0)
endif
if(Trig_Other_Func004C())then
call TriggerSleepAction(10.)
call ReviveHeroLoc(gg_unit_Hart_0019,GetRectCenter(gg_rct_Kamen),true)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(gg_rct_Kamen),0)
endif
endfunction
function InitTrig_Other takes nothing returns nothing
set gg_trg_Other=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Other,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Other,Condition(function Trig_Other_Conditions))
call TriggerAddAction(gg_trg_Other,function Trig_Other_Actions)
endfunction
function Crep_respawn_Cond takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())=='h002' or GetUnitTypeId(GetDyingUnit())=='h00G' or GetUnitTypeId(GetDyingUnit())=='h004' or GetUnitTypeId(GetDyingUnit())=='h007' or GetUnitTypeId(GetDyingUnit())=='h00I' or GetUnitTypeId(GetDyingUnit())=='n00A' or GetUnitTypeId(GetDyingUnit())=='h003' or GetUnitTypeId(GetDyingUnit())=='nwld' or GetUnitTypeId(GetDyingUnit())=='nsqa' or GetUnitTypeId(GetDyingUnit())=='nplg' or GetUnitTypeId(GetDyingUnit())=='ngz4'
endfunction
function Crep_respawn_Act takes nothing returns nothing
local unit a=GetDyingUnit()
call TriggerSleepAction(10.)
call CreateUnit(Player($C),GetUnitTypeId(a),GetUnitX(a),GetUnitY(a),0)
call RemoveUnit(a)
set a=null
endfunction
function InitTrig_Crep_respawn takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Crep_respawn_Cond))
call TriggerAddAction(t,function Crep_respawn_Act)
set t=null
endfunction
function Trig_Zombi_respawn_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='nzom')
endfunction
function Trig_Zombi_respawn_Actions takes nothing returns nothing
call TriggerSleepAction(10.)
call CreateNUnitsAtLoc(1,'nzom',Player($C),GetRandomLocInRect(gg_rct_Training_Sasuke),bj_UNIT_FACING)
call RemoveUnit(GetDyingUnit())
endfunction
function InitTrig_Zombi_respawn takes nothing returns nothing
set gg_trg_Zombi_respawn=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Zombi_respawn,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Zombi_respawn,Condition(function Trig_Zombi_respawn_Conditions))
call TriggerAddAction(gg_trg_Zombi_respawn,function Trig_Zombi_respawn_Actions)
endfunction
function Trig_Hanzo_respawn_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='hfoo')
endfunction
function Trig_Hanzo_respawn_Actions takes nothing returns nothing
call TriggerSleepAction(2.5)
call CreateNUnitsAtLoc(1,'hfoo',Player($C),GetRandomLocInRect(gg_rct_Hanzo),bj_UNIT_FACING)
call RemoveUnit(GetDyingUnit())
endfunction
function InitTrig_Hanzo_respawn takes nothing returns nothing
set gg_trg_Hanzo_respawn=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hanzo_respawn,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Hanzo_respawn,Condition(function Trig_Hanzo_respawn_Conditions))
call TriggerAddAction(gg_trg_Hanzo_respawn,function Trig_Hanzo_respawn_Actions)
endfunction
function Trig_Hanzo_De_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Hanzo_respawn)
endfunction
function InitTrig_Hanzo_De takes nothing returns nothing
set gg_trg_Hanzo_De=CreateTrigger()
call TriggerRegisterUnitEvent(gg_trg_Hanzo_De,gg_unit_E00R_0362,EVENT_UNIT_DEATH)
call TriggerAddAction(gg_trg_Hanzo_De,function Trig_Hanzo_De_Actions)
endfunction
function Trig_Crep_remove_Func003C takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='nchg')or(GetUnitTypeId(GetDyingUnit())=='nsgh')or(GetUnitTypeId(GetDyingUnit())=='nsrw')or(GetUnitTypeId(GetDyingUnit())=='nrog')or(GetUnitTypeId(GetDyingUnit())=='nogl')or(GetUnitTypeId(GetDyingUnit())=='ndrd')or(GetUnitTypeId(GetDyingUnit())=='E00I')or(GetUnitTypeId(GetDyingUnit())=='E00F')or(GetUnitTypeId(GetDyingUnit())=='E00G')or(GetUnitTypeId(GetDyingUnit())=='E00H')or(GetUnitTypeId(GetDyingUnit())=='E00K')or(GetUnitTypeId(GetDyingUnit())=='E00J')or(GetUnitTypeId(GetDyingUnit())=='E00L')or(GetUnitTypeId(GetDyingUnit())=='E002')or(GetUnitTypeId(GetDyingUnit())=='Osam')or(GetUnitTypeId(GetDyingUnit())=='Hvsh')or(GetUnitTypeId(GetDyingUnit())=='Ekee')or(GetUnitTypeId(GetDyingUnit())=='Udea')or(GetUnitTypeId(GetDyingUnit())=='Oshd')or(GetUnitTypeId(GetDyingUnit())=='Hapm')or(GetUnitTypeId(GetDyingUnit())=='Ucrl')or(GetUnitTypeId(GetDyingUnit())=='Nbrn')or(GetUnitTypeId(GetDyingUnit())=='Nfir')or(GetUnitTypeId(GetDyingUnit())=='Nplh')or(GetUnitTypeId(GetDyingUnit())=='E00D')or(GetUnitTypeId(GetDyingUnit())=='U002')or(GetUnitTypeId(GetDyingUnit())=='U003')or(GetUnitTypeId(GetDyingUnit())=='U004')or(GetUnitTypeId(GetDyingUnit())=='U005')or(GetUnitTypeId(GetDyingUnit())=='U001')
endfunction
function Trig_Crep_remove_Conditions takes nothing returns boolean
return(Trig_Crep_remove_Func003C())
endfunction
function Trig_Crep_remove_Actions takes nothing returns nothing
call TriggerSleepAction(5.)
call RemoveUnit(GetDyingUnit())
endfunction
function InitTrig_Crep_remove takes nothing returns nothing
set gg_trg_Crep_remove=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Crep_remove,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Crep_remove,Condition(function Trig_Crep_remove_Conditions))
call TriggerAddAction(gg_trg_Crep_remove,function Trig_Crep_remove_Actions)
endfunction
function Trig_Remove_Conditions takes nothing returns boolean
return GetUnitTypeId(GetTriggerUnit())=='n004' or GetUnitTypeId(GetTriggerUnit())=='n005' or GetUnitTypeId(GetTriggerUnit())=='n00H' or GetUnitTypeId(GetTriggerUnit())=='n009' or GetUnitTypeId(GetTriggerUnit())=='ngz1'
endfunction
function Trig_Remove_Actions takes nothing returns nothing
local unit a=GetTriggerUnit()
call DestroyEffect(AddSpecialEffect("shadowclone.mdx",GetUnitX(a),GetUnitY(a)))
call RemoveUnit(a)
set a=null
endfunction
function InitTrig_Remove takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_Remove_Conditions))
call TriggerAddAction(t,function Trig_Remove_Actions)
set t=null
endfunction
function Trig_Dying_Tobi_Func003C takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H01F')or(GetUnitTypeId(GetTriggerUnit())=='H01U')or(GetUnitTypeId(GetTriggerUnit())=='H04G')or(GetUnitTypeId(GetTriggerUnit())=='H04H')or(GetUnitTypeId(GetTriggerUnit())=='H04I')or(GetUnitTypeId(GetTriggerUnit())=='H01B')
endfunction
function Trig_Dying_Tobi_Conditions takes nothing returns boolean
return(Trig_Dying_Tobi_Func003C())
endfunction
function Trig_Dying_Tobi_Func001C takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<=$E)
endfunction
function Trig_Dying_Tobi_Func002C takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<=$F)
endfunction
function Trig_Dying_Tobi_Actions takes nothing returns nothing
if(Trig_Dying_Tobi_Func001C())then
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),2,"|c00FF0303Ваш герой оживёт через 30 секунд.|r")
call TriggerSleepAction(30.)
call ReviveHeroLoc(GetTriggerUnit(),GetRectCenter(gg_rct_Gedo),true)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(gg_rct_Gedo),0)
endif
if(Trig_Dying_Tobi_Func002C())then
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),2,"|c00FF0303Ваш герой оживёт через 60 секунд.|r")
call TriggerSleepAction(60.)
call ReviveHeroLoc(GetTriggerUnit(),GetRectCenter(gg_rct_Gedo),true)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(gg_rct_Gedo),0)
endif
endfunction
function InitTrig_Dying_Tobi takes nothing returns nothing
set gg_trg_Dying_Tobi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Dying_Tobi,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Dying_Tobi,Condition(function Trig_Dying_Tobi_Conditions))
call TriggerAddAction(gg_trg_Dying_Tobi,function Trig_Dying_Tobi_Actions)
endfunction
function Trig_Konoha_Func003C takes nothing returns boolean
return(GetTriggerUnit()==gg_unit_Hvwd_0016)or(GetTriggerUnit()==gg_unit_Eill_0017)or(GetTriggerUnit()==gg_unit_Hpal_0034)or(GetTriggerUnit()==gg_unit_Harf_0004)or(GetTriggerUnit()==gg_unit_Emoo_0031)or(GetTriggerUnit()==gg_unit_Hmgd_0035)or(GetTriggerUnit()==gg_unit_Obla_0014)or(GetTriggerUnit()==gg_unit_Hpb2_0015)or(GetTriggerUnit()==gg_unit_Udre_0022)or(GetUnitTypeId(GetTriggerUnit())=='H03E')
endfunction
function Trig_Konoha_Conditions takes nothing returns boolean
return(Trig_Konoha_Func003C())
endfunction
function Trig_Konoha_Func001C takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<=$E)
endfunction
function Trig_Konoha_Func002C takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>=$F)
endfunction
function Trig_Konoha_Actions takes nothing returns nothing
if(Trig_Konoha_Func001C())then
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),2,"|c00FFFC01Ваш герой оживёт через 30 секунд.|r")
call TriggerSleepAction(30.)
call ReviveHeroLoc(GetTriggerUnit(),GetRectCenter(gg_rct_Team_7),true)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(gg_rct_Team_7),0)
endif
if(Trig_Konoha_Func002C())then
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),2,"|c00FFFC01Ваш герой оживёт через 60 секунд.|r")
call TriggerSleepAction(60.)
call ReviveHeroLoc(GetTriggerUnit(),GetRectCenter(gg_rct_Team_7),true)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(gg_rct_Team_7),0)
endif
endfunction
function InitTrig_Konoha takes nothing returns nothing
set gg_trg_Konoha=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Konoha,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Konoha,Condition(function Trig_Konoha_Conditions))
call TriggerAddAction(gg_trg_Konoha,function Trig_Konoha_Actions)
endfunction
function Trig_Sound_Func003C takes nothing returns boolean
return(GetTriggerUnit()==gg_unit_Hlgr_0029)or(GetTriggerUnit()==gg_unit_Hkal_0020)or(GetTriggerUnit()==gg_unit_Ofar_0013)or(GetTriggerUnit()==gg_unit_Edem_0023)or(GetTriggerUnit()==gg_unit_Hgam_0030)or(GetTriggerUnit()==gg_unit_Hant_0028)or(GetUnitTypeId(GetTriggerUnit())=='E004')or(GetUnitTypeId(GetTriggerUnit())=='H042')
endfunction
function Trig_Sound_Conditions takes nothing returns boolean
return(Trig_Sound_Func003C())
endfunction
function Trig_Sound_Func001C takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<=$E)
endfunction
function Trig_Sound_Func002C takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>=$F)
endfunction
function Trig_Sound_Actions takes nothing returns nothing
if(Trig_Sound_Func001C())then
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),2,"|c00E55BB0Ваш герой оживёт через 30 секунд.|r")
call TriggerSleepAction(30.)
call ReviveHeroLoc(GetTriggerUnit(),GetRectCenter(gg_rct_Revive_Orochimaru),true)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(gg_rct_Revive_Orochimaru),0)
endif
if(Trig_Sound_Func002C())then
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),2,"|c00E55BB0Ваш герой оживёт через 60 секунд.|r")
call TriggerSleepAction(60.)
call ReviveHeroLoc(GetTriggerUnit(),GetRectCenter(gg_rct_Revive_Orochimaru),true)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(gg_rct_Revive_Orochimaru),0)
endif
endfunction
function InitTrig_Sound takes nothing returns nothing
set gg_trg_Sound=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sound,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Sound,Condition(function Trig_Sound_Conditions))
call TriggerAddAction(gg_trg_Sound,function Trig_Sound_Actions)
endfunction
function Trig_Hawk_Func003C takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='E005')or(GetUnitTypeId(GetTriggerUnit())=='E00B')or(GetUnitTypeId(GetTriggerUnit())=='E00C')or(GetUnitTypeId(GetTriggerUnit())=='H025')or(GetUnitTypeId(GetTriggerUnit())=='H01W')or(GetUnitTypeId(GetTriggerUnit())=='H041')
endfunction
function Trig_Hawk_Conditions takes nothing returns boolean
return(Trig_Hawk_Func003C())
endfunction
function Trig_Hawk_Func001C takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<=$E)
endfunction
function Trig_Hawk_Func002C takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>=$F)
endfunction
function Trig_Hawk_Actions takes nothing returns nothing
if(Trig_Hawk_Func001C())then
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),2,"|c00E55BB0Ваш герой оживёт через 30 секунд.|r")
call TriggerSleepAction(30.)
call ReviveHeroLoc(GetTriggerUnit(),GetRectCenter(gg_rct_Base_Orochimaru_second),true)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(gg_rct_Taka_Sasuke),0)
endif
if(Trig_Hawk_Func002C())then
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),2,"|c00E55BB0Ваш герой оживёт через 60 секунд.|r")
call TriggerSleepAction(60.)
call ReviveHeroLoc(GetTriggerUnit(),GetRectCenter(gg_rct_Base_Orochimaru_second),true)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(gg_rct_Taka_Sasuke),0)
endif
endfunction
function InitTrig_Hawk takes nothing returns nothing
set gg_trg_Hawk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hawk,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Hawk,Condition(function Trig_Hawk_Conditions))
call TriggerAddAction(gg_trg_Hawk,function Trig_Hawk_Actions)
endfunction
function Trig_Akatsuki_Func004C takes nothing returns boolean
return(GetTriggerUnit()==udg_Hero2[2])or(GetTriggerUnit()==gg_unit_Hamg_0024)or(GetTriggerUnit()==gg_unit_E006_0036)or(GetTriggerUnit()==gg_unit_Hblm_0025)or(GetTriggerUnit()==gg_unit_Hpb1_0026)or(GetTriggerUnit()==gg_unit_Huth_0018)or(GetUnitTypeId(GetTriggerUnit())=='H008')
endfunction
function Trig_Akatsuki_Conditions takes nothing returns boolean
return(Trig_Akatsuki_Func004C())
endfunction
function Trig_Akatsuki_Func001C takes nothing returns boolean
return(GetTriggerUnit()==udg_Hero2[2])
endfunction
function Trig_Akatsuki_Func002C takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())<=$E)
endfunction
function Trig_Akatsuki_Func003C takes nothing returns boolean
return(GetUnitLevel(GetTriggerUnit())>=$F)
endfunction
function Trig_Akatsuki_Actions takes nothing returns nothing
if(Trig_Akatsuki_Func001C())then
call KillUnit(udg_Hero2[3])
call KillUnit(udg_Hero2[4])
call KillUnit(udg_Hero2[5])
call KillUnit(udg_Hero2[6])
call KillUnit(udg_Hero2[7])
call KillUnit(gg_unit_Hhkl_0021)
endif
if(Trig_Akatsuki_Func002C())then
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),2,"|c00FF0303Ваш герой оживёт через 30 секунд.|r")
call TriggerSleepAction(30.)
call ReviveHeroLoc(GetTriggerUnit(),GetRectCenter(gg_rct_Revive_Akatsuki),true)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(gg_rct_Ame),0)
endif
if(Trig_Akatsuki_Func003C())then
call DisplayTimedTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),2,"|c00FF0303Ваш герой оживёт через 60 секунд.|r")
call TriggerSleepAction(60.)
call ReviveHeroLoc(GetTriggerUnit(),GetRectCenter(gg_rct_Revive_Akatsuki),true)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),GetRectCenter(gg_rct_Ame),0)
endif
endfunction
function InitTrig_Akatsuki takes nothing returns nothing
set gg_trg_Akatsuki=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Akatsuki,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Akatsuki,Condition(function Trig_Akatsuki_Conditions))
call TriggerAddAction(gg_trg_Akatsuki,function Trig_Akatsuki_Actions)
endfunction
function Trig_E_Func001C takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I00E')or(GetItemTypeId(GetManipulatedItem())=='I00H')or(GetItemTypeId(GetManipulatedItem())=='I001')or(GetItemTypeId(GetManipulatedItem())=='I007')or(GetItemTypeId(GetManipulatedItem())=='I006')or(GetItemTypeId(GetManipulatedItem())=='I005')or(GetItemTypeId(GetManipulatedItem())=='I03A')or(GetItemTypeId(GetManipulatedItem())=='I00F')
endfunction
function Trig_E_Conditions takes nothing returns boolean
return(Trig_E_Func001C())and(GetUnitUserData(GetManipulatingUnit())==GetItemUserData(GetManipulatedItem()))
endfunction
function Trig_E_Func004Func001C takes nothing returns boolean
return(GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(),bj_forLoopAIndex))==GetItemTypeId(GetManipulatedItem()))
endfunction
function Trig_E_Func005Func001C takes nothing returns boolean
return(UnitItemInSlotBJ(GetManipulatingUnit(),bj_forLoopAIndex)==GetManipulatedItem())
endfunction
function Trig_E_Func006Func001C takes nothing returns boolean
return(GetItemTypeId(UnitItemInSlotBJ(GetManipulatingUnit(),bj_forLoopAIndex))==GetItemTypeId(GetManipulatedItem()))and(bj_forLoopAIndex!=udg_PreD_Dop)
endfunction
function Trig_E_Func007C takes nothing returns boolean
return(udg_TT==2)
endfunction
function Trig_E_Actions takes nothing returns nothing
set udg_TT=0
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(Trig_E_Func004Func001C())then
set udg_TT=(udg_TT+1)
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(Trig_E_Func005Func001C())then
set udg_PreD_Dop=bj_forLoopAIndex
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(Trig_E_Func006Func001C())then
set udg_PreD_Osn=bj_forLoopAIndex
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if(Trig_E_Func007C())then
set udg_BaZa_PrEd=(GetItemCharges(UnitItemInSlotBJ(GetManipulatingUnit(),udg_PreD_Dop))+GetItemCharges(UnitItemInSlotBJ(GetManipulatingUnit(),udg_PreD_Osn)))
call SetItemCharges(UnitItemInSlotBJ(GetManipulatingUnit(),udg_PreD_Osn),udg_BaZa_PrEd)
call RemoveItem(UnitItemInSlotBJ(GetManipulatingUnit(),udg_PreD_Dop))
endif
endfunction
function InitTrig_E takes nothing returns nothing
set gg_trg_E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_E,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_E,Condition(function Trig_E_Conditions))
call TriggerAddAction(gg_trg_E,function Trig_E_Actions)
endfunction
function InitTrig_ISS takes nothing returns nothing
endfunction
function Trig_createsets_Actions takes nothing returns nothing
call s__recepts_add(receptlist,'I01U','I017','I016','belv',0,0,0,0)
call s__recepts_add(receptlist,'I01V','I017','I016','ciri',0,0,0,0)
call s__recepts_add(receptlist,'I01R','I017','I016','bgst',0,0,0,0)
call s__recepts_add(receptlist,'I02Q','I01R','I01V','I01U',0,0,0,0)
call s__recepts_add(receptlist,'I01S','I017','I018','I019',0,0,0,0)
call s__recepts_add(receptlist,'I01T','I01P','I01B','I01U',0,0,0,0)
call s__recepts_add(receptlist,'I01O','I022','I023','I019',0,0,0,0)
call s__recepts_add(receptlist,'I01N','I028','I01Q','I01Q',0,0,0,0)
call s__recepts_add(receptlist,'I01F','I00H','I01E','I00E',0,0,0,0)
call s__recepts_add(receptlist,'I025','I01C','I01A','I01E',0,0,0,0)
call s__recepts_add(receptlist,'I027','I029','I01Q','I01Q',0,0,0,0)
call s__recepts_add(receptlist,'I02P','I01I','I01J','I01H',0,0,0,0)
call s__recepts_add(receptlist,'I032','I026','I01O','I01D',0,0,0,0)
call s__recepts_add(receptlist,'I01M','I027','I02P','I025',0,0,0,0)
call s__recepts_add(receptlist,'I02T','I01C','I02P','I02Q',0,0,0,0)
call s__recepts_add(receptlist,'I02R','I039','I01A','I01S',0,0,0,0)
call s__recepts_add(receptlist,'I02E','I01E','I020','I01Z',0,0,0,0)
call s__recepts_add(receptlist,'I02V','I02E','I02R','I02T',0,0,0,0)
call s__recepts_add(receptlist,'I031','I012','I00Y','I00X',0,0,0,0)
call s__recepts_add(receptlist,'I030','I00Z','I011','I000',0,0,0,0)
call s__recepts_add(receptlist,'I02Z','I010','I031','I030',0,0,0,0)
call s__recepts_add(receptlist,'I03B','I03D','I03E','I03C',0,0,0,0)
call s__recepts_add(receptlist,'I026','I01N','I01F',0,0,0,0,0)
call s__recepts_add(receptlist,'I01C','modt','I02A',0,0,0,0,0)
call s__recepts_add(receptlist,'I01Z','I01B','I01X',0,0,0,0,0)
call s__recepts_add(receptlist,'I020','I01Z','I01X',0,0,0,0,0)
call s__recepts_add(receptlist,'I01E','I020','I01X',0,0,0,0,0)
call s__recepts_add(receptlist,'I01D','I01E','I01X',0,0,0,0,0)
call s__recepts_add(receptlist,'I01I','I01T','I01Y',0,0,0,0,0)
call s__recepts_add(receptlist,'I01J','I01I','I01Y',0,0,0,0,0)
call s__recepts_add(receptlist,'I01K','I01J','I01Y',0,0,0,0,0)
call s__recepts_add(receptlist,'I01L','I01K','I01Y',0,0,0,0,0)
call s__recepts_add(receptlist,'I01H','I01L','I01Y',0,0,0,0,0)
call s__recepts_add(receptlist,'I03F','I01N','I027',0,0,0,0,0)
endfunction
function InitTrig_createsets takes nothing returns nothing
set gg_trg_createsets=CreateTrigger()
call TriggerRegisterTimerEvent(gg_trg_createsets,.0,false)
call TriggerAddAction(gg_trg_createsets,function Trig_createsets_Actions)
endfunction
function Trig_Midare_1_Conditions takes nothing returns boolean
return((IsUnitType(GetEnteringUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER))!=null
endfunction
function Trig_Midare_1_Func001Func004C takes nothing returns boolean
return(GetPlayerSlotState(Player(0))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_Midare_1_Func001Func005C takes nothing returns boolean
return(GetPlayerSlotState(Player(1))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_Midare_1_Func001Func006C takes nothing returns boolean
return(GetPlayerSlotState(Player(2))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_Midare_1_Func001Func007C takes nothing returns boolean
return(GetPlayerSlotState(Player(3))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_Midare_1_Func001Func008C takes nothing returns boolean
return(GetPlayerSlotState(Player(5))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_Midare_1_Func001Func009C takes nothing returns boolean
return(GetPlayerSlotState(Player(6))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_Midare_1_Func001Func010C takes nothing returns boolean
return(GetPlayerSlotState(Player(8))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_Midare_1_Func001Func011C takes nothing returns boolean
return(GetPlayerSlotState(Player(9))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_Midare_1_Func001Func012C takes nothing returns boolean
return(GetPlayerSlotState(Player($A))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_Midare_1_Func001C takes nothing returns boolean
return(GetPlayerState(GetOwningPlayer(GetEnteringUnit()),PLAYER_STATE_RESOURCE_GOLD)>599)
endfunction
function Trig_Midare_1_Actions takes nothing returns nothing
if(Trig_Midare_1_Func001C())then
call DisableTrigger(GetTriggeringTrigger())
set udg_EntersMidare[1]=GetEnteringUnit()
if(Trig_Midare_1_Func001Func004C())then
call DialogAddButtonBJ(udg_DialogMidare1,GetPlayerName(Player(0)))
set udg_AttackMidare[1]=bj_lastCreatedButton
else
call DialogAddButtonBJ(udg_DialogMidare1,"Naruto")
set udg_AttackMidare[$B]=bj_lastCreatedButton
endif
if(Trig_Midare_1_Func001Func005C())then
call DialogAddButtonBJ(udg_DialogMidare1,GetPlayerName(Player(1)))
set udg_AttackMidare[2]=bj_lastCreatedButton
else
call DialogAddButtonBJ(udg_DialogMidare1,"Gai")
set udg_AttackMidare[$C]=bj_lastCreatedButton
endif
if(Trig_Midare_1_Func001Func006C())then
call DialogAddButtonBJ(udg_DialogMidare1,GetPlayerName(Player(2)))
set udg_AttackMidare[3]=bj_lastCreatedButton
else
call DialogAddButtonBJ(udg_DialogMidare1,"Kakashi")
set udg_AttackMidare[$D]=bj_lastCreatedButton
endif
if(Trig_Midare_1_Func001Func007C())then
call DialogAddButtonBJ(udg_DialogMidare1,GetPlayerName(Player(3)))
set udg_AttackMidare[4]=bj_lastCreatedButton
else
call DialogAddButtonBJ(udg_DialogMidare1,"Orochimaru")
set udg_AttackMidare[$E]=bj_lastCreatedButton
endif
if(Trig_Midare_1_Func001Func008C())then
call DialogAddButtonBJ(udg_DialogMidare1,GetPlayerName(Player(5)))
set udg_AttackMidare[5]=bj_lastCreatedButton
else
call DialogAddButtonBJ(udg_DialogMidare1,"Sasuke")
set udg_AttackMidare[$F]=bj_lastCreatedButton
endif
if(Trig_Midare_1_Func001Func009C())then
call DialogAddButtonBJ(udg_DialogMidare1,GetPlayerName(Player(6)))
set udg_AttackMidare[6]=bj_lastCreatedButton
else
call DialogAddButtonBJ(udg_DialogMidare1,"Itachi")
set udg_AttackMidare[16]=bj_lastCreatedButton
endif
if(Trig_Midare_1_Func001Func010C())then
call DialogAddButtonBJ(udg_DialogMidare1,GetPlayerName(Player(8)))
set udg_AttackMidare[7]=bj_lastCreatedButton
else
call DialogAddButtonBJ(udg_DialogMidare1,"Kisame")
set udg_AttackMidare[17]=bj_lastCreatedButton
endif
if(Trig_Midare_1_Func001Func011C())then
call DialogAddButtonBJ(udg_DialogMidare1,GetPlayerName(Player(9)))
set udg_AttackMidare[8]=bj_lastCreatedButton
else
call DialogAddButtonBJ(udg_DialogMidare1,"Deidara")
set udg_AttackMidare[18]=bj_lastCreatedButton
endif
if(Trig_Midare_1_Func001Func012C())then
call DialogAddButtonBJ(udg_DialogMidare1,GetPlayerName(Player($A)))
set udg_AttackMidare[9]=bj_lastCreatedButton
else
call DialogAddButtonBJ(udg_DialogMidare1,"Tobi")
set udg_AttackMidare[19]=bj_lastCreatedButton
endif
call DialogDisplayBJ(true,udg_DialogMidare1,GetOwningPlayer(udg_EntersMidare[1]))
call DialogSetMessage(udg_DialogMidare1,"Ваш заказ?")
else
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetEnteringUnit())),udg_Midare[1],"Наёмник",null,"Требуется золота 600!",0,0,true)
endif
endfunction
function InitTrig_Midare_1 takes nothing returns nothing
set gg_trg_Midare_1=CreateTrigger()
call DisableTrigger(gg_trg_Midare_1)
call TriggerRegisterEnterRectSimple(gg_trg_Midare_1,gg_rct_Midare)
call TriggerAddCondition(gg_trg_Midare_1,Condition(function Trig_Midare_1_Conditions))
call TriggerAddAction(gg_trg_Midare_1,function Trig_Midare_1_Actions)
endfunction
function Trig_Midare_1_click_Func001Func001Func001002001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_Midare_1_click_Func001Func001Func001002001002002001 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),GetUnitsOfPlayerAll(Player(1))))
endfunction
function Trig_Midare_1_click_Func001Func001Func001002001002002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)!=null
endfunction
function Trig_Midare_1_click_Func001Func001Func001002001002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_1_click_Func001Func001Func001002001002002001(),Trig_Midare_1_click_Func001Func001Func001002001002002002())
endfunction
function Trig_Midare_1_click_Func001Func001Func001002001002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_1_click_Func001Func001Func001002001002001(),Trig_Midare_1_click_Func001Func001Func001002001002002())
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func001002001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func001002001002002001 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),GetUnitsOfPlayerAll(Player(6))))
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func001002001002002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)!=null
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func001002001002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func001002001002002001(),Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func001002001002002002())
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func001002001002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func001002001002001(),Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func001002001002002())
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[19])
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[17])
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[18])
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[16])
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[$F])
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[$E])
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[$D])
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[$C])
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[$B])
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func002002001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func002002001002002001 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),GetUnitsOfPlayerAll(Player($A))))
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func002002001002002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)!=null
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func002002001002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func002002001002002001(),Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func002002001002002002())
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func002002001002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func002002001002001(),Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func002002001002002())
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[9])
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func002002001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func002002001002002001 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),GetUnitsOfPlayerAll(Player(9))))
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func002002001002002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)!=null
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func002002001002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func002002001002002001(),Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func002002001002002002())
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func002002001002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func002002001002001(),Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func002002001002002())
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[8])
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func002002001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func002002001002002001 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),GetUnitsOfPlayerAll(Player(8))))
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func002002001002002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)!=null
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func002002001002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func002002001002002001(),Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func002002001002002002())
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func002002001002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func002002001002001(),Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func002002001002002())
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[7])
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[6])
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func002002001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func002002001002002001 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),GetUnitsOfPlayerAll(Player(5))))
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func002002001002002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)!=null
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func002002001002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_1_click_Func001Func001Func002Func001Func001Func002002001002002001(),Trig_Midare_1_click_Func001Func001Func002Func001Func001Func002002001002002002())
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func002002001002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_1_click_Func001Func001Func002Func001Func001Func002002001002001(),Trig_Midare_1_click_Func001Func001Func002Func001Func001Func002002001002002())
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[5])
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func002002001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func002002001002002001 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),GetUnitsOfPlayerAll(Player(3))))
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func002002001002002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)!=null
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func002002001002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_1_click_Func001Func001Func002Func001Func002002001002002001(),Trig_Midare_1_click_Func001Func001Func002Func001Func002002001002002002())
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001Func002002001002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_1_click_Func001Func001Func002Func001Func002002001002001(),Trig_Midare_1_click_Func001Func001Func002Func001Func002002001002002())
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[4])
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func002002001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func002002001002002001 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),GetUnitsOfPlayerAll(Player(2))))
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func002002001002002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)!=null
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func002002001002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_1_click_Func001Func001Func002Func002002001002002001(),Trig_Midare_1_click_Func001Func001Func002Func002002001002002002())
endfunction
function Trig_Midare_1_click_Func001Func001Func002Func002002001002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_1_click_Func001Func001Func002Func002002001002001(),Trig_Midare_1_click_Func001Func001Func002Func002002001002002())
endfunction
function Trig_Midare_1_click_Func001Func001Func002C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[3])
endfunction
function Trig_Midare_1_click_Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[2])
endfunction
function Trig_Midare_1_click_Func001Func002002001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_Midare_1_click_Func001Func002002001002002001 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),GetUnitsOfPlayerAll(Player(0))))
endfunction
function Trig_Midare_1_click_Func001Func002002001002002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)!=null
endfunction
function Trig_Midare_1_click_Func001Func002002001002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_1_click_Func001Func002002001002002001(),Trig_Midare_1_click_Func001Func002002001002002002())
endfunction
function Trig_Midare_1_click_Func001Func002002001002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_1_click_Func001Func002002001002001(),Trig_Midare_1_click_Func001Func002002001002002())
endfunction
function Trig_Midare_1_click_Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[1])
endfunction
function Trig_Midare_1_click_Actions takes nothing returns nothing
if(Trig_Midare_1_click_Func001C())then
set udg_ObjectMidare[1]=GroupPickRandomUnit(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_Midare_1_click_Func001Func002002001002)))
else
if(Trig_Midare_1_click_Func001Func001C())then
set udg_ObjectMidare[1]=GroupPickRandomUnit(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_Midare_1_click_Func001Func001Func001002001002)))
else
if(Trig_Midare_1_click_Func001Func001Func002C())then
set udg_ObjectMidare[1]=GroupPickRandomUnit(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_Midare_1_click_Func001Func001Func002Func002002001002)))
else
if(Trig_Midare_1_click_Func001Func001Func002Func001C())then
set udg_ObjectMidare[1]=GroupPickRandomUnit(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_Midare_1_click_Func001Func001Func002Func001Func002002001002)))
else
if(Trig_Midare_1_click_Func001Func001Func002Func001Func001C())then
set udg_ObjectMidare[1]=GroupPickRandomUnit(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func002002001002)))
else
if(Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001C())then
set udg_ObjectMidare[1]=GroupPickRandomUnit(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func001002001002)))
else
if(Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002C())then
set udg_ObjectMidare[1]=GroupPickRandomUnit(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func002002001002)))
else
if(Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001C())then
set udg_ObjectMidare[1]=GroupPickRandomUnit(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func002002001002)))
else
if(Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001C())then
set udg_ObjectMidare[1]=GroupPickRandomUnit(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func002002001002)))
else
if(Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func001C())then
set udg_ObjectMidare[1]=gg_unit_Hpal_0034
else
if(Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func001Func001C())then
set udg_ObjectMidare[1]=gg_unit_Hpb2_0015
else
if(Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func001Func001Func001C())then
set udg_ObjectMidare[1]=gg_unit_Harf_0004
else
if(Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func001Func001Func001Func001C())then
set udg_ObjectMidare[1]=gg_unit_Hant_0028
else
if(Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func001Func001Func001Func001Func001C())then
set udg_ObjectMidare[1]=gg_unit_Edem_0023
else
if(Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001C())then
set udg_ObjectMidare[1]=gg_unit_Hblm_0025
else
if(Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
set udg_ObjectMidare[1]=gg_unit_Hpb1_0026
else
if(Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
set udg_ObjectMidare[1]=gg_unit_Hamg_0024
else
if(Trig_Midare_1_click_Func001Func001Func002Func001Func001Func001Func002Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
set udg_ObjectMidare[1]=gg_unit_Huth_0018
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call AdjustPlayerStateBJ(-600,GetOwningPlayer(udg_EntersMidare[1]),PLAYER_STATE_RESOURCE_GOLD)
call DialogClear(udg_DialogMidare1)
call DialogDisplayBJ(false,udg_DialogMidare1,GetOwningPlayer(udg_EntersMidare[1]))
call SetUnitOwner(udg_Midare[1],Player($C),true)
call SetUnitInvulnerable(udg_Midare[1],false)
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(gg_trg_Midare_1_move)
call EnableTrigger(gg_trg_Midare_1_kill)
call EnableTrigger(gg_trg_Midare_attack)
call EnableTrigger(gg_trg_Midare_1_death)
endfunction
function InitTrig_Midare_1_click takes nothing returns nothing
set gg_trg_Midare_1_click=CreateTrigger()
call TriggerRegisterDialogEvent(gg_trg_Midare_1_click,udg_DialogMidare1)
call TriggerAddAction(gg_trg_Midare_1_click,function Trig_Midare_1_click_Actions)
endfunction
function Trig_Midare_attack_Conditions takes nothing returns boolean
return(GetAttacker()==udg_Midare[1])and(GetTriggerUnit()==udg_EntersMidare[1])
endfunction
function Trig_Midare_attack_Actions takes nothing returns nothing
call IssueTargetOrderById(udg_Midare[1],$D000F,udg_ObjectMidare[1])
endfunction
function InitTrig_Midare_attack takes nothing returns nothing
set gg_trg_Midare_attack=CreateTrigger()
call DisableTrigger(gg_trg_Midare_attack)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Midare_attack,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Midare_attack,Condition(function Trig_Midare_attack_Conditions))
call TriggerAddAction(gg_trg_Midare_attack,function Trig_Midare_attack_Actions)
endfunction
function Trig_Midare_1_move_Actions takes nothing returns nothing
call IssueTargetOrderById(udg_Midare[1],$D000F,udg_ObjectMidare[1])
endfunction
function InitTrig_Midare_1_move takes nothing returns nothing
set gg_trg_Midare_1_move=CreateTrigger()
call DisableTrigger(gg_trg_Midare_1_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Midare_1_move,6.)
call TriggerAddAction(gg_trg_Midare_1_move,function Trig_Midare_1_move_Actions)
endfunction
function Trig_Midare_1_kill_Func004C takes nothing returns boolean
return(GetDyingUnit()==udg_ObjectMidare[1])and(GetKillingUnit()==udg_Midare[1])
endfunction
function Trig_Midare_1_kill_Conditions takes nothing returns boolean
return(Trig_Midare_1_kill_Func004C())
endfunction
function Trig_Midare_1_kill_Func002Func001Func003C takes nothing returns boolean
return(GetHeroLevel(udg_ObjectMidare[1])<31)
endfunction
function Trig_Midare_1_kill_Func002Func001C takes nothing returns boolean
return(GetHeroLevel(udg_ObjectMidare[1])<21)
endfunction
function Trig_Midare_1_kill_Func002C takes nothing returns boolean
return(GetHeroLevel(udg_ObjectMidare[1])<$B)
endfunction
function Trig_Midare_1_kill_Actions takes nothing returns nothing
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetOwningPlayer(udg_EntersMidare[1]))+(" заказное убийство "+GetHeroProperName(udg_ObjectMidare[1]))))
if(Trig_Midare_1_kill_Func002C())then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_EntersMidare[1])),"|c00FDC635+200 золота|r")
call AdjustPlayerStateBJ($C8,GetOwningPlayer(udg_EntersMidare[1]),PLAYER_STATE_RESOURCE_GOLD)
else
if(Trig_Midare_1_kill_Func002Func001C())then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_EntersMidare[1])),"|c00FDC635+400 золота|r")
call AdjustPlayerStateBJ(400,GetOwningPlayer(udg_EntersMidare[1]),PLAYER_STATE_RESOURCE_GOLD)
else
if(Trig_Midare_1_kill_Func002Func001Func003C())then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_EntersMidare[1])),"|c00FDC635+600 золота|r")
call AdjustPlayerStateBJ(600,GetOwningPlayer(udg_EntersMidare[1]),PLAYER_STATE_RESOURCE_GOLD)
endif
endif
endif
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_EntersMidare[1])),udg_Midare[1],"Наёмник",null,"Заказ выполнен!",0,0,true)
set udg_EntersMidare[1]=null
set udg_ObjectMidare[1]=null
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Midare[1]),"shadowclone.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call SetUnitPositionLocFacingBJ(udg_Midare[1],GetRectCenter(gg_rct_Midare),225.)
call AddSpecialEffectLocBJ(GetRectCenter(gg_rct_Midare),"shadowclone.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call SetUnitOwner(udg_Midare[1],Player($F),true)
call SetUnitInvulnerable(udg_Midare[1],true)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Midare_1_move)
call DisableTrigger(gg_trg_Midare_1_death)
call DisableTrigger(gg_trg_Midare_attack)
call EnableTrigger(gg_trg_Midare_1)
call EnableTrigger(gg_trg_Midare_1_click)
endfunction
function InitTrig_Midare_1_kill takes nothing returns nothing
set gg_trg_Midare_1_kill=CreateTrigger()
call DisableTrigger(gg_trg_Midare_1_kill)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Midare_1_kill,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Midare_1_kill,Condition(function Trig_Midare_1_kill_Conditions))
call TriggerAddAction(gg_trg_Midare_1_kill,function Trig_Midare_1_kill_Actions)
endfunction
function Trig_Midare_1_death_Conditions takes nothing returns boolean
return(GetDyingUnit()==udg_Midare[1])
endfunction
function Trig_Midare_1_death_Actions takes nothing returns nothing
call DisplayTextToForce(GetPlayersAllies(GetOwningPlayer(udg_EntersMidare[1])),"Заказ провален.")
set udg_EntersMidare[1]=null
set udg_ObjectMidare[1]=null
set udg_Midare[1]=null
call AddSpecialEffectLocBJ(GetRectCenter(gg_rct_Midare),"shadowclone.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'nbdo',Player($F),GetRectCenter(gg_rct_Midare),225.)
call RemoveGuardPosition(bj_lastCreatedUnit)
set udg_Midare[1]=bj_lastCreatedUnit
call SetUnitInvulnerable(udg_Midare[1],true)
call EnableTrigger(gg_trg_Midare_1)
call EnableTrigger(gg_trg_Midare_1_click)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Midare_attack)
call DisableTrigger(gg_trg_Midare_1_move)
call DisableTrigger(gg_trg_Midare_1_kill)
endfunction
function InitTrig_Midare_1_death takes nothing returns nothing
set gg_trg_Midare_1_death=CreateTrigger()
call DisableTrigger(gg_trg_Midare_1_death)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Midare_1_death,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Midare_1_death,Condition(function Trig_Midare_1_death_Conditions))
call TriggerAddAction(gg_trg_Midare_1_death,function Trig_Midare_1_death_Actions)
endfunction
function Trig_Midare_2_Conditions takes nothing returns boolean
return((IsUnitType(GetEnteringUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER))!=null
endfunction
function Trig_Midare_2_Func001Func004C takes nothing returns boolean
return(GetPlayerSlotState(Player(0))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_Midare_2_Func001Func005C takes nothing returns boolean
return(GetPlayerSlotState(Player(1))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_Midare_2_Func001Func006C takes nothing returns boolean
return(GetPlayerSlotState(Player(2))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_Midare_2_Func001Func007C takes nothing returns boolean
return(GetPlayerSlotState(Player(3))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_Midare_2_Func001Func008C takes nothing returns boolean
return(GetPlayerSlotState(Player(5))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_Midare_2_Func001Func009C takes nothing returns boolean
return(GetPlayerSlotState(Player(6))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_Midare_2_Func001Func010C takes nothing returns boolean
return(GetPlayerSlotState(Player(8))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_Midare_2_Func001Func011C takes nothing returns boolean
return(GetPlayerSlotState(Player(9))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_Midare_2_Func001Func012C takes nothing returns boolean
return(GetPlayerSlotState(Player($A))==PLAYER_SLOT_STATE_PLAYING)
endfunction
function Trig_Midare_2_Func001C takes nothing returns boolean
return(GetPlayerState(GetOwningPlayer(GetEnteringUnit()),PLAYER_STATE_RESOURCE_GOLD)>599)
endfunction
function Trig_Midare_2_Actions takes nothing returns nothing
if(Trig_Midare_2_Func001C())then
call DisableTrigger(GetTriggeringTrigger())
set udg_EntersMidare[2]=GetEnteringUnit()
if(Trig_Midare_2_Func001Func004C())then
call DialogAddButtonBJ(udg_DialogMidare2,GetPlayerName(Player(0)))
set udg_AttackMidare[21]=bj_lastCreatedButton
else
call DialogAddButtonBJ(udg_DialogMidare2,"Naruto")
set udg_AttackMidare[31]=bj_lastCreatedButton
endif
if(Trig_Midare_2_Func001Func005C())then
call DialogAddButtonBJ(udg_DialogMidare2,GetPlayerName(Player(1)))
set udg_AttackMidare[22]=bj_lastCreatedButton
else
call DialogAddButtonBJ(udg_DialogMidare2,"Gai")
set udg_AttackMidare[32]=bj_lastCreatedButton
endif
if(Trig_Midare_2_Func001Func006C())then
call DialogAddButtonBJ(udg_DialogMidare2,GetPlayerName(Player(2)))
set udg_AttackMidare[23]=bj_lastCreatedButton
else
call DialogAddButtonBJ(udg_DialogMidare2,"Kakashi")
set udg_AttackMidare[33]=bj_lastCreatedButton
endif
if(Trig_Midare_2_Func001Func007C())then
call DialogAddButtonBJ(udg_DialogMidare2,GetPlayerName(Player(3)))
set udg_AttackMidare[24]=bj_lastCreatedButton
else
call DialogAddButtonBJ(udg_DialogMidare2,"Orochimaru")
set udg_AttackMidare[34]=bj_lastCreatedButton
endif
if(Trig_Midare_2_Func001Func008C())then
call DialogAddButtonBJ(udg_DialogMidare2,GetPlayerName(Player(5)))
set udg_AttackMidare[25]=bj_lastCreatedButton
else
call DialogAddButtonBJ(udg_DialogMidare2,"Sasuke")
set udg_AttackMidare[35]=bj_lastCreatedButton
endif
if(Trig_Midare_2_Func001Func009C())then
call DialogAddButtonBJ(udg_DialogMidare2,GetPlayerName(Player(6)))
set udg_AttackMidare[26]=bj_lastCreatedButton
else
call DialogAddButtonBJ(udg_DialogMidare2,"Itachi")
set udg_AttackMidare[36]=bj_lastCreatedButton
endif
if(Trig_Midare_2_Func001Func010C())then
call DialogAddButtonBJ(udg_DialogMidare2,GetPlayerName(Player(8)))
set udg_AttackMidare[27]=bj_lastCreatedButton
else
call DialogAddButtonBJ(udg_DialogMidare2,"Kisame")
set udg_AttackMidare[37]=bj_lastCreatedButton
endif
if(Trig_Midare_2_Func001Func011C())then
call DialogAddButtonBJ(udg_DialogMidare2,GetPlayerName(Player(9)))
set udg_AttackMidare[28]=bj_lastCreatedButton
else
call DialogAddButtonBJ(udg_DialogMidare2,"Deidara")
set udg_AttackMidare[38]=bj_lastCreatedButton
endif
if(Trig_Midare_2_Func001Func012C())then
call DialogAddButtonBJ(udg_DialogMidare2,GetPlayerName(Player($A)))
set udg_AttackMidare[29]=bj_lastCreatedButton
else
call DialogAddButtonBJ(udg_DialogMidare2,"Tobi")
set udg_AttackMidare[39]=bj_lastCreatedButton
endif
call DialogDisplayBJ(true,udg_DialogMidare2,GetOwningPlayer(udg_EntersMidare[2]))
call DialogSetMessage(udg_DialogMidare2,"Ваш заказ?")
else
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetEnteringUnit())),udg_Midare[2],"Наёмник",null,"Требуется золота 600!",0,0,true)
endif
endfunction
function InitTrig_Midare_2 takes nothing returns nothing
set gg_trg_Midare_2=CreateTrigger()
call DisableTrigger(gg_trg_Midare_2)
call TriggerRegisterEnterRectSimple(gg_trg_Midare_2,gg_rct_Midare2)
call TriggerAddCondition(gg_trg_Midare_2,Condition(function Trig_Midare_2_Conditions))
call TriggerAddAction(gg_trg_Midare_2,function Trig_Midare_2_Actions)
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[39])
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[37])
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[38])
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[36])
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[35])
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[34])
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[33])
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[32])
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[31])
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func002002001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func002002001002002001 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),GetUnitsOfPlayerAll(Player($A))))
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func002002001002002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)!=null
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func002002001002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func002002001002002001(),Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func002002001002002002())
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func002002001002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func002002001002001(),Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func002002001002002())
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[29])
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func002002001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func002002001002002001 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),GetUnitsOfPlayerAll(Player(9))))
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func002002001002002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)!=null
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func002002001002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func002002001002002001(),Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func002002001002002002())
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func002002001002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func002002001002001(),Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func002002001002002())
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[28])
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func002002001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func002002001002002001 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),GetUnitsOfPlayerAll(Player(8))))
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func002002001002002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)!=null
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func002002001002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func002002001002002001(),Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func002002001002002002())
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func002002001002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func002002001002001(),Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func002002001002002())
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[27])
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func002002001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func002002001002002001 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),GetUnitsOfPlayerAll(Player(6))))
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func002002001002002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)!=null
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func002002001002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func002002001002002001(),Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func002002001002002002())
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func002002001002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func002002001002001(),Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func002002001002002())
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[26])
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func002002001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func002002001002002001 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),GetUnitsOfPlayerAll(Player(5))))
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func002002001002002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)!=null
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func002002001002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_2_click_Func001Func001Func001Func001Func001Func002002001002002001(),Trig_Midare_2_click_Func001Func001Func001Func001Func001Func002002001002002002())
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func002002001002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_2_click_Func001Func001Func001Func001Func001Func002002001002001(),Trig_Midare_2_click_Func001Func001Func001Func001Func001Func002002001002002())
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[25])
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func002002001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func002002001002002001 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),GetUnitsOfPlayerAll(Player(3))))
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func002002001002002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)!=null
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func002002001002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_2_click_Func001Func001Func001Func001Func002002001002002001(),Trig_Midare_2_click_Func001Func001Func001Func001Func002002001002002002())
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001Func002002001002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_2_click_Func001Func001Func001Func001Func002002001002001(),Trig_Midare_2_click_Func001Func001Func001Func001Func002002001002002())
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[24])
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func002002001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func002002001002002001 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),GetUnitsOfPlayerAll(Player(2))))
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func002002001002002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)!=null
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func002002001002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_2_click_Func001Func001Func001Func002002001002002001(),Trig_Midare_2_click_Func001Func001Func001Func002002001002002002())
endfunction
function Trig_Midare_2_click_Func001Func001Func001Func002002001002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_2_click_Func001Func001Func001Func002002001002001(),Trig_Midare_2_click_Func001Func001Func001Func002002001002002())
endfunction
function Trig_Midare_2_click_Func001Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[23])
endfunction
function Trig_Midare_2_click_Func001Func001Func002002001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_Midare_2_click_Func001Func001Func002002001002002001 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),GetUnitsOfPlayerAll(Player(1))))
endfunction
function Trig_Midare_2_click_Func001Func001Func002002001002002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)!=null
endfunction
function Trig_Midare_2_click_Func001Func001Func002002001002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_2_click_Func001Func001Func002002001002002001(),Trig_Midare_2_click_Func001Func001Func002002001002002002())
endfunction
function Trig_Midare_2_click_Func001Func001Func002002001002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_2_click_Func001Func001Func002002001002001(),Trig_Midare_2_click_Func001Func001Func002002001002002())
endfunction
function Trig_Midare_2_click_Func001Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[22])
endfunction
function Trig_Midare_2_click_Func001Func002002001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_Midare_2_click_Func001Func002002001002002001 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),GetUnitsOfPlayerAll(Player(0))))
endfunction
function Trig_Midare_2_click_Func001Func002002001002002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)!=null
endfunction
function Trig_Midare_2_click_Func001Func002002001002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_2_click_Func001Func002002001002002001(),Trig_Midare_2_click_Func001Func002002001002002002())
endfunction
function Trig_Midare_2_click_Func001Func002002001002 takes nothing returns boolean
return GetBooleanAnd(Trig_Midare_2_click_Func001Func002002001002001(),Trig_Midare_2_click_Func001Func002002001002002())
endfunction
function Trig_Midare_2_click_Func001C takes nothing returns boolean
return(GetClickedButton()==udg_AttackMidare[21])
endfunction
function Trig_Midare_2_click_Actions takes nothing returns nothing
if(Trig_Midare_2_click_Func001C())then
set udg_ObjectMidare[2]=GroupPickRandomUnit(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_Midare_2_click_Func001Func002002001002)))
else
if(Trig_Midare_2_click_Func001Func001C())then
set udg_ObjectMidare[2]=GroupPickRandomUnit(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_Midare_2_click_Func001Func001Func002002001002)))
else
if(Trig_Midare_2_click_Func001Func001Func001C())then
set udg_ObjectMidare[2]=GroupPickRandomUnit(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_Midare_2_click_Func001Func001Func001Func002002001002)))
else
if(Trig_Midare_2_click_Func001Func001Func001Func001C())then
set udg_ObjectMidare[2]=GroupPickRandomUnit(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_Midare_2_click_Func001Func001Func001Func001Func002002001002)))
else
if(Trig_Midare_2_click_Func001Func001Func001Func001Func001C())then
set udg_ObjectMidare[2]=GroupPickRandomUnit(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func002002001002)))
else
if(Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001C())then
set udg_ObjectMidare[2]=GroupPickRandomUnit(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func002002001002)))
else
if(Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001C())then
set udg_ObjectMidare[2]=GroupPickRandomUnit(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func002002001002)))
else
if(Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001C())then
set udg_ObjectMidare[2]=GroupPickRandomUnit(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func002002001002)))
else
if(Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
set udg_ObjectMidare[2]=GroupPickRandomUnit(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func002002001002)))
else
if(Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
set udg_ObjectMidare[2]=gg_unit_Hpal_0034
else
if(Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
set udg_ObjectMidare[2]=gg_unit_Hpb2_0015
else
if(Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
set udg_ObjectMidare[2]=gg_unit_Harf_0004
else
if(Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
set udg_ObjectMidare[2]=gg_unit_Hant_0028
else
if(Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
set udg_ObjectMidare[2]=gg_unit_Edem_0023
else
if(Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
set udg_ObjectMidare[2]=gg_unit_Hblm_0025
else
if(Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
set udg_ObjectMidare[2]=gg_unit_Hpb1_0026
else
if(Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
set udg_ObjectMidare[2]=gg_unit_Hamg_0024
else
if(Trig_Midare_2_click_Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001Func001C())then
set udg_ObjectMidare[2]=gg_unit_Huth_0018
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
call AdjustPlayerStateBJ(-600,GetOwningPlayer(udg_EntersMidare[2]),PLAYER_STATE_RESOURCE_GOLD)
call DialogClear(udg_DialogMidare2)
call DialogDisplayBJ(false,udg_DialogMidare2,GetOwningPlayer(udg_EntersMidare[2]))
call SetUnitOwner(udg_Midare[2],Player($C),true)
call SetUnitInvulnerable(udg_Midare[2],false)
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(gg_trg_Midare_2_move)
call EnableTrigger(gg_trg_Midare_2_kill)
call EnableTrigger(gg_trg_Midare_attack_2)
call EnableTrigger(gg_trg_Midare_2_death)
endfunction
function InitTrig_Midare_2_click takes nothing returns nothing
set gg_trg_Midare_2_click=CreateTrigger()
call TriggerRegisterDialogEvent(gg_trg_Midare_2_click,udg_DialogMidare2)
call TriggerAddAction(gg_trg_Midare_2_click,function Trig_Midare_2_click_Actions)
endfunction
function Trig_Midare_attack_2_Conditions takes nothing returns boolean
return(GetAttacker()==udg_Midare[2])and(GetTriggerUnit()==udg_EntersMidare[2])
endfunction
function Trig_Midare_attack_2_Actions takes nothing returns nothing
call IssueTargetOrderById(udg_Midare[2],$D000F,udg_ObjectMidare[2])
endfunction
function InitTrig_Midare_attack_2 takes nothing returns nothing
set gg_trg_Midare_attack_2=CreateTrigger()
call DisableTrigger(gg_trg_Midare_attack_2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Midare_attack_2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Midare_attack_2,Condition(function Trig_Midare_attack_2_Conditions))
call TriggerAddAction(gg_trg_Midare_attack_2,function Trig_Midare_attack_2_Actions)
endfunction
function Trig_Midare_2_move_Actions takes nothing returns nothing
call IssueTargetOrderById(udg_Midare[2],$D000F,udg_ObjectMidare[2])
endfunction
function InitTrig_Midare_2_move takes nothing returns nothing
set gg_trg_Midare_2_move=CreateTrigger()
call DisableTrigger(gg_trg_Midare_2_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Midare_2_move,6.)
call TriggerAddAction(gg_trg_Midare_2_move,function Trig_Midare_2_move_Actions)
endfunction
function Trig_Midare_2_kill_Func004C takes nothing returns boolean
return(GetDyingUnit()==udg_ObjectMidare[2])and(GetKillingUnit()==udg_Midare[2])
endfunction
function Trig_Midare_2_kill_Conditions takes nothing returns boolean
return(Trig_Midare_2_kill_Func004C())
endfunction
function Trig_Midare_2_kill_Func002Func001Func003C takes nothing returns boolean
return(GetHeroLevel(udg_ObjectMidare[2])<31)
endfunction
function Trig_Midare_2_kill_Func002Func001C takes nothing returns boolean
return(GetHeroLevel(udg_ObjectMidare[2])<21)
endfunction
function Trig_Midare_2_kill_Func002C takes nothing returns boolean
return(GetHeroLevel(udg_ObjectMidare[2])<$B)
endfunction
function Trig_Midare_2_kill_Actions takes nothing returns nothing
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetOwningPlayer(udg_EntersMidare[2]))+(" заказное убийство "+GetHeroProperName(udg_ObjectMidare[2]))))
if(Trig_Midare_2_kill_Func002C())then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_EntersMidare[2])),"|c00FDC635+200 золота|r")
call AdjustPlayerStateBJ($C8,GetOwningPlayer(udg_EntersMidare[2]),PLAYER_STATE_RESOURCE_GOLD)
else
if(Trig_Midare_2_kill_Func002Func001C())then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_EntersMidare[2])),"|c00FDC635+400 золота|r")
call AdjustPlayerStateBJ(400,GetOwningPlayer(udg_EntersMidare[2]),PLAYER_STATE_RESOURCE_GOLD)
else
if(Trig_Midare_2_kill_Func002Func001Func003C())then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_EntersMidare[2])),"|c00FDC635+600 золота|r")
call AdjustPlayerStateBJ(600,GetOwningPlayer(udg_EntersMidare[2]),PLAYER_STATE_RESOURCE_GOLD)
endif
endif
endif
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_EntersMidare[2])),udg_Midare[1],"Наёмник",null,"Заказ выполнен!",0,0,true)
set udg_EntersMidare[2]=null
set udg_ObjectMidare[2]=null
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Midare[2]),"shadowclone.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call SetUnitPositionLocFacingBJ(udg_Midare[2],GetRectCenter(gg_rct_Midare2),225.)
call AddSpecialEffectLocBJ(GetRectCenter(gg_rct_Midare),"shadowclone.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call SetUnitOwner(udg_Midare[2],Player($F),true)
call SetUnitInvulnerable(udg_Midare[2],true)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Midare_2_move)
call DisableTrigger(gg_trg_Midare_2_death)
call DisableTrigger(gg_trg_Midare_attack_2)
call EnableTrigger(gg_trg_Midare_2)
call EnableTrigger(gg_trg_Midare_2_click)
endfunction
function InitTrig_Midare_2_kill takes nothing returns nothing
set gg_trg_Midare_2_kill=CreateTrigger()
call DisableTrigger(gg_trg_Midare_2_kill)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Midare_2_kill,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Midare_2_kill,Condition(function Trig_Midare_2_kill_Conditions))
call TriggerAddAction(gg_trg_Midare_2_kill,function Trig_Midare_2_kill_Actions)
endfunction
function Trig_Midare_2_death_Conditions takes nothing returns boolean
return(GetDyingUnit()==udg_Midare[2])
endfunction
function Trig_Midare_2_death_Actions takes nothing returns nothing
call DisplayTextToForce(GetPlayersAllies(GetOwningPlayer(udg_EntersMidare[2])),"Заказ провален.")
set udg_EntersMidare[2]=null
set udg_ObjectMidare[2]=null
set udg_Midare[2]=null
call AddSpecialEffectLocBJ(GetRectCenter(gg_rct_Midare),"shadowclone.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'nbdo',Player($F),GetRectCenter(gg_rct_Midare2),225.)
call RemoveGuardPosition(bj_lastCreatedUnit)
set udg_Midare[2]=bj_lastCreatedUnit
call SetUnitInvulnerable(udg_Midare[2],true)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Midare_2_move)
call DisableTrigger(gg_trg_Midare_2_kill)
call DisableTrigger(gg_trg_Midare_attack_2)
call EnableTrigger(gg_trg_Midare_2)
call EnableTrigger(gg_trg_Midare_2_click)
endfunction
function InitTrig_Midare_2_death takes nothing returns nothing
set gg_trg_Midare_2_death=CreateTrigger()
call DisableTrigger(gg_trg_Midare_2_death)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Midare_2_death,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Midare_2_death,Condition(function Trig_Midare_2_death_Conditions))
call TriggerAddAction(gg_trg_Midare_2_death,function Trig_Midare_2_death_Actions)
endfunction
function Trig_Shisui_Conditions takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())=='E00D'
endfunction
function Trig_Shisui_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set bj_lastCreatedItem=CreateItem('I00W',GetLocationX(GetUnitLoc(GetDyingUnit())),GetLocationY(GetUnitLoc(GetDyingUnit())))
endfunction
function InitTrig_Shisui takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_Shisui_Conditions))
call TriggerAddAction(t,function Trig_Shisui_Actions)
set t=null
endfunction
function Trig_spell_cast_Shisuya_Conditions takes nothing returns boolean
return GetAttacker()==udg_Hero2[1]
endfunction
function Trig_spell_cast_Shisuya_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call IssueImmediateOrderById(GetAttacker(),$D009F)
call TriggerSleepAction(30.)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_spell_cast_Shisuya takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_ATTACKED,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_spell_cast_Shisuya_Conditions))
call TriggerAddAction(t,function Trig_spell_cast_Shisuya_Actions)
set t=null
endfunction
function Trig_Lariat_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A05Y')
endfunction
function Trig_Lariat_Func006C takes nothing returns boolean
return(UnitHasBuffBJ(udg_Bansho_Tenin[$F],'B001'))
endfunction
function Trig_Lariat_Actions takes nothing returns nothing
set udg_Bansho_Tenin[$F]=GetSpellTargetUnit()
call SetUnitTimeScalePercent(gg_unit_Ekgg_0119,300.)
call TriggerSleepAction(.03)
call SetUnitPositionLoc(gg_unit_Ekgg_0119,PolarProjectionBJ(GetUnitLoc(udg_Bansho_Tenin[$F]),-100.,GetUnitFacing(gg_unit_Ekgg_0119)))
call SetUnitAnimation(gg_unit_Ekgg_0119,"attack")
if(Trig_Lariat_Func006C())then
call SetUnitTimeScalePercent(gg_unit_Ekgg_0119,100.)
set udg_Bansho_Tenin[$F]=null
else
call AddSpecialEffectTargetUnitBJ("chest",udg_Bansho_Tenin[$F],"Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectTargetUnitBJ("origin",udg_Bansho_Tenin[$F],"Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectTargetUnitBJ("chest",udg_Bansho_Tenin[$F],"Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectTargetUnitBJ("origin",udg_Bansho_Tenin[$F],"Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call EnableTrigger(gg_trg_Lariat_move)
call TriggerSleepAction(.3)
call DisableTrigger(gg_trg_Lariat_move)
call SetUnitTimeScalePercent(gg_unit_Ekgg_0119,100.)
set udg_Bansho_Tenin[$F]=null
endif
endfunction
function InitTrig_Lariat takes nothing returns nothing
set gg_trg_Lariat=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Lariat,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Lariat,Condition(function Trig_Lariat_Conditions))
call TriggerAddAction(gg_trg_Lariat,function Trig_Lariat_Actions)
endfunction
function Trig_Lariat_move_Actions takes nothing returns nothing
call SetUnitPositionLoc(udg_Bansho_Tenin[$F],PolarProjectionBJ(GetUnitLoc(udg_Bansho_Tenin[$F]),50.,AngleBetweenPoints(GetUnitLoc(gg_unit_Ekgg_0119),GetUnitLoc(udg_Bansho_Tenin[$F]))))
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Bansho_Tenin[$F]),"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Bansho_Tenin[$F]),"Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Bansho_Tenin[$F]),"Objects\\Spawnmodels\\Orc\\Orcblood\\BattrollBlood.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endfunction
function InitTrig_Lariat_move takes nothing returns nothing
set gg_trg_Lariat_move=CreateTrigger()
call DisableTrigger(gg_trg_Lariat_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Lariat_move,.03)
call TriggerAddAction(gg_trg_Lariat_move,function Trig_Lariat_move_Actions)
endfunction
function Trig_Charge_ninetail_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A066')
endfunction
function Trig_Charge_ninetail_Actions takes nothing returns nothing
set udg_Bansho_Tenin['|']=GetSpellAbilityUnit()
set udg_Bansho_Tenin['}']=GetSpellTargetUnit()
call TriggerSleepAction(.03)
call SetUnitPathing(udg_Bansho_Tenin['|'],false)
call EnableTrigger(gg_trg_Charge_ninetail_move)
endfunction
function InitTrig_Charge_ninetail takes nothing returns nothing
set gg_trg_Charge_ninetail=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Charge_ninetail,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Charge_ninetail,Condition(function Trig_Charge_ninetail_Conditions))
call TriggerAddAction(gg_trg_Charge_ninetail,function Trig_Charge_ninetail_Actions)
endfunction
function Trig_Charge_ninetail_move_Func006C takes nothing returns boolean
return(DistanceBetweenPoints(GetUnitLoc(udg_Bansho_Tenin['|']),GetUnitLoc(udg_Bansho_Tenin['}']))<=170.)
endfunction
function Trig_Charge_ninetail_move_Actions takes nothing returns nothing
call SetUnitPositionLoc(udg_Bansho_Tenin['|'],PolarProjectionBJ(GetUnitLoc(udg_Bansho_Tenin['|']),70.,AngleBetweenPoints(GetUnitLoc(udg_Bansho_Tenin['|']),GetUnitLoc(udg_Bansho_Tenin['}']))))
call SetUnitFacingToFaceUnitTimed(udg_Bansho_Tenin['}'],GetSpellTargetUnit(),0)
call SetUnitAnimation(udg_Bansho_Tenin['|'],"stand")
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Bansho_Tenin['|']),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
if(Trig_Charge_ninetail_move_Func006C())then
call DisableTrigger(GetTriggeringTrigger())
call SetUnitAnimation(udg_Bansho_Tenin['|'],"attack")
call SetUnitPathing(udg_Bansho_Tenin['|'],true)
call UnitDamageTargetBJ(udg_Bansho_Tenin['|'],udg_Bansho_Tenin['}'],2500.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
call CreateNUnitsAtLoc(1,'h03P',Player($F),GetUnitLoc(udg_Bansho_Tenin['}']),GetUnitFacing(udg_Bansho_Tenin['}']))
call UnitApplyTimedLifeBJ(1.,'BTLF',bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'h03R',Player($F),GetUnitLoc(udg_Bansho_Tenin['}']),GetUnitFacing(udg_Bansho_Tenin['}']))
call UnitApplyTimedLifeBJ(1.,'BTLF',bj_lastCreatedUnit)
set udg_Bansho_Tenin['|']=null
set udg_Bansho_Tenin['}']=null
endif
endfunction
function InitTrig_Charge_ninetail_move takes nothing returns nothing
set gg_trg_Charge_ninetail_move=CreateTrigger()
call DisableTrigger(gg_trg_Charge_ninetail_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Charge_ninetail_move,.02)
call TriggerAddAction(gg_trg_Charge_ninetail_move,function Trig_Charge_ninetail_move_Actions)
endfunction
function Bidju_Stomb_Cond takes nothing returns boolean
return GetSpellAbilityId()=='A065'
endfunction
function Bidju_Stomb_Act takes nothing returns nothing
local unit a=CreateUnitAtLoc(Player($F),'h03O',GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
local unit b
call UnitApplyTimedLife(a,'BTLF',1.)
set b=CreateUnitAtLoc(Player($F),'h03P',GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call UnitApplyTimedLife(b,'BTLF',1.)
call RemoveUnit(a)
call RemoveUnit(b)
set a=null
set b=null
endfunction
function InitTrig_Bidju_Stomb takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Bidju_Stomb_Cond))
call TriggerAddAction(t,function Bidju_Stomb_Act)
set t=null
endfunction
function Trig_Tail_Bomb_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A067')
endfunction
function Trig_Tail_Bomb_Actions takes nothing returns nothing
set udg_Itachi[$59B]=GetSpellAbilityUnit()
set udg_PointNew[$6EA]=GetSpellTargetLoc()
call SetUnitAnimation(GetSpellAbilityUnit(),"spell one")
call CreateNUnitsAtLoc(1,'u00A',GetOwningPlayer(udg_Itachi[$59B]),GetUnitLoc(udg_Itachi[$59B]),AngleBetweenPoints(GetUnitLoc(udg_Itachi[$59B]),GetSpellTargetLoc()))
set udg_Itachi[$59C]=bj_lastCreatedUnit
call SetUnitPathing(udg_Itachi[$59C],false)
call EnableTrigger(gg_trg_Tail_Bomb_move)
set udg_PointNew[$3E8]=GetUnitLoc(GetSpellAbilityUnit())
endfunction
function InitTrig_Tail_Bomb takes nothing returns nothing
set gg_trg_Tail_Bomb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Tail_Bomb,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Tail_Bomb,Condition(function Trig_Tail_Bomb_Conditions))
call TriggerAddAction(gg_trg_Tail_Bomb,function Trig_Tail_Bomb_Actions)
endfunction
function Trig_Tail_Bomb_move_Func005001003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Tail_Bomb_move_Func005001003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Itachi[$59B])))
endfunction
function Trig_Tail_Bomb_move_Func005001003002002001 takes nothing returns boolean
return(GetFilterUnit()!=gg_unit_h00E_0087)
endfunction
function Trig_Tail_Bomb_move_Func005001003002002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetFilterUnit(),'B001')==false)
endfunction
function Trig_Tail_Bomb_move_Func005001003002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Tail_Bomb_move_Func005001003002002001(),Trig_Tail_Bomb_move_Func005001003002002002())
endfunction
function Trig_Tail_Bomb_move_Func005001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_Tail_Bomb_move_Func005001003002001(),Trig_Tail_Bomb_move_Func005001003002002())
endfunction
function Trig_Tail_Bomb_move_Func005001003 takes nothing returns boolean
return GetBooleanAnd(Trig_Tail_Bomb_move_Func005001003001(),Trig_Tail_Bomb_move_Func005001003002())
endfunction
function Trig_Tail_Bomb_move_Func005A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Itachi[$59B],GetEnumUnit(),200.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
call SetUnitPositionLoc(GetEnumUnit(),GetUnitLoc(udg_Itachi[$59C]))
endfunction
function Trig_Tail_Bomb_move_Func006A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Tail_Bomb_move_Func007C takes nothing returns boolean
return(DistanceBetweenPoints(udg_PointNew[$6EA],GetUnitLoc(udg_Itachi[$59C]))>=2000.)
endfunction
function Trig_Tail_Bomb_move_Actions takes nothing returns nothing
call SetUnitPathing(udg_Itachi[$59C],false)
call SetUnitPositionLoc(udg_Itachi[$59C],PolarProjectionBJ(GetUnitLoc(udg_Itachi[$59C]),110.,GetUnitFacing(udg_Itachi[$59C])))
call CreateNUnitsAtLoc(1,'h03Q',GetOwningPlayer(udg_Itachi[$59B]),GetUnitLoc(udg_Itachi[$59C]),GetUnitFacing(udg_Itachi[$59C]))
call UnitApplyTimedLifeBJ(1.,'Bapl',bj_lastCreatedUnit)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(400.,GetUnitLoc(udg_Itachi[$59C]),Condition(function Trig_Tail_Bomb_move_Func005001003)),function Trig_Tail_Bomb_move_Func005A)
call EnumDestructablesInCircleBJ(200.,GetUnitLoc(udg_Itachi[$59C]),function Trig_Tail_Bomb_move_Func006A)
if(Trig_Tail_Bomb_move_Func007C())then
call DisableTrigger(GetTriggeringTrigger())
call RemoveUnit(udg_Itachi[$59C])
call CreateNUnitsAtLoc(1,'h03P',Player($F),GetUnitLoc(udg_Itachi[$59C]),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,'BTLF',bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'h03R',Player($F),GetUnitLoc(udg_Itachi[$59C]),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,'BTLF',bj_lastCreatedUnit)
call RemoveUnit(udg_Itachi[$59C])
set udg_Itachi[$59B]=null
set udg_Itachi[$59C]=null
call RemoveLocation(udg_PointNew[$6EA])
set udg_PointNew[$6EA]=null
endif
endfunction
function InitTrig_Tail_Bomb_move takes nothing returns nothing
set gg_trg_Tail_Bomb_move=CreateTrigger()
call DisableTrigger(gg_trg_Tail_Bomb_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Tail_Bomb_move,.06)
call TriggerAddAction(gg_trg_Tail_Bomb_move,function Trig_Tail_Bomb_move_Actions)
endfunction
function Trig_Tail_Bomb_2_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A068')
endfunction
function Trig_Tail_Bomb_2_Actions takes nothing returns nothing
set udg_Itachi[$64C]=GetSpellAbilityUnit()
set udg_PointNew[$3E8]=GetSpellTargetLoc()
call SetUnitAnimation(GetSpellAbilityUnit(),"spell one")
call CreateNUnitsAtLoc(1,'u00A',GetOwningPlayer(udg_Itachi[$64C]),GetUnitLoc(udg_Itachi[$64C]),AngleBetweenPoints(GetUnitLoc(udg_Itachi[$64C]),GetSpellTargetLoc()))
set udg_Itachi[$64D]=bj_lastCreatedUnit
call SetUnitScalePercent(udg_Itachi[$64D],650.,650.,650.)
call SetUnitPathing(udg_Itachi[$64D],false)
call EnableTrigger(gg_trg_Tail_Bomb_2_move)
endfunction
function InitTrig_Tail_Bomb_2 takes nothing returns nothing
set gg_trg_Tail_Bomb_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Tail_Bomb_2,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Tail_Bomb_2,Condition(function Trig_Tail_Bomb_2_Conditions))
call TriggerAddAction(gg_trg_Tail_Bomb_2,function Trig_Tail_Bomb_2_Actions)
endfunction
function Trig_Tail_Bomb_2_move_Func005001003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Tail_Bomb_2_move_Func005001003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Itachi[$64C])))
endfunction
function Trig_Tail_Bomb_2_move_Func005001003002002 takes nothing returns boolean
return(GetFilterUnit()!=gg_unit_h00E_0087)
endfunction
function Trig_Tail_Bomb_2_move_Func005001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_Tail_Bomb_2_move_Func005001003002001(),Trig_Tail_Bomb_2_move_Func005001003002002())
endfunction
function Trig_Tail_Bomb_2_move_Func005001003 takes nothing returns boolean
return GetBooleanAnd(Trig_Tail_Bomb_2_move_Func005001003001(),Trig_Tail_Bomb_2_move_Func005001003002())
endfunction
function Trig_Tail_Bomb_2_move_Func005A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Itachi[$64C],GetEnumUnit(),1000.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
call SetUnitPositionLoc(GetEnumUnit(),GetUnitLoc(udg_Itachi[$64D]))
endfunction
function Trig_Tail_Bomb_2_move_Func006A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Tail_Bomb_2_move_Func007C takes nothing returns boolean
return(DistanceBetweenPoints(udg_PointNew[$3E8],GetUnitLoc(udg_Itachi[$64D]))<=2200.)
endfunction
function Trig_Tail_Bomb_2_move_Actions takes nothing returns nothing
call SetUnitPathing(udg_Itachi[$64D],false)
call SetUnitPositionLoc(udg_Itachi[$64D],PolarProjectionBJ(GetUnitLoc(udg_Itachi[$64D]),210.,AngleBetweenPoints(GetUnitLoc(udg_Itachi[$64D]),udg_PointNew[$3E8])))
call CreateNUnitsAtLoc(1,'h03Q',GetOwningPlayer(udg_Itachi[$64D]),GetUnitLoc(udg_Itachi[$64D]),GetUnitFacing(udg_Itachi[$64D]))
call UnitApplyTimedLifeBJ(1.,'Bapl',bj_lastCreatedUnit)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(700.,GetUnitLoc(udg_Itachi[$64D]),Condition(function Trig_Tail_Bomb_2_move_Func005001003)),function Trig_Tail_Bomb_2_move_Func005A)
call EnumDestructablesInCircleBJ(600.,GetUnitLoc(udg_Itachi[$64D]),function Trig_Tail_Bomb_2_move_Func006A)
if(Trig_Tail_Bomb_2_move_Func007C())then
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,'h03S',Player($F),GetUnitLoc(udg_Itachi[$64D]),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,'Bapl',bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'h03T',Player($F),GetUnitLoc(udg_Itachi[$64D]),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,'Bapl',bj_lastCreatedUnit)
call RemoveUnit(udg_Itachi[$64D])
set udg_Itachi[$64C]=null
set udg_Itachi[$64D]=null
call RemoveLocation(udg_PointNew[$3E8])
set udg_PointNew[$3E8]=null
endif
endfunction
function InitTrig_Tail_Bomb_2_move takes nothing returns nothing
set gg_trg_Tail_Bomb_2_move=CreateTrigger()
call DisableTrigger(gg_trg_Tail_Bomb_2_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Tail_Bomb_2_move,.06)
call TriggerAddAction(gg_trg_Tail_Bomb_2_move,function Trig_Tail_Bomb_2_move_Actions)
endfunction
function Trig_Bidju_Stomb_cast_Func002C takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='u00Q')or(GetUnitTypeId(GetAttacker())=='u00R')or(GetUnitTypeId(GetAttacker())=='u00V')or(GetUnitTypeId(GetAttacker())=='u00S')or(GetUnitTypeId(GetAttacker())=='u00T')or(GetUnitTypeId(GetAttacker())=='u00W')or(GetUnitTypeId(GetAttacker())=='u00U')or(GetUnitTypeId(GetAttacker())=='u00X')or(GetUnitTypeId(GetAttacker())=='u017')
endfunction
function Trig_Bidju_Stomb_cast_Conditions takes nothing returns boolean
return(Trig_Bidju_Stomb_cast_Func002C())
endfunction
function Trig_Bidju_Stomb_cast_Func001C takes nothing returns boolean
return(GetRandomInt(1,2)==1)
endfunction
function Trig_Bidju_Stomb_cast_Actions takes nothing returns nothing
if(Trig_Bidju_Stomb_cast_Func001C())then
call IssueImmediateOrderById(GetAttacker(),$D009F)
endif
endfunction
function InitTrig_Bidju_Stomb_cast takes nothing returns nothing
set gg_trg_Bidju_Stomb_cast=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Bidju_Stomb_cast,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Bidju_Stomb_cast,Condition(function Trig_Bidju_Stomb_cast_Conditions))
call TriggerAddAction(gg_trg_Bidju_Stomb_cast,function Trig_Bidju_Stomb_cast_Actions)
endfunction
function Trig_Bidju_Bomb_cast_Func002C takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='u00Q')or(GetUnitTypeId(GetAttacker())=='u00R')or(GetUnitTypeId(GetAttacker())=='u00V')or(GetUnitTypeId(GetAttacker())=='u00S')or(GetUnitTypeId(GetAttacker())=='u00T')or(GetUnitTypeId(GetAttacker())=='u00W')or(GetUnitTypeId(GetAttacker())=='u00U')or(GetUnitTypeId(GetAttacker())=='u00X')or(GetUnitTypeId(GetAttacker())=='u017')or(GetUnitTypeId(GetAttacker())=='u01A')or(GetUnitTypeId(GetAttacker())=='E007')or(GetUnitTypeId(GetAttacker())=='U008')or(GetUnitTypeId(GetAttacker())=='E008')or(GetUnitTypeId(GetAttacker())=='E009')or(GetUnitTypeId(GetAttacker())=='E00A')or(GetUnitTypeId(GetAttacker())=='E00E')or(GetUnitTypeId(GetAttacker())=='E00M')or(GetUnitTypeId(GetAttacker())=='H02Q')
endfunction
function Trig_Bidju_Bomb_cast_Conditions takes nothing returns boolean
return(Trig_Bidju_Bomb_cast_Func002C())
endfunction
function Trig_Bidju_Bomb_cast_Func001C takes nothing returns boolean
return(GetRandomInt(1,16)==5)
endfunction
function Trig_Bidju_Bomb_cast_Actions takes nothing returns nothing
if(Trig_Bidju_Bomb_cast_Func001C())then
call IssuePointOrderByIdLoc(GetAttacker(),$D00FA,PolarProjectionBJ(GetUnitLoc(GetAttacker()),256,GetUnitFacing(GetAttacker())))
endif
endfunction
function InitTrig_Bidju_Bomb_cast takes nothing returns nothing
set gg_trg_Bidju_Bomb_cast=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Bidju_Bomb_cast,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Bidju_Bomb_cast,Condition(function Trig_Bidju_Bomb_cast_Conditions))
call TriggerAddAction(gg_trg_Bidju_Bomb_cast,function Trig_Bidju_Bomb_cast_Actions)
endfunction
function Trig_One_tail_chakra_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"BidjuChakra.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call ModifyHeroStat(0,GetTriggerUnit(),0,'d')
call RemoveItem(GetItemOfTypeFromUnitBJ(gg_unit_Emfr_0033,'I00I'))
endfunction
function InitTrig_One_tail_chakra takes nothing returns nothing
set gg_trg_One_tail_chakra=CreateTrigger()
call DisableTrigger(gg_trg_One_tail_chakra)
call TriggerRegisterUnitLifeEvent(gg_trg_One_tail_chakra,gg_unit_Emfr_0033,LESS_THAN_OR_EQUAL,500.)
call TriggerAddAction(gg_trg_One_tail_chakra,function Trig_One_tail_chakra_Actions)
endfunction
function Trig_Two_tail_chakra_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(gg_trg_Two_tail_chakra_2)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"BidjuChakra.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call ModifyHeroStat(0,GetTriggerUnit(),0,'d')
endfunction
function InitTrig_Two_tail_chakra takes nothing returns nothing
set gg_trg_Two_tail_chakra=CreateTrigger()
call TriggerRegisterUnitLifeEvent(gg_trg_Two_tail_chakra,gg_unit_Ewrd_0114,LESS_THAN_OR_EQUAL,1000.)
call TriggerAddAction(gg_trg_Two_tail_chakra,function Trig_Two_tail_chakra_Actions)
endfunction
function Trig_Two_tail_chakra_2_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ReplaceUnitBJ(GetTriggerUnit(),'E008',2)
call ModifyHeroStat(0,bj_lastReplacedUnit,0,'d')
call DisableTrigger(gg_trg_Two_tail_chakra)
call DisableTrigger(gg_trg_Nibi_Enters)
endfunction
function InitTrig_Two_tail_chakra_2 takes nothing returns nothing
set gg_trg_Two_tail_chakra_2=CreateTrigger()
call DisableTrigger(gg_trg_Two_tail_chakra_2)
call TriggerRegisterUnitLifeEvent(gg_trg_Two_tail_chakra_2,gg_unit_Ewrd_0114,LESS_THAN_OR_EQUAL,750.)
call TriggerAddAction(gg_trg_Two_tail_chakra_2,function Trig_Two_tail_chakra_2_Actions)
endfunction
function Trig_Nibi_Dying_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='E008')
endfunction
function Trig_Nibi_Dying_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Two_tail_chakra_2)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetKillingUnit())),GetDyingUnit(),"Югито",null,"Вы станете лишь мелкой добычей.",0,3.,false)
call CreateNUnitsAtLoc(1,'u00R',Player($C),GetUnitLoc(GetDyingUnit()),GetUnitFacing(GetDyingUnit()))
endfunction
function InitTrig_Nibi_Dying takes nothing returns nothing
set gg_trg_Nibi_Dying=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Nibi_Dying,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Nibi_Dying,Condition(function Trig_Nibi_Dying_Conditions))
call TriggerAddAction(gg_trg_Nibi_Dying,function Trig_Nibi_Dying_Actions)
endfunction
function Trig_Four__tail_chakra_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(gg_trg_Four__tail_chakra_2)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"BidjuChakra.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call ModifyHeroStat(0,GetTriggerUnit(),0,'d')
endfunction
function InitTrig_Four__tail_chakra takes nothing returns nothing
set gg_trg_Four__tail_chakra=CreateTrigger()
call TriggerRegisterUnitLifeEvent(gg_trg_Four__tail_chakra,gg_unit_Eevi_0116,LESS_THAN_OR_EQUAL,1000.)
call TriggerAddAction(gg_trg_Four__tail_chakra,function Trig_Four__tail_chakra_Actions)
endfunction
function Trig_Four__tail_chakra_2_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Four__tail_chakra)
call ReplaceUnitBJ(GetTriggerUnit(),'E009',2)
call ModifyHeroStat(0,bj_lastReplacedUnit,0,'d')
call DisableTrigger(gg_trg_Roushin)
call DisableTrigger(gg_trg_Roushin_Enters)
endfunction
function InitTrig_Four__tail_chakra_2 takes nothing returns nothing
set gg_trg_Four__tail_chakra_2=CreateTrigger()
call DisableTrigger(gg_trg_Four__tail_chakra_2)
call TriggerRegisterUnitLifeEvent(gg_trg_Four__tail_chakra_2,gg_unit_Eevi_0116,LESS_THAN_OR_EQUAL,750.)
call TriggerAddAction(gg_trg_Four__tail_chakra_2,function Trig_Four__tail_chakra_2_Actions)
endfunction
function Trig_Roushin_Dying_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='E009')
endfunction
function Trig_Roushin_Dying_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Four__tail_chakra_2)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetKillingUnit())),GetDyingUnit(),"Роушин",null,"Бегите хлопсы! Вас ждёт хана!!",0,4.,false)
call CreateNUnitsAtLoc(1,'u00S',Player($C),GetUnitLoc(GetDyingUnit()),GetUnitFacing(GetDyingUnit()))
endfunction
function InitTrig_Roushin_Dying takes nothing returns nothing
set gg_trg_Roushin_Dying=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Roushin_Dying,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Roushin_Dying,Condition(function Trig_Roushin_Dying_Conditions))
call TriggerAddAction(gg_trg_Roushin_Dying,function Trig_Roushin_Dying_Actions)
endfunction
function Trig_Five_tail_chakra_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(gg_trg_Five_tail_chakra_2)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"BidjuChakra.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call ModifyHeroStat(0,GetTriggerUnit(),0,'d')
endfunction
function InitTrig_Five_tail_chakra takes nothing returns nothing
set gg_trg_Five_tail_chakra=CreateTrigger()
call TriggerRegisterUnitLifeEvent(gg_trg_Five_tail_chakra,gg_unit_Emns_0115,LESS_THAN_OR_EQUAL,1000.)
call TriggerAddAction(gg_trg_Five_tail_chakra,function Trig_Five_tail_chakra_Actions)
endfunction
function Trig_Five_tail_chakra_2_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Five_tail_chakra)
call ReplaceUnitBJ(GetTriggerUnit(),'E00A',2)
call ModifyHeroStat(0,bj_lastReplacedUnit,0,'d')
call DisableTrigger(gg_trg_Han_Enters)
call DisableTrigger(gg_trg_Han_Enters_2)
endfunction
function InitTrig_Five_tail_chakra_2 takes nothing returns nothing
set gg_trg_Five_tail_chakra_2=CreateTrigger()
call DisableTrigger(gg_trg_Five_tail_chakra_2)
call TriggerRegisterUnitLifeEvent(gg_trg_Five_tail_chakra_2,gg_unit_Emns_0115,LESS_THAN_OR_EQUAL,750.)
call TriggerAddAction(gg_trg_Five_tail_chakra_2,function Trig_Five_tail_chakra_2_Actions)
endfunction
function Trig_Han_Dying_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='E00A')
endfunction
function Trig_Han_Dying_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Five_tail_chakra_2)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetKillingUnit())),GetDyingUnit(),"Хан",null,"Ахаахххаааааа!!!",0,2.,false)
call RemoveUnit(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'u00T',Player($C),GetUnitLoc(GetDyingUnit()),GetUnitFacing(GetDyingUnit()))
endfunction
function InitTrig_Han_Dying takes nothing returns nothing
set gg_trg_Han_Dying=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Han_Dying,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Han_Dying,Condition(function Trig_Han_Dying_Conditions))
call TriggerAddAction(gg_trg_Han_Dying,function Trig_Han_Dying_Actions)
endfunction
function Trig_Six_tail_chakra_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(gg_trg_Six_tail_chakra_2)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"BidjuChakra.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call TriggerRegisterUnitLifeEvent(gg_trg_Six_tail_chakra_2,udg_Hero2[90],LESS_THAN_OR_EQUAL,1000.)
call ModifyHeroStat(0,GetTriggerUnit(),0,'d')
endfunction
function InitTrig_Six_tail_chakra takes nothing returns nothing
set gg_trg_Six_tail_chakra=CreateTrigger()
call TriggerAddAction(gg_trg_Six_tail_chakra,function Trig_Six_tail_chakra_Actions)
endfunction
function Trig_Six_tail_chakra_2_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Six_tail_chakra)
call ReplaceUnitBJ(GetTriggerUnit(),'E00E',2)
call ModifyHeroStat(0,bj_lastReplacedUnit,0,'d')
set udg_Hero2[90]=null
call DisableTrigger(gg_trg_Move_Sixtail_jinchur)
endfunction
function InitTrig_Six_tail_chakra_2 takes nothing returns nothing
set gg_trg_Six_tail_chakra_2=CreateTrigger()
call DisableTrigger(gg_trg_Six_tail_chakra_2)
call TriggerAddAction(gg_trg_Six_tail_chakra_2,function Trig_Six_tail_chakra_2_Actions)
endfunction
function Trig_Utakata_Dying_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='E00E')
endfunction
function Trig_Utakata_Dying_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Six_tail_chakra_2)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetKillingUnit())),GetDyingUnit(),"Утаката",null,"Посмотрим как вы справитесь с этим!!!",0,3.9,false)
call RemoveUnit(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'u00W',Player($C),GetUnitLoc(GetDyingUnit()),GetUnitFacing(GetDyingUnit()))
endfunction
function InitTrig_Utakata_Dying takes nothing returns nothing
set gg_trg_Utakata_Dying=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Utakata_Dying,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Utakata_Dying,Condition(function Trig_Utakata_Dying_Conditions))
call TriggerAddAction(gg_trg_Utakata_Dying,function Trig_Utakata_Dying_Actions)
endfunction
function Trig_Seven_tail_chakra_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"BidjuChakra.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call ModifyHeroStat(0,GetTriggerUnit(),0,'d')
endfunction
function InitTrig_Seven_tail_chakra takes nothing returns nothing
set gg_trg_Seven_tail_chakra=CreateTrigger()
call TriggerRegisterUnitLifeEvent(gg_trg_Seven_tail_chakra,gg_unit_Ewar_0118,LESS_THAN_OR_EQUAL,1000.)
call TriggerAddAction(gg_trg_Seven_tail_chakra,function Trig_Seven_tail_chakra_Actions)
endfunction
function Trig_Sichibi_Dying_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='Ewar')
endfunction
function Trig_Sichibi_Dying_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Seven_tail_chakra)
call RemoveUnit(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'u00U',Player($C),GetUnitLoc(GetDyingUnit()),GetUnitFacing(GetDyingUnit()))
endfunction
function InitTrig_Sichibi_Dying takes nothing returns nothing
set gg_trg_Sichibi_Dying=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sichibi_Dying,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Sichibi_Dying,Condition(function Trig_Sichibi_Dying_Conditions))
call TriggerAddAction(gg_trg_Sichibi_Dying,function Trig_Sichibi_Dying_Actions)
endfunction
function Trig_Eight_tail_chakra_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(gg_trg_Eight_tail_chakra_2)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"BidjuChakra.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call ModifyHeroStat(0,GetTriggerUnit(),0,'d')
call DisableTrigger(gg_trg_Bi_Enters_2)
call DisableTrigger(gg_trg_Bi_Enters)
endfunction
function InitTrig_Eight_tail_chakra takes nothing returns nothing
set gg_trg_Eight_tail_chakra=CreateTrigger()
call TriggerRegisterUnitLifeEvent(gg_trg_Eight_tail_chakra,gg_unit_Ekgg_0119,LESS_THAN_OR_EQUAL,1500.)
call TriggerAddAction(gg_trg_Eight_tail_chakra,function Trig_Eight_tail_chakra_Actions)
endfunction
function Trig_Eight_tail_chakra_2_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(gg_trg_Eight_tail_chakra_3)
call DisableTrigger(gg_trg_Eight_tail_chakra)
call ReplaceUnitBJ(GetTriggerUnit(),'E001',2)
set udg_Hero2[8]=bj_lastReplacedUnit
call ModifyHeroStat(0,bj_lastReplacedUnit,0,'d')
call TriggerRegisterUnitLifeEvent(gg_trg_Eight_tail_chakra_3,udg_Hero2[8],LESS_THAN_OR_EQUAL,750.)
endfunction
function InitTrig_Eight_tail_chakra_2 takes nothing returns nothing
set gg_trg_Eight_tail_chakra_2=CreateTrigger()
call DisableTrigger(gg_trg_Eight_tail_chakra_2)
call TriggerRegisterUnitLifeEvent(gg_trg_Eight_tail_chakra_2,gg_unit_Ekgg_0119,LESS_THAN_OR_EQUAL,1000.)
call TriggerAddAction(gg_trg_Eight_tail_chakra_2,function Trig_Eight_tail_chakra_2_Actions)
endfunction
function Trig_Eight_tail_chakra_3_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Eight_tail_chakra_2)
call ReplaceUnitBJ(udg_Hero2[8],'E00M',2)
call ModifyHeroStat(0,bj_lastReplacedUnit,0,'d')
set udg_Hero2[8]=null
endfunction
function InitTrig_Eight_tail_chakra_3 takes nothing returns nothing
set gg_trg_Eight_tail_chakra_3=CreateTrigger()
call DisableTrigger(gg_trg_Eight_tail_chakra_3)
call TriggerAddAction(gg_trg_Eight_tail_chakra_3,function Trig_Eight_tail_chakra_3_Actions)
endfunction
function Trig_Bi_Dying_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='E00M')
endfunction
function Trig_Bi_Dying_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Eight_tail_chakra_3)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetKillingUnit())),udg_Hero2[8],"Би",null,"Номер восемь появись! заебись! Порви их!",0,4.,false)
call RemoveUnit(GetTriggerUnit())
call CreateNUnitsAtLoc(1,'u00X',Player($C),GetUnitLoc(GetDyingUnit()),GetUnitFacing(GetDyingUnit()))
endfunction
function InitTrig_Bi_Dying takes nothing returns nothing
set gg_trg_Bi_Dying=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Bi_Dying,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Bi_Dying,Condition(function Trig_Bi_Dying_Conditions))
call TriggerAddAction(gg_trg_Bi_Dying,function Trig_Bi_Dying_Actions)
endfunction
function Trig_Nine_tail_chakra_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(gg_trg_Nine_tail_chakra_2)
call AddSpecialEffectTargetUnitBJ("origin",GetTriggerUnit(),"BidjuChakra.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call ModifyHeroStat(0,gg_unit_Hpal_0034,0,'d')
endfunction
function InitTrig_Nine_tail_chakra takes nothing returns nothing
set gg_trg_Nine_tail_chakra=CreateTrigger()
call DisableTrigger(gg_trg_Nine_tail_chakra)
call TriggerRegisterUnitLifeEvent(gg_trg_Nine_tail_chakra,gg_unit_Hpal_0034,LESS_THAN_OR_EQUAL,250.)
call TriggerAddAction(gg_trg_Nine_tail_chakra,function Trig_Nine_tail_chakra_Actions)
endfunction
function Trig_Nine_tail_chakra_2_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Nine_tail_chakra)
call ModifyHeroStat(0,gg_unit_Hpal_0034,1,'d')
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03M'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01T'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I032'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01S'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I01R'))
call ReplaceUnitBJ(GetTriggerUnit(),'H02Q',2)
call SetHeroLevelBJ(bj_lastReplacedUnit,30,false)
endfunction
function InitTrig_Nine_tail_chakra_2 takes nothing returns nothing
set gg_trg_Nine_tail_chakra_2=CreateTrigger()
call DisableTrigger(gg_trg_Nine_tail_chakra_2)
call TriggerRegisterUnitLifeEvent(gg_trg_Nine_tail_chakra_2,gg_unit_Hpal_0034,LESS_THAN_OR_EQUAL,100.)
call TriggerAddAction(gg_trg_Nine_tail_chakra_2,function Trig_Nine_tail_chakra_2_Actions)
endfunction
function Trig_Naruto_End_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='H02Q')
endfunction
function Trig_Naruto_End_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Nine_tail_chakra_2)
call CreateNUnitsAtLoc(1,'u017',Player($C),GetUnitLoc(GetDyingUnit()),GetUnitFacing(GetDyingUnit()))
call TriggerSleepAction(60.)
call UnitAddItemByIdSwapped('I032',gg_unit_Hpal_0034)
call UnitAddItemByIdSwapped('I01T',gg_unit_Hpal_0034)
call UnitAddItemByIdSwapped('I01S',gg_unit_Hpal_0034)
call UnitAddItemByIdSwapped('I01R',gg_unit_Hpal_0034)
endfunction
function InitTrig_Naruto_End takes nothing returns nothing
set gg_trg_Naruto_End=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Naruto_End,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Naruto_End,Condition(function Trig_Naruto_End_Conditions))
call TriggerAddAction(gg_trg_Naruto_End,function Trig_Naruto_End_Actions)
endfunction
function Trig_Menma_Conditions takes nothing returns boolean
return(GetDyingUnit()==udg_Hero2[8])
endfunction
function Trig_Menma_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateItemLoc('I02Q',GetUnitLoc(GetDyingUnit()))
call TriggerSleepAction(300.)
call CreateNUnitsAtLoc(1,'H02K',Player($C),GetUnitLoc(GetDyingUnit()),GetUnitFacing(GetDyingUnit()))
set udg_Hero2[$C]=bj_lastCreatedUnit
call SetUnitManaPercentBJ(udg_Hero2[$C],'d')
call SetHeroLevelBJ(udg_Hero2[$C],30,false)
call ModifyHeroStat(0,udg_Hero2[$C],0,400)
call ModifyHeroStat(1,udg_Hero2[$C],0,400)
call ModifyHeroStat(2,udg_Hero2[$C],0,400)
call RemoveUnit(udg_Hero2[8])
set udg_Hero2[8]=null
endfunction
function InitTrig_Menma takes nothing returns nothing
set gg_trg_Menma=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Menma,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Menma,Condition(function Trig_Menma_Conditions))
call TriggerAddAction(gg_trg_Menma,function Trig_Menma_Actions)
endfunction
function Trig_Robot_Conditions takes nothing returns boolean
return(GetDyingUnit()==udg_Hero2[$C])
endfunction
function Trig_Robot_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call CreateItemLoc('I032',GetUnitLoc(GetDyingUnit()))
call RemoveUnit(udg_Hero2[$C])
set udg_Hero2[$C]=null
endfunction
function InitTrig_Robot takes nothing returns nothing
set gg_trg_Robot=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Robot,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Robot,Condition(function Trig_Robot_Conditions))
call TriggerAddAction(gg_trg_Robot,function Trig_Robot_Actions)
endfunction
function Trig_Ichibi_bidju_1_Conditions takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetEnteringUnit(),'I00I'))
endfunction
function Trig_Ichibi_bidju_1_Func014C takes nothing returns boolean
return(GetUnitUserData(gg_unit_h00E_0087)==9)
endfunction
function Trig_Ichibi_bidju_1_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set udg_Jubi[$B]=GetEnteringUnit()
call CreateNUnitsAtLoc(1,'h01T',Player($D),GetRectCenter(gg_rct_Gedo_2),bj_UNIT_FACING)
set udg_Jubi[1]=bj_lastCreatedUnit
call IssueTargetOrderById(udg_Jubi[1],$D0106,GetEnteringUnit())
call SetUnitPositionLocFacingLocBJ(udg_Jubi[$B],GetRectCenter(gg_rct_Gedo),GetUnitLoc(gg_unit_h00E_0087))
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_Jubi[$B],'I00I'))
call PauseUnit(udg_Jubi[$B],true)
call TriggerSleepAction(15.)
call PauseUnit(udg_Jubi[$B],false)
call RemoveUnit(udg_Jubi[1])
call SetUnitUserData(gg_unit_h00E_0087,(GetUnitUserData(gg_unit_h00E_0087)+1))
if(Trig_Ichibi_bidju_1_Func014C())then
call TriggerExecute(gg_trg_Ichibi_bidju_10)
else
set udg_Jubi[1]=null
set udg_Jubi[$B]=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endfunction
function InitTrig_Ichibi_bidju_1 takes nothing returns nothing
set gg_trg_Ichibi_bidju_1=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Ichibi_bidju_1,gg_rct_Gedo)
call TriggerAddCondition(gg_trg_Ichibi_bidju_1,Condition(function Trig_Ichibi_bidju_1_Conditions))
call TriggerAddAction(gg_trg_Ichibi_bidju_1,function Trig_Ichibi_bidju_1_Actions)
endfunction
function Trig_Ichibi_bidju_2_Conditions takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetEnteringUnit(),'I00J'))
endfunction
function Trig_Ichibi_bidju_2_Func014C takes nothing returns boolean
return(GetUnitUserData(gg_unit_h00E_0087)==9)
endfunction
function Trig_Ichibi_bidju_2_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set udg_Jubi[$C]=GetEnteringUnit()
call CreateNUnitsAtLoc(1,'h01T',Player($D),GetRectCenter(gg_rct_Gedo_2),bj_UNIT_FACING)
set udg_Jubi[2]=bj_lastCreatedUnit
call IssueTargetOrderById(udg_Jubi[2],$D0106,GetEnteringUnit())
call SetUnitPositionLocFacingLocBJ(udg_Jubi[$C],GetRectCenter(gg_rct_Gedo),GetUnitLoc(gg_unit_h00E_0087))
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_Jubi[$C],'I00J'))
call PauseUnit(udg_Jubi[$C],true)
call TriggerSleepAction(15.)
call PauseUnit(udg_Jubi[$C],false)
call RemoveUnit(udg_Jubi[2])
call SetUnitUserData(gg_unit_h00E_0087,(GetUnitUserData(gg_unit_h00E_0087)+1))
if(Trig_Ichibi_bidju_2_Func014C())then
call TriggerExecute(gg_trg_Ichibi_bidju_10)
else
set udg_Jubi[2]=null
set udg_Jubi[$C]=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endfunction
function InitTrig_Ichibi_bidju_2 takes nothing returns nothing
set gg_trg_Ichibi_bidju_2=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Ichibi_bidju_2,gg_rct_Gedo)
call TriggerAddCondition(gg_trg_Ichibi_bidju_2,Condition(function Trig_Ichibi_bidju_2_Conditions))
call TriggerAddAction(gg_trg_Ichibi_bidju_2,function Trig_Ichibi_bidju_2_Actions)
endfunction
function Trig_Ichibi_bidju_3_Conditions takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetEnteringUnit(),'I00A'))
endfunction
function Trig_Ichibi_bidju_3_Func014C takes nothing returns boolean
return(GetUnitUserData(gg_unit_h00E_0087)==9)
endfunction
function Trig_Ichibi_bidju_3_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set udg_Jubi[$D]=GetEnteringUnit()
call CreateNUnitsAtLoc(1,'h01T',Player($D),GetRectCenter(gg_rct_Gedo_2),bj_UNIT_FACING)
set udg_Jubi[3]=bj_lastCreatedUnit
call IssueTargetOrderById(udg_Jubi[3],$D0106,GetEnteringUnit())
call SetUnitPositionLocFacingLocBJ(udg_Jubi[$D],GetRectCenter(gg_rct_Gedo),GetUnitLoc(gg_unit_h00E_0087))
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_Jubi[$D],'I00A'))
call PauseUnit(udg_Jubi[$D],true)
call TriggerSleepAction(15.)
call PauseUnit(udg_Jubi[$D],false)
call RemoveUnit(udg_Jubi[3])
call SetUnitUserData(gg_unit_h00E_0087,(GetUnitUserData(gg_unit_h00E_0087)+1))
if(Trig_Ichibi_bidju_3_Func014C())then
call TriggerExecute(gg_trg_Ichibi_bidju_10)
else
set udg_Jubi[3]=null
set udg_Jubi[$D]=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endfunction
function InitTrig_Ichibi_bidju_3 takes nothing returns nothing
set gg_trg_Ichibi_bidju_3=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Ichibi_bidju_3,gg_rct_Gedo)
call TriggerAddCondition(gg_trg_Ichibi_bidju_3,Condition(function Trig_Ichibi_bidju_3_Conditions))
call TriggerAddAction(gg_trg_Ichibi_bidju_3,function Trig_Ichibi_bidju_3_Actions)
endfunction
function Trig_Ichibi_bidju_4_Conditions takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetEnteringUnit(),'I00K'))
endfunction
function Trig_Ichibi_bidju_4_Func014C takes nothing returns boolean
return(GetUnitUserData(gg_unit_h00E_0087)==9)
endfunction
function Trig_Ichibi_bidju_4_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set udg_Jubi[$E]=GetEnteringUnit()
call CreateNUnitsAtLoc(1,'h01T',Player($D),GetRectCenter(gg_rct_Gedo_2),bj_UNIT_FACING)
set udg_Jubi[4]=bj_lastCreatedUnit
call IssueTargetOrderById(udg_Jubi[4],$D0106,GetEnteringUnit())
call SetUnitPositionLocFacingLocBJ(udg_Jubi[$E],GetRectCenter(gg_rct_Gedo),GetUnitLoc(gg_unit_h00E_0087))
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_Jubi[$E],'I00K'))
call PauseUnit(udg_Jubi[$E],true)
call TriggerSleepAction(15.)
call PauseUnit(udg_Jubi[$E],false)
call RemoveUnit(udg_Jubi[4])
call SetUnitUserData(gg_unit_h00E_0087,(GetUnitUserData(gg_unit_h00E_0087)+1))
if(Trig_Ichibi_bidju_4_Func014C())then
call TriggerExecute(gg_trg_Ichibi_bidju_10)
else
set udg_Jubi[4]=null
set udg_Jubi[$E]=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endfunction
function InitTrig_Ichibi_bidju_4 takes nothing returns nothing
set gg_trg_Ichibi_bidju_4=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Ichibi_bidju_4,gg_rct_Gedo)
call TriggerAddCondition(gg_trg_Ichibi_bidju_4,Condition(function Trig_Ichibi_bidju_4_Conditions))
call TriggerAddAction(gg_trg_Ichibi_bidju_4,function Trig_Ichibi_bidju_4_Actions)
endfunction
function Trig_Ichibi_bidju_5_Conditions takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetEnteringUnit(),'I00L'))
endfunction
function Trig_Ichibi_bidju_5_Func014C takes nothing returns boolean
return(GetUnitUserData(gg_unit_h00E_0087)==9)
endfunction
function Trig_Ichibi_bidju_5_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set udg_Jubi[$F]=GetEnteringUnit()
call CreateNUnitsAtLoc(1,'h01T',Player($D),GetRectCenter(gg_rct_Gedo_2),bj_UNIT_FACING)
set udg_Jubi[5]=bj_lastCreatedUnit
call IssueTargetOrderById(udg_Jubi[5],$D0106,GetEnteringUnit())
call SetUnitPositionLocFacingLocBJ(udg_Jubi[$F],GetRectCenter(gg_rct_Gedo),GetUnitLoc(gg_unit_h00E_0087))
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_Jubi[$F],'I00L'))
call PauseUnit(udg_Jubi[$F],true)
call TriggerSleepAction(15.)
call PauseUnit(udg_Jubi[$F],false)
call RemoveUnit(udg_Jubi[5])
call SetUnitUserData(gg_unit_h00E_0087,(GetUnitUserData(gg_unit_h00E_0087)+1))
if(Trig_Ichibi_bidju_5_Func014C())then
call TriggerExecute(gg_trg_Ichibi_bidju_10)
else
set udg_Jubi[5]=null
set udg_Jubi[$F]=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endfunction
function InitTrig_Ichibi_bidju_5 takes nothing returns nothing
set gg_trg_Ichibi_bidju_5=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Ichibi_bidju_5,gg_rct_Gedo)
call TriggerAddCondition(gg_trg_Ichibi_bidju_5,Condition(function Trig_Ichibi_bidju_5_Conditions))
call TriggerAddAction(gg_trg_Ichibi_bidju_5,function Trig_Ichibi_bidju_5_Actions)
endfunction
function Trig_Ichibi_bidju_6_Conditions takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetEnteringUnit(),'I00M'))
endfunction
function Trig_Ichibi_bidju_6_Func014C takes nothing returns boolean
return(GetUnitUserData(gg_unit_h00E_0087)==9)
endfunction
function Trig_Ichibi_bidju_6_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set udg_Jubi[16]=GetEnteringUnit()
call CreateNUnitsAtLoc(1,'h01T',Player($D),GetRectCenter(gg_rct_Gedo_2),bj_UNIT_FACING)
set udg_Jubi[6]=bj_lastCreatedUnit
call IssueTargetOrderById(udg_Jubi[6],$D0106,GetEnteringUnit())
call SetUnitPositionLocFacingLocBJ(udg_Jubi[16],GetRectCenter(gg_rct_Gedo),GetUnitLoc(gg_unit_h00E_0087))
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_Jubi[16],'I00M'))
call PauseUnit(udg_Jubi[16],true)
call TriggerSleepAction(15.)
call PauseUnit(udg_Jubi[16],false)
call RemoveUnit(udg_Jubi[6])
call SetUnitUserData(gg_unit_h00E_0087,(GetUnitUserData(gg_unit_h00E_0087)+1))
if(Trig_Ichibi_bidju_6_Func014C())then
call TriggerExecute(gg_trg_Ichibi_bidju_10)
else
set udg_Jubi[6]=null
set udg_Jubi[16]=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endfunction
function InitTrig_Ichibi_bidju_6 takes nothing returns nothing
set gg_trg_Ichibi_bidju_6=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Ichibi_bidju_6,gg_rct_Gedo)
call TriggerAddCondition(gg_trg_Ichibi_bidju_6,Condition(function Trig_Ichibi_bidju_6_Conditions))
call TriggerAddAction(gg_trg_Ichibi_bidju_6,function Trig_Ichibi_bidju_6_Actions)
endfunction
function Trig_Ichibi_bidju_7_Conditions takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetEnteringUnit(),'I00N'))
endfunction
function Trig_Ichibi_bidju_7_Func014C takes nothing returns boolean
return(GetUnitUserData(gg_unit_h00E_0087)==9)
endfunction
function Trig_Ichibi_bidju_7_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set udg_Jubi[17]=GetEnteringUnit()
call CreateNUnitsAtLoc(1,'h01T',Player($D),GetRectCenter(gg_rct_Gedo_2),bj_UNIT_FACING)
set udg_Jubi[7]=bj_lastCreatedUnit
call IssueTargetOrderById(udg_Jubi[7],$D0106,GetEnteringUnit())
call SetUnitPositionLocFacingLocBJ(udg_Jubi[17],GetRectCenter(gg_rct_Gedo),GetUnitLoc(gg_unit_h00E_0087))
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_Jubi[17],'I00N'))
call PauseUnit(udg_Jubi[17],true)
call TriggerSleepAction(15.)
call PauseUnit(udg_Jubi[17],false)
call RemoveUnit(udg_Jubi[7])
call SetUnitUserData(gg_unit_h00E_0087,(GetUnitUserData(gg_unit_h00E_0087)+1))
if(Trig_Ichibi_bidju_7_Func014C())then
call TriggerExecute(gg_trg_Ichibi_bidju_10)
else
set udg_Jubi[7]=null
set udg_Jubi[17]=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endfunction
function InitTrig_Ichibi_bidju_7 takes nothing returns nothing
set gg_trg_Ichibi_bidju_7=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Ichibi_bidju_7,gg_rct_Gedo)
call TriggerAddCondition(gg_trg_Ichibi_bidju_7,Condition(function Trig_Ichibi_bidju_7_Conditions))
call TriggerAddAction(gg_trg_Ichibi_bidju_7,function Trig_Ichibi_bidju_7_Actions)
endfunction
function Trig_Ichibi_bidju_8_Conditions takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetEnteringUnit(),'I00O'))
endfunction
function Trig_Ichibi_bidju_8_Func014C takes nothing returns boolean
return(GetUnitUserData(gg_unit_h00E_0087)==9)
endfunction
function Trig_Ichibi_bidju_8_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set udg_Jubi[18]=GetEnteringUnit()
call CreateNUnitsAtLoc(1,'h01T',Player($D),GetRectCenter(gg_rct_Gedo_2),bj_UNIT_FACING)
set udg_Jubi[8]=bj_lastCreatedUnit
call IssueTargetOrderById(udg_Jubi[8],$D0106,GetEnteringUnit())
call SetUnitPositionLocFacingLocBJ(udg_Jubi[18],GetRectCenter(gg_rct_Gedo),GetUnitLoc(gg_unit_h00E_0087))
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_Jubi[18],'I00O'))
call PauseUnit(udg_Jubi[18],true)
call TriggerSleepAction(15.)
call PauseUnit(udg_Jubi[18],false)
call RemoveUnit(udg_Jubi[8])
call SetUnitUserData(gg_unit_h00E_0087,(GetUnitUserData(gg_unit_h00E_0087)+1))
if(Trig_Ichibi_bidju_8_Func014C())then
call TriggerExecute(gg_trg_Ichibi_bidju_10)
else
set udg_Jubi[8]=null
set udg_Jubi[18]=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endfunction
function InitTrig_Ichibi_bidju_8 takes nothing returns nothing
set gg_trg_Ichibi_bidju_8=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Ichibi_bidju_8,gg_rct_Gedo)
call TriggerAddCondition(gg_trg_Ichibi_bidju_8,Condition(function Trig_Ichibi_bidju_8_Conditions))
call TriggerAddAction(gg_trg_Ichibi_bidju_8,function Trig_Ichibi_bidju_8_Actions)
endfunction
function Trig_Ichibi_bidju_9_Func001C takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetEnteringUnit(),'I03M'))or(UnitHasItemOfTypeBJ(GetEnteringUnit(),'I00P'))
endfunction
function Trig_Ichibi_bidju_9_Conditions takes nothing returns boolean
return(Trig_Ichibi_bidju_9_Func001C())
endfunction
function Trig_Ichibi_bidju_9_Func015C takes nothing returns boolean
return(GetUnitUserData(gg_unit_h00E_0087)==9)
endfunction
function Trig_Ichibi_bidju_9_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set udg_Jubi[19]=GetEnteringUnit()
call CreateNUnitsAtLoc(1,'h01T',Player($D),GetRectCenter(gg_rct_Gedo_2),bj_UNIT_FACING)
set udg_Jubi[9]=bj_lastCreatedUnit
call IssueTargetOrderById(udg_Jubi[9],$D0106,GetEnteringUnit())
call SetUnitPositionLocFacingLocBJ(udg_Jubi[19],GetRectCenter(gg_rct_Gedo),GetUnitLoc(gg_unit_h00E_0087))
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_Jubi[19],'I03M'))
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_Jubi[19],'I00P'))
call PauseUnit(udg_Jubi[19],true)
call TriggerSleepAction(15.)
call PauseUnit(udg_Jubi[19],false)
call RemoveUnit(udg_Jubi[9])
call SetUnitUserData(gg_unit_h00E_0087,(GetUnitUserData(gg_unit_h00E_0087)+1))
if(Trig_Ichibi_bidju_9_Func015C())then
call TriggerExecute(gg_trg_Ichibi_bidju_10)
else
set udg_Jubi[9]=null
set udg_Jubi[19]=null
call DestroyTrigger(GetTriggeringTrigger())
endif
endfunction
function InitTrig_Ichibi_bidju_9 takes nothing returns nothing
set gg_trg_Ichibi_bidju_9=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Ichibi_bidju_9,gg_rct_Gedo)
call TriggerAddCondition(gg_trg_Ichibi_bidju_9,Condition(function Trig_Ichibi_bidju_9_Conditions))
call TriggerAddAction(gg_trg_Ichibi_bidju_9,function Trig_Ichibi_bidju_9_Actions)
endfunction
function Trig_Ichibi_bidju_Death_Func001C takes nothing returns boolean
return(GetDyingUnit()==udg_Jubi[$B])or(GetDyingUnit()==udg_Jubi[$C])or(GetDyingUnit()==udg_Jubi[$D])or(GetDyingUnit()==udg_Jubi[$E])or(GetDyingUnit()==udg_Jubi[$F])or(GetDyingUnit()==udg_Jubi[16])or(GetDyingUnit()==udg_Jubi[17])or(GetDyingUnit()==udg_Jubi[18])or(GetDyingUnit()==udg_Jubi[19])
endfunction
function Trig_Ichibi_bidju_Death_Conditions takes nothing returns boolean
return(Trig_Ichibi_bidju_Death_Func001C())
endfunction
function Trig_Ichibi_bidju_Death_Actions takes nothing returns nothing
call RemoveUnit(udg_Jubi[1])
call RemoveUnit(udg_Jubi[2])
call RemoveUnit(udg_Jubi[3])
call RemoveUnit(udg_Jubi[4])
call RemoveUnit(udg_Jubi[5])
call RemoveUnit(udg_Jubi[6])
call RemoveUnit(udg_Jubi[7])
call RemoveUnit(udg_Jubi[8])
call RemoveUnit(udg_Jubi[9])
endfunction
function InitTrig_Ichibi_bidju_Death takes nothing returns nothing
set gg_trg_Ichibi_bidju_Death=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Ichibi_bidju_Death,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Ichibi_bidju_Death,Condition(function Trig_Ichibi_bidju_Death_Conditions))
call TriggerAddAction(gg_trg_Ichibi_bidju_Death,function Trig_Ichibi_bidju_Death_Actions)
endfunction
function Trig_Ichibi_bidju_Conditions takes nothing returns boolean
return GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER and(GetUnitTypeId(GetEnteringUnit())=='u00Q' or GetUnitTypeId(GetEnteringUnit())=='u00R' or GetUnitTypeId(GetEnteringUnit())=='u00V' or GetUnitTypeId(GetEnteringUnit())=='u00S' or GetUnitTypeId(GetEnteringUnit())=='u00T' or GetUnitTypeId(GetEnteringUnit())=='u00W' or GetUnitTypeId(GetEnteringUnit())=='u00U' or GetUnitTypeId(GetEnteringUnit())=='u00X' or GetUnitTypeId(GetEnteringUnit())=='u017')
endfunction
function Trig_Ichibi_bidju_Actions takes nothing returns nothing
local unit b
call DisableTrigger(GetTriggeringTrigger())
set b=CreateUnitAtLoc(Player($D),'h01T',Location(GetRectCenterX(gg_rct_Gedo_2),GetRectCenterY(gg_rct_Gedo_2)),bj_UNIT_FACING)
call IssueTargetOrderById(b,$D0106,GetEnteringUnit())
call PauseUnit(GetEnteringUnit(),true)
call TriggerSleepAction(10.)
call RemoveUnit(GetEnteringUnit())
call RemoveUnit(b)
set b=null
call SetUnitUserData(gg_unit_h00E_0087,(GetUnitUserData(gg_unit_h00E_0087)+1))
if GetUnitUserData(gg_unit_h00E_0087)==9 then
call TriggerExecute(gg_trg_Ichibi_bidju_10)
call DisableTrigger(GetTriggeringTrigger())
else
call EnableTrigger(GetTriggeringTrigger())
endif
endfunction
function InitTrig_Ichibi_bidju takes nothing returns nothing
local region rectRegion
set gg_trg_Ichibi_bidju=CreateTrigger()
set rectRegion=CreateRegion()
call RegionAddRect(rectRegion,gg_rct_Gedo)
call TriggerRegisterEnterRegion(gg_trg_Ichibi_bidju,rectRegion,null)
call TriggerAddCondition(gg_trg_Ichibi_bidju,Condition(function Trig_Ichibi_bidju_Conditions))
call TriggerAddAction(gg_trg_Ichibi_bidju,function Trig_Ichibi_bidju_Actions)
set rectRegion=null
endfunction
function Trig_Gedo_death_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Ichibi_bidju)
call DisableTrigger(gg_trg_Ichibi_bidju_1)
call DisableTrigger(gg_trg_Ichibi_bidju_2)
call DisableTrigger(gg_trg_Ichibi_bidju_3)
call DisableTrigger(gg_trg_Ichibi_bidju_4)
call DisableTrigger(gg_trg_Ichibi_bidju_5)
call DisableTrigger(gg_trg_Ichibi_bidju_6)
call DisableTrigger(gg_trg_Ichibi_bidju_7)
call DisableTrigger(gg_trg_Ichibi_bidju_8)
call DisableTrigger(gg_trg_Ichibi_bidju_9)
call DisableTrigger(gg_trg_Ichibi_bidju_10)
endfunction
function InitTrig_Gedo_death takes nothing returns nothing
set gg_trg_Gedo_death=CreateTrigger()
call TriggerRegisterUnitEvent(gg_trg_Gedo_death,gg_unit_h00E_0087,EVENT_UNIT_DEATH)
call TriggerAddAction(gg_trg_Gedo_death,function Trig_Gedo_death_Actions)
endfunction
function Trig_Ichibi_item_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DestroyEffect(AddSpecialEffectLoc("Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl",GetUnitLoc(gg_unit_h00E_0087)))
call TriggerSleepAction(.2)
call CreateUnit(Player($C),'u01A',GetUnitX(gg_unit_h00E_0087),GetUnitY(gg_unit_h00E_0087),180.)
call RemoveUnit(gg_unit_h00E_0087)
call EnableTrigger(gg_trg_Madarevive)
endfunction
function InitTrig_Ichibi_bidju_10 takes nothing returns nothing
set gg_trg_Ichibi_bidju_10=CreateTrigger()
call TriggerAddAction(gg_trg_Ichibi_bidju_10,function Trig_Ichibi_item_Actions)
endfunction
function Shukaku_dead_Cond takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())=='u00Q'
endfunction
function Shukaku_dead_Act takes nothing returns nothing
local unit a=GetDyingUnit()
set bj_lastCreatedItem=CreateItem('I00I',GetUnitX(a),GetUnitY(a))
call TriggerSleepAction(5.)
call RemoveUnit(a)
set a=null
endfunction
function InitTrig_Shukaku_dead takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Shukaku_dead_Cond))
call TriggerAddAction(t,function Shukaku_dead_Act)
set t=null
endfunction
function Nibi_dead_Cond takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())=='u00R'
endfunction
function Nibi_dead_Act takes nothing returns nothing
local unit a=GetDyingUnit()
set bj_lastCreatedItem=CreateItem('I00J',GetUnitX(a),GetUnitY(a))
call TriggerSleepAction(5.)
call RemoveUnit(a)
set a=null
endfunction
function InitTrig_Nibi_dead takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Nibi_dead_Cond))
call TriggerAddAction(t,function Nibi_dead_Act)
set t=null
endfunction
function Sanbi_dead_Cond takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())=='u00V'
endfunction
function Sanbi_dead_Act takes nothing returns nothing
local unit a=GetDyingUnit()
set bj_lastCreatedItem=CreateItem('I00A',GetUnitX(a),GetUnitY(a))
call TriggerSleepAction(5.)
call RemoveUnit(a)
set a=null
endfunction
function InitTrig_Sanbi_dead takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Sanbi_dead_Cond))
call TriggerAddAction(t,function Sanbi_dead_Act)
set t=null
endfunction
function Yonbi_dead_Cond takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())=='u00S'
endfunction
function Yonbi_dead_Act takes nothing returns nothing
local unit a=GetDyingUnit()
set bj_lastCreatedItem=CreateItem('I00K',GetUnitX(a),GetUnitY(a))
call TriggerSleepAction(5.)
call RemoveUnit(a)
set a=null
endfunction
function InitTrig_Yonbi_dead takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Yonbi_dead_Cond))
call TriggerAddAction(t,function Yonbi_dead_Act)
set t=null
endfunction
function Gobi_dead_Cond takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())=='u00T'
endfunction
function Gobi_dead_Act takes nothing returns nothing
local unit a=GetDyingUnit()
set bj_lastCreatedItem=CreateItem('I00L',GetUnitX(a),GetUnitY(a))
call TriggerSleepAction(5.)
call RemoveUnit(a)
set a=null
endfunction
function InitTrig_Gobi_dead takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Gobi_dead_Cond))
call TriggerAddAction(t,function Gobi_dead_Act)
set t=null
endfunction
function Rokobi_dead_Cond takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())=='u00W'
endfunction
function Rokobi_dead_Act takes nothing returns nothing
local unit a=GetDyingUnit()
set bj_lastCreatedItem=CreateItem('I00M',GetUnitX(a),GetUnitY(a))
call TriggerSleepAction(5.)
call RemoveUnit(a)
set a=null
endfunction
function InitTrig_Rokobi_dead takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Rokobi_dead_Cond))
call TriggerAddAction(t,function Rokobi_dead_Act)
set t=null
endfunction
function Sichibi_dead_Cond takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())=='u00U'
endfunction
function Sichibi_dead_Act takes nothing returns nothing
local unit a=GetDyingUnit()
set bj_lastCreatedItem=CreateItem('I00N',GetUnitX(a),GetUnitY(a))
call TriggerSleepAction(5.)
call RemoveUnit(a)
set a=null
endfunction
function InitTrig_Sichibi_dead takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Sichibi_dead_Cond))
call TriggerAddAction(t,function Sichibi_dead_Act)
set t=null
endfunction
function Hachibi_dead_Cond takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())=='u00X'
endfunction
function Hachibi_dead_Act takes nothing returns nothing
local unit a=GetDyingUnit()
set bj_lastCreatedItem=CreateItem('I00O',GetUnitX(a),GetUnitY(a))
call TriggerSleepAction(5.)
call RemoveUnit(a)
set a=null
endfunction
function InitTrig_Hachibi_dead takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Hachibi_dead_Cond))
call TriggerAddAction(t,function Hachibi_dead_Act)
set t=null
endfunction
function Kurama_dead_Cond takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())=='u017'
endfunction
function Kurama_dead_Act takes nothing returns nothing
local unit a=GetDyingUnit()
set bj_lastCreatedItem=CreateItem('I03M',GetUnitX(a),GetUnitY(a))
call TriggerSleepAction(5.)
call RemoveUnit(a)
set a=null
endfunction
function InitTrig_Kurama_dead takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Kurama_dead_Cond))
call TriggerAddAction(t,function Kurama_dead_Act)
set t=null
endfunction
function Trig_Tentail_dead_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='u01A')
endfunction
function Trig_Tentail_dead_Actions takes nothing returns nothing
call CreateItemLoc('I00Q',GetUnitLoc(GetDyingUnit()))
endfunction
function InitTrig_Tentail_dead takes nothing returns nothing
set gg_trg_Tentail_dead=CreateTrigger()
call DisableTrigger(gg_trg_Tentail_dead)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Tentail_dead,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Tentail_dead,Condition(function Trig_Tentail_dead_Conditions))
call TriggerAddAction(gg_trg_Tentail_dead,function Trig_Tentail_dead_Actions)
endfunction
function Edo_Tensei_Orochimaru_Act takes nothing returns nothing
if IsUnitType(GetDyingUnit(),UNIT_TYPE_HERO) then
if GetUnitTypeId(GetDyingUnit())=='Ewrd' then
set udg_EdoTensei[1]=1
set udg_EdoTensei2[1]=GetDyingUnit()
endif
if GetUnitTypeId(GetDyingUnit())=='Eevi' then
set udg_EdoTensei[2]=1
set udg_EdoTensei2[2]=GetDyingUnit()
endif
if GetUnitTypeId(GetDyingUnit())=='Emns' then
set udg_EdoTensei[3]=1
set udg_EdoTensei2[3]=GetDyingUnit()
endif
if GetUnitTypeId(GetDyingUnit())=='Efur' then
set udg_EdoTensei[4]=1
set udg_EdoTensei2[4]=GetDyingUnit()
endif
if GetUnitTypeId(GetDyingUnit())=='Ewar' then
set udg_EdoTensei[5]=1
set udg_EdoTensei2[5]=GetDyingUnit()
endif
endif
if IsUnitType(GetDyingUnit(),UNIT_TYPE_HERO) and(GetOwningPlayer(udg_EdoTensei2[1])==Player(0)or GetOwningPlayer(udg_EdoTensei2[2])==Player(0)or GetOwningPlayer(udg_EdoTensei2[3])==Player(0)or GetOwningPlayer(udg_EdoTensei2[4])==Player(0))then
if GetUnitTypeId(GetDyingUnit())=='Ewrd' then
endif
if GetUnitTypeId(GetDyingUnit())=='Eevi' then
endif
if GetUnitTypeId(GetDyingUnit())=='Emns' then
endif
if GetUnitTypeId(GetDyingUnit())=='Efur' then
endif
if GetUnitTypeId(GetDyingUnit())=='Ewar' then
endif
endif
endfunction
function InitTrig_Edo_Tensei_Orochimaru takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddAction(t,function Edo_Tensei_Orochimaru_Act)
set t=null
endfunction
function Edo_Tensei_Orochimaru_2_Cond takes nothing returns boolean
return GetSpellAbilityId()=='S002'
endfunction
function Edo_Tensei_Orochimaru_2_Act takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local unit b=GetSpellTargetUnit()
if IsUnitType(b,UNIT_TYPE_HERO)==false then
set udg_EdoTensei['e']=1
if udg_EdoTensei[1]==1 and udg_EdoTensei['e']==1 then
call ReviveHeroLoc(udg_EdoTensei2[1],GetUnitLoc(b),false)
call SetUnitOwner(udg_EdoTensei2[1],GetOwningPlayer(a),true)
call KillUnit(b)
set udg_EdoTensei[1]=0
set udg_EdoTensei['e']=0
set udg_EdoTensei2[1]=null
endif
if udg_EdoTensei[2]==1 and udg_EdoTensei['e']==1 then
call ReviveHeroLoc(udg_EdoTensei2[2],GetUnitLoc(b),false)
call SetUnitOwner(udg_EdoTensei2[2],GetOwningPlayer(a),true)
call KillUnit(b)
set udg_EdoTensei[2]=0
set udg_EdoTensei['e']=0
set udg_EdoTensei2[2]=null
endif
if udg_EdoTensei[3]==1 and udg_EdoTensei['e']==1 then
call ReviveHeroLoc(udg_EdoTensei2[3],GetUnitLoc(b),false)
call SetUnitOwner(udg_EdoTensei2[3],GetOwningPlayer(a),true)
call KillUnit(b)
set udg_EdoTensei[3]=0
set udg_EdoTensei['e']=0
set udg_EdoTensei2[3]=null
endif
if udg_EdoTensei[4]==1 and udg_EdoTensei['e']==1 then
call ReviveHeroLoc(udg_EdoTensei2[4],GetUnitLoc(b),false)
call SetUnitOwner(udg_EdoTensei2[4],GetOwningPlayer(a),true)
call KillUnit(b)
set udg_EdoTensei[4]=0
set udg_EdoTensei['e']=0
set udg_EdoTensei2[4]=null
endif
if udg_EdoTensei[5]==1 and udg_EdoTensei['e']==1 then
call ReviveHeroLoc(udg_EdoTensei2[5],GetUnitLoc(b),false)
call SetUnitOwner(udg_EdoTensei2[5],GetOwningPlayer(a),true)
call KillUnit(b)
set udg_EdoTensei[5]=0
set udg_EdoTensei['e']=0
set udg_EdoTensei2[5]=null
endif
set udg_EdoTensei['e']=0
endif
set a=null
set b=null
endfunction
function InitTrig_Edo_Tensei_Orochimaru_2 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Edo_Tensei_Orochimaru_2_Cond))
call TriggerAddAction(t,function Edo_Tensei_Orochimaru_2_Act)
set t=null
endfunction
function Trig_Revive_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A04O'
endfunction
function Trig_Revive_Actions takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local unit b=CreateUnit(Player($D),GetUnitTypeId(a),GetUnitX(a),GetUnitY(a),0)
call KillUnit(b)
call ShowUnit(a,false)
call TriggerSleepAction(.3)
call ShowUnit(a,true)
call SetUnitState(a,UNIT_STATE_LIFE,GetUnitState(a,UNIT_STATE_LIFE)+1000.)
call RemoveUnit(b)
set a=null
set b=null
endfunction
function InitTrig_Revive takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_Revive_Conditions))
call TriggerAddAction(t,function Trig_Revive_Actions)
set t=null
endfunction
function Trig_Kusanagi_sword_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A04T'
endfunction
function Trig_Kusanagi_sword_Actions takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local unit b=GetSpellTargetUnit()
local real dmg
call TriggerSleepAction(.03)
call SetUnitPositionLoc(a,GetUnitLoc(b))
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl",b,"chest"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl",b,"chest"))
if(GetUnitAbilityLevel(a,'A04T')==1)then
set dmg=$8C+GetHeroInt(a,false)*2
endif
call UnitDamageTarget(a,b,dmg,false,false,null,null,null)
set a=null
set b=null
endfunction
function InitTrig_Kusanagi_sword takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_Kusanagi_sword_Conditions))
call TriggerAddAction(t,function Trig_Kusanagi_sword_Actions)
set t=null
endfunction
function Trig_change_of_Body_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A06W')
endfunction
function Trig_change_of_Body_Actions takes nothing returns nothing
set udg_Orocgimaru[62]=GetSpellAbilityUnit()
set udg_Orocgimaru[61]=GetSpellTargetUnit()
set udg_CasterPoint[9]=GetUnitLoc(udg_Orocgimaru[62])
set udg_HookDistance[71]=GetUnitLifePercent(udg_Orocgimaru[62])
call TriggerSleepAction(.05)
call SetUnitPositionLocFacingBJ(udg_Orocgimaru[62],GetUnitLoc(udg_Orocgimaru[61]),GetUnitFacing(udg_Orocgimaru[61]))
call SetUnitLifePercentBJ(udg_Orocgimaru[62],GetUnitLifePercent(udg_Orocgimaru[61]))
call SetUnitPositionLocFacingLocBJ(udg_Orocgimaru[61],udg_CasterPoint[9],GetUnitLoc(udg_Orocgimaru[62]))
call SetUnitLifePercentBJ(udg_Orocgimaru[61],udg_HookDistance[71])
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Orocgimaru[61]),"Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Orocgimaru[61]),"Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Orocgimaru[62]),"Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Orocgimaru[62]),"Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set udg_Orocgimaru[61]=null
set udg_Orocgimaru[62]=null
set udg_HookDistance[71]=.0
call RemoveLocation(udg_CasterPoint[9])
set udg_CasterPoint[9]=null
endfunction
function InitTrig_change_of_Body takes nothing returns nothing
set gg_trg_change_of_Body=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_change_of_Body,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_change_of_Body,Condition(function Trig_change_of_Body_Conditions))
call TriggerAddAction(gg_trg_change_of_Body,function Trig_change_of_Body_Actions)
endfunction
function Rashoumon_Cond takes nothing returns boolean
return GetSpellAbilityId()=='A01X'
endfunction
function Rashoumon_Act takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local unit b
call PauseUnit(a,true)
call SetUnitAnimation(a,"Stand three")
call TriggerSleepAction(1.5)
set b=CreateUnit(GetOwningPlayer(a),'h049',GetUnitX(a)+$C8*Cos(GetUnitFacing(a)*bj_DEGTORAD),GetUnitY(a)+$C8*Sin(GetUnitFacing(a)*bj_DEGTORAD),GetUnitFacing(a))
call UnitApplyTimedLife(b,'BTLF',$A)
call PauseUnit(a,false)
set a=null
set b=null
endfunction
function InitTrig_Rashoumon takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Rashoumon_Cond))
call TriggerAddAction(t,function Rashoumon_Act)
set t=null
endfunction
function Rashoumon_remove_Cond takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())=='h049'
endfunction
function Rashoumon_remove takes nothing returns nothing
local unit a=GetDyingUnit()
call TriggerSleepAction(4)
call RemoveUnit(a)
set a=null
endfunction
function InitTrig_Rashoumon_remove takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==$E
endloop
call TriggerAddCondition(t,Condition(function Rashoumon_remove_Cond))
call TriggerAddAction(t,function Rashoumon_remove)
set t=null
endfunction
function Trig_Snake_spell_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A06Q')
endfunction
function Trig_Snake_spell_Func001Func001C takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B001'))or(IsUnitPaused(GetSpellTargetUnit()))
endfunction
function Trig_Snake_spell_Func001Func009Func001001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A06Q',udg_Orocgimaru[55])==1)
endfunction
function Trig_Snake_spell_Func001Func009Func002001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A06Q',udg_Orocgimaru[55])==2)
endfunction
function Trig_Snake_spell_Func001Func009Func003001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A06Q',udg_Orocgimaru[55])==3)
endfunction
function Trig_Snake_spell_Func001Func009Func004001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A06Q',udg_Orocgimaru[55])==4)
endfunction
function Trig_Snake_spell_Func001Func009Func005Func010C takes nothing returns boolean
return(IsUnitAliveBJ(udg_Orocgimaru[53]))and(DistanceBetweenPoints(GetUnitLoc(udg_Orocgimaru[53]),GetUnitLoc(udg_Orocgimaru[54]))<=180.)
endfunction
function Trig_Snake_spell_Func001Func009Func005C takes nothing returns boolean
return(Trig_Snake_spell_Func001Func009Func005Func010C())
endfunction
function Trig_Snake_spell_Func001C takes nothing returns boolean
return(Trig_Snake_spell_Func001Func001C())
endfunction
function Trig_Snake_spell_Actions takes nothing returns nothing
if(Trig_Snake_spell_Func001C())then
else
set udg_Orocgimaru[53]=GetSpellTargetUnit()
call CreateNUnitsAtLoc(1,'u00I',Player($F),GetUnitLoc(udg_Orocgimaru[53]),GetRandomReal(0,360))
set udg_Orocgimaru[54]=bj_lastCreatedUnit
set udg_Orocgimaru[55]=GetSpellAbilityUnit()
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitPositionLoc(bj_lastCreatedUnit,GetUnitLoc(udg_Orocgimaru[53]))
call PauseUnit(udg_Orocgimaru[53],true)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=21
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if(Trig_Snake_spell_Func001Func009Func001001())then
call TriggerSleepAction(.04)
endif
if(Trig_Snake_spell_Func001Func009Func002001())then
call TriggerSleepAction(.06)
endif
if(Trig_Snake_spell_Func001Func009Func003001())then
call TriggerSleepAction(.08)
endif
if(Trig_Snake_spell_Func001Func009Func004001())then
call TriggerSleepAction(.1)
endif
if(Trig_Snake_spell_Func001Func009Func005C())then
call SetUnitPositionLoc(udg_Orocgimaru[54],GetUnitLoc(udg_Orocgimaru[53]))
else
call RemoveUnit(udg_Orocgimaru[54])
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Orocgimaru[53]),"shadowclone.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call UnitRemoveAbility(udg_Orocgimaru[53],'BPSE')
call PauseUnit(udg_Orocgimaru[53],false)
set udg_Orocgimaru[53]=null
set udg_Orocgimaru[54]=null
set udg_Orocgimaru[55]=null
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveUnit(udg_Orocgimaru[54])
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Orocgimaru[53]),"shadowclone.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call UnitRemoveAbility(udg_Orocgimaru[53],'BPSE')
call PauseUnit(udg_Orocgimaru[53],false)
set udg_Orocgimaru[53]=null
set udg_Orocgimaru[54]=null
set udg_Orocgimaru[55]=null
endif
endfunction
function InitTrig_Snake_spell takes nothing returns nothing
set gg_trg_Snake_spell=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Snake_spell,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Snake_spell,Condition(function Trig_Snake_spell_Conditions))
call TriggerAddAction(gg_trg_Snake_spell,function Trig_Snake_spell_Actions)
endfunction
function Trig_Wind_wave_of_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A06Y')
endfunction
function Trig_Wind_wave_of_Actions takes nothing returns nothing
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(GetTriggerUnit()),PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),-200.,0),GetUnitFacing(GetTriggerUnit()))
call UnitAddAbility(bj_lastCreatedUnit,'A06X')
call SetUnitAbilityLevelSwapped('A06X',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A06Y',GetTriggerUnit()))
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitPositionLoc(bj_lastCreatedUnit,PolarProjectionBJ(GetUnitLoc(bj_lastCreatedUnit),-300.,GetUnitFacing(bj_lastCreatedUnit)))
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,PolarProjectionBJ(GetUnitLoc(bj_lastCreatedUnit),300.,GetUnitFacing(bj_lastCreatedUnit)))
call UnitApplyTimedLifeBJ(1.,'Brai',bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(GetTriggerUnit()),PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),-200.,(GetUnitFacing(GetTriggerUnit())+90.)),GetUnitFacing(GetTriggerUnit()))
call UnitAddAbility(bj_lastCreatedUnit,'A06X')
call SetUnitAbilityLevelSwapped('A06X',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A06Y',GetTriggerUnit()))
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitPositionLoc(bj_lastCreatedUnit,PolarProjectionBJ(GetUnitLoc(bj_lastCreatedUnit),-300.,GetUnitFacing(bj_lastCreatedUnit)))
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,PolarProjectionBJ(GetUnitLoc(bj_lastCreatedUnit),300.,GetUnitFacing(bj_lastCreatedUnit)))
call UnitApplyTimedLifeBJ(1.,'Brai',bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(GetTriggerUnit()),PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),-200.,(GetUnitFacing(GetTriggerUnit())-90.)),GetUnitFacing(GetTriggerUnit()))
call UnitAddAbility(bj_lastCreatedUnit,'A06X')
call SetUnitAbilityLevelSwapped('A06X',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A06Y',GetTriggerUnit()))
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitPositionLoc(bj_lastCreatedUnit,PolarProjectionBJ(GetUnitLoc(bj_lastCreatedUnit),-300.,GetUnitFacing(bj_lastCreatedUnit)))
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,PolarProjectionBJ(GetUnitLoc(bj_lastCreatedUnit),300.,GetUnitFacing(bj_lastCreatedUnit)))
call UnitApplyTimedLifeBJ(1.,'Brai',bj_lastCreatedUnit)
endfunction
function InitTrig_Wind_wave_of takes nothing returns nothing
set gg_trg_Wind_wave_of=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Wind_wave_of,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Wind_wave_of,Condition(function Trig_Wind_wave_of_Conditions))
call TriggerAddAction(gg_trg_Wind_wave_of,function Trig_Wind_wave_of_Actions)
endfunction
function Trig_Meat_Hook_Func001C takes nothing returns boolean
return(GetSpellAbilityId()=='A07Y')
endfunction
function Trig_Meat_Hook_Actions takes nothing returns nothing
if(Trig_Meat_Hook_Func001C())then
set udg_Hooked[0]=null
set udg_HookDistance[0]=.0
set udg_HookCount[0]=0
set udg_TargetPoint[1]=GetSpellTargetLoc()
set udg_CasterPoint[1]=GetUnitLoc(GetSpellAbilityUnit())
set udg_meathookanglediff[0]=AngleBetweenPoints(udg_CasterPoint[1],udg_TargetPoint[1])
call StartTimerBJ(udg_HookTimer[0],true,.03)
endif
endfunction
function InitTrig_Meat_Hook takes nothing returns nothing
set gg_trg_Meat_Hook=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Meat_Hook,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(gg_trg_Meat_Hook,function Trig_Meat_Hook_Actions)
endfunction
function Trig_Periodic_Hook_Func001Func010C takes nothing returns boolean
return(udg_HookCount[0]<=0)
endfunction
function Trig_Periodic_Hook_Func001C takes nothing returns boolean
return(udg_HookDistance[0]>=1000.)
endfunction
function Trig_Periodic_Hook_Func002Func001Func002002001003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_GROUND))!=null
endfunction
function Trig_Periodic_Hook_Func002Func001Func002002001003002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_Periodic_Hook_Func002Func001Func002002001003002002001 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())!=GetOwningPlayer(gg_unit_Hant_0028))
endfunction
function Trig_Periodic_Hook_Func002Func001Func002002001003002002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetFilterUnit(),'B001')==false)
endfunction
function Trig_Periodic_Hook_Func002Func001Func002002001003002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Periodic_Hook_Func002Func001Func002002001003002002001(),Trig_Periodic_Hook_Func002Func001Func002002001003002002002())
endfunction
function Trig_Periodic_Hook_Func002Func001Func002002001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_Periodic_Hook_Func002Func001Func002002001003002001(),Trig_Periodic_Hook_Func002Func001Func002002001003002002())
endfunction
function Trig_Periodic_Hook_Func002Func001Func002002001003 takes nothing returns boolean
return GetBooleanAnd(Trig_Periodic_Hook_Func002Func001Func002002001003001(),Trig_Periodic_Hook_Func002Func001Func002002001003002())
endfunction
function Trig_Periodic_Hook_Func002Func001C takes nothing returns boolean
return(udg_HookDistance[0]<1000.)
endfunction
function Trig_Periodic_Hook_Func002C takes nothing returns boolean
return(udg_Hooked[0]==null)
endfunction
function Trig_Periodic_Hook_Actions takes nothing returns nothing
if(Trig_Periodic_Hook_Func001C())then
call RemoveUnit(udg_hook1[udg_HookCount[0]])
set udg_HookCount[0]=(udg_HookCount[0]-1)
call RemoveLocation(udg_TargetPoint[1])
set udg_TargetPoint[1]=null
call RemoveLocation(udg_CasterPoint[1])
set udg_CasterPoint[1]=null
call RemoveLocation(udg_aatemp1)
set udg_aatemp1=null
if(Trig_Periodic_Hook_Func001Func010C())then
call PauseTimerBJ(true,udg_HookTimer[0])
endif
else
set udg_HookCount[0]=(udg_HookCount[0]+1)
set udg_HookDistance[0]=(udg_HookDistance[0]+80.)
set udg_aatemp1=PolarProjectionBJ(udg_CasterPoint[1],udg_HookDistance[0],udg_meathookanglediff[0])
call CreateNUnitsAtLoc(1,'h046',GetOwningPlayer(gg_unit_Hant_0028),udg_aatemp1,udg_meathookanglediff[0])
call SetUnitAnimation(bj_lastCreatedUnit,"death")
set udg_hook1[udg_HookCount[0]]=bj_lastCreatedUnit
endif
if(Trig_Periodic_Hook_Func002C())then
if(Trig_Periodic_Hook_Func002Func001C())then
set udg_aatemp1=PolarProjectionBJ(udg_CasterPoint[1],udg_HookDistance[0],udg_meathookanglediff[0])
set udg_Hooked[0]=GroupPickRandomUnit(GetUnitsInRangeOfLocMatching(160.,udg_aatemp1,Condition(function Trig_Periodic_Hook_Func002Func001Func002002001003)))
endif
else
call UnitDamageTargetBJ(gg_unit_Hant_0028,udg_Hooked[0],30.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
call RemoveUnit(udg_hook1[udg_HookCount[0]])
set udg_HookCount[0]=(udg_HookCount[0]-1)
set udg_aatemp1=GetUnitLoc(udg_hook1[udg_HookCount[0]])
call SetUnitPositionLoc(udg_Hooked[0],udg_aatemp1)
endif
endfunction
function InitTrig_Periodic_Hook takes nothing returns nothing
set gg_trg_Periodic_Hook=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_Periodic_Hook,udg_HookTimer[0])
call TriggerAddAction(gg_trg_Periodic_Hook,function Trig_Periodic_Hook_Actions)
endfunction
function Trig_Snake_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A080')
endfunction
function Trig_Snake_Actions takes nothing returns nothing
set udg_Angle[$A8]=R2I(GetUnitFacing(gg_unit_Hant_0028))
call EnableTrigger(gg_trg_Snake_Move)
call SetUnitTimeScalePercent(gg_unit_Hant_0028,300.)
endfunction
function InitTrig_Snake takes nothing returns nothing
set gg_trg_Snake=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Snake,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Snake,Condition(function Trig_Snake_Conditions))
call TriggerAddAction(gg_trg_Snake,function Trig_Snake_Actions)
endfunction
function Trig_Snake_Move_Conditions takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_Hant_0028))
endfunction
function Trig_Snake_Move_Actions takes nothing returns nothing
call CreateNUnitsAtLoc(1,'h047',GetOwningPlayer(gg_unit_Hant_0028),GetUnitLoc(gg_unit_Hant_0028),(udg_Angle[$A8]+GetRandomReal(.0,30.)))
call SetUnitAbilityLevelSwapped('A07Z',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A080',gg_unit_Hant_0028))
call SetUnitPathing(bj_lastCreatedUnit,false)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0012,PolarProjectionBJ(GetUnitLoc(bj_lastCreatedUnit),1000.,(udg_Angle[$A8]+GetRandomReal(0,30.))))
call UnitApplyTimedLifeBJ(1.9,'BTLF',bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'h047',GetOwningPlayer(gg_unit_Hant_0028),GetUnitLoc(gg_unit_Hant_0028),(udg_Angle[$A8]-GetRandomReal(.0,30.)))
call SetUnitAbilityLevelSwapped('A07Z',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A080',gg_unit_Hant_0028))
call SetUnitPathing(bj_lastCreatedUnit,false)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0012,PolarProjectionBJ(GetUnitLoc(bj_lastCreatedUnit),1000.,(udg_Angle[$A8]-GetRandomReal(0,30.))))
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
endfunction
function InitTrig_Snake_Move takes nothing returns nothing
set gg_trg_Snake_Move=CreateTrigger()
call DisableTrigger(gg_trg_Snake_Move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Snake_Move,.1)
call TriggerAddCondition(gg_trg_Snake_Move,Condition(function Trig_Snake_Move_Conditions))
call TriggerAddAction(gg_trg_Snake_Move,function Trig_Snake_Move_Actions)
endfunction
function Trig_Snake_End_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A080')
endfunction
function Trig_Snake_End_Actions takes nothing returns nothing
call DisableTrigger(gg_trg_Snake_Move)
call SetUnitTimeScalePercent(gg_unit_Hant_0028,100.)
endfunction
function InitTrig_Snake_End takes nothing returns nothing
set gg_trg_Snake_End=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Snake_End,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(gg_trg_Snake_End,Condition(function Trig_Snake_End_Conditions))
call TriggerAddAction(gg_trg_Snake_End,function Trig_Snake_End_Actions)
endfunction
function Trig_Snake_Die_Func001C takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='h046')or(GetUnitTypeId(GetDyingUnit())=='h047')
endfunction
function Trig_Snake_Die_Conditions takes nothing returns boolean
return(Trig_Snake_Die_Func001C())
endfunction
function Trig_Snake_Die_Actions takes nothing returns nothing
call RemoveUnit(GetDyingUnit())
endfunction
function InitTrig_Snake_Die takes nothing returns nothing
set gg_trg_Snake_Die=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Snake_Die,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Snake_Die,Condition(function Trig_Snake_Die_Conditions))
call TriggerAddAction(gg_trg_Snake_Die,function Trig_Snake_Die_Actions)
endfunction
function Trig_move_to_Snake_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A085'
endfunction
function Trig_move_to_Snake_Actions takes nothing returns nothing
call DestroyEffect(AddSpecialEffectLoc("Objects\\Spawnmodels\\Orc\\OrcLargeDeathExplode\\OrcLargeDeathExplode.mdl",GetUnitLoc(gg_unit_Hant_0028)))
call SetUnitPositionLoc(gg_unit_Hant_0028,GetUnitLoc(GetSpellAbilityUnit()))
call DestroyEffect(AddSpecialEffectLoc("Objects\\Spawnmodels\\Orc\\OrcLargeDeathExplode\\OrcLargeDeathExplode.mdl",GetUnitLoc(GetSpellAbilityUnit())))
call RemoveUnit(GetSpellAbilityUnit())
endfunction
function InitTrig_move_to_Snake takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_move_to_Snake_Conditions))
call TriggerAddAction(t,function Trig_move_to_Snake_Actions)
set t=null
endfunction
function Trig_Metamorh_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A08B')
endfunction
function Trig_Metamorh_Actions takes nothing returns nothing
set udg_Kabuto=GetTriggerUnit()
set udg_UnitPoint[30]=GetUnitLoc(udg_Kabuto)
call AddSpecialEffectLocBJ(udg_UnitPoint[30],"Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call ShowUnitHide(udg_Kabuto)
call CreateNUnitsAtLoc(1,'u00N',GetOwningPlayer(udg_Kabuto),udg_UnitPoint[30],GetUnitFacing(udg_Kabuto))
call RemoveLocation(udg_UnitPoint[30])
set udg_UnitPoint[30]=null
endfunction
function InitTrig_Metamorh takes nothing returns nothing
set gg_trg_Metamorh=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Metamorh,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Metamorh,Condition(function Trig_Metamorh_Conditions))
call TriggerAddAction(gg_trg_Metamorh,function Trig_Metamorh_Actions)
endfunction
function Trig_Metamorh_2_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='u00N')
endfunction
function Trig_Metamorh_2_Actions takes nothing returns nothing
set udg_UnitPoint[30]=GetUnitLoc(GetDyingUnit())
call SetUnitAnimation(GetDyingUnit(),"spell two")
call RemoveUnit(GetDyingUnit())
call SetUnitPositionLoc(udg_Kabuto,udg_UnitPoint[30])
call AddSpecialEffectLocBJ(udg_UnitPoint[30],"Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call ShowUnitShow(udg_Kabuto)
set udg_Kabuto=null
call RemoveLocation(udg_UnitPoint[30])
set udg_UnitPoint[30]=null
endfunction
function InitTrig_Metamorh_2 takes nothing returns nothing
set gg_trg_Metamorh_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Metamorh_2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Metamorh_2,Condition(function Trig_Metamorh_2_Conditions))
call TriggerAddAction(gg_trg_Metamorh_2,function Trig_Metamorh_2_Actions)
endfunction
function Trig_Metamorh_3_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A08A')
endfunction
function Trig_Metamorh_3_Actions takes nothing returns nothing
call KillUnit(GetSpellAbilityUnit())
endfunction
function InitTrig_Metamorh_3 takes nothing returns nothing
set gg_trg_Metamorh_3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Metamorh_3,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Metamorh_3,Condition(function Trig_Metamorh_3_Conditions))
call TriggerAddAction(gg_trg_Metamorh_3,function Trig_Metamorh_3_Actions)
endfunction
function Trig_sleep_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A063'
endfunction
function Trig_sleep_Actions takes nothing returns nothing
call SetUnitAnimation(GetSpellTargetUnit(),"death")
endfunction
function InitTrig_sleep takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_sleep_Conditions))
call TriggerAddAction(t,function Trig_sleep_Actions)
set t=null
endfunction
function Trig_Hand_Hand_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A060')
endfunction
function Trig_Hand_Hand_Actions takes nothing returns nothing
set udg_Asuma[2]=GetSpellAbilityUnit()
call EnableTrigger(gg_trg_Hand_Hand_damage)
call TriggerSleepAction(20.)
call DisableTrigger(gg_trg_Hand_Hand_damage)
set udg_Asuma[2]=null
endfunction
function InitTrig_Hand_Hand takes nothing returns nothing
set gg_trg_Hand_Hand=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hand_Hand,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Hand_Hand,Condition(function Trig_Hand_Hand_Conditions))
call TriggerAddAction(gg_trg_Hand_Hand,function Trig_Hand_Hand_Actions)
endfunction
function Trig_Hand_Hand_damage_Conditions takes nothing returns boolean
return(GetAttacker()==gg_unit_Hgam_0030)
endfunction
function Trig_Hand_Hand_damage_Func001001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A060',gg_unit_Hgam_0030)==1)
endfunction
function Trig_Hand_Hand_damage_Func002001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A060',gg_unit_Hgam_0030)==2)
endfunction
function Trig_Hand_Hand_damage_Func003001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A060',gg_unit_Hgam_0030)==3)
endfunction
function Trig_Hand_Hand_damage_Func004001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A060',gg_unit_Hgam_0030)==4)
endfunction
function Trig_Hand_Hand_damage_Func005C takes nothing returns boolean
return((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false)and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_MECHANICAL)==false)and(UnitHasBuffBJ(GetTriggerUnit(),'B001')==false))!=null
endfunction
function Trig_Hand_Hand_damage_Actions takes nothing returns nothing
if(Trig_Hand_Hand_damage_Func001001())then
call UnitDamageTargetBJ(gg_unit_Hgam_0030,GetTriggerUnit(),(.4*I2R(GetHeroStatBJ(2,gg_unit_Hgam_0030,true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
endif
if(Trig_Hand_Hand_damage_Func002001())then
call UnitDamageTargetBJ(gg_unit_Hgam_0030,GetTriggerUnit(),(.8*I2R(GetHeroStatBJ(2,gg_unit_Hgam_0030,true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
endif
if(Trig_Hand_Hand_damage_Func003001())then
call UnitDamageTargetBJ(gg_unit_Hgam_0030,GetTriggerUnit(),(1.1*I2R(GetHeroStatBJ(2,gg_unit_Hgam_0030,true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
endif
if(Trig_Hand_Hand_damage_Func004001())then
call UnitDamageTargetBJ(gg_unit_Hgam_0030,GetTriggerUnit(),(1.4*I2R(GetHeroStatBJ(2,gg_unit_Hgam_0030,true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
endif
if(Trig_Hand_Hand_damage_Func005C())then
call AddSpecialEffectTargetUnitBJ("chest",GetTriggerUnit(),"Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call IssueTargetOrderById(GroupPickRandomUnit(GetUnitsOfTypeIdAll('u00E')),$D006B,GetTriggerUnit())
endif
endfunction
function InitTrig_Hand_Hand_damage takes nothing returns nothing
set gg_trg_Hand_Hand_damage=CreateTrigger()
call DisableTrigger(gg_trg_Hand_Hand_damage)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hand_Hand_damage,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Hand_Hand_damage,Condition(function Trig_Hand_Hand_damage_Conditions))
call TriggerAddAction(gg_trg_Hand_Hand_damage,function Trig_Hand_Hand_damage_Actions)
endfunction
function Hand_kinjal_Cond takes nothing returns boolean
return(GetSpellAbilityId()=='A064')
endfunction
function Hand_kinjal_Act takes nothing returns nothing
local unit j=GetSpellTargetUnit()
local unit u=GetTriggerUnit()
local real x=GetWidgetX(u)
local real y=GetWidgetY(u)
local real x1=GetWidgetX(j)
local real y1=GetWidgetY(j)
local real a=bj_RADTODEG*Atan2(y1-y,x1-x)
local integer lop=1
local integer lopend=6
if(GetUnitAbilityLevel(j,'A064')>0)then
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageDeathCaster.mdl",x,y))
set x1=GetWidgetX(j)-'d'*Cos(a*bj_DEGTORAD)
set y1=GetWidgetY(j)-'d'*Sin(a*bj_DEGTORAD)
call SetUnitX(u,x1)
call SetUnitY(u,y1)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageDeathCaster.mdl",x1,y1))
call SetUnitAnimation(u,"attack")
else
call PauseUnit(u,true)
call PauseUnit(j,true)
set udg_SEffect[16]=AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile_mini.mdl",u,"right hand")
set udg_SEffect[17]=AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile_mini.mdl",u,"left hand")
call SetUnitTimeScale(u,$C8*.01)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageDeathCaster.mdl",x,y))
set x1=GetWidgetX(j)-'d'*Cos(a*bj_DEGTORAD)
set y1=GetWidgetY(j)-'d'*Sin(a*bj_DEGTORAD)
call SetUnitX(u,x1)
call SetUnitY(u,y1)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageDeathCaster.mdl",x1,y1))
loop
exitwhen lop>lopend or IsUnitType(u,UNIT_TYPE_DEAD)or IsUnitType(j,UNIT_TYPE_DEAD)
call TriggerSleepAction(.05)
call SetUnitAnimation(u,"attack")
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",j,"chest"))
if(GetUnitAbilityLevel(u,'A064')==1)then
call UnitDamageTarget(u,j,(.5*I2R(GetHeroStatBJ(2,u,false))),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
elseif(GetUnitAbilityLevel(u,'A064')==2)then
call UnitDamageTarget(u,j,(1*I2R(GetHeroStatBJ(2,u,false))),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
elseif(GetUnitAbilityLevel(u,'A064')==3)then
call UnitDamageTarget(u,j,(1.5*I2R(GetHeroStatBJ(2,u,false))),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
elseif(GetUnitAbilityLevel(u,'A064')==4)then
call UnitDamageTarget(u,j,(2*I2R(GetHeroStatBJ(2,u,false))),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endif
set lop=lop+1
endloop
call PauseUnit(u,false)
call PauseUnit(j,false)
call DestroyEffect(udg_SEffect[16])
call DestroyEffect(udg_SEffect[17])
endif
set u=null
set j=null
endfunction
function InitTrig_Hand_kinjal takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Hand_kinjal_Cond))
call TriggerAddAction(t,function Hand_kinjal_Act)
set t=null
endfunction
function Trig_Sanin_Kabuto_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A099'
endfunction
function Trig_Sanin_Kabuto_Actions takes nothing returns nothing
local unit u=GetTriggerUnit()
local trigger Sanin_Kabuto_Deathe=CreateTrigger()
if(udg_Sanin_Kabuto==false)then
set udg_Sanin_Kabuto=true
call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A060',false)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A01H',false)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A064',false)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A07H',false)
set udg_Kabuto_Sage=u
call EnableTrigger(gg_trg_Sanin_Kabuto_Deathe)
else
call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A060',true)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A01H',true)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A064',true)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A07H',true)
set udg_Sanin_Kabuto=false
call DisableTrigger(gg_trg_Sanin_Kabuto_Deathe)
endif
set u=null
set udg_Kabuto_Sage=null
set Sanin_Kabuto_Deathe=null
endfunction
function InitTrig_Sanin_Kabuto takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_Sanin_Kabuto_Conditions))
call TriggerAddAction(t,function Trig_Sanin_Kabuto_Actions)
set t=null
endfunction
function Trig_Sanin_Kabuto_Deathe_Conditions takes nothing returns boolean
return GetUnitTypeId(GetTriggerUnit())=='H041'
endfunction
function Trig_Sanin_Kabuto_Deathe_Actions takes nothing returns nothing
local unit u=GetDyingUnit()
call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A060',true)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A01H',true)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A064',true)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A07H',true)
set udg_Sanin_Kabuto=false
set u=null
endfunction
function InitTrig_Sanin_Kabuto_Deathe takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_Sanin_Kabuto_Deathe_Conditions))
call TriggerAddAction(t,function Trig_Sanin_Kabuto_Deathe_Actions)
set t=null
endfunction
function J_Act takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
local unit b=LoadUnitHandle(hash,GetHandleId(t),2)
local group g=CreateGroup()
local unit n
call GroupEnumUnitsInRange(g,GetUnitX(b),GetUnitY(b),350,null)
loop
set n=FirstOfGroup(g)
exitwhen n==null
if IsUnitEnemy(n,GetOwningPlayer(a)) and GetUnitState(n,UNIT_STATE_LIFE)>0 then
call UnitDamageTarget(a,n,500+GetHeroInt(a,false)*2,true,false,null,null,null)
endif
call GroupRemoveUnit(g,n)
endloop
call DestroyGroup(g)
set a=null
set b=null
set n=null
set g=null
set t=null
endfunction
function Jirobu_A takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local real d=bj_RADTODEG*Atan2(GetSpellTargetY()-GetUnitY(a),GetSpellTargetX()-GetUnitX(a))
local unit b
local unit bp
local real c=0
local timer t
call PauseUnit(a,true)
call SetUnitAnimation(a,"spell slam")
call TriggerSleepAction(.1)
set b=CreateUnit(GetOwningPlayer(a),'h01M',GetUnitX(a)+26*Cos(GetUnitFacing(a)*bj_DEGTORAD),GetUnitY(a)+26*Sin(GetUnitFacing(a)*bj_DEGTORAD),d)
set bp=CreateUnit(GetOwningPlayer(a),'h02V',x,y,0)
call TriggerSleepAction(.4)
call PauseUnit(a,false)
call RemoveUnit(b)
loop
exitwhen c>72
call DestroyEffect(AddSpecialEffect("lb_novatarget.mdx",GetUnitX(bp)+'d'*Cos(5*c*bj_DEGTORAD),GetUnitY(bp)+'d'*Sin(5*c*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("lb_novatarget.mdx",GetUnitX(bp)+$C8*Cos(5*c*bj_DEGTORAD),GetUnitY(bp)+$C8*Sin(5*c*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("lb_novatarget.mdx",GetUnitX(bp)+350*Cos(5*c*bj_DEGTORAD),GetUnitY(bp)+350*Sin(5*c*bj_DEGTORAD)))
set c=c+3
endloop
set t=CreateTimer()
call SaveUnitHandle(hash,GetHandleId(t),1,a)
call SaveUnitHandle(hash,GetHandleId(t),2,bp)
call TimerStart(t,.03,true,function J_Act)
call TriggerSleepAction(1)
call RemoveUnit(bp)
call PauseTimer(t)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
set a=null
set b=null
set bp=null
set t=null
set d=0
set c=0
endfunction
function Jirobu_C takes nothing returns boolean
return GetSpellAbilityId()=='A058'
endfunction
function InitTrig_Jirobu takes nothing returns nothing
local trigger J=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(J,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==$E
endloop
call TriggerAddCondition(J,Condition(function Jirobu_C))
call TriggerAddAction(J,function Jirobu_A)
set J=null
endfunction
function Ki_Act takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
local unit b=LoadUnitHandle(hash,GetHandleId(t),2)
local unit cjlocgn_00000000
local group cjlocgn_00000001
local unit cjlocgn_00000002
if GetUnitState(b,UNIT_STATE_MANA)<=.0 then
set cjlocgn_00000000=CreateUnit(GetOwningPlayer(a),'h02Z',GetUnitX(b),GetUnitY(b),0)
call UnitApplyTimedLife(cjlocgn_00000000,'BTLF',3)
call IssueImmediateOrderById(cjlocgn_00000000,$D0080)
set cjlocgn_00000001=CreateGroup()
call GroupEnumUnitsInRange(cjlocgn_00000001,GetUnitX(b),GetUnitY(b),600,null)
loop
set cjlocgn_00000002=FirstOfGroup(cjlocgn_00000001)
exitwhen cjlocgn_00000002==null
if IsUnitEnemy(cjlocgn_00000002,GetOwningPlayer(a)) and GetUnitState(cjlocgn_00000002,UNIT_STATE_LIFE)>0 then
endif
call GroupRemoveUnit(cjlocgn_00000001,cjlocgn_00000002)
endloop
call DestroyGroup(cjlocgn_00000001)
set cjlocgn_00000001=null
set cjlocgn_00000002=null
call PauseTimer(t)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
call RemoveUnit(b)
set a=null
set b=null
set t=null
else
call SetUnitX(b,GetWidgetX(b)+30*Cos(GetUnitFacing(b)*bj_DEGTORAD))
call SetUnitY(b,GetWidgetY(b)+30*Sin(GetUnitFacing(b)*bj_DEGTORAD))
call SetUnitState(b,UNIT_STATE_MANA,GetUnitState(b,UNIT_STATE_MANA)-30)
endif
set t=null
set a=null
set b=null
set cjlocgn_00000000=null
endfunction
function Kidomaru_A takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local real dx=GetSpellTargetX()-GetUnitX(a)
local real dy=GetSpellTargetY()-GetUnitY(a)
local real dxy=SquareRoot(dx*dx+dy*dy)
local real d=bj_RADTODEG*Atan2(GetSpellTargetY()-GetUnitY(a),GetSpellTargetX()-GetUnitX(a))
local unit b
local unit bp
local timer t
call PauseUnit(a,true)
call SetUnitAnimation(a,"spell three")
set b=CreateUnit(GetOwningPlayer(a),'h02W',GetUnitX(a)+$A*Cos(GetUnitFacing(a)*bj_DEGTORAD),GetUnitY(a)+$A*Sin(GetUnitFacing(a)*bj_DEGTORAD),d)
call TriggerSleepAction(.1)
call RemoveUnit(b)
set bp=CreateUnit(GetOwningPlayer(a),'h02Y',GetUnitX(a),GetUnitY(a),d)
call SetUnitState(b,UNIT_STATE_MANA,R2I(dxy))
set t=CreateTimer()
call SaveUnitHandle(hash,GetHandleId(t),1,a)
call SaveUnitHandle(hash,GetHandleId(t),2,bp)
call PauseUnit(a,false)
call TimerStart(t,.02,true,function Ki_Act)
set a=null
set b=null
set bp=null
set t=null
set dx=0
set dy=0
set dxy=0
set d=0
endfunction
function Kidomaru_C takes nothing returns boolean
return GetSpellAbilityId()=='A05B'
endfunction
function InitTrig_Kidomaru takes nothing returns nothing
local trigger K=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(K,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==$E
endloop
call TriggerAddCondition(K,Condition(function Kidomaru_C))
call TriggerAddAction(K,function Kidomaru_A)
set K=null
endfunction
function Ta_Act takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
local unit b=LoadUnitHandle(hash,GetHandleId(t),2)
local group g=CreateGroup()
local unit n
if GetUnitAbilityLevel(a,'A05A')>0 then
call SetUnitX(b,GetUnitX(a))
call SetUnitY(b,GetUnitY(a))
else
call FlushChildHashtable(hash,GetHandleId(t))
call FlushChildHashtable(hash,GetHandleId(a))
set b=null
set a=null
set t=null
endif
call GroupEnumUnitsInRange(g,GetUnitX(b),GetUnitY(b),450,null)
loop
set n=FirstOfGroup(g)
exitwhen n==null
if IsUnitEnemy(n,GetOwningPlayer(a)) and GetUnitState(n,UNIT_STATE_LIFE)>0 then
call PauseUnit(n,true)
call DestroyEffect(AddSpecialEffectTarget("s_music.mdx",n,"overhead"))
endif
call GroupRemoveUnit(g,n)
endloop
call DestroyGroup(g)
set g=null
set n=null
set b=null
set a=null
set t=null
endfunction
function Tauy_A takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local real d=bj_RADTODEG*Atan2(GetSpellTargetY()-GetUnitY(a),GetSpellTargetX()-GetUnitX(a))
local unit b
local unit bp
local timer t
local group g1
local unit n1
call PauseUnit(a,true)
call SetUnitAnimation(a,"spell")
set b=CreateUnit(GetOwningPlayer(a),'h030',GetUnitX(a)+$A*Cos(GetUnitFacing(a)*bj_DEGTORAD),GetUnitY(a)+$A*Sin(GetUnitFacing(a)*bj_DEGTORAD),d)
call TriggerSleepAction(.1)
set bp=CreateUnit(GetOwningPlayer(a),'h031',GetUnitX(a)+20*Cos(GetUnitFacing(a)*bj_DEGTORAD),GetUnitY(a)+20*Sin(GetUnitFacing(a)*bj_DEGTORAD),d)
set t=CreateTimer()
call SaveUnitHandle(hash,GetHandleId(t),1,a)
call SaveUnitHandle(hash,GetHandleId(t),2,bp)
call RemoveUnit(b)
call PauseUnit(a,false)
call TimerStart(t,2,true,function Ta_Act)
call TriggerSleepAction($F)
set g1=CreateGroup()
call GroupEnumUnitsInRange(g1,GetUnitX(bp),GetUnitY(bp),450,null)
loop
set n1=FirstOfGroup(g1)
exitwhen n1==null
if IsUnitEnemy(n1,GetOwningPlayer(a)) and GetUnitState(n1,UNIT_STATE_LIFE)>0 then
call PauseUnit(n1,false)
endif
call GroupRemoveUnit(g1,n1)
endloop
call DestroyGroup(g1)
call RemoveUnit(bp)
call PauseTimer(t)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
set a=null
set n1=null
set g1=null
set b=null
set bp=null
set t=null
set d=0
endfunction
function Tauy_C takes nothing returns boolean
return GetSpellAbilityId()=='A05A'
endfunction
function InitTrig_Tauy takes nothing returns nothing
local trigger TA=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(TA,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==$E
endloop
call TriggerAddCondition(TA,Condition(function Tauy_C))
call TriggerAddAction(TA,function Tauy_A)
set TA=null
endfunction
function K_Act takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
local real ch=GetRandomInt(-500,500)
local unit s=CreateUnit(GetOwningPlayer(a),'h033',GetUnitX(a)+ch*Cos(ch*bj_DEGTORAD),GetUnitY(a)+ch*Sin(ch*bj_DEGTORAD),0)
local group g
local unit n
call UnitApplyTimedLife(s,'BTLF',3)
call SetUnitAnimation(s,"birth")
set g=CreateGroup()
call GroupEnumUnitsInRange(g,GetUnitX(s),GetUnitY(s),90,null)
loop
set n=FirstOfGroup(g)
exitwhen n==null
if IsUnitEnemy(n,GetOwningPlayer(a)) and GetUnitState(n,UNIT_STATE_LIFE)>0 then
call UnitDamageTarget(a,n,$5DC+GetHeroInt(a,false)*1.5,true,false,null,null,null)
endif
call GroupRemoveUnit(g,n)
endloop
call DestroyGroup(g)
set a=null
set s=null
set ch=0
set n=null
set g=null
set t=null
endfunction
function Kimmimaro_A takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local real d=bj_RADTODEG*Atan2(GetSpellTargetY()-GetUnitY(a),GetSpellTargetX()-GetUnitX(a))
local unit b
local timer t
call PauseUnit(a,true)
call SetUnitAnimation(a,"spell")
call TriggerSleepAction(.1)
set b=CreateUnit(GetOwningPlayer(a),'h032',GetUnitX(a)+$A*Cos(GetUnitFacing(a)*bj_DEGTORAD),GetUnitY(a)+$A*Sin(GetUnitFacing(a)*bj_DEGTORAD),d)
call TriggerSleepAction(.3)
call RemoveUnit(b)
set t=CreateTimer()
call SaveUnitHandle(hash,GetHandleId(t),1,a)
call TimerStart(t,.02,true,function K_Act)
call TriggerSleepAction(3)
call PauseUnit(a,false)
call PauseTimer(t)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
set a=null
set b=null
set t=null
set d=0
endfunction
function Kimmimaro_C takes nothing returns boolean
return GetSpellAbilityId()=='A05C'
endfunction
function InitTrig_Kimmimaro takes nothing returns nothing
local trigger K=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(K,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==$E
endloop
call TriggerAddCondition(K,Condition(function Kimmimaro_C))
call TriggerAddAction(K,function Kimmimaro_A)
set K=null
endfunction
function Dragon_Act takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
local unit b=LoadUnitHandle(hash,GetHandleId(t),2)
local unit cjlocgn_00000000
local group cjlocgn_00000001
local unit cjlocgn_00000002
if GetUnitState(b,UNIT_STATE_MANA)<=.0 then
set cjlocgn_00000000=CreateUnit(GetOwningPlayer(a),'h035',GetUnitX(b),GetUnitY(b),0)
call UnitApplyTimedLife(cjlocgn_00000000,'BTLF',3)
call IssueImmediateOrderById(cjlocgn_00000000,$D0080)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(a),'h036',GetUnitX(b),GetUnitY(b),0),'BTLF',3)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(a),'h036',GetUnitX(b),GetUnitY(b),0),'BTLF',3)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(a),'h036',GetUnitX(b),GetUnitY(b),0),'BTLF',3)
set cjlocgn_00000001=CreateGroup()
call GroupEnumUnitsInRange(cjlocgn_00000001,GetUnitX(b),GetUnitY(b),600,null)
loop
set cjlocgn_00000002=FirstOfGroup(cjlocgn_00000001)
exitwhen cjlocgn_00000002==null
if IsUnitEnemy(cjlocgn_00000002,GetOwningPlayer(a)) and GetUnitState(cjlocgn_00000002,UNIT_STATE_LIFE)>0 then
call UnitDamageTarget(a,cjlocgn_00000002,$9C4+GetHeroInt(a,false)*2,true,false,ATTACK_TYPE_PIERCE,null,null)
endif
call GroupRemoveUnit(cjlocgn_00000001,cjlocgn_00000002)
endloop
call TerrainDeformationRippleBJ(4,false,GetUnitLoc(b),0,440,64,1,512)
call DestroyGroup(cjlocgn_00000001)
set cjlocgn_00000001=null
set cjlocgn_00000002=null
call PauseTimer(t)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
call RemoveUnit(b)
set a=null
set b=null
set t=null
else
call SetUnitX(b,GetWidgetX(b)+30*Cos(GetUnitFacing(b)*bj_DEGTORAD))
call SetUnitY(b,GetWidgetY(b)+30*Sin(GetUnitFacing(b)*bj_DEGTORAD))
call SetUnitState(b,UNIT_STATE_MANA,GetUnitState(b,UNIT_STATE_MANA)-30)
endif
set t=null
set a=null
set b=null
set cjlocgn_00000000=null
endfunction
function Dragon_A takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local real dx=GetSpellTargetX()-GetUnitX(a)
local real dy=GetSpellTargetY()-GetUnitY(a)
local real dxy=SquareRoot(dx*dx+dy*dy)
local real d=bj_RADTODEG*Atan2(GetSpellTargetY()-GetUnitY(a),GetSpellTargetX()-GetUnitX(a))
local unit b
local timer t
call PauseUnit(a,true)
call SetUnitAnimation(a,"spell two")
call TriggerSleepAction(.5)
set b=CreateUnit(GetOwningPlayer(a),'h034',GetUnitX(a),GetUnitY(a),d)
call SetUnitState(b,UNIT_STATE_MANA,R2I(dxy))
set t=CreateTimer()
call SaveUnitHandle(hash,GetHandleId(t),1,a)
call SaveUnitHandle(hash,GetHandleId(t),2,b)
call PauseUnit(a,false)
call TimerStart(t,.02,true,function Dragon_Act)
set a=null
set b=null
set t=null
set dx=0
set dy=0
set dxy=0
set d=0
endfunction
function Dragon_C takes nothing returns boolean
return GetSpellAbilityId()=='A05E'
endfunction
function InitTrig_Dragon takes nothing returns nothing
local trigger D=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(D,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==$E
endloop
call TriggerAddCondition(D,Condition(function Dragon_C))
call TriggerAddAction(D,function Dragon_A)
set D=null
endfunction
function Trig_Cleaner_Conditions takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())=='h033' or GetUnitTypeId(GetDyingUnit())=='h036' or GetUnitTypeId(GetDyingUnit())=='h02Z' or GetUnitTypeId(GetDyingUnit())=='h035'
endfunction
function Trig_Cleaner_Actions takes nothing returns nothing
local unit a=GetDyingUnit()
call TriggerSleepAction(.1)
call RemoveUnit(a)
set a=null
endfunction
function InitTrig_Cleaner takes nothing returns nothing
local trigger Cleaner=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(Cleaner,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==$E
endloop
call TriggerAddCondition(Cleaner,Condition(function Trig_Cleaner_Conditions))
call TriggerAddAction(Cleaner,function Trig_Cleaner_Actions)
set Cleaner=null
endfunction
function Trig_Sharingan1_Conditions takes nothing returns boolean
return GetUnitAbilityLevel(GetAttacker(),'A052')==1
endfunction
function Trig_Sasuke1_Func001C takes nothing returns boolean
return udg_Sharingan<=$A
endfunction
function Trig_Sharingan1_Actions takes nothing returns nothing
local real cjlocgn_00000000
local real cjlocgn_00000001
set udg_Sharingan=GetRandomInt(1,'d')
if(Trig_Sasuke1_Func001C())then
set cjlocgn_00000000=GetUnitX(GetTriggerUnit())+$8C*Cos(GetUnitFacing(GetAttacker())*bj_DEGTORAD)
set cjlocgn_00000001=GetUnitY(GetTriggerUnit())+$8C*Sin(GetUnitFacing(GetAttacker())*bj_DEGTORAD)
call SetUnitPosition(GetAttacker(),cjlocgn_00000000,cjlocgn_00000001)
call UnitDamageTarget(GetAttacker(),GetTriggerUnit(),50,false,false,null,null,null)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetTriggerUnit(),"origin"))
endif
endfunction
function InitTrig_Sharingan1 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_ATTACKED,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_Sharingan1_Conditions))
call TriggerAddAction(t,function Trig_Sharingan1_Actions)
set t=null
endfunction
function Trig_Sharingan2_Conditions takes nothing returns boolean
return GetUnitAbilityLevel(GetAttacker(),'A05J')==1
endfunction
function Trig_Sasuke2_Func001C takes nothing returns boolean
return udg_Sharingan<=$F
endfunction
function Trig_Sharingan2_Actions takes nothing returns nothing
local real cjlocgn_00000000
local real cjlocgn_00000001
set udg_Sharingan=GetRandomInt(1,'d')
if(Trig_Sasuke2_Func001C())then
set cjlocgn_00000000=GetUnitX(GetTriggerUnit())+$8C*Cos(GetUnitFacing(GetAttacker())*bj_DEGTORAD)
set cjlocgn_00000001=GetUnitY(GetTriggerUnit())+$8C*Sin(GetUnitFacing(GetAttacker())*bj_DEGTORAD)
call SetUnitPosition(GetAttacker(),cjlocgn_00000000,cjlocgn_00000001)
call UnitDamageTarget(GetAttacker(),GetTriggerUnit(),75,false,false,null,null,null)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetTriggerUnit(),"origin"))
endif
endfunction
function InitTrig_Sharingan2 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_ATTACKED,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_Sharingan2_Conditions))
call TriggerAddAction(t,function Trig_Sharingan2_Actions)
set t=null
endfunction
function Trig_Sharingan2I_Conditions takes nothing returns boolean
return GetUnitAbilityLevel(GetAttacker(),'A062')==1
endfunction
function Trig_Sasuke2I_Func001C takes nothing returns boolean
return udg_Sharingan<=$F
endfunction
function Trig_Sharingan2I_Actions takes nothing returns nothing
local real cjlocgn_00000000
local real cjlocgn_00000001
set udg_Sharingan=GetRandomInt(1,'d')
if(Trig_Sasuke2I_Func001C())then
set cjlocgn_00000000=GetUnitX(GetTriggerUnit())+$8C*Cos(GetUnitFacing(GetAttacker())*bj_DEGTORAD)
set cjlocgn_00000001=GetUnitY(GetTriggerUnit())+$8C*Sin(GetUnitFacing(GetAttacker())*bj_DEGTORAD)
call SetUnitPosition(GetAttacker(),cjlocgn_00000000,cjlocgn_00000001)
call UnitDamageTarget(GetAttacker(),GetTriggerUnit(),75,false,false,null,null,null)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetTriggerUnit(),"origin"))
endif
endfunction
function InitTrig_Sharingan2I takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_ATTACKED,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_Sharingan2I_Conditions))
call TriggerAddAction(t,function Trig_Sharingan2I_Actions)
set t=null
endfunction
function Trig_Sharingan3_Conditions takes nothing returns boolean
return GetUnitAbilityLevel(GetAttacker(),'A07J')==1
endfunction
function Trig_Sasuke3_Func001C takes nothing returns boolean
return udg_Sharingan<=25
endfunction
function Trig_Sharingan3_Actions takes nothing returns nothing
local real cjlocgn_00000000
local real cjlocgn_00000001
set udg_Sharingan=GetRandomInt(1,'d')
if(Trig_Sasuke3_Func001C())then
set cjlocgn_00000000=GetUnitX(GetTriggerUnit())+$8C*Cos(GetUnitFacing(GetAttacker())*bj_DEGTORAD)
set cjlocgn_00000001=GetUnitY(GetTriggerUnit())+$8C*Sin(GetUnitFacing(GetAttacker())*bj_DEGTORAD)
call SetUnitPosition(GetAttacker(),cjlocgn_00000000,cjlocgn_00000001)
call UnitDamageTarget(GetAttacker(),GetTriggerUnit(),'d',false,false,null,null,null)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetTriggerUnit(),"origin"))
endif
endfunction
function InitTrig_Sharingan3 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_ATTACKED,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_Sharingan3_Conditions))
call TriggerAddAction(t,function Trig_Sharingan3_Actions)
set t=null
endfunction
function Trig_Dummy_Sasuke_Func001Func002C takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='h015')or(GetUnitTypeId(GetDyingUnit())=='h00K')or(GetUnitTypeId(GetDyingUnit())=='h00L')or(GetUnitTypeId(GetDyingUnit())=='h00M')or(GetUnitTypeId(GetDyingUnit())=='h00N')or(GetUnitTypeId(GetDyingUnit())=='h00R')or(GetUnitTypeId(GetDyingUnit())=='h00S')or(GetUnitTypeId(GetDyingUnit())=='h00U')or(GetUnitTypeId(GetDyingUnit())=='h00V')or(GetUnitTypeId(GetDyingUnit())=='h00W')or(GetUnitTypeId(GetDyingUnit())=='h00X')or(GetUnitTypeId(GetDyingUnit())=='h00Y')or(GetUnitTypeId(GetDyingUnit())=='h00O')or(GetUnitTypeId(GetDyingUnit())=='h00P')or(GetUnitTypeId(GetDyingUnit())=='h00Q')or(GetUnitTypeId(GetDyingUnit())=='h012')or(GetUnitTypeId(GetDyingUnit())=='h00Z')or(GetUnitTypeId(GetDyingUnit())=='h010')or(GetUnitTypeId(GetDyingUnit())=='h011')or(GetUnitTypeId(GetDyingUnit())=='h017')or(GetUnitTypeId(GetDyingUnit())=='h019')or(GetUnitTypeId(GetDyingUnit())=='h01A')or(GetUnitTypeId(GetDyingUnit())=='h014')or(GetUnitTypeId(GetDyingUnit())=='h013')or(GetUnitTypeId(GetDyingUnit())=='h016')
endfunction
function Trig_Dummy_Sasuke_Func001C takes nothing returns boolean
return(Trig_Dummy_Sasuke_Func001Func002C())
endfunction
function Trig_Dummy_Sasuke_Actions takes nothing returns nothing
if(Trig_Dummy_Sasuke_Func001C())then
call RemoveUnit(GetDyingUnit())
endif
endfunction
function InitTrig_Dummy_Sasuke takes nothing returns nothing
set gg_trg_Dummy_Sasuke=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Dummy_Sasuke,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_Dummy_Sasuke,function Trig_Dummy_Sasuke_Actions)
endfunction
function Trig_KatonAll_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A00J'
endfunction
function Trig_KatonAll_Actions takes nothing returns nothing
local unit c=GetSpellAbilityUnit()
local integer id=0
if GetSpellTargetUnit()==c then
if GetUnitAbilityLevel(c,'A00J')==4 and SasukeKirinSetap==false then
set SasukeKirinSetap=true
set SasukeKirinUse=false
call EnableWeatherEffect(udg_Kirin_Liv,true)
set SasukeKirinDamage=0
set SasukeKirinMax=0
set SasukeKirinControl=25
if SasukeKirinOne==false then
set id=GetUnitAbilityLevel(c,'A00J')
call SetPlayerAbilityAvailable(GetOwningPlayer(c),'A00J',false)
call SetPlayerAbilityAvailable(GetOwningPlayer(c),'A02R',false)
call UnitAddAbility(c,'A00N')
call SetUnitAbilityLevel(c,'A00N',id)
call UnitAddAbility(c,'A00K')
set SasukeKirinOne=true
if GetUnitAbilityLevel(c,'B003')>0 then
call UnitRemoveAbility(c,'B003')
endif
call sc__KirinSetapStruct_KirinSetapStart(c)
call sc__KirinSetap2Struct_KirinSetap2Start(c)
else
set id=GetUnitAbilityLevel(c,'A00J')
call SetPlayerAbilityAvailable(GetOwningPlayer(c),'A00J',false)
call SetPlayerAbilityAvailable(GetOwningPlayer(c),'A00N',true)
call SetPlayerAbilityAvailable(GetOwningPlayer(c),'A02R',false)
call SetPlayerAbilityAvailable(GetOwningPlayer(c),'A00K',true)
call SetUnitAbilityLevel(c,'A00N',id)
if GetUnitAbilityLevel(c,'B003')>0 then
call UnitRemoveAbility(c,'B003')
endif
call sc__KirinSetapStruct_KirinSetapStart(c)
call sc__KirinSetap2Struct_KirinSetap2Start(c)
endif
call sc__KirinSasukeStruct_KirinSasukeStart(c,id)
else
call sc__KatonSasukeStruct_KatonSasukeStart(c)
endif
else
call sc__KatonSasukeStruct_KatonSasukeStart(c)
endif
set c=null
endfunction
function InitTrig_KatonAll takes nothing returns nothing
local integer index
set gg_trg_KatonAll=CreateTrigger()
set index=0
loop
call TriggerRegisterPlayerUnitEvent(gg_trg_KatonAll,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(gg_trg_KatonAll,Condition(function Trig_KatonAll_Conditions))
call TriggerAddAction(gg_trg_KatonAll,function Trig_KatonAll_Actions)
endfunction
function Trig_KatonAll2_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A00N'
endfunction
function Trig_KatonAll2_Actions takes nothing returns nothing
local unit c=GetSpellAbilityUnit()
local integer id=0
set id=GetUnitAbilityLevel(c,'A00N')
call sc__KirinSasukeStruct_KirinSasukeStart(c,id)
if(GetLocalPlayer()==GetOwningPlayer(c))then
call SetCameraField(CAMERA_FIELD_TARGET_DISTANCE,$8FC,.01)
endif
set c=null
endfunction
function InitTrig_KatonAll2 takes nothing returns nothing
local integer index
set gg_trg_KatonAll2=CreateTrigger()
set index=0
loop
call TriggerRegisterPlayerUnitEvent(gg_trg_KatonAll2,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(gg_trg_KatonAll2,Condition(function Trig_KatonAll2_Conditions))
call TriggerAddAction(gg_trg_KatonAll2,function Trig_KatonAll2_Actions)
endfunction
function s__KirinSetap3Struct_KirinSetap3StopAction takes integer this,integer e returns nothing
set s__KirinSetap3Struct_m[e]=s__KirinSetap3Struct_m[s__KirinSetap3Struct_DI]
set s__KirinSetap3Struct_DI=s__KirinSetap3Struct_DI-1
if s__KirinSetap3Struct_DI==-1 then
call PauseTimer(s__KirinSetap3Struct_t)
endif
endfunction
function s__KirinSetap3Struct_KirinSetap3Movie takes nothing returns nothing
local integer this
local integer i=0
loop
exitwhen i>s__KirinSetap3Struct_DI
set this=s__KirinSetap3Struct_m[i]
set SasukeKirinCD=SasukeKirinCD-1
if SasukeKirinCD=='d' or SasukeKirinCD==80 or SasukeKirinCD==60 or SasukeKirinCD==40 or SasukeKirinCD==20 or SasukeKirinCD==$A then
call DisplayTimedTextToPlayer(GetOwningPlayer(s__KirinSetap3Struct_c[this]),0,0,1,"|c00FC0000System Message: |r |cFF39CAFFВы сможете использовать Kirin через: |r"+I2S(SasukeKirinCD)+"|cFF39CAFF секунд|r")
endif
if SasukeKirinCD!=0 then
else
set SasukeKirinSetap=false
call DisplayTimedTextToPlayer(GetOwningPlayer(s__KirinSetap3Struct_c[this]),0,0,2,"|c00FC0000System Message: |r |cFF39CAFFВы снова можете использовать Kirin|r")
set s__KirinSetap3Struct_c[this]=null
call s__KirinSetap3Struct_KirinSetap3StopAction(this,i)
call s__KirinSetap3Struct_deallocate(this)
endif
set i=i+1
endloop
endfunction
function s__KirinSetap3Struct_KirinSetap3Start takes unit NewCaster returns nothing
local integer this=s__KirinSetap3Struct__allocate()
set s__KirinSetap3Struct_DI=s__KirinSetap3Struct_DI+1
set s__KirinSetap3Struct_m[s__KirinSetap3Struct_DI]=this
set s__KirinSetap3Struct_c[this]=NewCaster
if s__KirinSetap3Struct_DI==0 then
call TimerStart(s__KirinSetap3Struct_t,1,true,function s__KirinSetap3Struct_KirinSetap3Movie)
endif
endfunction
function s__KirinSetap2Struct_KirinSetap2StopAction takes integer this,integer e returns nothing
set s__KirinSetap2Struct_m[e]=s__KirinSetap2Struct_m[s__KirinSetap2Struct_DI]
set s__KirinSetap2Struct_DI=s__KirinSetap2Struct_DI-1
if s__KirinSetap2Struct_DI==-1 then
call PauseTimer(s__KirinSetap2Struct_t)
endif
endfunction
function s__KirinSetap2Struct_KirinSetap2Movie takes nothing returns nothing
local integer this
local integer i=0
loop
exitwhen i>s__KirinSetap2Struct_DI
set this=s__KirinSetap2Struct_m[i]
set SasukeKirinControl=SasukeKirinControl-1
call DisplayTimedTextToPlayer(GetOwningPlayer(s__KirinSetap2Struct_c[this]),0,0,1,"|c00FC0000System Message: |r |cFF39CAFFВремя на использование Kirin: |r"+I2S(SasukeKirinControl)+"|cFF39CAFF секунд|r")
if SasukeKirinControl!=0 then
else
if SasukeKirinUse==false then
call SetPlayerAbilityAvailable(GetOwningPlayer(s__KirinSetap2Struct_c[this]),'A00K',false)
call SetPlayerAbilityAvailable(GetOwningPlayer(s__KirinSetap2Struct_c[this]),'A02R',true)
set SasukeKirinUse=true
set SasukeKirinCD='x'
call s__KirinSetap3Struct_KirinSetap3Start(s__KirinSetap2Struct_c[this])
endif
call EnableWeatherEffect(udg_Kirin_Liv,false)
set s__KirinSetap2Struct_c[this]=null
call s__KirinSetap2Struct_KirinSetap2StopAction(this,i)
call s__KirinSetap2Struct_deallocate(this)
endif
set i=i+1
endloop
endfunction
function s__KirinSetap2Struct_KirinSetap2Start takes unit NewCaster returns nothing
local integer this=s__KirinSetap2Struct__allocate()
set s__KirinSetap2Struct_DI=s__KirinSetap2Struct_DI+1
set s__KirinSetap2Struct_m[s__KirinSetap2Struct_DI]=this
set s__KirinSetap2Struct_c[this]=NewCaster
if s__KirinSetap2Struct_DI==0 then
call TimerStart(s__KirinSetap2Struct_t,1,true,function s__KirinSetap2Struct_KirinSetap2Movie)
endif
endfunction
function s__KirinSetapStruct_KirinSetapStopAction takes integer this,integer e returns nothing
set s__KirinSetapStruct_m[e]=s__KirinSetapStruct_m[s__KirinSetapStruct_DI]
set s__KirinSetapStruct_DI=s__KirinSetapStruct_DI-1
if s__KirinSetapStruct_DI==-1 then
call PauseTimer(s__KirinSetapStruct_t)
endif
endfunction
function s__KirinSetapStruct_KirinSetapMovie takes nothing returns nothing
local integer this
local integer i=0
loop
exitwhen i>s__KirinSetapStruct_DI
set this=s__KirinSetapStruct_m[i]
set s__KirinSetapStruct_count[this]=s__KirinSetapStruct_count[this]+1
if s__KirinSetapStruct_count[this]!=$5DC and SasukeKirinMax!=4 and SasukeKirinUse==false then
else
call SetPlayerAbilityAvailable(GetOwningPlayer(s__KirinSetapStruct_c[this]),'A00N',false)
call SetPlayerAbilityAvailable(GetOwningPlayer(s__KirinSetapStruct_c[this]),'A00J',true)
set s__KirinSetapStruct_c[this]=null
call s__KirinSetapStruct_KirinSetapStopAction(this,i)
call s__KirinSetapStruct_deallocate(this)
endif
set i=i+1
endloop
endfunction
function s__KirinSetapStruct_KirinSetapStart takes unit NewCaster returns nothing
local integer this=s__KirinSetapStruct__allocate()
set s__KirinSetapStruct_DI=s__KirinSetapStruct_DI+1
set s__KirinSetapStruct_m[s__KirinSetapStruct_DI]=this
set s__KirinSetapStruct_c[this]=NewCaster
set s__KirinSetapStruct_count[this]=0
if s__KirinSetapStruct_DI==0 then
call TimerStart(s__KirinSetapStruct_t,.01,true,function s__KirinSetapStruct_KirinSetapMovie)
endif
endfunction
function s__KatonSasukeStruct_KatonSasukeStopAction takes integer this,integer e returns nothing
set s__KatonSasukeStruct_m[e]=s__KatonSasukeStruct_m[s__KatonSasukeStruct_DI]
set s__KatonSasukeStruct_DI=s__KatonSasukeStruct_DI-1
if s__KatonSasukeStruct_DI==-1 then
call PauseTimer(s__KatonSasukeStruct_t)
endif
endfunction
function s__KatonSasukeStruct_KatonSasukeMovie takes nothing returns nothing
local integer this
local integer i=0
local group cjlocgn_00000000
loop
exitwhen i>s__KatonSasukeStruct_DI
set this=s__KatonSasukeStruct_m[i]
call SetUnitX(s__KatonSasukeStruct_d[this],GetUnitX(s__KatonSasukeStruct_d[this])+$A*Cos(s__KatonSasukeStruct_a[this]))
call SetUnitY(s__KatonSasukeStruct_d[this],GetUnitY(s__KatonSasukeStruct_d[this])+$A*Sin(s__KatonSasukeStruct_a[this]))
set cjlocgn_00000000=CreateGroup()
call GroupEnumUnitsInRange(cjlocgn_00000000,GetUnitX(s__KatonSasukeStruct_d[this]),GetUnitY(s__KatonSasukeStruct_d[this]),$AF,null)
loop
set s__KatonSasukeStruct_n[this]=FirstOfGroup(cjlocgn_00000000)
exitwhen s__KatonSasukeStruct_n[this]==null
if IsUnitEnemy(s__KatonSasukeStruct_n[this],GetOwningPlayer(s__KatonSasukeStruct_c[this]))and not IsUnitInGroup(s__KatonSasukeStruct_n[this],SasukeKatonD)and GetWidgetLife(s__KatonSasukeStruct_n[this])>0 and IsUnitType(s__KatonSasukeStruct_n[this],UNIT_TYPE_STRUCTURE)==false then
call UnitDamageTarget(s__KatonSasukeStruct_c[this],s__KatonSasukeStruct_n[this],'i'*s__KatonSasukeStruct_id[this],true,false,null,null,null)
call GroupAddUnit(SasukeKatonD,s__KatonSasukeStruct_n[this])
endif
call GroupRemoveUnit(cjlocgn_00000000,s__KatonSasukeStruct_n[this])
endloop
call DestroyGroup(cjlocgn_00000000)
set cjlocgn_00000000=null
if s__KatonSasukeStruct_count2[this]==.2 then
set s__KatonSasukeStruct_count2[this]=0
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(s__KatonSasukeStruct_c[this]),'h00L',GetUnitX(s__KatonSasukeStruct_d[this]),GetUnitY(s__KatonSasukeStruct_d[this]),s__KatonSasukeStruct_a[this]*bj_RADTODEG),1,2)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(s__KatonSasukeStruct_c[this]),'h00N',GetUnitX(s__KatonSasukeStruct_d[this]),GetUnitY(s__KatonSasukeStruct_d[this]),s__KatonSasukeStruct_a[this]*bj_RADTODEG),1,2)
set s__KatonSasukeStruct_d2[this]=CreateUnit(GetOwningPlayer(s__KatonSasukeStruct_c[this]),'h00M',GetUnitX(s__KatonSasukeStruct_d[this]),GetUnitY(s__KatonSasukeStruct_d[this]),s__KatonSasukeStruct_a[this]*bj_RADTODEG)
call SetUnitAnimation(s__KatonSasukeStruct_d2[this],"Death")
call UnitApplyTimedLife(s__KatonSasukeStruct_d2[this],1,1)
set s__KatonSasukeStruct_d2[this]=null
endif
set s__KatonSasukeStruct_count[this]=s__KatonSasukeStruct_count[this]+1
set s__KatonSasukeStruct_count2[this]=s__KatonSasukeStruct_count2[this]+.01
if s__KatonSasukeStruct_count[this]<$D2 and GetRectMinX(bj_mapInitialPlayableArea)<=GetUnitX(s__KatonSasukeStruct_d[this])and GetUnitX(s__KatonSasukeStruct_d[this])<=GetRectMaxX(bj_mapInitialPlayableArea)and GetRectMinY(bj_mapInitialPlayableArea)<=GetUnitY(s__KatonSasukeStruct_d[this])and GetUnitY(s__KatonSasukeStruct_d[this])<=GetRectMaxY(bj_mapInitialPlayableArea)then
else
call SetUnitAnimation(s__KatonSasukeStruct_d[this],"Death")
call UnitApplyTimedLife(s__KatonSasukeStruct_d[this],1,1)
loop
set s__KatonSasukeStruct_n2[this]=FirstOfGroup(SasukeKatonD)
exitwhen s__KatonSasukeStruct_n2[this]==null
call GroupRemoveUnit(SasukeKatonD,s__KatonSasukeStruct_n2[this])
endloop
set s__KatonSasukeStruct_d[this]=null
set s__KatonSasukeStruct_c[this]=null
call s__KatonSasukeStruct_KatonSasukeStopAction(this,i)
call s__KatonSasukeStruct_deallocate(this)
endif
set i=i+1
endloop
endfunction
function s__KatonSasukeStruct_KatonSasukeStart takes unit NewCaster returns nothing
local integer this=s__KatonSasukeStruct__allocate()
set s__KatonSasukeStruct_DI=s__KatonSasukeStruct_DI+1
set s__KatonSasukeStruct_m[s__KatonSasukeStruct_DI]=this
set bj_lastCreatedTextTag=CreateTextTag()
call SetTextTagText(bj_lastCreatedTextTag,GetObjectName('A00J'),$A*.023/$A)
call SetTextTagPosUnit(bj_lastCreatedTextTag,GetTriggerUnit(),0)
call SetTextTagColor(bj_lastCreatedTextTag,PercentTo255('d'),PercentTo255('d'),PercentTo255('d'),PercentTo255(100.-0))
call SetTextTagPermanent(bj_lastCreatedTextTag,false)
call SetTextTagVelocity(bj_lastCreatedTextTag,25*.071/$80*Cos(30*bj_DEGTORAD),25*.071/$80*Sin(30*bj_DEGTORAD))
call SetTextTagLifespan(bj_lastCreatedTextTag,2.5)
call SetTextTagFadepoint(bj_lastCreatedTextTag,1.4)
set s__KatonSasukeStruct_c[this]=NewCaster
set s__KatonSasukeStruct_id[this]=GetUnitAbilityLevel(s__KatonSasukeStruct_c[this],'A00J')
set s__KatonSasukeStruct_x[this]=GetSpellTargetX()
set s__KatonSasukeStruct_y[this]=GetSpellTargetY()
set s__KatonSasukeStruct_a[this]=Atan2(s__KatonSasukeStruct_y[this]-GetUnitY(s__KatonSasukeStruct_c[this]),s__KatonSasukeStruct_x[this]-GetUnitX(s__KatonSasukeStruct_c[this]))
set s__KatonSasukeStruct_d[this]=CreateUnit(GetOwningPlayer(s__KatonSasukeStruct_c[this]),'h00K',GetUnitX(s__KatonSasukeStruct_c[this])+50*Cos(s__KatonSasukeStruct_a[this]),GetUnitY(s__KatonSasukeStruct_c[this])+50*Sin(s__KatonSasukeStruct_a[this]),s__KatonSasukeStruct_a[this]*bj_RADTODEG)
set s__KatonSasukeStruct_count[this]=0
set s__KatonSasukeStruct_count2[this]=0
if s__KatonSasukeStruct_DI==0 then
call TimerStart(s__KatonSasukeStruct_t,.01,true,function s__KatonSasukeStruct_KatonSasukeMovie)
endif
endfunction
function s__KirinSasukeStruct_KirinSasukeStopAction takes integer this,integer e returns nothing
set s__KirinSasukeStruct_m[e]=s__KirinSasukeStruct_m[s__KirinSasukeStruct_DI]
set s__KirinSasukeStruct_DI=s__KirinSasukeStruct_DI-1
if s__KirinSasukeStruct_DI==-1 then
call PauseTimer(s__KirinSasukeStruct_t)
endif
endfunction
function s__KirinSasukeStruct_KirinSasukeMovie takes nothing returns nothing
local integer this
local integer i=0
loop
exitwhen i>s__KirinSasukeStruct_DI
set this=s__KirinSasukeStruct_m[i]
if s__KirinSasukeStruct_count2[this]==$F then
set s__KirinSasukeStruct_count2[this]=0
set s__KirinSasukeStruct_d2[this]=CreateUnit(GetOwningPlayer(s__KirinSasukeStruct_c[this]),'h00S',GetUnitX(s__KirinSasukeStruct_d[this]),GetUnitY(s__KirinSasukeStruct_d[this]),GetUnitFacing(s__KirinSasukeStruct_d[this]))
call SetUnitFlyHeight(s__KirinSasukeStruct_d2[this],GetUnitFlyHeight(s__KirinSasukeStruct_d[this]),0)
call UnitApplyTimedLife(s__KirinSasukeStruct_d2[this],1,2)
set s__KirinSasukeStruct_d2[this]=null
endif
set s__KirinSasukeStruct_count[this]=s__KirinSasukeStruct_count[this]+1
set s__KirinSasukeStruct_count2[this]=s__KirinSasukeStruct_count2[this]+1
if s__KirinSasukeStruct_count[this]!=$C8 then
else
call SetUnitAnimation(s__KirinSasukeStruct_d[this],"Death")
call UnitApplyTimedLife(s__KirinSasukeStruct_d[this],1,1)
set s__KirinSasukeStruct_d[this]=null
set s__KirinSasukeStruct_c[this]=null
call s__KirinSasukeStruct_KirinSasukeStopAction(this,i)
call s__KirinSasukeStruct_deallocate(this)
endif
set i=i+1
endloop
endfunction
function s__KirinSasukeStruct_KirinSasukeStart takes unit NewCaster,integer NewInteger returns nothing
local integer this=s__KirinSasukeStruct__allocate()
set s__KirinSasukeStruct_DI=s__KirinSasukeStruct_DI+1
set s__KirinSasukeStruct_m[s__KirinSasukeStruct_DI]=this
set s__KirinSasukeStruct_c[this]=NewCaster
set s__KirinSasukeStruct_id[this]=NewInteger
set SasukeKirinDamage=SasukeKirinDamage+420
call DisplayTimedTextToPlayer(GetOwningPlayer(s__KirinSasukeStruct_c[this]),0,0,1,"|c00FC0000System Message: |r |cFF39CAFFУрон от Kirin: |r"+I2S(SasukeKirinDamage))
set SasukeKirinMax=SasukeKirinMax+1
set s__KirinSasukeStruct_d[this]=CreateUnit(GetOwningPlayer(s__KirinSasukeStruct_c[this]),'h00R',GetUnitX(s__KirinSasukeStruct_c[this])+$F*Cos(GetUnitFacing(s__KirinSasukeStruct_c[this])*bj_RADTODEG),GetUnitY(s__KirinSasukeStruct_c[this])+$F*Sin(GetUnitFacing(s__KirinSasukeStruct_c[this])*bj_RADTODEG),GetUnitFacing(s__KirinSasukeStruct_c[this]))
call SetUnitFlyHeight(s__KirinSasukeStruct_d[this],$7D0,$3E8)
set s__KirinSasukeStruct_count[this]=0
set s__KirinSasukeStruct_count2[this]=0
if s__KirinSasukeStruct_DI==0 then
call TimerStart(s__KirinSasukeStruct_t,.01,true,function s__KirinSasukeStruct_KirinSasukeMovie)
endif
endfunction
function s__KirinSasuke2Struct_KirinSasuke2StopAction takes integer this,integer e returns nothing
set s__KirinSasuke2Struct_m[e]=s__KirinSasuke2Struct_m[s__KirinSasuke2Struct_DI]
set s__KirinSasuke2Struct_DI=s__KirinSasuke2Struct_DI-1
if s__KirinSasuke2Struct_DI==-1 then
call PauseTimer(s__KirinSasuke2Struct_t)
endif
endfunction
function s__KirinSasuke2Struct_KirinSasuke2Movie takes nothing returns nothing
local integer this
local integer i=0
local group cjlocgn_00000000
loop
exitwhen i>s__KirinSasuke2Struct_DI
set this=s__KirinSasuke2Struct_m[i]
if s__KirinSasuke2Struct_count2[this]==20 then
set s__KirinSasuke2Struct_count2[this]=0
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(s__KirinSasuke2Struct_c[this]),'h00U',GetUnitX(s__KirinSasuke2Struct_c[this]),GetUnitY(s__KirinSasuke2Struct_c[this]),s__KirinSasuke2Struct_a[this]*bj_RADTODEG),1,1)
endif
set s__KirinSasuke2Struct_count[this]=s__KirinSasuke2Struct_count[this]+1
set s__KirinSasuke2Struct_count2[this]=s__KirinSasuke2Struct_count2[this]+1
if s__KirinSasuke2Struct_count[this]!=390 then
else
call SetUnitTimeScale(s__KirinSasuke2Struct_c[this],'d'*.01)
loop
exitwhen i==8
set s__KirinSasuke2Struct_x3[this]=s__KirinSasuke2Struct_x[this]+'d'*Cos(s__KirinSasuke2Struct_ds[this])
set s__KirinSasuke2Struct_y3[this]=s__KirinSasuke2Struct_y[this]+'d'*Sin(s__KirinSasuke2Struct_ds[this])
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(s__KirinSasuke2Struct_c[this]),'h00V',s__KirinSasuke2Struct_x3[this],s__KirinSasuke2Struct_y3[this],GetUnitFacing(s__KirinSasuke2Struct_c[this])),1,.6)
set i=i+1
set s__KirinSasuke2Struct_ds[this]=s__KirinSasuke2Struct_ds[this]+30
endloop
loop
exitwhen s__KirinSasuke2Struct_i2[this]==8
set s__KirinSasuke2Struct_d2[this]=CreateUnit(GetOwningPlayer(s__KirinSasuke2Struct_c[this]),'h00W',s__KirinSasuke2Struct_x[this],s__KirinSasuke2Struct_y[this],GetUnitFacing(s__KirinSasuke2Struct_c[this]))
call SetUnitFlyHeight(s__KirinSasuke2Struct_d2[this],s__KirinSasuke2Struct_ds2[this],0)
call SetUnitTimeScale(s__KirinSasuke2Struct_d2[this],50*.01)
call UnitApplyTimedLife(s__KirinSasuke2Struct_d2[this],1,2)
set s__KirinSasuke2Struct_d2[this]=null
set s__KirinSasuke2Struct_i2[this]=s__KirinSasuke2Struct_i2[this]+1
set s__KirinSasuke2Struct_ds2[this]=s__KirinSasuke2Struct_ds2[this]+$96
endloop
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(s__KirinSasuke2Struct_c[this]),'h00X',s__KirinSasuke2Struct_x[this],s__KirinSasuke2Struct_y[this],s__KirinSasuke2Struct_a[this]*bj_RADTODEG),1,2)
set cjlocgn_00000000=CreateGroup()
call GroupEnumUnitsInRange(cjlocgn_00000000,s__KirinSasuke2Struct_x[this],s__KirinSasuke2Struct_y[this],800,null)
if(GetLocalPlayer()==GetOwningPlayer(s__KirinSasuke2Struct_c[this]))then
call SetCameraField(CAMERA_FIELD_TARGET_DISTANCE,$640,.01)
endif
loop
set s__KirinSasuke2Struct_n[this]=FirstOfGroup(cjlocgn_00000000)
exitwhen s__KirinSasuke2Struct_n[this]==null
if IsUnitEnemy(s__KirinSasuke2Struct_n[this],GetOwningPlayer(s__KirinSasuke2Struct_c[this]))and GetWidgetLife(s__KirinSasuke2Struct_n[this])>0 and IsUnitType(s__KirinSasuke2Struct_n[this],UNIT_TYPE_STRUCTURE)==false then
call UnitDamageTarget(s__KirinSasuke2Struct_c[this],s__KirinSasuke2Struct_n[this],SasukeKirinDamage,true,false,null,null,null)
endif
call GroupRemoveUnit(cjlocgn_00000000,s__KirinSasuke2Struct_n[this])
endloop
call DestroyGroup(cjlocgn_00000000)
set cjlocgn_00000000=null
call DestroyEffect(s__KirinSasuke2Struct_eff[this])
set s__KirinSasuke2Struct_eff[this]=null
call PauseUnit(s__KirinSasuke2Struct_c[this],false)
call SetUnitInvulnerable(s__KirinSasuke2Struct_c[this],false)
if SasukeKirinUse==false then
call SetPlayerAbilityAvailable(GetOwningPlayer(s__KirinSasuke2Struct_c[this]),'A00K',false)
call SetPlayerAbilityAvailable(GetOwningPlayer(s__KirinSasuke2Struct_c[this]),'A02R',true)
set SasukeKirinUse=true
set SasukeKirinCD='x'
call s__KirinSetap3Struct_KirinSetap3Start(s__KirinSasuke2Struct_c[this])
endif
set s__KirinSasuke2Struct_c[this]=null
call s__KirinSasuke2Struct_KirinSasuke2StopAction(this,i)
call s__KirinSasuke2Struct_deallocate(this)
endif
set i=i+1
endloop
endfunction
function s__KirinSasuke2Struct_KirinSasuke2Start takes unit NewCaster,real NewX,real NewY returns nothing
local integer this=s__KirinSasuke2Struct__allocate()
set s__KirinSasuke2Struct_DI=s__KirinSasuke2Struct_DI+1
set s__KirinSasuke2Struct_m[s__KirinSasuke2Struct_DI]=this
set s__KirinSasuke2Struct_c[this]=NewCaster
set s__KirinSasuke2Struct_x[this]=NewX
set s__KirinSasuke2Struct_y[this]=NewY
set s__KirinSasuke2Struct_a[this]=Atan2(s__KirinSasuke2Struct_y[this]-GetUnitY(s__KirinSasuke2Struct_c[this]),s__KirinSasuke2Struct_x[this]-GetUnitX(s__KirinSasuke2Struct_c[this]))
call PauseUnit(s__KirinSasuke2Struct_c[this],true)
call SetUnitInvulnerable(s__KirinSasuke2Struct_c[this],true)
call SetUnitTimeScale(s__KirinSasuke2Struct_c[this],7*.01)
if SasukeKirinControl!=0 then
set SasukeKirinControl=1
endif
set s__KirinSasuke2Struct_eff[this]=AddSpecialEffectTarget("war3mapImported\\Chidori.mdl",s__KirinSasuke2Struct_c[this],"hand left")
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(s__KirinSasuke2Struct_c[this]),'h00Y',s__KirinSasuke2Struct_x[this],s__KirinSasuke2Struct_y[this],s__KirinSasuke2Struct_a[this]*bj_RADTODEG),1,6)
set s__KirinSasuke2Struct_count[this]=0
set s__KirinSasuke2Struct_count2[this]=0
set s__KirinSasuke2Struct_i[this]=0
set s__KirinSasuke2Struct_i2[this]=0
set s__KirinSasuke2Struct_ds2[this]=$96
set s__KirinSasuke2Struct_ds[this]=0
if s__KirinSasuke2Struct_DI==0 then
call TimerStart(s__KirinSasuke2Struct_t,.01,true,function s__KirinSasuke2Struct_KirinSasuke2Movie)
endif
endfunction
function Trig_KirinStart_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A00K'
endfunction
function Trig_KirinStart_Actions takes nothing returns nothing
local unit c
local real x
local real y
set bj_lastCreatedTextTag=CreateTextTag()
call SetTextTagText(bj_lastCreatedTextTag,GetObjectName('A00K'),$A*.023/$A)
call SetTextTagPosUnit(bj_lastCreatedTextTag,GetTriggerUnit(),0)
call SetTextTagColor(bj_lastCreatedTextTag,PercentTo255('d'),PercentTo255('d'),PercentTo255('d'),PercentTo255(100.-0))
call SetTextTagPermanent(bj_lastCreatedTextTag,false)
call SetTextTagVelocity(bj_lastCreatedTextTag,25*.071/$80*Cos(30*bj_DEGTORAD),25*.071/$80*Sin(30*bj_DEGTORAD))
call SetTextTagLifespan(bj_lastCreatedTextTag,2.5)
call SetTextTagFadepoint(bj_lastCreatedTextTag,1.4)
set c=GetSpellAbilityUnit()
set x=GetSpellTargetX()
set y=GetSpellTargetY()
call IssueImmediateOrderById(c,$D0004)
call SetUnitAnimation(c,"Spell Three")
call s__KirinSasuke2Struct_KirinSasuke2Start(c,x,y)
set c=null
endfunction
function InitTrig_KirinStart takes nothing returns nothing
local integer index
set gg_trg_KirinStart=CreateTrigger()
set index=0
loop
call TriggerRegisterPlayerUnitEvent(gg_trg_KirinStart,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(gg_trg_KirinStart,Condition(function Trig_KirinStart_Conditions))
call TriggerAddAction(gg_trg_KirinStart,function Trig_KirinStart_Actions)
endfunction
function Chidori_Sasuke_Cond takes nothing returns boolean
return GetSpellAbilityId()=='A02R'
endfunction
function Chidori_Sasuke_Act takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local unit b=CreateUnit(GetOwningPlayer(a),'h03X',GetUnitX(a),GetUnitY(a),0)
call IssueTargetOrderById(b,$D0062,a)
call TriggerSleepAction(.7)
call RemoveUnit(b)
set a=null
set b=null
endfunction
function InitTrig_Chidori_Sasuke takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==$E
endloop
call TriggerAddCondition(t,Condition(function Chidori_Sasuke_Cond))
call TriggerAddAction(t,function Chidori_Sasuke_Act)
set t=null
endfunction
function Chidori_Sasuke_atack_Cond takes nothing returns boolean
return(GetUnitAbilityLevel(GetAttacker(),'B003')>0)
endfunction
function Chidori_Sasuke_atack_Act takes nothing returns nothing
local unit a=GetAttacker()
local unit b=GetTriggerUnit()
local real dmg
if(GetUnitAbilityLevel(a,'A02R')==1)then
set dmg=50+GetHeroAgi(a,false)*1
elseif(GetUnitAbilityLevel(a,'A02R')==2)then
set dmg='d'+GetHeroAgi(a,false)*1
elseif(GetUnitAbilityLevel(a,'A02R')==3)then
set dmg=$96+GetHeroAgi(a,false)*1
elseif(GetUnitAbilityLevel(a,'A02R')==4)then
set dmg=$C8+GetHeroAgi(a,false)*1
endif
if IsUnitType(b,UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(b,GetOwningPlayer(a)) then
call SetUnitAnimation(a,"spell four")
call TriggerSleepAction(.1)
call UnitDamageTarget(a,b,dmg,false,false,null,null,null)
call SetUnitAnimation(b,"death")
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdi",GetUnitX(b),GetUnitY(b)))
call TriggerSleepAction(.2)
call UnitRemoveAbility(a,'B003')
endif
set a=null
set b=null
endfunction
function InitTrig_Chidori_Sasuke_atack takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_ATTACKED,null)
set index=index+1
exitwhen index==$E
endloop
call TriggerAddCondition(t,Condition(function Chidori_Sasuke_atack_Cond))
call TriggerAddAction(t,function Chidori_Sasuke_atack_Act)
set t=null
endfunction
function Trig_ChidoriNagSen_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A00P'
endfunction
function Trig_ChidoriNagSen_Actions takes nothing returns nothing
local unit c=GetSpellAbilityUnit()
if not IsUnitInGroup(c,SasukeSenbonDebug)then
call GroupAddUnit(SasukeSenbonDebug,c)
if GetSpellTargetUnit()==c then
call sc__ChidoriNagashiStruct_ChidoriNagashiStart(c)
set bj_lastCreatedTextTag=CreateTextTag()
call SetTextTagText(bj_lastCreatedTextTag,"|c0000FFFFChidori Nagashi|r",$A*.023/$A)
call SetTextTagPosUnit(bj_lastCreatedTextTag,GetTriggerUnit(),0)
call SetTextTagColor(bj_lastCreatedTextTag,PercentTo255('d'),PercentTo255('d'),PercentTo255('d'),PercentTo255(100.-0))
call SetTextTagPermanent(bj_lastCreatedTextTag,false)
call SetTextTagVelocity(bj_lastCreatedTextTag,25*.071/$80*Cos(30*bj_DEGTORAD),25*.071/$80*Sin(30*bj_DEGTORAD))
call SetTextTagLifespan(bj_lastCreatedTextTag,2.5)
call SetTextTagFadepoint(bj_lastCreatedTextTag,1.4)
else
call sc__ChidoriSenbonStruct_ChidoriSenbonStart(c)
set bj_lastCreatedTextTag=CreateTextTag()
call SetTextTagText(bj_lastCreatedTextTag,"|c0000FFFFChidori Senbon|r",$A*.023/$A)
call SetTextTagPosUnit(bj_lastCreatedTextTag,GetTriggerUnit(),0)
call SetTextTagColor(bj_lastCreatedTextTag,PercentTo255('d'),PercentTo255('d'),PercentTo255('d'),PercentTo255(100.-0))
call SetTextTagPermanent(bj_lastCreatedTextTag,false)
call SetTextTagVelocity(bj_lastCreatedTextTag,25*.071/$80*Cos(30*bj_DEGTORAD),25*.071/$80*Sin(30*bj_DEGTORAD))
call SetTextTagLifespan(bj_lastCreatedTextTag,2.5)
call SetTextTagFadepoint(bj_lastCreatedTextTag,1.4)
endif
endif
set c=null
endfunction
function InitTrig_ChidoriNagSen takes nothing returns nothing
local integer index
set gg_trg_ChidoriNagSen=CreateTrigger()
set index=0
loop
call TriggerRegisterPlayerUnitEvent(gg_trg_ChidoriNagSen,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(gg_trg_ChidoriNagSen,Condition(function Trig_ChidoriNagSen_Conditions))
call TriggerAddAction(gg_trg_ChidoriNagSen,function Trig_ChidoriNagSen_Actions)
endfunction
function s__ChidoriNagashiStruct_ChidoriNagashiStopAction takes integer this,integer e returns nothing
set s__ChidoriNagashiStruct_m[e]=s__ChidoriNagashiStruct_m[s__ChidoriNagashiStruct_DI]
set s__ChidoriNagashiStruct_DI=s__ChidoriNagashiStruct_DI-1
if s__ChidoriNagashiStruct_DI==-1 then
call PauseTimer(s__ChidoriNagashiStruct_t)
endif
endfunction
function s__ChidoriNagashiStruct_ChidoriNagashiMovie takes nothing returns nothing
local integer this
local integer i=0
local group cjlocgn_00000000
local group cjlocgn_00000001
loop
exitwhen i>s__ChidoriNagashiStruct_DI
set this=s__ChidoriNagashiStruct_m[i]
set cjlocgn_00000000=CreateGroup()
call GroupEnumUnitsInRange(cjlocgn_00000000,GetUnitX(s__ChidoriNagashiStruct_c[this]),GetUnitY(s__ChidoriNagashiStruct_c[this]),300,null)
loop
set s__ChidoriNagashiStruct_n3[this]=FirstOfGroup(cjlocgn_00000000)
exitwhen s__ChidoriNagashiStruct_n3[this]==null
if IsUnitEnemy(s__ChidoriNagashiStruct_n3[this],GetOwningPlayer(s__ChidoriNagashiStruct_c[this]))and GetWidgetLife(s__ChidoriNagashiStruct_n3[this])>0 and s__ChidoriNagashiStruct_n3[this]!=s__ChidoriNagashiStruct_c[this]and IsUnitType(s__ChidoriNagashiStruct_n3[this],UNIT_TYPE_STRUCTURE)==false then
set s__ChidoriNagashiStruct_x2[this]=GetUnitX(s__ChidoriNagashiStruct_n3[this])
set s__ChidoriNagashiStruct_y2[this]=GetUnitY(s__ChidoriNagashiStruct_n3[this])
set s__ChidoriNagashiStruct_a[this]=Atan2(s__ChidoriNagashiStruct_y2[this]-s__ChidoriNagashiStruct_y[this],s__ChidoriNagashiStruct_x2[this]-s__ChidoriNagashiStruct_x[this])
call SetUnitX(s__ChidoriNagashiStruct_n3[this],s__ChidoriNagashiStruct_x2[this]+3*Cos(s__ChidoriNagashiStruct_a[this]))
call SetUnitY(s__ChidoriNagashiStruct_n3[this],s__ChidoriNagashiStruct_y2[this]+3*Sin(s__ChidoriNagashiStruct_a[this]))
endif
call GroupRemoveUnit(cjlocgn_00000000,s__ChidoriNagashiStruct_n3[this])
endloop
call DestroyGroup(cjlocgn_00000000)
set cjlocgn_00000000=null
if s__ChidoriNagashiStruct_count[this]==29 then
set s__ChidoriNagashiStruct_count[this]=0
loop
exitwhen i==6
set s__ChidoriNagashiStruct_x3[this]=GetUnitX(s__ChidoriNagashiStruct_c[this])+$8C*Cos(s__ChidoriNagashiStruct_ds[this])
set s__ChidoriNagashiStruct_y3[this]=GetUnitY(s__ChidoriNagashiStruct_c[this])+$8C*Sin(s__ChidoriNagashiStruct_ds[this])
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(s__ChidoriNagashiStruct_c[this]),'h012',s__ChidoriNagashiStruct_x3[this],s__ChidoriNagashiStruct_y3[this],GetUnitFacing(s__ChidoriNagashiStruct_c[this])),1,.6)
set i=i+1
set s__ChidoriNagashiStruct_ds[this]=s__ChidoriNagashiStruct_ds[this]+30
endloop
endif
if s__ChidoriNagashiStruct_count2[this]=='d' then
set s__ChidoriNagashiStruct_count2[this]=0
loop
set s__ChidoriNagashiStruct_n2[this]=FirstOfGroup(SasukeNagashiD)
exitwhen s__ChidoriNagashiStruct_n2[this]==null
call GroupRemoveUnit(SasukeNagashiD,s__ChidoriNagashiStruct_n2[this])
endloop
endif
set cjlocgn_00000001=CreateGroup()
call GroupEnumUnitsInRange(cjlocgn_00000001,GetUnitX(s__ChidoriNagashiStruct_c[this]),GetUnitY(s__ChidoriNagashiStruct_c[this]),300,null)
loop
set s__ChidoriNagashiStruct_n[this]=FirstOfGroup(cjlocgn_00000001)
exitwhen s__ChidoriNagashiStruct_n[this]==null
if IsUnitEnemy(s__ChidoriNagashiStruct_n[this],GetOwningPlayer(s__ChidoriNagashiStruct_c[this]))and not IsUnitInGroup(s__ChidoriNagashiStruct_n[this],SasukeNagashiD)and GetWidgetLife(s__ChidoriNagashiStruct_n[this])>0 and IsUnitType(s__ChidoriNagashiStruct_n[this],UNIT_TYPE_STRUCTURE)==false then
call UnitDamageTarget(s__ChidoriNagashiStruct_c[this],s__ChidoriNagashiStruct_n[this],$F+GetHeroAgi(s__ChidoriNagashiStruct_c[this],false)*s__ChidoriNagashiStruct_id[this],true,false,null,null,null)
call GroupAddUnit(SasukeNagashiD,s__ChidoriNagashiStruct_n[this])
endif
call GroupRemoveUnit(cjlocgn_00000001,s__ChidoriNagashiStruct_n[this])
endloop
call DestroyGroup(cjlocgn_00000001)
set cjlocgn_00000001=null
set s__ChidoriNagashiStruct_count[this]=s__ChidoriNagashiStruct_count[this]+1
set s__ChidoriNagashiStruct_count2[this]=s__ChidoriNagashiStruct_count2[this]+1
if GetUnitCurrentOrder(s__ChidoriNagashiStruct_c[this])==852600and GetWidgetLife(s__ChidoriNagashiStruct_c[this])>0 then
else
loop
set s__ChidoriNagashiStruct_n2[this]=FirstOfGroup(SasukeNagashiD)
exitwhen s__ChidoriNagashiStruct_n2[this]==null
call GroupRemoveUnit(SasukeNagashiD,s__ChidoriNagashiStruct_n2[this])
endloop
if IsUnitInGroup(s__ChidoriNagashiStruct_c[this],SasukeSenbonDebug)then
call GroupRemoveUnit(SasukeSenbonDebug,s__ChidoriNagashiStruct_c[this])
endif
call SetUnitAnimation(s__ChidoriNagashiStruct_c[this],"Spell Slam")
call SetUnitTimeScale(s__ChidoriNagashiStruct_c[this],'d'*.01)
set s__ChidoriNagashiStruct_c[this]=null
call s__ChidoriNagashiStruct_ChidoriNagashiStopAction(this,i)
call s__ChidoriNagashiStruct_deallocate(this)
endif
set i=i+1
endloop
endfunction
function s__ChidoriNagashiStruct_ChidoriNagashiStart takes unit NewCaster returns nothing
local integer this=s__ChidoriNagashiStruct__allocate()
set s__ChidoriNagashiStruct_DI=s__ChidoriNagashiStruct_DI+1
set s__ChidoriNagashiStruct_m[s__ChidoriNagashiStruct_DI]=this
set s__ChidoriNagashiStruct_c[this]=NewCaster
set s__ChidoriNagashiStruct_id[this]=GetUnitAbilityLevel(s__ChidoriNagashiStruct_c[this],'A00P')
set s__ChidoriNagashiStruct_x[this]=GetUnitX(s__ChidoriNagashiStruct_c[this])
set s__ChidoriNagashiStruct_y[this]=GetUnitY(s__ChidoriNagashiStruct_c[this])
set s__ChidoriNagashiStruct_count[this]=0
set s__ChidoriNagashiStruct_count2[this]=0
set s__ChidoriNagashiStruct_ds[this]=0
set s__ChidoriNagashiStruct_i[this]=0
call SetUnitAnimation(s__ChidoriNagashiStruct_c[this],"Morph")
call SetUnitTimeScale(s__ChidoriNagashiStruct_c[this],$F*.01)
if s__ChidoriNagashiStruct_DI==0 then
call TimerStart(s__ChidoriNagashiStruct_t,.01,true,function s__ChidoriNagashiStruct_ChidoriNagashiMovie)
endif
endfunction
function s__ChidoriSenbon2Struct_ChidoriSenbon2StopAction takes integer this,integer e returns nothing
set s__ChidoriSenbon2Struct_m[e]=s__ChidoriSenbon2Struct_m[s__ChidoriSenbon2Struct_DI]
set s__ChidoriSenbon2Struct_DI=s__ChidoriSenbon2Struct_DI-1
if s__ChidoriSenbon2Struct_DI==-1 then
call PauseTimer(s__ChidoriSenbon2Struct_t)
endif
endfunction
function s__ChidoriSenbon2Struct_ChidoriSenbon2Movie takes nothing returns nothing
local integer this
local integer i=0
local group cjlocgn_00000000
loop
exitwhen i>s__ChidoriSenbon2Struct_DI
set this=s__ChidoriSenbon2Struct_m[i]
call SetUnitX(s__ChidoriSenbon2Struct_d[this],GetUnitX(s__ChidoriSenbon2Struct_d[this])+7*Cos(s__ChidoriSenbon2Struct_a[this]))
call SetUnitY(s__ChidoriSenbon2Struct_d[this],GetUnitY(s__ChidoriSenbon2Struct_d[this])+7*Sin(s__ChidoriSenbon2Struct_a[this]))
call SetUnitFacing(s__ChidoriSenbon2Struct_d[this],s__ChidoriSenbon2Struct_a[this]*bj_RADTODEG)
set cjlocgn_00000000=CreateGroup()
call GroupEnumUnitsInRange(cjlocgn_00000000,GetUnitX(s__ChidoriSenbon2Struct_d[this]),GetUnitY(s__ChidoriSenbon2Struct_d[this]),40,null)
loop
set s__ChidoriSenbon2Struct_n[this]=FirstOfGroup(cjlocgn_00000000)
exitwhen s__ChidoriSenbon2Struct_n[this]==null
if IsUnitEnemy(s__ChidoriSenbon2Struct_n[this],GetOwningPlayer(s__ChidoriSenbon2Struct_c[this]))and GetWidgetLife(s__ChidoriSenbon2Struct_n[this])>0 and IsUnitType(s__ChidoriSenbon2Struct_n[this],UNIT_TYPE_STRUCTURE)==false then
call UnitDamageTarget(s__ChidoriSenbon2Struct_c[this],s__ChidoriSenbon2Struct_n[this],$F+GetHeroAgi(s__ChidoriSenbon2Struct_c[this],false)*s__ChidoriSenbon2Struct_id[this],true,false,null,null,null)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",s__ChidoriSenbon2Struct_n[this],"origin"))
set s__ChidoriSenbon2Struct_d2[this]=CreateUnit(GetOwningPlayer(s__ChidoriSenbon2Struct_c[this]),'h011',GetUnitX(s__ChidoriSenbon2Struct_n[this]),GetUnitY(s__ChidoriSenbon2Struct_n[this]),GetUnitFacing(s__ChidoriSenbon2Struct_n[this]))
call IssueTargetOrderById(s__ChidoriSenbon2Struct_d2[this],$D007F,s__ChidoriSenbon2Struct_n[this])
call UnitApplyTimedLife(s__ChidoriSenbon2Struct_d2[this],1,1)
set s__ChidoriSenbon2Struct_d2[this]=null
set s__ChidoriSenbon2Struct_b[this]=true
endif
call GroupRemoveUnit(cjlocgn_00000000,s__ChidoriSenbon2Struct_n[this])
endloop
call DestroyGroup(cjlocgn_00000000)
set cjlocgn_00000000=null
set s__ChidoriSenbon2Struct_count[this]=s__ChidoriSenbon2Struct_count[this]+1
if s__ChidoriSenbon2Struct_count[this]!=500 and s__ChidoriSenbon2Struct_b[this]==false and GetRectMinX(bj_mapInitialPlayableArea)<=GetUnitX(s__ChidoriSenbon2Struct_d[this])and GetUnitX(s__ChidoriSenbon2Struct_d[this])<=GetRectMaxX(bj_mapInitialPlayableArea)and GetRectMinY(bj_mapInitialPlayableArea)<=GetUnitY(s__ChidoriSenbon2Struct_d[this])and GetUnitY(s__ChidoriSenbon2Struct_d[this])<=GetRectMaxY(bj_mapInitialPlayableArea)then
else
call UnitApplyTimedLife(s__ChidoriSenbon2Struct_d[this],1,.2)
set s__ChidoriSenbon2Struct_d[this]=null
set s__ChidoriSenbon2Struct_c[this]=null
call s__ChidoriSenbon2Struct_ChidoriSenbon2StopAction(this,i)
call s__ChidoriSenbon2Struct_deallocate(this)
endif
set i=i+1
endloop
endfunction
function s__ChidoriSenbon2Struct_ChidoriSenbon2Start takes unit NewCaster,integer NewInteger,real NewX,real NewY,real NewAngle returns nothing
local integer this=s__ChidoriSenbon2Struct__allocate()
set s__ChidoriSenbon2Struct_DI=s__ChidoriSenbon2Struct_DI+1
set s__ChidoriSenbon2Struct_m[s__ChidoriSenbon2Struct_DI]=this
set s__ChidoriSenbon2Struct_c[this]=NewCaster
set s__ChidoriSenbon2Struct_id[this]=NewInteger
set s__ChidoriSenbon2Struct_x[this]=NewX
set s__ChidoriSenbon2Struct_y[this]=NewY
set s__ChidoriSenbon2Struct_a[this]=NewAngle
set s__ChidoriSenbon2Struct_d[this]=CreateUnit(GetOwningPlayer(s__ChidoriSenbon2Struct_c[this]),'h00Z',GetUnitX(s__ChidoriSenbon2Struct_c[this])+25*Cos(s__ChidoriSenbon2Struct_a[this]),GetUnitY(s__ChidoriSenbon2Struct_c[this])+25*Sin(s__ChidoriSenbon2Struct_a[this]),s__ChidoriSenbon2Struct_a[this]*bj_RADTODEG)
set s__ChidoriSenbon2Struct_count[this]=0
set s__ChidoriSenbon2Struct_b[this]=false
if s__ChidoriSenbon2Struct_DI==0 then
call TimerStart(s__ChidoriSenbon2Struct_t,.01,true,function s__ChidoriSenbon2Struct_ChidoriSenbon2Movie)
endif
endfunction
function s__ChidoriSenbonStruct_ChidoriSenbonStopAction takes integer this,integer e returns nothing
set s__ChidoriSenbonStruct_m[e]=s__ChidoriSenbonStruct_m[s__ChidoriSenbonStruct_DI]
set s__ChidoriSenbonStruct_DI=s__ChidoriSenbonStruct_DI-1
if s__ChidoriSenbonStruct_DI==-1 then
call PauseTimer(s__ChidoriSenbonStruct_t)
endif
endfunction
function s__ChidoriSenbonStruct_ChidoriSenbonMovie takes nothing returns nothing
local integer this
local integer i=0
loop
exitwhen i>s__ChidoriSenbonStruct_DI
set this=s__ChidoriSenbonStruct_m[i]
if s__ChidoriSenbonStruct_count3[this]==8 then
set s__ChidoriSenbonStruct_count3[this]=0
set s__ChidoriSenbonStruct_a2[this]=s__ChidoriSenbonStruct_a[this]+GetRandomReal(-.2,0)
call s__ChidoriSenbon2Struct_ChidoriSenbon2Start(s__ChidoriSenbonStruct_c[this],s__ChidoriSenbonStruct_id[this],s__ChidoriSenbonStruct_x[this],s__ChidoriSenbonStruct_y[this],s__ChidoriSenbonStruct_a2[this])
endif
if s__ChidoriSenbonStruct_count[this]==8 then
set s__ChidoriSenbonStruct_count[this]=0
set s__ChidoriSenbonStruct_r[this]=s__ChidoriSenbonStruct_r[this]+.1
set s__ChidoriSenbonStruct_a[this]=Atan2(s__ChidoriSenbonStruct_y[this]-GetUnitY(s__ChidoriSenbonStruct_c[this]),s__ChidoriSenbonStruct_x[this]-GetUnitX(s__ChidoriSenbonStruct_c[this]))+s__ChidoriSenbonStruct_r[this]
call SetUnitX(s__ChidoriSenbonStruct_d[this],GetUnitX(s__ChidoriSenbonStruct_c[this])+25*Cos(s__ChidoriSenbonStruct_a[this]))
call SetUnitY(s__ChidoriSenbonStruct_d[this],GetUnitY(s__ChidoriSenbonStruct_c[this])+25*Sin(s__ChidoriSenbonStruct_a[this]))
call SetUnitFacing(s__ChidoriSenbonStruct_d[this],s__ChidoriSenbonStruct_a[this]*bj_RADTODEG)
endif
if s__ChidoriSenbonStruct_count2[this]>19 then
set s__ChidoriSenbonStruct_count[this]=s__ChidoriSenbonStruct_count[this]+1
set s__ChidoriSenbonStruct_count3[this]=s__ChidoriSenbonStruct_count3[this]+1
endif
if s__ChidoriSenbonStruct_count2[this]==18 then
call SetUnitTimeScale(s__ChidoriSenbonStruct_c[this],21*.01)
endif
set s__ChidoriSenbonStruct_count2[this]=s__ChidoriSenbonStruct_count2[this]+1
if GetUnitCurrentOrder(s__ChidoriSenbonStruct_c[this])==852600and GetWidgetLife(s__ChidoriSenbonStruct_c[this])>0 and s__ChidoriSenbonStruct_count2[this]!=$96 then
else
if s__ChidoriSenbonStruct_count2[this]==$96 then
call IssueImmediateOrderById(s__ChidoriSenbonStruct_c[this],$D0004)
call SetUnitAnimation(s__ChidoriSenbonStruct_c[this],"Stand")
endif
if IsUnitInGroup(s__ChidoriSenbonStruct_c[this],SasukeSenbonDebug)then
call GroupRemoveUnit(SasukeSenbonDebug,s__ChidoriSenbonStruct_c[this])
endif
call SetUnitTimeScale(s__ChidoriSenbonStruct_c[this],'d'*.01)
call RemoveUnit(s__ChidoriSenbonStruct_d[this])
call DestroyEffect(s__ChidoriSenbonStruct_eff[this])
set s__ChidoriSenbonStruct_eff[this]=null
set s__ChidoriSenbonStruct_d[this]=null
set s__ChidoriSenbonStruct_c[this]=null
call s__ChidoriSenbonStruct_ChidoriSenbonStopAction(this,i)
call s__ChidoriSenbonStruct_deallocate(this)
endif
set i=i+1
endloop
endfunction
function s__ChidoriSenbonStruct_ChidoriSenbonStart takes unit NewCaster returns nothing
local integer this=s__ChidoriSenbonStruct__allocate()
set s__ChidoriSenbonStruct_DI=s__ChidoriSenbonStruct_DI+1
set s__ChidoriSenbonStruct_m[s__ChidoriSenbonStruct_DI]=this
set s__ChidoriSenbonStruct_c[this]=NewCaster
set s__ChidoriSenbonStruct_id[this]=GetUnitAbilityLevel(s__ChidoriSenbonStruct_c[this],'A00P')
set s__ChidoriSenbonStruct_x[this]=GetSpellTargetX()
set s__ChidoriSenbonStruct_y[this]=GetSpellTargetY()
set s__ChidoriSenbonStruct_r[this]=-.6
set s__ChidoriSenbonStruct_a[this]=Atan2(s__ChidoriSenbonStruct_y[this]-GetUnitY(s__ChidoriSenbonStruct_c[this]),s__ChidoriSenbonStruct_x[this]-GetUnitX(s__ChidoriSenbonStruct_c[this]))+s__ChidoriSenbonStruct_r[this]
set s__ChidoriSenbonStruct_d[this]=CreateUnit(GetOwningPlayer(s__ChidoriSenbonStruct_c[this]),'h010',GetUnitX(s__ChidoriSenbonStruct_c[this])+25*Cos(s__ChidoriSenbonStruct_a[this]),GetUnitY(s__ChidoriSenbonStruct_c[this])+25*Sin(s__ChidoriSenbonStruct_a[this]),s__ChidoriSenbonStruct_a[this]*bj_RADTODEG)
set s__ChidoriSenbonStruct_count[this]=0
set s__ChidoriSenbonStruct_count2[this]=0
set s__ChidoriSenbonStruct_count3[this]=0
set s__ChidoriSenbonStruct_i[this]=0
set s__ChidoriSenbonStruct_eff[this]=AddSpecialEffectTarget("Chidori.mdl",s__ChidoriSenbonStruct_c[this],"hand left")
call SetUnitAnimation(s__ChidoriSenbonStruct_c[this],"Spell")
call SetUnitTimeScale(s__ChidoriSenbonStruct_c[this],$8C*.01)
if s__ChidoriSenbonStruct_DI==0 then
call TimerStart(s__ChidoriSenbonStruct_t,.01,true,function s__ChidoriSenbonStruct_ChidoriSenbonMovie)
endif
endfunction
function SH_S takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
if(GetUnitAbilityLevel(a,'B014')>0)then
call SetUnitState(a,UNIT_STATE_MANA,GetUnitState(a,UNIT_STATE_MANA)-5.)
else
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTrigger(t)
set a=null
set t=null
endif
if GetUnitState(a,UNIT_STATE_MANA)<='d' or GetUnitState(a,UNIT_STATE_LIFE)<=$FA then
call UnitRemoveAbility(a,'B014')
call UnitRemoveAbility(a,'A014')
call UnitRemoveAbility(a,'A052')
call SetPlayerAbilityAvailable(GetOwningPlayer(a),'A07M',true)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTrigger(t)
set a=null
set t=null
endif
set t=null
set a=null
endfunction
function SH_Sasuke takes nothing returns nothing
local unit cjlocgn_00000000
local trigger cjlocgn_00000001
if GetSpellAbilityId()=='A07M' then
set cjlocgn_00000000=GetSpellAbilityUnit()
set cjlocgn_00000001=CreateTrigger()
call SaveUnitHandle(hash,GetHandleId(cjlocgn_00000001),1,cjlocgn_00000000)
call TriggerRegisterTimerEvent(cjlocgn_00000001,1,true)
call TriggerAddAction(cjlocgn_00000001,function SH_S)
call SetPlayerAbilityAvailable(GetOwningPlayer(cjlocgn_00000000),'A07M',false)
call UnitAddAbility(cjlocgn_00000000,'A052')
set cjlocgn_00000001=null
set cjlocgn_00000000=null
endif
if GetSpellAbilityId()=='A052' then
set cjlocgn_00000000=GetSpellAbilityUnit()
call UnitRemoveAbility(cjlocgn_00000000,'B014')
call UnitRemoveAbility(cjlocgn_00000000,'A052')
call SetPlayerAbilityAvailable(GetOwningPlayer(cjlocgn_00000000),'A07M',true)
set cjlocgn_00000000=null
endif
endfunction
function InitTrig_SH_Sasuke takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddAction(t,function SH_Sasuke)
set t=null
endfunction
function MSH_S takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
if(GetUnitAbilityLevel(a,'B00A')>0)then
call SetUnitState(a,UNIT_STATE_LIFE,GetUnitState(a,UNIT_STATE_LIFE)-5.)
else
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTrigger(t)
set a=null
set t=null
endif
if GetUnitState(a,UNIT_STATE_MANA)<='d' or GetUnitState(a,UNIT_STATE_LIFE)<=$FA then
call UnitRemoveAbility(a,'B00A')
call UnitRemoveAbility(a,'A05J')
call UnitRemoveAbility(a,'A016')
call SetPlayerAbilityAvailable(GetOwningPlayer(a),'A07L',true)
call SetPlayerAbilityAvailable(GetOwningPlayer(a),'A00X',true)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTrigger(t)
set a=null
set t=null
endif
set t=null
set a=null
endfunction
function MSH_Sasuke takes nothing returns nothing
local unit cjlocgn_00000000
local trigger cjlocgn_00000001
if GetSpellAbilityId()=='A07L' then
set cjlocgn_00000000=GetSpellAbilityUnit()
set cjlocgn_00000001=CreateTrigger()
call SaveUnitHandle(hash,GetHandleId(cjlocgn_00000001),1,cjlocgn_00000000)
call TriggerRegisterTimerEvent(cjlocgn_00000001,1,true)
call TriggerAddAction(cjlocgn_00000001,function MSH_S)
call SetPlayerAbilityAvailable(GetOwningPlayer(cjlocgn_00000000),'A07L',false)
call SetPlayerAbilityAvailable(GetOwningPlayer(cjlocgn_00000000),'A00X',false)
call UnitAddAbility(cjlocgn_00000000,'A05J')
call UnitAddAbility(cjlocgn_00000000,'A016')
set cjlocgn_00000001=null
set cjlocgn_00000000=null
endif
if GetSpellAbilityId()=='A05J' then
set cjlocgn_00000000=GetSpellAbilityUnit()
call UnitRemoveAbility(cjlocgn_00000000,'B00A')
call UnitRemoveAbility(cjlocgn_00000000,'A05J')
call UnitRemoveAbility(cjlocgn_00000000,'A016')
call SetPlayerAbilityAvailable(GetOwningPlayer(cjlocgn_00000000),'A07L',true)
call SetPlayerAbilityAvailable(GetOwningPlayer(cjlocgn_00000000),'A00X',true)
set cjlocgn_00000000=null
endif
endfunction
function InitTrig_MSH_Sasuke takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddAction(t,function MSH_Sasuke)
set t=null
endfunction
function EMSH_S takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
if(GetUnitAbilityLevel(a,'B006')>0)then
call SetUnitState(a,UNIT_STATE_MANA,GetUnitState(a,UNIT_STATE_MANA)-10.)
else
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTrigger(t)
set a=null
set t=null
endif
if GetUnitState(a,UNIT_STATE_MANA)<='d' or GetUnitState(a,UNIT_STATE_LIFE)<=$FA then
call UnitRemoveAbility(a,'B006')
call UnitRemoveAbility(a,'A07J')
call UnitRemoveAbility(a,'A017')
call SetPlayerAbilityAvailable(GetOwningPlayer(a),'A07K',true)
call SetPlayerAbilityAvailable(GetOwningPlayer(a),'A00X',true)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTrigger(t)
set a=null
set t=null
endif
set t=null
set a=null
endfunction
function EMSH_Sasuke takes nothing returns nothing
local unit cjlocgn_00000000
local trigger cjlocgn_00000001
if GetSpellAbilityId()=='A07K' then
set cjlocgn_00000000=GetSpellAbilityUnit()
set cjlocgn_00000001=CreateTrigger()
call SaveUnitHandle(hash,GetHandleId(cjlocgn_00000001),1,cjlocgn_00000000)
call TriggerRegisterTimerEvent(cjlocgn_00000001,1,true)
call TriggerAddAction(cjlocgn_00000001,function EMSH_S)
call SetPlayerAbilityAvailable(GetOwningPlayer(cjlocgn_00000000),'A07K',false)
call SetPlayerAbilityAvailable(GetOwningPlayer(cjlocgn_00000000),'A00X',false)
call UnitAddAbility(cjlocgn_00000000,'A07J')
call UnitAddAbility(cjlocgn_00000000,'A017')
set cjlocgn_00000001=null
set cjlocgn_00000000=null
endif
if GetSpellAbilityId()=='A07J' then
set cjlocgn_00000000=GetSpellAbilityUnit()
call UnitRemoveAbility(cjlocgn_00000000,'B006')
call UnitRemoveAbility(cjlocgn_00000000,'A07J')
call UnitRemoveAbility(cjlocgn_00000000,'A017')
call SetPlayerAbilityAvailable(GetOwningPlayer(cjlocgn_00000000),'A07K',true)
call SetPlayerAbilityAvailable(GetOwningPlayer(cjlocgn_00000000),'A00X',true)
set cjlocgn_00000000=null
endif
endfunction
function InitTrig_EMSH_Sasuke takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddAction(t,function EMSH_Sasuke)
set t=null
endfunction
function s__AmaterasuSasukeStruct_AmaterasuSasukeStopAction takes integer this,integer e returns nothing
set s__AmaterasuSasukeStruct_m[e]=s__AmaterasuSasukeStruct_m[s__AmaterasuSasukeStruct_DI]
set s__AmaterasuSasukeStruct_DI=s__AmaterasuSasukeStruct_DI-1
if s__AmaterasuSasukeStruct_DI==-1 then
call PauseTimer(s__AmaterasuSasukeStruct_t)
endif
endfunction
function s__AmaterasuSasukeStruct_AmaterasuSasukeMovie takes nothing returns nothing
local integer this
local integer i=0
loop
exitwhen i>s__AmaterasuSasukeStruct_DI
set this=s__AmaterasuSasukeStruct_m[i]
call SetUnitX(s__AmaterasuSasukeStruct_d[this],GetUnitX(s__AmaterasuSasukeStruct_td[this]))
call SetUnitY(s__AmaterasuSasukeStruct_d[this],GetUnitY(s__AmaterasuSasukeStruct_td[this]))
call SetUnitScale(s__AmaterasuSasukeStruct_d[this],s__AmaterasuSasukeStruct_count[this]*.01,s__AmaterasuSasukeStruct_count[this]*.01,s__AmaterasuSasukeStruct_count[this]*.01)
set s__AmaterasuSasukeStruct_count[this]=s__AmaterasuSasukeStruct_count[this]-2
if s__AmaterasuSasukeStruct_count[this]!=50 and GetWidgetLife(s__AmaterasuSasukeStruct_td[this])>0 then
else
call PauseUnit(s__AmaterasuSasukeStruct_td[this],false)
if IsUnitInGroup(s__AmaterasuSasukeStruct_td[this],AmaterasuAll)==false then
call sc__AmaterasuAllStruct_AmaterasuAllStart(s__AmaterasuSasukeStruct_c[this],s__AmaterasuSasukeStruct_td[this])
endif
call RemoveUnit(s__AmaterasuSasukeStruct_d[this])
set s__AmaterasuSasukeStruct_td[this]=null
set s__AmaterasuSasukeStruct_d[this]=null
set s__AmaterasuSasukeStruct_c[this]=null
call s__AmaterasuSasukeStruct_AmaterasuSasukeStopAction(this,i)
call s__AmaterasuSasukeStruct_deallocate(this)
endif
set i=i+1
endloop
endfunction
function s__AmaterasuSasukeStruct_AmaterasuSasukeStart takes nothing returns nothing
local integer this=s__AmaterasuSasukeStruct__allocate()
set s__AmaterasuSasukeStruct_DI=s__AmaterasuSasukeStruct_DI+1
set s__AmaterasuSasukeStruct_m[s__AmaterasuSasukeStruct_DI]=this
set bj_lastCreatedTextTag=CreateTextTag()
call SetTextTagText(bj_lastCreatedTextTag,GetObjectName('A00D'),$A*.023/$A)
call SetTextTagPosUnit(bj_lastCreatedTextTag,GetTriggerUnit(),0)
call SetTextTagColor(bj_lastCreatedTextTag,PercentTo255('d'),PercentTo255('d'),PercentTo255('d'),PercentTo255(100.-0))
call SetTextTagPermanent(bj_lastCreatedTextTag,false)
call SetTextTagVelocity(bj_lastCreatedTextTag,25*.071/$80*Cos(30*bj_DEGTORAD),25*.071/$80*Sin(30*bj_DEGTORAD))
call SetTextTagLifespan(bj_lastCreatedTextTag,2.5)
call SetTextTagFadepoint(bj_lastCreatedTextTag,1.4)
set s__AmaterasuSasukeStruct_c[this]=GetSpellAbilityUnit()
set s__AmaterasuSasukeStruct_td[this]=GetSpellTargetUnit()
set s__AmaterasuSasukeStruct_a[this]=Atan2(GetUnitY(s__AmaterasuSasukeStruct_td[this])-GetUnitY(s__AmaterasuSasukeStruct_c[this]),GetUnitX(s__AmaterasuSasukeStruct_td[this])-GetUnitX(s__AmaterasuSasukeStruct_c[this]))
set s__AmaterasuSasukeStruct_d[this]=CreateUnit(GetOwningPlayer(s__AmaterasuSasukeStruct_c[this]),'h015',GetUnitX(s__AmaterasuSasukeStruct_td[this]),GetUnitY(s__AmaterasuSasukeStruct_td[this]),s__AmaterasuSasukeStruct_a[this]*bj_RADTODEG)
call PauseUnit(s__AmaterasuSasukeStruct_td[this],true)
set s__AmaterasuSasukeStruct_count[this]=270
if s__AmaterasuSasukeStruct_DI==0 then
call TimerStart(s__AmaterasuSasukeStruct_t,.01,true,function s__AmaterasuSasukeStruct_AmaterasuSasukeMovie)
endif
endfunction
function AmaterasuSasukeScope__AmaterasuSasukeSpellPick takes nothing returns boolean
return GetSpellAbilityId()=='A00D'
endfunction
function AmaterasuSasukeScope__AmaterasuSasukeSpellStart takes nothing returns nothing
call s__AmaterasuSasukeStruct_AmaterasuSasukeStart()
endfunction
function AmaterasuSasukeScope__InitTrig_AmaterasuSasuke takes nothing returns nothing
local trigger AmaterasuSasuke=CreateTrigger()
local integer ip
set ip=0
loop
call TriggerRegisterPlayerUnitEvent(AmaterasuSasuke,Player(ip),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set ip=ip+1
exitwhen ip==16
endloop
call TriggerAddCondition(AmaterasuSasuke,Condition(function AmaterasuSasukeScope__AmaterasuSasukeSpellPick))
call TriggerAddAction(AmaterasuSasuke,function AmaterasuSasukeScope__AmaterasuSasukeSpellStart)
set AmaterasuSasuke=null
endfunction
function Trig_Amaterasu_Off_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A00Y'
endfunction
function Trig_Amaterasu_Off_Actions takes nothing returns nothing
local unit c=GetSpellAbilityUnit()
local unit n
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local group g=CreateGroup()
call GroupEnumUnitsInRange(g,x,y,350,null)
loop
set n=FirstOfGroup(g)
exitwhen n==null
if IsUnitInGroup(n,AmaterasuAll) and IsUnitInGroup(n,AmaterasuAll2)==false then
call GroupAddUnit(AmaterasuAll2,n)
endif
call GroupRemoveUnit(g,n)
endloop
call DestroyGroup(g)
set g=null
call sc__AmaterasuAll3Struct_AmaterasuAll3Start()
set c=null
set n=null
endfunction
function InitTrig_Amaterasu_Off takes nothing returns nothing
local integer index
set gg_trg_Amaterasu_Off=CreateTrigger()
set index=0
loop
call TriggerRegisterPlayerUnitEvent(gg_trg_Amaterasu_Off,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(gg_trg_Amaterasu_Off,Condition(function Trig_Amaterasu_Off_Conditions))
call TriggerAddAction(gg_trg_Amaterasu_Off,function Trig_Amaterasu_Off_Actions)
endfunction
function s__AmaterasuAllStruct_AmaterasuAllStopAction takes integer this,integer e returns nothing
set s__AmaterasuAllStruct_m[e]=s__AmaterasuAllStruct_m[s__AmaterasuAllStruct_DI]
set s__AmaterasuAllStruct_DI=s__AmaterasuAllStruct_DI-1
if s__AmaterasuAllStruct_DI==-1 then
call PauseTimer(s__AmaterasuAllStruct_t)
endif
endfunction
function s__AmaterasuAllStruct_AmaterasuAllMovie takes nothing returns nothing
local integer this
local integer i=0
local group cjlocgn_00000000
loop
exitwhen i>s__AmaterasuAllStruct_DI
set this=s__AmaterasuAllStruct_m[i]
set s__AmaterasuAllStruct_count2[this]=s__AmaterasuAllStruct_count2[this]+1
set cjlocgn_00000000=CreateGroup()
call GroupEnumUnitsInRange(cjlocgn_00000000,GetUnitX(s__AmaterasuAllStruct_td[this]),GetUnitY(s__AmaterasuAllStruct_td[this]),$96,null)
set s__AmaterasuAllStruct_n[this]=FirstOfGroup(cjlocgn_00000000)
loop
exitwhen s__AmaterasuAllStruct_n[this]==null
if IsUnitType(s__AmaterasuAllStruct_n[this],UNIT_TYPE_DEAD)==false and IsUnitInGroup(s__AmaterasuAllStruct_n[this],AmaterasuAll)==false and IsUnitInGroup(s__AmaterasuAllStruct_n[this],AmaterasuAll2)==false and IsUnitType(s__AmaterasuAllStruct_n[this],UNIT_TYPE_STRUCTURE)==false then
call sc__AmaterasuAllStruct_AmaterasuAllStart(s__AmaterasuAllStruct_c[this],s__AmaterasuAllStruct_n[this])
set s__AmaterasuAllStruct_n[this]=null
else
call GroupRemoveUnit(cjlocgn_00000000,s__AmaterasuAllStruct_n[this])
set s__AmaterasuAllStruct_n[this]=FirstOfGroup(cjlocgn_00000000)
endif
endloop
call DestroyGroup(cjlocgn_00000000)
set cjlocgn_00000000=null
if s__AmaterasuAllStruct_count2[this]=='d' then
set s__AmaterasuAllStruct_count2[this]=0
call UnitDamageTarget(s__AmaterasuAllStruct_c[this],s__AmaterasuAllStruct_td[this],65,false,false,null,null,null)
endif
set s__AmaterasuAllStruct_count[this]=s__AmaterasuAllStruct_count[this]+1
if s__AmaterasuAllStruct_count[this]!=$5DC and IsUnitType(s__AmaterasuAllStruct_td[this],UNIT_TYPE_DEAD)==false and IsUnitInGroup(s__AmaterasuAllStruct_td[this],AmaterasuAll) and IsUnitInGroup(s__AmaterasuAllStruct_td[this],AmaterasuAll2)==false then
else
call DestroyEffect(s__AmaterasuAllStruct_eff[this])
set s__AmaterasuAllStruct_eff[this]=null
call GroupRemoveUnit(AmaterasuAll,s__AmaterasuAllStruct_td[this])
set s__AmaterasuAllStruct_c[this]=null
set s__AmaterasuAllStruct_td[this]=null
call s__AmaterasuAllStruct_AmaterasuAllStopAction(this,i)
call s__AmaterasuAllStruct_deallocate(this)
endif
set i=i+1
endloop
endfunction
function s__AmaterasuAllStruct_AmaterasuAllStart takes unit NewCaster,unit NewTarget returns nothing
local integer this=s__AmaterasuAllStruct__allocate()
set s__AmaterasuAllStruct_DI=s__AmaterasuAllStruct_DI+1
set s__AmaterasuAllStruct_m[s__AmaterasuAllStruct_DI]=this
set s__AmaterasuAllStruct_c[this]=NewCaster
set s__AmaterasuAllStruct_td[this]=NewTarget
set s__AmaterasuAllStruct_count2[this]=0
set s__AmaterasuAllStruct_count[this]=0
set s__AmaterasuAllStruct_eff[this]=AddSpecialEffectTarget("-amateras-.mdl",s__AmaterasuAllStruct_td[this],"origin")
call GroupAddUnit(AmaterasuAll,s__AmaterasuAllStruct_td[this])
if s__AmaterasuAllStruct_DI==0 then
call TimerStart(s__AmaterasuAllStruct_t,.01,true,function s__AmaterasuAllStruct_AmaterasuAllMovie)
endif
endfunction
function s__AmaterasuAll3Struct_AmaterasuAll3StopAction takes integer this,integer e returns nothing
set s__AmaterasuAll3Struct_m[e]=s__AmaterasuAll3Struct_m[s__AmaterasuAll3Struct_DI]
set s__AmaterasuAll3Struct_DI=s__AmaterasuAll3Struct_DI-1
if s__AmaterasuAll3Struct_DI==-1 then
call PauseTimer(s__AmaterasuAll3Struct_t)
endif
endfunction
function s__AmaterasuAll3Struct_AmaterasuAll3Movie takes nothing returns nothing
local integer this
local integer i=0
loop
exitwhen i>s__AmaterasuAll3Struct_DI
set this=s__AmaterasuAll3Struct_m[i]
loop
set s__AmaterasuAll3Struct_n[this]=FirstOfGroup(AmaterasuAll2)
exitwhen s__AmaterasuAll3Struct_n[this]==null
if IsUnitInGroup(s__AmaterasuAll3Struct_n[this],AmaterasuAll2) then
call GroupRemoveUnit(AmaterasuAll2,s__AmaterasuAll3Struct_n[this])
endif
call GroupRemoveUnit(AmaterasuAll2,s__AmaterasuAll3Struct_n[this])
endloop
call s__AmaterasuAll3Struct_AmaterasuAll3StopAction(this,i)
call s__AmaterasuAll3Struct_deallocate(this)
set i=i+1
endloop
endfunction
function s__AmaterasuAll3Struct_AmaterasuAll3Start takes nothing returns nothing
local integer this=s__AmaterasuAll3Struct__allocate()
set s__AmaterasuAll3Struct_DI=s__AmaterasuAll3Struct_DI+1
set s__AmaterasuAll3Struct_m[s__AmaterasuAll3Struct_DI]=this
if s__AmaterasuAll3Struct_DI==0 then
call TimerStart(s__AmaterasuAll3Struct_t,.3,false,function s__AmaterasuAll3Struct_AmaterasuAll3Movie)
endif
endfunction
function s__SusanooSasukeStruct1_SusanooSasukeStopAction1 takes integer this,integer e returns nothing
set s__SusanooSasukeStruct1_m[e]=s__SusanooSasukeStruct1_m[s__SusanooSasukeStruct1_DI]
set s__SusanooSasukeStruct1_DI=s__SusanooSasukeStruct1_DI-1
if s__SusanooSasukeStruct1_DI==-1 then
call PauseTimer(s__SusanooSasukeStruct1_t)
endif
endfunction
function s__SusanooSasukeStruct1_SusanooSasukeMovie1 takes nothing returns nothing
local integer this
local integer i=0
loop
exitwhen i>s__SusanooSasukeStruct1_DI
set this=s__SusanooSasukeStruct1_m[i]
call SetTextTagText(s__SusanooSasukeStruct1_thl[this],R2S(SasukeSusanooHeal1),$A*.023/$A)
call SetTextTagPosUnit(s__SusanooSasukeStruct1_thl[this],s__SusanooSasukeStruct1_c[this],$A*.023/$A)
if s__SusanooSasukeStruct1_count[this]==40 then
set s__SusanooSasukeStruct1_count[this]=0
endif
call SetUnitFacing(SasukeSusanoo1,GetUnitFacing(s__SusanooSasukeStruct1_c[this]))
call SetUnitX(SasukeSusanoo1,GetUnitX(s__SusanooSasukeStruct1_c[this]))
call SetUnitY(SasukeSusanoo1,GetUnitY(s__SusanooSasukeStruct1_c[this]))
set s__SusanooSasukeStruct1_count[this]=s__SusanooSasukeStruct1_count[this]+1
set s__SusanooSasukeStruct1_count2[this]=s__SusanooSasukeStruct1_count2[this]+1
if GetUnitAbilityLevel(s__SusanooSasukeStruct1_c[this],'B00A')>0 and GetWidgetLife(s__SusanooSasukeStruct1_c[this])>0 and SasukeSusanooHeal1>0 and s__SusanooSasukeStruct1_count2[this]!=$3E8 then
else
set SasukeSusanooHeal1=0
call DestroyTextTag(s__SusanooSasukeStruct1_thl[this])
set s__SusanooSasukeStruct1_thl[this]=null
call SetUnitTimeScale(SasukeSusanoo1,'d'*.01)
call SetUnitAnimation(SasukeSusanoo1,"Death")
call UnitApplyTimedLife(SasukeSusanoo1,1,1)
set SasukeSus1=false
set SasukeSusanoo1=null
set s__SusanooSasukeStruct1_c[this]=null
call s__SusanooSasukeStruct1_SusanooSasukeStopAction1(this,i)
call s__SusanooSasukeStruct1_deallocate(this)
endif
set i=i+1
endloop
endfunction
function s__SusanooSasukeStruct1_SusanooSasukeStart1 takes nothing returns nothing
local integer this=s__SusanooSasukeStruct1__allocate()
set s__SusanooSasukeStruct1_DI=s__SusanooSasukeStruct1_DI+1
set s__SusanooSasukeStruct1_m[s__SusanooSasukeStruct1_DI]=this
set s__SusanooSasukeStruct1_c[this]=GetSpellAbilityUnit()
if SasukeSusOne1==false then
set SasukeSusOne1=true
set SasukeSusanooCaster1=s__SusanooSasukeStruct1_c[this]
call TriggerRegisterUnitEvent(gg_trg_SusanooSasukeDef1,SasukeSusanooCaster1,EVENT_UNIT_DAMAGED)
endif
set SasukeSusanoo1=CreateUnit(GetOwningPlayer(s__SusanooSasukeStruct1_c[this]),'h014',GetUnitX(s__SusanooSasukeStruct1_c[this]),GetUnitY(s__SusanooSasukeStruct1_c[this]),GetUnitFacing(s__SusanooSasukeStruct1_c[this]))
call SetUnitAnimation(SasukeSusanoo1,"Birth")
call SetUnitTimeScale(SasukeSusanoo1,$96*.01)
set SasukeSus1=true
set s__SusanooSasukeStruct1_count[this]=0
set s__SusanooSasukeStruct1_count2[this]=0
set SasukeSusanooHeal1=GetUnitState(s__SusanooSasukeStruct1_c[this],UNIT_STATE_MAX_LIFE)*2
set s__SusanooSasukeStruct1_thl[this]=CreateTextTag()
call SetTextTagText(s__SusanooSasukeStruct1_thl[this],R2S(SasukeSusanooHeal1),$A*.023/$A)
call SetTextTagColor(s__SusanooSasukeStruct1_thl[this],PercentTo255('d'),PercentTo255('d'),PercentTo255('d'),PercentTo255(100.-0))
call SetTextTagPermanent(s__SusanooSasukeStruct1_thl[this],false)
if s__SusanooSasukeStruct1_DI==0 then
call TimerStart(s__SusanooSasukeStruct1_t,.01,true,function s__SusanooSasukeStruct1_SusanooSasukeMovie1)
endif
endfunction
function SusanooSasukeScope1__SusanooSasukeSpellPick1 takes nothing returns boolean
return GetSpellAbilityId()=='A00Z'
endfunction
function SusanooSasukeScope1__SusanooSasukeSpellStart1 takes nothing returns nothing
call s__SusanooSasukeStruct1_SusanooSasukeStart1()
endfunction
function SusanooSasukeScope1__InitTrig_SusanooSasuke1 takes nothing returns nothing
local trigger SusanooSasuke1=CreateTrigger()
local integer ip
set ip=0
loop
call TriggerRegisterPlayerUnitEvent(SusanooSasuke1,Player(ip),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set ip=ip+1
exitwhen ip==16
endloop
call TriggerAddCondition(SusanooSasuke1,Condition(function SusanooSasukeScope1__SusanooSasukeSpellPick1))
call TriggerAddAction(SusanooSasuke1,function SusanooSasukeScope1__SusanooSasukeSpellStart1)
set SusanooSasuke1=null
endfunction
function SusanooSasukeAttack_Cond1 takes nothing returns boolean
return GetUnitAbilityLevel(GetAttacker(),'B00A')>0 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())) and SasukeSus1 and SasukeSusAttack1==false and SasukeSusanoo1!=null
endfunction
function SusanooSasukeAttack_Act1 takes nothing returns nothing
local unit c=GetAttacker()
local unit d=GetTriggerUnit()
set SasukeSusAttack1=true
call SetUnitAnimation(SasukeSusanoo1,"Attack")
call TriggerSleepAction(.6)
call UnitDamageTarget(c,d,GetHeroAgi(c,true)*1,true,false,null,null,null)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",d,"origin"))
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\ShadowTrap.mdl",d,"origin"))
set c=null
set d=null
call TriggerSleepAction(.6)
set SasukeSusAttack1=false
endfunction
function InitTrig_SusanooSasukeAttack1 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_ATTACKED,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function SusanooSasukeAttack_Cond1))
call TriggerAddAction(t,function SusanooSasukeAttack_Act1)
set t=null
endfunction
function SusanooSasukeDef_Cond1 takes nothing returns boolean
return GetUnitAbilityLevel(GetTriggerUnit(),'B00A')>0 and SasukeSus1 and SasukeSusanoo1!=null and SasukeSusanooHeal1>0
endfunction
function SusanooSasukeDef_Act1 takes nothing returns nothing
local real dam=GetEventDamage()
set SasukeSusanooHeal1=SasukeSusanooHeal1-dam
call SetUnitState(SasukeSusanooCaster,UNIT_STATE_LIFE,GetUnitState(SasukeSusanooCaster1,UNIT_STATE_LIFE)+dam)
endfunction
function InitTrig_SusanooSasukeDef1 takes nothing returns nothing
set gg_trg_SusanooSasukeDef1=CreateTrigger()
call TriggerAddCondition(gg_trg_SusanooSasukeDef1,Condition(function SusanooSasukeDef_Cond1))
call TriggerAddAction(gg_trg_SusanooSasukeDef1,function SusanooSasukeDef_Act1)
endfunction
function s__SusanooSasukeStruct2_SusanooSasukeStopAction2 takes integer this,integer e returns nothing
set s__SusanooSasukeStruct2_m[e]=s__SusanooSasukeStruct2_m[s__SusanooSasukeStruct2_DI]
set s__SusanooSasukeStruct2_DI=s__SusanooSasukeStruct2_DI-1
if s__SusanooSasukeStruct2_DI==-1 then
call PauseTimer(s__SusanooSasukeStruct2_t)
endif
endfunction
function s__SusanooSasukeStruct2_SusanooSasukeMovie2 takes nothing returns nothing
local integer this
local integer i=0
loop
exitwhen i>s__SusanooSasukeStruct2_DI
set this=s__SusanooSasukeStruct2_m[i]
call SetTextTagText(s__SusanooSasukeStruct2_thl[this],R2S(SasukeSusanooHeal2),$A*.023/$A)
call SetTextTagPosUnit(s__SusanooSasukeStruct2_thl[this],s__SusanooSasukeStruct2_c[this],$A*.023/$A)
if s__SusanooSasukeStruct2_count[this]==40 then
set s__SusanooSasukeStruct2_count[this]=0
endif
call SetUnitFacing(SasukeSusanoo2,GetUnitFacing(s__SusanooSasukeStruct2_c[this]))
call SetUnitX(SasukeSusanoo2,GetUnitX(s__SusanooSasukeStruct2_c[this]))
call SetUnitY(SasukeSusanoo2,GetUnitY(s__SusanooSasukeStruct2_c[this]))
set s__SusanooSasukeStruct2_count[this]=s__SusanooSasukeStruct2_count[this]+1
set s__SusanooSasukeStruct2_count2[this]=s__SusanooSasukeStruct2_count2[this]+1
if GetUnitAbilityLevel(s__SusanooSasukeStruct2_c[this],'B00A')>0 and GetWidgetLife(s__SusanooSasukeStruct2_c[this])>0 and SasukeSusanooHeal2>0 and s__SusanooSasukeStruct2_count2[this]!=$7D0 then
else
set SasukeSusanooHeal2=0
call DestroyTextTag(s__SusanooSasukeStruct2_thl[this])
set s__SusanooSasukeStruct2_thl[this]=null
call SetUnitTimeScale(SasukeSusanoo2,'d'*.01)
call SetUnitAnimation(SasukeSusanoo2,"Death")
call UnitApplyTimedLife(SasukeSusanoo2,1,1)
set SasukeSus2=false
set SasukeSusanoo2=null
set s__SusanooSasukeStruct2_c[this]=null
call s__SusanooSasukeStruct2_SusanooSasukeStopAction2(this,i)
call s__SusanooSasukeStruct2_deallocate(this)
endif
set i=i+1
endloop
endfunction
function s__SusanooSasukeStruct2_SusanooSasukeStart2 takes nothing returns nothing
local integer this=s__SusanooSasukeStruct2__allocate()
set s__SusanooSasukeStruct2_DI=s__SusanooSasukeStruct2_DI+1
set s__SusanooSasukeStruct2_m[s__SusanooSasukeStruct2_DI]=this
set s__SusanooSasukeStruct2_c[this]=GetSpellAbilityUnit()
if SasukeSusOne2==false then
set SasukeSusOne2=true
set SasukeSusanooCaster2=s__SusanooSasukeStruct2_c[this]
call TriggerRegisterUnitEvent(gg_trg_SusanooSasukeDef2,SasukeSusanooCaster2,EVENT_UNIT_DAMAGED)
endif
set SasukeSusanoo2=CreateUnit(GetOwningPlayer(s__SusanooSasukeStruct2_c[this]),'h013',GetUnitX(s__SusanooSasukeStruct2_c[this]),GetUnitY(s__SusanooSasukeStruct2_c[this]),GetUnitFacing(s__SusanooSasukeStruct2_c[this]))
call SetUnitAnimation(SasukeSusanoo2,"Birth")
call SetUnitTimeScale(SasukeSusanoo2,$96*.01)
set SasukeSus2=true
set s__SusanooSasukeStruct2_count[this]=0
set s__SusanooSasukeStruct2_count2[this]=0
set SasukeSusanooHeal2=GetUnitState(s__SusanooSasukeStruct2_c[this],UNIT_STATE_MAX_LIFE)*3
set s__SusanooSasukeStruct2_thl[this]=CreateTextTag()
call SetTextTagText(s__SusanooSasukeStruct2_thl[this],R2S(SasukeSusanooHeal2),$A*.023/$A)
call SetTextTagColor(s__SusanooSasukeStruct2_thl[this],PercentTo255('d'),PercentTo255('d'),PercentTo255('d'),PercentTo255(100.-0))
call SetTextTagPermanent(s__SusanooSasukeStruct2_thl[this],false)
if s__SusanooSasukeStruct2_DI==0 then
call TimerStart(s__SusanooSasukeStruct2_t,.01,true,function s__SusanooSasukeStruct2_SusanooSasukeMovie2)
endif
endfunction
function SusanooSasukeScope2__SusanooSasukeSpellPick2 takes nothing returns boolean
return GetSpellAbilityId()=='A015'
endfunction
function SusanooSasukeScope2__SusanooSasukeSpellStart2 takes nothing returns nothing
call s__SusanooSasukeStruct2_SusanooSasukeStart2()
endfunction
function SusanooSasukeScope2__InitTrig_SusanooSasuke2 takes nothing returns nothing
local trigger SusanooSasuke2=CreateTrigger()
local integer ip
set ip=0
loop
call TriggerRegisterPlayerUnitEvent(SusanooSasuke2,Player(ip),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set ip=ip+1
exitwhen ip==16
endloop
call TriggerAddCondition(SusanooSasuke2,Condition(function SusanooSasukeScope2__SusanooSasukeSpellPick2))
call TriggerAddAction(SusanooSasuke2,function SusanooSasukeScope2__SusanooSasukeSpellStart2)
set SusanooSasuke2=null
endfunction
function SusanooSasukeAttack_Cond2 takes nothing returns boolean
return GetUnitAbilityLevel(GetAttacker(),'B00A')>0 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())) and SasukeSus2 and SasukeSusAttack2==false and SasukeSusanoo2!=null
endfunction
function SusanooSasukeAttack_Act2 takes nothing returns nothing
local unit c=GetAttacker()
local unit d=GetTriggerUnit()
set SasukeSusAttack2=true
call SetUnitAnimation(SasukeSusanoo2,"Attack")
call TriggerSleepAction(.6)
call UnitDamageTarget(c,d,GetHeroAgi(c,true)*2,true,false,null,null,null)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",d,"origin"))
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\ShadowTrap.mdl",d,"origin"))
set c=null
set d=null
call TriggerSleepAction(.6)
set SasukeSusAttack2=false
endfunction
function InitTrig_SusanooSasukeAttack2 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_ATTACKED,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function SusanooSasukeAttack_Cond2))
call TriggerAddAction(t,function SusanooSasukeAttack_Act2)
set t=null
endfunction
function SusanooSasukeDef_Cond2 takes nothing returns boolean
return GetUnitAbilityLevel(GetTriggerUnit(),'B00A')>0 and SasukeSus2 and SasukeSusanoo2!=null and SasukeSusanooHeal2>0
endfunction
function SusanooSasukeDef_Act2 takes nothing returns nothing
local real dam=GetEventDamage()
set SasukeSusanooHeal2=SasukeSusanooHeal2-dam
call SetUnitState(SasukeSusanooCaster,UNIT_STATE_LIFE,GetUnitState(SasukeSusanooCaster2,UNIT_STATE_LIFE)+dam)
endfunction
function InitTrig_SusanooSasukeDef2 takes nothing returns nothing
set gg_trg_SusanooSasukeDef2=CreateTrigger()
call TriggerAddCondition(gg_trg_SusanooSasukeDef2,Condition(function SusanooSasukeDef_Cond2))
call TriggerAddAction(gg_trg_SusanooSasukeDef2,function SusanooSasukeDef_Act2)
endfunction
function SusanooTrap_Cond takes nothing returns boolean
return GetSpellAbilityId()=='A010'
endfunction
function SusanooTrap_Act takes nothing returns nothing
local unit c=GetSpellAbilityUnit()
local real ds=0
local real x
local real y
local integer i=0
loop
exitwhen i==$C
set x=GetUnitX(c)+50*Cos(ds)
set y=GetUnitY(c)+50*Sin(ds)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(c),'h017',x,y,GetUnitFacing(c)),1,1)
set i=i+1
set ds=ds+30
endloop
set i=0
set ds=0
call TriggerSleepAction(.1)
loop
exitwhen i==$C
set x=GetUnitX(c)+'d'*Cos(ds)
set y=GetUnitY(c)+'d'*Sin(ds)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(c),'h017',x,y,GetUnitFacing(c)),1,1)
set i=i+1
set ds=ds+30
endloop
set i=0
set ds=0
call TriggerSleepAction(.1)
loop
exitwhen i==$C
set x=GetUnitX(c)+$96*Cos(ds)
set y=GetUnitY(c)+$96*Sin(ds)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(c),'h017',x,y,GetUnitFacing(c)),1,1)
set i=i+1
set ds=ds+30
endloop
set c=null
endfunction
function InitTrig_SusanooTrap takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_CAST,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function SusanooTrap_Cond))
call TriggerAddAction(t,function SusanooTrap_Act)
set t=null
endfunction
function s__SusanooSasukeStruct_SusanooSasukeStopAction takes integer this,integer e returns nothing
set s__SusanooSasukeStruct_m[e]=s__SusanooSasukeStruct_m[s__SusanooSasukeStruct_DI]
set s__SusanooSasukeStruct_DI=s__SusanooSasukeStruct_DI-1
if s__SusanooSasukeStruct_DI==-1 then
call PauseTimer(s__SusanooSasukeStruct_t)
endif
endfunction
function s__SusanooSasukeStruct_SusanooSasukeMovie takes nothing returns nothing
local integer this
local integer i=0
loop
exitwhen i>s__SusanooSasukeStruct_DI
set this=s__SusanooSasukeStruct_m[i]
call SetTextTagText(s__SusanooSasukeStruct_thl[this],R2S(SasukeSusanooHeal),$A*.023/$A)
call SetTextTagPosUnit(s__SusanooSasukeStruct_thl[this],s__SusanooSasukeStruct_c[this],$A*.023/$A)
if s__SusanooSasukeStruct_count[this]==40 then
set s__SusanooSasukeStruct_count[this]=0
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(s__SusanooSasukeStruct_c[this]),'h019',GetUnitX(s__SusanooSasukeStruct_c[this]),GetUnitY(s__SusanooSasukeStruct_c[this]),GetUnitFacing(s__SusanooSasukeStruct_c[this])),1,1)
endif
call SetUnitFacing(SasukeSusanoo,GetUnitFacing(s__SusanooSasukeStruct_c[this]))
call SetUnitX(SasukeSusanoo,GetUnitX(s__SusanooSasukeStruct_c[this]))
call SetUnitY(SasukeSusanoo,GetUnitY(s__SusanooSasukeStruct_c[this]))
call SetUnitFacing(s__SusanooSasukeStruct_d2[this],GetUnitFacing(s__SusanooSasukeStruct_c[this]))
call SetUnitX(s__SusanooSasukeStruct_d2[this],GetUnitX(s__SusanooSasukeStruct_c[this]))
call SetUnitY(s__SusanooSasukeStruct_d2[this],GetUnitY(s__SusanooSasukeStruct_c[this]))
set s__SusanooSasukeStruct_count[this]=s__SusanooSasukeStruct_count[this]+1
set s__SusanooSasukeStruct_count2[this]=s__SusanooSasukeStruct_count2[this]+1
if GetUnitAbilityLevel(s__SusanooSasukeStruct_c[this],'B006')>0 and GetWidgetLife(s__SusanooSasukeStruct_c[this])>0 and SasukeSusanooHeal>0 and s__SusanooSasukeStruct_count2[this]!=$BB8 then
else
set SasukeSusanooHeal=0
call DestroyTextTag(s__SusanooSasukeStruct_thl[this])
call RemoveUnit(s__SusanooSasukeStruct_d2[this])
set s__SusanooSasukeStruct_thl[this]=null
call SetUnitTimeScale(SasukeSusanoo,'d'*.01)
call SetUnitAnimation(SasukeSusanoo,"Death")
call UnitApplyTimedLife(SasukeSusanoo,1,1)
set SasukeSus=false
set SasukeSusanoo=null
set s__SusanooSasukeStruct_c[this]=null
set s__SusanooSasukeStruct_d2[this]=null
call s__SusanooSasukeStruct_SusanooSasukeStopAction(this,i)
call s__SusanooSasukeStruct_deallocate(this)
endif
set i=i+1
endloop
endfunction
function s__SusanooSasukeStruct_SusanooSasukeStart takes nothing returns nothing
local integer this=s__SusanooSasukeStruct__allocate()
set s__SusanooSasukeStruct_DI=s__SusanooSasukeStruct_DI+1
set s__SusanooSasukeStruct_m[s__SusanooSasukeStruct_DI]=this
set s__SusanooSasukeStruct_c[this]=GetSpellAbilityUnit()
if SasukeSusOne==false then
set SasukeSusOne=true
set SasukeSusanooCaster=s__SusanooSasukeStruct_c[this]
call TriggerRegisterUnitEvent(gg_trg_SusanooSasukeDef,SasukeSusanooCaster,EVENT_UNIT_DAMAGED)
endif
set SasukeSusanoo=CreateUnit(GetOwningPlayer(s__SusanooSasukeStruct_c[this]),'h016',GetUnitX(s__SusanooSasukeStruct_c[this]),GetUnitY(s__SusanooSasukeStruct_c[this]),GetUnitFacing(s__SusanooSasukeStruct_c[this]))
set s__SusanooSasukeStruct_d2[this]=CreateUnit(GetOwningPlayer(s__SusanooSasukeStruct_c[this]),'h01A',GetUnitX(s__SusanooSasukeStruct_c[this]),GetUnitY(s__SusanooSasukeStruct_c[this]),GetUnitFacing(s__SusanooSasukeStruct_c[this]))
call SetUnitAnimation(SasukeSusanoo,"Birth")
call SetUnitTimeScale(SasukeSusanoo,$96*.01)
set SasukeSus=true
set s__SusanooSasukeStruct_count[this]=0
set s__SusanooSasukeStruct_count2[this]=0
set SasukeSusanooHeal=GetUnitState(s__SusanooSasukeStruct_c[this],UNIT_STATE_MAX_LIFE)*4
set s__SusanooSasukeStruct_thl[this]=CreateTextTag()
call SetTextTagText(s__SusanooSasukeStruct_thl[this],R2S(SasukeSusanooHeal),$A*.023/$A)
call SetTextTagColor(s__SusanooSasukeStruct_thl[this],PercentTo255('d'),PercentTo255('d'),PercentTo255('d'),PercentTo255(100.-0))
call SetTextTagPermanent(s__SusanooSasukeStruct_thl[this],false)
if s__SusanooSasukeStruct_DI==0 then
call TimerStart(s__SusanooSasukeStruct_t,.01,true,function s__SusanooSasukeStruct_SusanooSasukeMovie)
endif
endfunction
function SusanooSasukeScope__SusanooSasukeSpellPick takes nothing returns boolean
return GetSpellAbilityId()=='A010'
endfunction
function SusanooSasukeScope__SusanooSasukeSpellStart takes nothing returns nothing
call s__SusanooSasukeStruct_SusanooSasukeStart()
endfunction
function SusanooSasukeScope__InitTrig_SusanooSasuke takes nothing returns nothing
local trigger SusanooSasuke=CreateTrigger()
local integer ip
set ip=0
loop
call TriggerRegisterPlayerUnitEvent(SusanooSasuke,Player(ip),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set ip=ip+1
exitwhen ip==16
endloop
call TriggerAddCondition(SusanooSasuke,Condition(function SusanooSasukeScope__SusanooSasukeSpellPick))
call TriggerAddAction(SusanooSasuke,function SusanooSasukeScope__SusanooSasukeSpellStart)
set SusanooSasuke=null
endfunction
function SusanooSasukeAttack_Cond takes nothing returns boolean
return GetUnitAbilityLevel(GetAttacker(),'B006')>0 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())) and SasukeSus and SasukeSusAttack==false and SasukeSusanoo!=null
endfunction
function SusanooSasukeAttack_Act takes nothing returns nothing
local unit c=GetAttacker()
local unit d=GetTriggerUnit()
set SasukeSusAttack=true
call SetUnitAnimation(SasukeSusanoo,"Attack")
call TriggerSleepAction(.6)
call UnitDamageTarget(c,d,GetHeroAgi(c,true)*3,true,false,null,null,null)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",d,"origin"))
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\ShadowTrap.mdl",d,"origin"))
set c=null
set d=null
call TriggerSleepAction(.6)
set SasukeSusAttack=false
endfunction
function InitTrig_SusanooSasukeAttack takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_ATTACKED,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function SusanooSasukeAttack_Cond))
call TriggerAddAction(t,function SusanooSasukeAttack_Act)
set t=null
endfunction
function SusanooSasukeDef_Cond takes nothing returns boolean
return GetUnitAbilityLevel(GetTriggerUnit(),'B006')>0 and SasukeSus and SasukeSusanoo!=null and SasukeSusanooHeal>0
endfunction
function SusanooSasukeDef_Act takes nothing returns nothing
local real dam=GetEventDamage()
set SasukeSusanooHeal=SasukeSusanooHeal-dam
call SetUnitState(SasukeSusanooCaster,UNIT_STATE_LIFE,GetUnitState(SasukeSusanooCaster,UNIT_STATE_LIFE)+dam)
endfunction
function InitTrig_SusanooSasukeDef takes nothing returns nothing
set gg_trg_SusanooSasukeDef=CreateTrigger()
call TriggerAddCondition(gg_trg_SusanooSasukeDef,Condition(function SusanooSasukeDef_Cond))
call TriggerAddAction(gg_trg_SusanooSasukeDef,function SusanooSasukeDef_Act)
endfunction
function Trig_EntonKagetsuchi_Cast_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A01B' and GetUnitAbilityLevel(GetTriggerUnit(),'B006')>0 and SasukeSus and SasukeSusanoo!=null
endfunction
function Trig_EntonKagetsuchi_Cast_Actions takes nothing returns nothing
local unit c
local real x
local real y
local real a
local unit d
set bj_lastCreatedTextTag=CreateTextTag()
call SetTextTagText(bj_lastCreatedTextTag,GetObjectName('A01B'),$A*.023/$A)
call SetTextTagPosUnit(bj_lastCreatedTextTag,GetTriggerUnit(),0)
call SetTextTagColor(bj_lastCreatedTextTag,PercentTo255('d'),PercentTo255('d'),PercentTo255('d'),PercentTo255(100.-0))
call SetTextTagPermanent(bj_lastCreatedTextTag,false)
call SetTextTagVelocity(bj_lastCreatedTextTag,25*.071/$80*Cos(30*bj_DEGTORAD),25*.071/$80*Sin(30*bj_DEGTORAD))
call SetTextTagLifespan(bj_lastCreatedTextTag,2.5)
call SetTextTagFadepoint(bj_lastCreatedTextTag,1.4)
set c=GetSpellAbilityUnit()
set x=GetSpellTargetX()
set y=GetSpellTargetY()
set a=Atan2(y-GetUnitY(c),x-GetUnitX(c))
call SetUnitAnimation(SasukeSusanoo,"Spell Two")
call TriggerSleepAction(.1)
set d=CreateUnit(GetOwningPlayer(c),'h01E',GetUnitX(c)-300*Cos(a+.7),GetUnitY(c)-300*Sin(a+.7),a*bj_RADTODEG)
if SasukeSusanoo!=null then
set a=Atan2(y-GetUnitY(d),x-GetUnitX(d))
call sc__EntonKagetsuchiStruct_EntonKagetsuchiStart(c,d,a)
else
call RemoveUnit(d)
endif
set c=null
set d=null
endfunction
function InitTrig_EntonKagetsuchi_Cast takes nothing returns nothing
local integer index
set gg_trg_EntonKagetsuchi_Cast=CreateTrigger()
set index=0
loop
call TriggerRegisterPlayerUnitEvent(gg_trg_EntonKagetsuchi_Cast,Player(index),EVENT_PLAYER_UNIT_SPELL_CHANNEL,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(gg_trg_EntonKagetsuchi_Cast,Condition(function Trig_EntonKagetsuchi_Cast_Conditions))
call TriggerAddAction(gg_trg_EntonKagetsuchi_Cast,function Trig_EntonKagetsuchi_Cast_Actions)
endfunction
function s__EntonKagetsuchiStruct_EntonKagetsuchiStopAction takes integer this,integer e returns nothing
set s__EntonKagetsuchiStruct_m[e]=s__EntonKagetsuchiStruct_m[s__EntonKagetsuchiStruct_DI]
set s__EntonKagetsuchiStruct_DI=s__EntonKagetsuchiStruct_DI-1
if s__EntonKagetsuchiStruct_DI==-1 then
call PauseTimer(s__EntonKagetsuchiStruct_t)
endif
endfunction
function s__EntonKagetsuchiStruct_EntonKagetsuchiMovie takes nothing returns nothing
local integer this
local integer i=0
local group cjlocgn_00000000
loop
exitwhen i>s__EntonKagetsuchiStruct_DI
set this=s__EntonKagetsuchiStruct_m[i]
call SetUnitX(s__EntonKagetsuchiStruct_d[this],GetUnitX(s__EntonKagetsuchiStruct_d[this])+9*Cos(s__EntonKagetsuchiStruct_a[this]))
call SetUnitY(s__EntonKagetsuchiStruct_d[this],GetUnitY(s__EntonKagetsuchiStruct_d[this])+9*Sin(s__EntonKagetsuchiStruct_a[this]))
call SetUnitFacing(s__EntonKagetsuchiStruct_d[this],s__EntonKagetsuchiStruct_a[this]*bj_RADTODEG)
set cjlocgn_00000000=CreateGroup()
call GroupEnumUnitsInRange(cjlocgn_00000000,GetUnitX(s__EntonKagetsuchiStruct_d[this]),GetUnitY(s__EntonKagetsuchiStruct_d[this]),$AF,null)
loop
set s__EntonKagetsuchiStruct_n[this]=FirstOfGroup(cjlocgn_00000000)
exitwhen s__EntonKagetsuchiStruct_n[this]==null
if IsUnitEnemy(s__EntonKagetsuchiStruct_n[this],GetOwningPlayer(s__EntonKagetsuchiStruct_c[this]))and not IsUnitInGroup(s__EntonKagetsuchiStruct_n[this],EntonKagetsuchiD)and GetWidgetLife(s__EntonKagetsuchiStruct_n[this])>0 and IsUnitType(s__EntonKagetsuchiStruct_n[this],UNIT_TYPE_STRUCTURE)==false then
call UnitDamageTarget(s__EntonKagetsuchiStruct_c[this],s__EntonKagetsuchiStruct_n[this],GetHeroAgi(s__EntonKagetsuchiStruct_c[this],true)*2,true,false,null,null,null)
if IsUnitInGroup(s__EntonKagetsuchiStruct_n[this],AmaterasuAll)==false then
call s__AmaterasuAllStruct_AmaterasuAllStart(s__EntonKagetsuchiStruct_c[this],s__EntonKagetsuchiStruct_n[this])
endif
call GroupAddUnit(EntonKagetsuchiD,s__EntonKagetsuchiStruct_n[this])
endif
call GroupRemoveUnit(cjlocgn_00000000,s__EntonKagetsuchiStruct_n[this])
endloop
call DestroyGroup(cjlocgn_00000000)
set cjlocgn_00000000=null
if s__EntonKagetsuchiStruct_count2[this]==.15 then
set s__EntonKagetsuchiStruct_count2[this]=0
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(s__EntonKagetsuchiStruct_c[this]),'h01G',GetUnitX(s__EntonKagetsuchiStruct_d[this]),GetUnitY(s__EntonKagetsuchiStruct_d[this]),s__EntonKagetsuchiStruct_a[this]*bj_RADTODEG),1,2)
endif
set s__EntonKagetsuchiStruct_count[this]=s__EntonKagetsuchiStruct_count[this]+1
set s__EntonKagetsuchiStruct_count2[this]=s__EntonKagetsuchiStruct_count2[this]+.01
if s__EntonKagetsuchiStruct_count[this]<310 and GetRectMinX(bj_mapInitialPlayableArea)<=GetUnitX(s__EntonKagetsuchiStruct_d[this])and GetUnitX(s__EntonKagetsuchiStruct_d[this])<=GetRectMaxX(bj_mapInitialPlayableArea)and GetRectMinY(bj_mapInitialPlayableArea)<=GetUnitY(s__EntonKagetsuchiStruct_d[this])and GetUnitY(s__EntonKagetsuchiStruct_d[this])<=GetRectMaxY(bj_mapInitialPlayableArea)then
else
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(s__EntonKagetsuchiStruct_c[this]),'h01H',GetUnitX(s__EntonKagetsuchiStruct_d[this]),GetUnitY(s__EntonKagetsuchiStruct_d[this]),s__EntonKagetsuchiStruct_a[this]*bj_RADTODEG),1,2)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(s__EntonKagetsuchiStruct_c[this]),'h01I',GetUnitX(s__EntonKagetsuchiStruct_d[this]),GetUnitY(s__EntonKagetsuchiStruct_d[this]),s__EntonKagetsuchiStruct_a[this]*bj_RADTODEG),1,2)
call DestroyEffect(s__EntonKagetsuchiStruct_eff[this])
set s__EntonKagetsuchiStruct_eff[this]=null
call RemoveUnit(s__EntonKagetsuchiStruct_d[this])
loop
set s__EntonKagetsuchiStruct_n2[this]=FirstOfGroup(EntonKagetsuchiD)
exitwhen s__EntonKagetsuchiStruct_n2[this]==null
call GroupRemoveUnit(EntonKagetsuchiD,s__EntonKagetsuchiStruct_n2[this])
endloop
set s__EntonKagetsuchiStruct_d[this]=null
set s__EntonKagetsuchiStruct_c[this]=null
call s__EntonKagetsuchiStruct_EntonKagetsuchiStopAction(this,i)
call s__EntonKagetsuchiStruct_deallocate(this)
endif
set i=i+1
endloop
endfunction
function s__EntonKagetsuchiStruct_EntonKagetsuchiStart takes unit NewCaster,unit NewDummy,real NewAngle returns nothing
local integer this=s__EntonKagetsuchiStruct__allocate()
set s__EntonKagetsuchiStruct_DI=s__EntonKagetsuchiStruct_DI+1
set s__EntonKagetsuchiStruct_m[s__EntonKagetsuchiStruct_DI]=this
set s__EntonKagetsuchiStruct_c[this]=NewCaster
set s__EntonKagetsuchiStruct_d[this]=NewDummy
set s__EntonKagetsuchiStruct_eff[this]=AddSpecialEffectTarget("amaterasu.mdl",s__EntonKagetsuchiStruct_d[this],"origin")
set s__EntonKagetsuchiStruct_a[this]=NewAngle
set s__EntonKagetsuchiStruct_count[this]=0
set s__EntonKagetsuchiStruct_count2[this]=0
if s__EntonKagetsuchiStruct_DI==0 then
call TimerStart(s__EntonKagetsuchiStruct_t,.01,true,function s__EntonKagetsuchiStruct_EntonKagetsuchiMovie)
endif
endfunction
function UnitFilter takes unit u,player owner returns boolean
return IsUnitEnemy(u,owner)and UnitAlive(u)and not IsUnitType(u,UNIT_TYPE_STRUCTURE)
endfunction
function Udar__Act takes nothing returns nothing
local integer d
local unit u
local real angle
local integer i=0
loop
exitwhen i>=Udar__counter
set d=Udar__Data[i]
if s__Udar__data_check[d]then
set s__Udar__data_index[d]=s__Udar__data_index[d]+1
set s__Udar__data_x[d]=s__Udar__data_x[d]+Udar__SpeedHook*Cos(s__Udar__data_angle[d]*.01747)
set s__Udar__data_y[d]=s__Udar__data_y[d]+Udar__SpeedHook*Sin(s__Udar__data_angle[d]*.01747)
set s___Udar__data_chains[s__Udar__data_chains[d]+s__Udar__data_index[d]]=CreateUnit(s__Udar__data_owner[d],Udar__EffectDummy,s__Udar__data_x[d],s__Udar__data_y[d],s__Udar__data_angle[d])
else
set s__Udar__data_x[d]=s__Udar__data_x[d]-Udar__SpeedHook*Cos(s__Udar__data_angle[d]*.01747)
set s__Udar__data_y[d]=s__Udar__data_y[d]-Udar__SpeedHook*Sin(s__Udar__data_angle[d]*.01747)
if s___Udar__data_chains[s__Udar__data_chains[d]+s__Udar__data_index[d]]!=null then
call RemoveUnit(s___Udar__data_chains[s__Udar__data_chains[d]+s__Udar__data_index[d]])
set s___Udar__data_chains[s__Udar__data_chains[d]+s__Udar__data_index[d]]=null
endif
set s__Udar__data_index[d]=s__Udar__data_index[d]-1
endif
if s__Udar__data_index[d]==Udar__DistanceHook then
set s__Udar__data_check[d]=false
elseif s__Udar__data_index[d]==0 and not s__Udar__data_check[d]then
call RemoveUnit(s__Udar__data_dummy[d])
call DestroyGroup(s__Udar__data_gr[d])
set s__Udar__data_c[d]=null
set s__Udar__data_dummy[d]=null
set s__Udar__data_owner[d]=null
set s__Udar__data_gr[d]=null
call s__Udar__data_deallocate(d)
set Udar__counter=Udar__counter-1
set Udar__Data[i]=Udar__Data[Udar__counter]
set i=i-1
else
call SetUnitX(s__Udar__data_dummy[d],s__Udar__data_x[d])
call SetUnitY(s__Udar__data_dummy[d],s__Udar__data_y[d])
call GroupEnumUnitsInRange(s__Udar__data_gr[d],s__Udar__data_x[d],s__Udar__data_y[d],Udar__RadiusHook,null)
loop
set u=FirstOfGroup(s__Udar__data_gr[d])
exitwhen u==null
if UnitFilter(u,s__Udar__data_owner[d])then
set s__Udar__data_check[d]=false
set angle=bj_RADTODEG*Atan2(GetUnitY(u)-s__Udar__data_y[d],GetUnitX(u)-s__Udar__data_x[d])
call KBs(u,Udar__KnockBase,angle,null,Udar__Knockaccelerate)
call StunTarget(s__Udar__data_c[d],u,Udar__StunBase+Udar__StunLevel*s__Udar__data_level[d])
call UnitDamageTarget(s__Udar__data_c[d],u,Udar__BaseDamage+Udar__LevelDamage*s__Udar__data_level[d],true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,null)
call DestroyEffect(AddSpecialEffect(Udar__SfxTarget,GetUnitX(u),GetUnitY(u)))
call DestroyGroup(s__Udar__data_gr[d])
endif
call GroupRemoveUnit(s__Udar__data_gr[d],u)
endloop
endif
set i=i+1
endloop
if Udar__counter==0 then
call PauseTimer(Udar__tick)
endif
set u=null
endfunction
function Udar__Actions takes nothing returns nothing
local integer d=s__Udar__data__allocate()
local real ty
local real tx
set s__Udar__data_check[d]=true
set s__Udar__data_gr[d]=CreateGroup()
set s__Udar__data_c[d]=GetTriggerUnit()
set s__Udar__data_x[d]=GetUnitX(s__Udar__data_c[d])
set s__Udar__data_y[d]=GetUnitY(s__Udar__data_c[d])
set tx=GetSpellTargetX()
set ty=GetSpellTargetY()
set s__Udar__data_owner[d]=GetOwningPlayer(s__Udar__data_c[d])
set s__Udar__data_level[d]=GetUnitAbilityLevel(s__Udar__data_c[d],Udar__AbilityID)
set s__Udar__data_index[d]=0
set s__Udar__data_angle[d]=bj_RADTODEG*Atan2(ty-s__Udar__data_y[d],tx-s__Udar__data_x[d])
set s__Udar__data_dummy[d]=CreateUnit(s__Udar__data_owner[d],Udar__EffectDummy,s__Udar__data_x[d],s__Udar__data_y[d],s__Udar__data_angle[d])
if Udar__counter==0 then
call TimerStart(Udar__tick,.025,true,function Udar__Act)
endif
set Udar__Data[Udar__counter]=d
set Udar__counter=Udar__counter+1
endfunction
function Udar__Conditions takes nothing returns boolean
return GetSpellAbilityId()==Udar__AbilityID
endfunction
function Udar__Init takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Udar__Conditions))
call TriggerAddAction(t,function Udar__Actions)
set t=null
endfunction
function Sensoe_Act takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
local unit b=LoadUnitHandle(hash,GetHandleId(t),2)
if GetUnitAbilityLevel(a,'B00G')>0 then
call SetUnitX(b,GetUnitX(a))
call SetUnitY(b,GetUnitY(a))
else
call PauseTimer(t)
call FlushChildHashtable(hash,GetHandleId(t))
call FlushChildHashtable(hash,GetHandleId(a))
call DestroyTimer(t)
call UnitRemoveAbility(a,'AIsi')
call RemoveUnit(b)
set a=null
set b=null
set t=null
endif
set b=null
set a=null
set t=null
endfunction
function Sensoe takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local timer t=CreateTimer()
local unit b=CreateUnit(GetOwningPlayer(a),'h01P',GetUnitX(a),GetUnitY(a),GetUnitFacing(a))
call UnitAddAbility(b,'AIsi')
call SaveUnitHandle(hash,GetHandleId(t),1,a)
call SaveUnitHandle(hash,GetHandleId(t),2,b)
call SaveUnitHandle(hash,GetHandleId(a),StringHash("karin"),a)
call TimerStart(t,.01,true,function Sensoe_Act)
set b=null
set t=null
set a=null
endfunction
function Sensoe_Cond takes nothing returns boolean
return GetSpellAbilityId()=='A01N'
endfunction
function InitTrig_Sensor takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index=0
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==$E
endloop
call TriggerAddCondition(t,Condition(function Sensoe_Cond))
call TriggerAddAction(t,function Sensoe)
set t=null
endfunction
function Trig_Chakra_Karin_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A06Z'
endfunction
function Trig_Chakra_Karin_Actions takes nothing returns nothing
call SetUnitState(GetSpellTargetUnit(),UNIT_STATE_MAX_MANA,GetUnitState(GetSpellTargetUnit(),UNIT_STATE_MAX_MANA))
call SetUnitState(GetSpellTargetUnit(),UNIT_STATE_MAX_LIFE,GetUnitState(GetSpellTargetUnit(),UNIT_STATE_MAX_LIFE))
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Critters\\Albatross\\CritterBloodAlbatross.mdl",GetSpellAbilityUnit(),"right hand"))
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Critters\\Albatross\\CritterBloodAlbatross.mdl",GetSpellAbilityUnit(),"left hand"))
if GetUnitState(GetSpellAbilityUnit(),UNIT_STATE_MANA)<=499 then
call KillUnit(GetSpellAbilityUnit())
endif
endfunction
function InitTrig_Chakra_Karin takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_Chakra_Karin_Conditions))
call TriggerAddAction(t,function Trig_Chakra_Karin_Actions)
set t=null
endfunction
function Trig_stomb_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A06T')
endfunction
function Trig_stomb_Actions takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),150.,(I2R(bj_forLoopAIndex)*120.)),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),150.,(I2R(bj_forLoopAIndex)*120.)),"Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function InitTrig_stomb takes nothing returns nothing
set gg_trg_stomb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_stomb,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_stomb,Condition(function Trig_stomb_Conditions))
call TriggerAddAction(gg_trg_stomb,function Trig_stomb_Actions)
endfunction
function Trig_Overpower_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A06V')
endfunction
function Trig_Overpower_Func005001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A06V',udg_Bansho_Tenin[$99])==1)
endfunction
function Trig_Overpower_Func006001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A06V',udg_Bansho_Tenin[$99])==2)
endfunction
function Trig_Overpower_Func007001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A06V',udg_Bansho_Tenin[$99])==3)
endfunction
function Trig_Overpower_Func008001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A06V',udg_Bansho_Tenin[$99])==4)
endfunction
function Trig_Overpower_Func011C takes nothing returns boolean
return(IsTriggerEnabled(gg_trg_Overpower_attack))
endfunction
function Trig_Overpower_Actions takes nothing returns nothing
set udg_Bansho_Tenin[$99]=GetSpellAbilityUnit()
call AddSpecialEffectTargetUnitBJ("origin",udg_Bansho_Tenin[$99],"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call ModifyHeroStat(0,udg_Bansho_Tenin[$99],0,'d')
if(Trig_Overpower_Func005001())then
set udg_death_count[976]=3
endif
if(Trig_Overpower_Func006001())then
set udg_death_count[976]=4
endif
if(Trig_Overpower_Func007001())then
set udg_death_count[976]=5
endif
if(Trig_Overpower_Func008001())then
set udg_death_count[976]=6
endif
call EnableTrigger(gg_trg_Overpower_attack)
call TriggerSleepAction(10.)
if(Trig_Overpower_Func011C())then
call DisableTrigger(gg_trg_Overpower_attack)
set udg_PeinReal['v']=GetUnitLifePercent(udg_Bansho_Tenin[$99])
call ModifyHeroStat(0,udg_Bansho_Tenin[$99],1,'d')
set udg_death_count[976]=0
call SetUnitLifePercentBJ(udg_Bansho_Tenin[$99],udg_PeinReal['v'])
set udg_Bansho_Tenin[$99]=null
endif
call DisableTrigger(gg_trg_Overpower_attack)
endfunction
function InitTrig_Overpower takes nothing returns nothing
set gg_trg_Overpower=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Overpower,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Overpower,Condition(function Trig_Overpower_Conditions))
call TriggerAddAction(gg_trg_Overpower,function Trig_Overpower_Actions)
endfunction
function Trig_Overpower_attack_Conditions takes nothing returns boolean
return(GetAttacker()==udg_Bansho_Tenin[$99])
endfunction
function Trig_Overpower_attack_Func001C takes nothing returns boolean
return(IsTriggerEnabled(gg_trg_Overpower_attack))and(GetTriggerExecCount(gg_trg_Overpower_attack)==udg_death_count[976])
endfunction
function Trig_Overpower_attack_Actions takes nothing returns nothing
if(Trig_Overpower_attack_Func001C())then
call DisableTrigger(gg_trg_Overpower_attack)
set udg_PeinReal['v']=GetUnitLifePercent(udg_Bansho_Tenin[$99])
call ModifyHeroStat(0,udg_Bansho_Tenin[$99],1,'d')
set udg_death_count[976]=0
call UnitRemoveAbility(udg_Bansho_Tenin[$99],'B010')
call SetUnitLifePercentBJ(udg_Bansho_Tenin[$99],udg_PeinReal['v'])
set udg_Bansho_Tenin[$99]=null
endif
endfunction
function InitTrig_Overpower_attack takes nothing returns nothing
set gg_trg_Overpower_attack=CreateTrigger()
call DisableTrigger(gg_trg_Overpower_attack)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Overpower_attack,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Overpower_attack,Condition(function Trig_Overpower_attack_Conditions))
call TriggerAddAction(gg_trg_Overpower_attack,function Trig_Overpower_attack_Actions)
endfunction
function Trig_Bazooka_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A08E')
endfunction
function Trig_Bazooka_Actions takes nothing returns nothing
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),AngleBetweenPoints(GetUnitLoc(GetTriggerUnit()),GetSpellTargetLoc()))
call SetUnitScalePercent(bj_lastCreatedUnit,300.,300.,300.)
call UnitAddAbility(bj_lastCreatedUnit,'A08F')
call SetUnitAbilityLevelSwapped('A08F',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A08E',GetTriggerUnit()))
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D009D,PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),256,AngleBetweenPoints(GetUnitLoc(GetTriggerUnit()),GetSpellTargetLoc())))
call UnitApplyTimedLifeBJ(1.,'BTLF',bj_lastCreatedUnit)
endfunction
function InitTrig_Bazooka takes nothing returns nothing
set gg_trg_Bazooka=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Bazooka,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Bazooka,Condition(function Trig_Bazooka_Conditions))
call TriggerAddAction(gg_trg_Bazooka,function Trig_Bazooka_Actions)
endfunction
function Trig_Whaaa_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A06U')
endfunction
function Trig_Whaaa_Func010001 takes nothing returns boolean
return(DistanceBetweenPoints(GetUnitLoc(udg_Bansho_Tenin[$97]),GetUnitLoc(udg_Bansho_Tenin[$98]))<=140.)
endfunction
function Trig_Whaaa_Func017Func006001003 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Bansho_Tenin[$97])))
endfunction
function Trig_Whaaa_Func017Func006A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Bansho_Tenin[$97],GetEnumUnit(),9000.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endfunction
function Trig_Whaaa_Func017C takes nothing returns boolean
return(UnitHasBuffBJ(udg_Bansho_Tenin[$98],'B00N')==false)
endfunction
function Trig_Whaaa_Actions takes nothing returns nothing
set udg_Bansho_Tenin[$97]=GetSpellAbilityUnit()
set udg_Bansho_Tenin[$98]=GetSpellTargetUnit()
call SetUnitPathing(udg_Bansho_Tenin[$97],false)
call PauseUnit(udg_Bansho_Tenin[$97],true)
call SetUnitTimeScalePercent(udg_Bansho_Tenin[$97],300.)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Bansho_Tenin[$97]),"Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call TriggerSleepAction(.05)
call EnableTrigger(gg_trg_Whaaa_move)
loop
exitwhen(Trig_Whaaa_Func010001())
call TriggerSleepAction(RMaxBJ(bj_WAIT_FOR_COND_MIN_INTERVAL,.1))
endloop
call DisableTrigger(gg_trg_Whaaa_move)
call SetUnitPathing(udg_Bansho_Tenin[$97],true)
call SetUnitAnimation(udg_Bansho_Tenin[$97],"attack")
call TriggerSleepAction(.06)
call PauseUnit(udg_Bansho_Tenin[$97],false)
call SetUnitTimeScalePercent(udg_Bansho_Tenin[$97],100.)
if(Trig_Whaaa_Func017C())then
call PauseUnit(udg_Bansho_Tenin[$98],true)
call EnableTrigger(gg_trg_Whaaa_move_2)
call TriggerSleepAction(.08)
call DisableTrigger(gg_trg_Whaaa_move_2)
call TerrainDeformationRippleBJ(2.,false,GetUnitLoc(udg_Bansho_Tenin[$98]),300.,600.,98.,1,512)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(460.,GetUnitLoc(udg_Bansho_Tenin[$98]),Condition(function Trig_Whaaa_Func017Func006001003)),function Trig_Whaaa_Func017Func006A)
call CreateNUnitsAtLoc(1,'u00M',Player($F),GetUnitLoc(udg_Bansho_Tenin[$98]),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,'BTLF',bj_lastCreatedUnit)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Bansho_Tenin[$98]),"Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=7
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Bansho_Tenin[$98]),250.,(I2R(bj_forLoopAIndex)*55.)),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Bansho_Tenin[$98]),250.,(I2R(bj_forLoopAIndex)*55.)),"Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call PauseUnit(udg_Bansho_Tenin[$98],false)
endif
set udg_Bansho_Tenin[$97]=null
set udg_Bansho_Tenin[$98]=null
endfunction
function InitTrig_Whaaa takes nothing returns nothing
set gg_trg_Whaaa=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Whaaa,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Whaaa,Condition(function Trig_Whaaa_Conditions))
call TriggerAddAction(gg_trg_Whaaa,function Trig_Whaaa_Actions)
endfunction
function Trig_Whaaa_move_Actions takes nothing returns nothing
call SetUnitPositionLoc(udg_Bansho_Tenin[$97],PolarProjectionBJ(GetUnitLoc(udg_Bansho_Tenin[$97]),30.,AngleBetweenPoints(GetUnitLoc(udg_Bansho_Tenin[$97]),GetUnitLoc(udg_Bansho_Tenin[$98]))))
call SetUnitFacingToFaceUnitTimed(udg_Bansho_Tenin[$97],udg_Bansho_Tenin[$98],0)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Bansho_Tenin[$97]),"Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call SetUnitAnimation(udg_Bansho_Tenin[$97],"walk")
endfunction
function InitTrig_Whaaa_move takes nothing returns nothing
set gg_trg_Whaaa_move=CreateTrigger()
call DisableTrigger(gg_trg_Whaaa_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Whaaa_move,.02)
call TriggerAddAction(gg_trg_Whaaa_move,function Trig_Whaaa_move_Actions)
endfunction
function Trig_Whaaa_move_2_Func004A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Whaaa_move_2_Actions takes nothing returns nothing
call SetUnitPositionLoc(udg_Bansho_Tenin[$98],PolarProjectionBJ(GetUnitLoc(udg_Bansho_Tenin[$98]),80.,AngleBetweenPoints(GetUnitLoc(udg_Bansho_Tenin[$97]),GetUnitLoc(udg_Bansho_Tenin[$98]))))
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Bansho_Tenin[$98]),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call EnumDestructablesInCircleBJ(256,GetUnitLoc(udg_Bansho_Tenin[$98]),function Trig_Whaaa_move_2_Func004A)
endfunction
function InitTrig_Whaaa_move_2 takes nothing returns nothing
set gg_trg_Whaaa_move_2=CreateTrigger()
call DisableTrigger(gg_trg_Whaaa_move_2)
call TriggerRegisterTimerEventPeriodic(gg_trg_Whaaa_move_2,.02)
call TriggerAddAction(gg_trg_Whaaa_move_2,function Trig_Whaaa_move_2_Actions)
endfunction
function Trig_Podmena_2_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A033')
endfunction
function Trig_Podmena_2_Func003Func001001003 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetSpellAbilityUnit())))
endfunction
function Trig_Podmena_2_Func003Func001A takes nothing returns nothing
call UnitDamageTargetBJ(GetSpellAbilityUnit(),GetEnumUnit(),200.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endfunction
function Trig_Podmena_2_Func003C takes nothing returns boolean
return(DistanceBetweenPoints(GetUnitLoc(GetSpellAbilityUnit()),GetUnitLoc(udg_Beast[515]))<=500.)
endfunction
function Trig_Podmena_2_Actions takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(gg_unit_Ofar_0013),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
if(Trig_Podmena_2_Func003C())then
call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.,GetUnitLoc(GetSpellAbilityUnit()),Condition(function Trig_Podmena_2_Func003Func001001003)),function Trig_Podmena_2_Func003Func001A)
call AddSpecialEffectLocBJ(GetUnitLoc(GetSpellAbilityUnit()),"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(GetUnitLoc(GetSpellAbilityUnit()),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endif
endfunction
function InitTrig_Podmena_2 takes nothing returns nothing
set gg_trg_Podmena_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Podmena_2,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Podmena_2,Condition(function Trig_Podmena_2_Conditions))
call TriggerAddAction(gg_trg_Podmena_2,function Trig_Podmena_2_Actions)
endfunction
function Trig_Charge_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A06S')
endfunction
function Trig_Charge_Actions takes nothing returns nothing
set udg_Beast[513]=GetSpellAbilityUnit()
set udg_Beast[514]=GetSpellTargetUnit()
call SetUnitPathing(udg_Beast[513],false)
call TriggerSleepAction(.04)
call PauseUnit(udg_Beast[513],true)
call SetUnitAnimationByIndex(udg_Beast[513],5)
call EnableTrigger(gg_trg_Chargei_move)
endfunction
function InitTrig_Charge takes nothing returns nothing
set gg_trg_Charge=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Charge,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Charge,Condition(function Trig_Charge_Conditions))
call TriggerAddAction(gg_trg_Charge,function Trig_Charge_Actions)
endfunction
function Trig_Chargei_move_Func003Func009Func001001003 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Beast[513])))
endfunction
function Trig_Chargei_move_Func003Func009Func001A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Beast[513],GetEnumUnit(),160.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endfunction
function Trig_Chargei_move_Func003Func009C takes nothing returns boolean
return(DistanceBetweenPoints(GetUnitLoc(udg_Beast[513]),GetUnitLoc(udg_Beast[515]))<=500.)
endfunction
function Trig_Chargei_move_Func003C takes nothing returns boolean
return(DistanceBetweenPoints(GetUnitLoc(udg_Beast[513]),GetUnitLoc(udg_Beast[514]))<=140.)
endfunction
function Trig_Chargei_move_Actions takes nothing returns nothing
call SetUnitPositionLoc(udg_Beast[513],PolarProjectionBJ(GetUnitLoc(udg_Beast[513]),15.,AngleBetweenPoints(GetUnitLoc(udg_Beast[513]),GetUnitLoc(udg_Beast[514]))))
call SetUnitFacingToFaceUnitTimed(udg_Beast[513],udg_Beast[514],0)
if(Trig_Chargei_move_Func003C())then
call DisableTrigger(GetTriggeringTrigger())
call SetUnitPathing(udg_Beast[513],true)
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(udg_Beast[513]),GetUnitLoc(udg_Beast[513]),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.05,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'A06R')
call SetUnitAbilityLevelSwapped('A06R',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A06S',udg_Beast[513]))
call IssueImmediateOrderById(bj_lastCreatedUnit,$D0080)
if(Trig_Chargei_move_Func003Func009C())then
call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.,GetUnitLoc(udg_Beast[513]),Condition(function Trig_Chargei_move_Func003Func009Func001001003)),function Trig_Chargei_move_Func003Func009Func001A)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Beast[513]),"war3mapImported\\AquaSpike.mdx")
call DestroyEffect(bj_lastCreatedEffect)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Beast[513]),140.,(I2R(bj_forLoopAIndex)*120.)),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Beast[513]),140.,(I2R(bj_forLoopAIndex)*120.)),"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Beast[513]),"war3mapImported\\WaterGeyser.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Beast[513]),"war3mapImported\\explosion.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Beast[513]),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endif
call PauseUnit(udg_Beast[513],false)
call SetUnitAnimation(udg_Beast[513],"stand ready")
set udg_Beast[513]=null
set udg_Beast[514]=null
endif
endfunction
function InitTrig_Chargei_move takes nothing returns nothing
set gg_trg_Chargei_move=CreateTrigger()
call DisableTrigger(gg_trg_Chargei_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Chargei_move,.02)
call TriggerAddAction(gg_trg_Chargei_move,function Trig_Chargei_move_Actions)
endfunction
function Trig_Sword_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A01P')
endfunction
function Trig_Sword_Actions takes nothing returns nothing
set udg_Beast[512]=GetSpellAbilityUnit()
call SetUnitTimeScalePercent(udg_Beast[512],300.)
call EnableTrigger(gg_trg_Sword_attack)
call TriggerSleepAction(2)
call DisableTrigger(gg_trg_Sword_attack)
call SetUnitTimeScalePercent(udg_Beast[512],100.)
set udg_Beast[512]=null
endfunction
function InitTrig_Sword takes nothing returns nothing
set gg_trg_Sword=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sword,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Sword,Condition(function Trig_Sword_Conditions))
call TriggerAddAction(gg_trg_Sword,function Trig_Sword_Actions)
endfunction
function Trig_Sword_attack_Actions takes nothing returns nothing
call IssueImmediateOrderById(udg_Beast[512],$D0004)
call SetUnitAnimation(udg_Beast[512],"attack")
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Beast[512]),100.,GetUnitFacing(udg_Beast[512])),"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endfunction
function InitTrig_Sword_attack takes nothing returns nothing
set gg_trg_Sword_attack=CreateTrigger()
call DisableTrigger(gg_trg_Sword_attack)
call TriggerRegisterTimerEventPeriodic(gg_trg_Sword_attack,.4)
call TriggerAddAction(gg_trg_Sword_attack,function Trig_Sword_attack_Actions)
endfunction
function Trig_Water_wave_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A08C')
endfunction
function Trig_Water_wave_Actions takes nothing returns nothing
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),GetUnitFacing(GetTriggerUnit()))
call SetUnitScalePercent(bj_lastCreatedUnit,200.,200.,200.)
call UnitAddAbility(bj_lastCreatedUnit,'A08D')
call SetUnitAbilityLevelSwapped('A08D',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A08C',GetTriggerUnit()))
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),256,GetUnitFacing(GetTriggerUnit())))
call UnitApplyTimedLifeBJ(.8,'BTLF',bj_lastCreatedUnit)
endfunction
function InitTrig_Water_wave takes nothing returns nothing
set gg_trg_Water_wave=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Water_wave,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Water_wave,Condition(function Trig_Water_wave_Conditions))
call TriggerAddAction(gg_trg_Water_wave,function Trig_Water_wave_Actions)
endfunction
function Trig_KrotKakasi_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A08H')
endfunction
function Trig_KrotKakasi_Actions takes nothing returns nothing
set udg_SealPoint=GetUnitLoc(GetTriggerUnit())
call ShowUnitHide(GetTriggerUnit())
call AddSpecialEffectLocBJ(udg_SealPoint,"Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'h04A',GetOwningPlayer(GetTriggerUnit()),udg_SealPoint,GetUnitFacing(GetTriggerUnit()))
set udg_KrotKakasi=bj_lastCreatedUnit
call SetUnitVertexColorBJ(udg_KrotKakasi,.0,.0,.0,100.)
call UnitApplyTimedLifeBJ(16.,'BTLF',udg_KrotKakasi)
call SelectUnitForPlayerSingle(udg_KrotKakasi,GetOwningPlayer(GetTriggerUnit()))
call RemoveLocation(udg_SealPoint)
set udg_SealPoint=null
call EnableTrigger(gg_trg_KrotKakasi2)
call EnableTrigger(gg_trg_KrotKakasi3)
endfunction
function InitTrig_KrotKakasi takes nothing returns nothing
set gg_trg_KrotKakasi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_KrotKakasi,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_KrotKakasi,Condition(function Trig_KrotKakasi_Conditions))
call TriggerAddAction(gg_trg_KrotKakasi,function Trig_KrotKakasi_Actions)
endfunction
function Trig_KrotKakasi2_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A08I')
endfunction
function Trig_KrotKakasi2_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set udg_SealPoint=GetUnitLoc(GetTriggerUnit())
call RemoveUnit(udg_KrotKakasi)
call ShowUnitShow(gg_unit_Harf_0004)
call SetUnitPositionLoc(gg_unit_Harf_0004,udg_SealPoint)
call SetUnitFacingTimed(gg_unit_Harf_0004,GetUnitFacing(udg_KrotKakasi),.01)
call AddSpecialEffectLocBJ(udg_SealPoint,"EarthSmash.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(gg_unit_Harf_0004),udg_SealPoint,bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'A08J')
call IssueImmediateOrderById(bj_lastCreatedUnit,$D009F)
call UnitApplyTimedLifeBJ(.6,'BTLF',bj_lastCreatedUnit)
call SelectUnitForPlayerSingle(gg_unit_Harf_0004,GetOwningPlayer(gg_unit_Harf_0004))
set udg_KrotKakasi=null
call RemoveLocation(udg_SealPoint)
set udg_SealPoint=null
endfunction
function InitTrig_KrotKakasi2 takes nothing returns nothing
set gg_trg_KrotKakasi2=CreateTrigger()
call DisableTrigger(gg_trg_KrotKakasi2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_KrotKakasi2,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_KrotKakasi2,Condition(function Trig_KrotKakasi2_Conditions))
call TriggerAddAction(gg_trg_KrotKakasi2,function Trig_KrotKakasi2_Actions)
endfunction
function Trig_KrotKakasi3_Conditions takes nothing returns boolean
return(GetDyingUnit()==udg_KrotKakasi)
endfunction
function Trig_KrotKakasi3_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set udg_SealPoint=GetUnitLoc(GetTriggerUnit())
call ShowUnitShow(gg_unit_Harf_0004)
call SetUnitPositionLoc(gg_unit_Harf_0004,udg_SealPoint)
call SetUnitFacingTimed(gg_unit_Harf_0004,GetUnitFacing(udg_KrotKakasi),.01)
call AddSpecialEffectLocBJ(udg_SealPoint,"Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set udg_KrotKakasi=null
call RemoveLocation(udg_SealPoint)
set udg_SealPoint=null
endfunction
function InitTrig_KrotKakasi3 takes nothing returns nothing
set gg_trg_KrotKakasi3=CreateTrigger()
call DisableTrigger(gg_trg_KrotKakasi3)
call TriggerRegisterAnyUnitEventBJ(gg_trg_KrotKakasi3,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_KrotKakasi3,Condition(function Trig_KrotKakasi3_Conditions))
call TriggerAddAction(gg_trg_KrotKakasi3,function Trig_KrotKakasi3_Actions)
endfunction
function Trig_Kakashi_clone_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A08K')
endfunction
function Trig_Kakashi_clone_Actions takes nothing returns nothing
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(gg_unit_Harf_0004),GetUnitLoc(gg_unit_Harf_0004),GetUnitFacing(gg_unit_Harf_0004))
set udg_Kakashi[$A]=bj_lastCreatedUnit
call UnitApplyTimedLifeBJ(.5,'BTLF',udg_Kakashi[$A])
call UnitAddItemByIdSwapped('I02O',udg_Kakashi[$A])
call UnitUseItemTarget(udg_Kakashi[$A],bj_lastCreatedItem,gg_unit_Harf_0004)
call RemoveItem(bj_lastCreatedItem)
set udg_Kakashi[$A]=null
endfunction
function InitTrig_Kakashi_clone takes nothing returns nothing
set gg_trg_Kakashi_clone=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kakashi_clone,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(gg_trg_Kakashi_clone,Condition(function Trig_Kakashi_clone_Conditions))
call TriggerAddAction(gg_trg_Kakashi_clone,function Trig_Kakashi_clone_Actions)
endfunction
function Trig_Kakashi_clone_2_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetSummonedUnit())=='Harf')
endfunction
function Trig_Kakashi_clone_2_Func001C takes nothing returns boolean
return(IsUnitIllusion(GetSummonedUnit()))
endfunction
function Trig_Kakashi_clone_2_Actions takes nothing returns nothing
if(Trig_Kakashi_clone_2_Func001C())then
call SetUnitPathing(GetSummonedUnit(),false)
call SetUnitPositionLocFacingBJ(GetSummonedUnit(),GetUnitLoc(udg_Kakashi[$A]),GetUnitFacing(gg_unit_Harf_0004))
call SetUnitPathing(GetSummonedUnit(),true)
endif
endfunction
function InitTrig_Kakashi_clone_2 takes nothing returns nothing
set gg_trg_Kakashi_clone_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kakashi_clone_2,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(gg_trg_Kakashi_clone_2,Condition(function Trig_Kakashi_clone_2_Conditions))
call TriggerAddAction(gg_trg_Kakashi_clone_2,function Trig_Kakashi_clone_2_Actions)
endfunction
function Trig_Kakashi_clone_3_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='Harf')
endfunction
function Trig_Kakashi_clone_3_Func001C takes nothing returns boolean
return(IsUnitIllusion(GetDyingUnit()))
endfunction
function Trig_Kakashi_clone_3_Actions takes nothing returns nothing
if(Trig_Kakashi_clone_3_Func001C())then
call CreateNUnitsAtLoc(1,'u00O',Player($F),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call KillUnit(bj_lastCreatedUnit)
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(gg_unit_Harf_0004),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.05,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'A06R')
call SetUnitAbilityLevelSwapped('A06R',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A08K',gg_unit_Harf_0004))
call IssueImmediateOrderById(bj_lastCreatedUnit,$D0080)
endif
endfunction
function InitTrig_Kakashi_clone_3 takes nothing returns nothing
set gg_trg_Kakashi_clone_3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kakashi_clone_3,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Kakashi_clone_3,Condition(function Trig_Kakashi_clone_3_Conditions))
call TriggerAddAction(gg_trg_Kakashi_clone_3,function Trig_Kakashi_clone_3_Actions)
endfunction
function Trig_DogsHold_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A08M'
endfunction
function Trig_DogsHold_Actions takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local unit b=GetSpellTargetUnit()
local unit d
call SetUnitAnimation(a,"Spell")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"Spell one")
set d=CreateUnit(GetOwningPlayer(a),'h04C',GetUnitX(b)+25*Cos(GetUnitFacing(a)*bj_DEGTORAD),GetUnitY(b)+25*Sin(GetUnitFacing(a)*bj_DEGTORAD),GetUnitFacing(a)-$B4)
if GetUnitAbilityLevel(a,'A08M')==1 then
call PauseUnit(b,true)
call TriggerSleepAction(2)
call PauseUnit(b,false)
endif
if GetUnitAbilityLevel(a,'A08M')==2 then
call PauseUnit(b,true)
call TriggerSleepAction(3)
call PauseUnit(b,false)
endif
if GetUnitAbilityLevel(a,'A08M')==3 then
call PauseUnit(b,true)
call TriggerSleepAction(4)
call PauseUnit(b,false)
endif
if GetUnitAbilityLevel(a,'A08M')==4 then
call PauseUnit(b,true)
call TriggerSleepAction(5)
call PauseUnit(b,false)
endif
call UnitRemoveAbility(b,'Beng')
call RemoveUnit(d)
set a=null
set b=null
set d=null
endfunction
function InitTrig_DogsHold takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_CAST,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_DogsHold_Conditions))
call TriggerAddAction(t,function Trig_DogsHold_Actions)
set t=null
endfunction
function Trig_Suitun_suirudon_dragon_1_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A08L')
endfunction
function Trig_Suitun_suirudon_dragon_1_Func022001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A08L',gg_unit_Harf_0004)==1)
endfunction
function Trig_Suitun_suirudon_dragon_1_Func023001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A08L',gg_unit_Harf_0004)==2)
endfunction
function Trig_Suitun_suirudon_dragon_1_Func024001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A08L',gg_unit_Harf_0004)==3)
endfunction
function Trig_Suitun_suirudon_dragon_1_Actions takes nothing returns nothing
set udg_Caster[74]=GetSpellAbilityUnit()
set udg_Kakashi[27]=GetSpellTargetUnit()
set udg_Points[37]=GetUnitLoc(udg_Caster[74])
set udg_Degree[7]=.0
call CreateNUnitsAtLocFacingLocBJ(1,'u00Y',GetOwningPlayer(udg_Caster[74]),PolarProjectionBJ(udg_Points[37],240.,(GetUnitFacing(gg_unit_Harf_0004)+udg_Degree[7])),PolarProjectionBJ(GetUnitLoc(gg_unit_Harf_0004),360.,GetUnitFacing(gg_unit_Harf_0004)))
set udg_Kakashi[28]=bj_lastCreatedUnit
call SetUnitFacingTimed(udg_Kakashi[28],(GetUnitFacing(gg_unit_Harf_0004)+90.),0)
call PauseUnit(gg_unit_Harf_0004,true)
call SetUnitVertexColorBJ(bj_lastCreatedUnit,'d','d',100.,20.)
call SetUnitTimeScalePercent(gg_unit_Harf_0004,600.)
call SetUnitAnimationWithRarity(gg_unit_Harf_0004,"spell",RARITY_FREQUENT)
call EnableTrigger(gg_trg_Suitun_suirudon_dragon_2)
call TriggerSleepAction(.57)
call DisableTrigger(gg_trg_Suitun_suirudon_dragon_2)
call EnableTrigger(gg_trg_Suitun_suirudon_dragon_3)
call TriggerSleepAction(.5)
call DisableTrigger(gg_trg_Suitun_suirudon_dragon_3)
call RemoveUnit(udg_Kakashi[28])
set udg_Kakashi[28]=null
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Kakashi[27]),"war3mapImported\\NewDirtEXNofire.mdx")
call DestroyEffect(bj_lastCreatedEffect)
if(Trig_Suitun_suirudon_dragon_1_Func022001())then
call UnitDamageTargetBJ(udg_Caster[74],udg_Kakashi[27],800.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endif
if(Trig_Suitun_suirudon_dragon_1_Func023001())then
call UnitDamageTargetBJ(udg_Caster[74],udg_Kakashi[27],1200.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endif
if(Trig_Suitun_suirudon_dragon_1_Func024001())then
call UnitDamageTargetBJ(udg_Caster[74],udg_Kakashi[27],1600.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endif
call SetUnitTimeScalePercent(gg_unit_Harf_0004,100.)
call SetUnitAnimationWithRarity(gg_unit_Harf_0004,"stand",RARITY_FREQUENT)
call PauseUnit(gg_unit_Harf_0004,false)
call RemoveLocation(udg_Points[37])
set udg_Points[37]=null
set udg_Caster[74]=null
set udg_Kakashi[27]=null
set udg_Degree[7]=.0
endfunction
function InitTrig_Suitun_suirudon_dragon_1 takes nothing returns nothing
set gg_trg_Suitun_suirudon_dragon_1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Suitun_suirudon_dragon_1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Suitun_suirudon_dragon_1,Condition(function Trig_Suitun_suirudon_dragon_1_Conditions))
call TriggerAddAction(gg_trg_Suitun_suirudon_dragon_1,function Trig_Suitun_suirudon_dragon_1_Actions)
endfunction
function Trig_Suitun_suirudon_dragon_2_Actions takes nothing returns nothing
set udg_Degree[6]=(udg_Degree[6]+8.)
set udg_Degree[7]=(udg_Degree[7]+25.)
call SetUnitPositionLocFacingBJ(udg_Kakashi[28],PolarProjectionBJ(udg_Points[37],240.,(GetUnitFacing(gg_unit_Harf_0004)+udg_Degree[7])),udg_Degree[6])
call SetUnitFlyHeight(udg_Kakashi[28],udg_Degree[6],.0)
call CreateNUnitsAtLocFacingLocBJ(1,'u00P',GetOwningPlayer(udg_Caster[74]),GetUnitLoc(udg_Kakashi[28]),GetUnitLoc(udg_Kakashi[28]))
call UnitApplyTimedLifeBJ(.36,'BTLF',bj_lastCreatedUnit)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,40.)
call SetUnitFlyHeight(bj_lastCreatedUnit,GetUnitFlyHeight(udg_Kakashi[28]),.0)
endfunction
function InitTrig_Suitun_suirudon_dragon_2 takes nothing returns nothing
set gg_trg_Suitun_suirudon_dragon_2=CreateTrigger()
call DisableTrigger(gg_trg_Suitun_suirudon_dragon_2)
call TriggerRegisterTimerEventPeriodic(gg_trg_Suitun_suirudon_dragon_2,.03)
call TriggerAddAction(gg_trg_Suitun_suirudon_dragon_2,function Trig_Suitun_suirudon_dragon_2_Actions)
endfunction
function Trig_Suitun_suirudon_dragon_3_Func001Func001Func012A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Suitun_suirudon_dragon_3_Func001Func001C takes nothing returns boolean
return(DistanceBetweenPoints(GetUnitLoc(udg_Kakashi[27]),GetUnitLoc(udg_Kakashi[28]))<=80.)
endfunction
function Trig_Suitun_suirudon_dragon_3_Func001C takes nothing returns boolean
return(UnitHasBuffBJ(udg_Kakashi[27],'B001'))
endfunction
function Trig_Suitun_suirudon_dragon_3_Actions takes nothing returns nothing
if(Trig_Suitun_suirudon_dragon_3_Func001C())then
else
if(Trig_Suitun_suirudon_dragon_3_Func001Func001C())then
call SetUnitPositionLoc(udg_Kakashi[27],PolarProjectionBJ(GetUnitLoc(udg_Kakashi[27]),90.,AngleBetweenPoints(GetUnitLoc(udg_Kakashi[28]),GetUnitLoc(udg_Kakashi[27]))))
call CreateNUnitsAtLocFacingLocBJ(1,'u00P',GetOwningPlayer(udg_Caster[74]),GetUnitLoc(udg_Kakashi[27]),GetUnitLoc(udg_Kakashi[27]))
call UnitApplyTimedLifeBJ(.5,'BTLF',bj_lastCreatedUnit)
call EnumDestructablesInCircleBJ(256,GetUnitLoc(udg_Kakashi[27]),function Trig_Suitun_suirudon_dragon_3_Func001Func001Func012A)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Kakashi[27]),"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
else
set udg_Degree[6]=(udg_Degree[6]-20.)
call SetUnitPositionLocFacingBJ(udg_Kakashi[28],PolarProjectionBJ(GetUnitLoc(udg_Kakashi[28]),60.,AngleBetweenPoints(GetUnitLoc(udg_Kakashi[28]),GetUnitLoc(udg_Kakashi[27]))),AngleBetweenPoints(GetUnitLoc(udg_Kakashi[28]),GetUnitLoc(udg_Kakashi[27])))
call SetUnitFlyHeight(udg_Kakashi[28],udg_Degree[6],.0)
call CreateNUnitsAtLocFacingLocBJ(1,'u00P',GetOwningPlayer(udg_Caster[74]),GetUnitLoc(udg_Kakashi[28]),GetUnitLoc(udg_Kakashi[28]))
call UnitApplyTimedLifeBJ(.5,'BTLF',bj_lastCreatedUnit)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,40.)
call SetUnitFlyHeight(bj_lastCreatedUnit,GetUnitFlyHeight(udg_Kakashi[28]),.0)
call SetUnitFacingToFaceUnitTimed(udg_Kakashi[28],udg_Kakashi[27],0)
endif
endif
endfunction
function InitTrig_Suitun_suirudon_dragon_3 takes nothing returns nothing
set gg_trg_Suitun_suirudon_dragon_3=CreateTrigger()
call DisableTrigger(gg_trg_Suitun_suirudon_dragon_3)
call TriggerRegisterTimerEventPeriodic(gg_trg_Suitun_suirudon_dragon_3,.03)
call TriggerAddAction(gg_trg_Suitun_suirudon_dragon_3,function Trig_Suitun_suirudon_dragon_3_Actions)
endfunction
function Trig_MSH_kakashi_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A05U')
endfunction
function Trig_MSH_kakashi_Func001Func001C takes nothing returns boolean
return(udg_KamuyKOFF)
endfunction
function Trig_MSH_kakashi_Func001Func002C takes nothing returns boolean
return(udg_KamuyOFF)
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003001 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())!=Player(4))
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003002002001 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),GetUnitsOfPlayerAll(Player($F)))==false)
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003002002002001 takes nothing returns boolean
return(GetFilterUnit()!=gg_unit_Harf_0004)
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003002002002002001 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='u00Q')
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003002002002002002001 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='u00R')
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002001 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='u00V')
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002002001 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='u00S')
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002002002001 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='u00T')
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002002002002001 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='u00W')
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002002002002002001 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='u00U')
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002002002002002002001 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='u00X')
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002002002002002002002001 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='u017')
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002002002002002002002002 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='u01A')
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002002002002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002002002002002002002001(),Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002002002002002002002002())
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002002002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002002002002002002001(),Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002002002002002002002())
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002002002002002001(),Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002002002002002002())
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002002002002001(),Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002002002002002())
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002002002001(),Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002002002002())
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002002001(),Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002002002())
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002001(),Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002002())
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003002002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_MSH_kakashi_Func001Func003Func007002003002002002002002001(),Trig_MSH_kakashi_Func001Func003Func007002003002002002002002002())
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_MSH_kakashi_Func001Func003Func007002003002002002002001(),Trig_MSH_kakashi_Func001Func003Func007002003002002002002002())
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_MSH_kakashi_Func001Func003Func007002003002002002001(),Trig_MSH_kakashi_Func001Func003Func007002003002002002002())
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003002002 takes nothing returns boolean
return GetBooleanAnd(Trig_MSH_kakashi_Func001Func003Func007002003002002001(),Trig_MSH_kakashi_Func001Func003Func007002003002002002())
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003002 takes nothing returns boolean
return GetBooleanAnd(Trig_MSH_kakashi_Func001Func003Func007002003002001(),Trig_MSH_kakashi_Func001Func003Func007002003002002())
endfunction
function Trig_MSH_kakashi_Func001Func003Func007002003 takes nothing returns boolean
return GetBooleanAnd(Trig_MSH_kakashi_Func001Func003Func007002003001(),Trig_MSH_kakashi_Func001Func003Func007002003002())
endfunction
function Trig_MSH_kakashi_Func001Func003Func008A takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),udg_PointNew[7628])
set udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetEnumUnit())))]=false
endfunction
function Trig_MSH_kakashi_Func001Func003Func015Func006Func013A takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),udg_PointNew[7628])
endfunction
function Trig_MSH_kakashi_Func001Func003Func015Func006Func019C takes nothing returns boolean
return(udg_KamuyKOFF)and(RectContainsLoc(gg_rct_AnozerWorld,GetUnitLoc(gg_unit_Harf_0004))==false)
endfunction
function Trig_MSH_kakashi_Func001Func003Func015Func006C takes nothing returns boolean
return(Trig_MSH_kakashi_Func001Func003Func015Func006Func019C())
endfunction
function Trig_MSH_kakashi_Func001Func003Func015C takes nothing returns boolean
return(CountUnitsInGroup(udg_KamuyK)==0)
endfunction
function Trig_MSH_kakashi_Func001Func003Func016Func016A takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),udg_PointNew[7628])
call UnitDamageTargetBJ(gg_unit_Harf_0004,GetEnumUnit(),1100.,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_DEMOLITION)
endfunction
function Trig_MSH_kakashi_Func001Func003Func016Func020C takes nothing returns boolean
return(udg_KamuyOFF)
endfunction
function Trig_MSH_kakashi_Func001Func003Func016Func028A takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),udg_PointNew[7628])
endfunction
function Trig_MSH_kakashi_Func001Func003Func016C takes nothing returns boolean
return(udg_KamuyKOFF)
endfunction
function Trig_MSH_kakashi_Func001Func003C takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B014'))and(udg_KamuyKOFF==false)
endfunction
function Trig_MSH_kakashi_Func001Func012A takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),udg_PointNew[7628])
endfunction
function Trig_MSH_kakashi_Func001C takes nothing returns boolean
return(RectContainsLoc(gg_rct_AnozerWorld,GetUnitLoc(GetTriggerUnit())))
endfunction
function Trig_MSH_kakashi_Actions takes nothing returns nothing
if(Trig_MSH_kakashi_Func001C())then
if(Trig_MSH_kakashi_Func001Func001C())then
call GroupClear(udg_KamuyK)
call DestroyGroup(udg_KamuyK)
set udg_KamuyK=null
set udg_KamuyKOFF=false
endif
if(Trig_MSH_kakashi_Func001Func002C())then
call GroupClear(udg_KamuyON)
call DestroyGroup(udg_KamuyON)
set udg_KamuyON=null
set udg_KamuyOFF=false
set udg_Tobi[80]=null
endif
set udg_PointNew[7628]=GetRandomLocInRect(gg_rct_VisibleMap)
call AddSpecialEffectTargetUnitBJ("head",gg_unit_Harf_0004,"Objects\\Spawnmodels\\Critters\\Albatross\\CritterBloodAlbatross.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call UnitDamageTargetBJ(gg_unit_Harf_0004,gg_unit_Harf_0004,120.,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_DEMOLITION)
call CreateNUnitsAtLoc(1,'u000',Player($F),GetSpellTargetLoc(),bj_UNIT_FACING)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,155.)
call KillUnit(bj_lastCreatedUnit)
set udg_UnitGroup=GetUnitsInRectAll(gg_rct_AnozerWorld)
call ForGroupBJ(udg_UnitGroup,function Trig_MSH_kakashi_Func001Func012A)
call DestroyGroup(udg_UnitGroup)
set udg_UnitGroup=null
call CreateNUnitsAtLoc(1,'u000',Player($F),udg_PointNew[7628],bj_UNIT_FACING)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,155.)
call KillUnit(bj_lastCreatedUnit)
call PingMinimapLocForForceEx(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),udg_PointNew[7628],1,0,'d','d','d')
call RemoveLocation(udg_PointNew[7628])
set udg_PointNew[7628]=null
else
if(Trig_MSH_kakashi_Func001Func003C())then
set udg_PointNew[7628]=GetRectCenter(gg_rct_AnozerWorld)
call AddSpecialEffectTargetUnitBJ("head",gg_unit_Harf_0004,"Objects\\Spawnmodels\\Critters\\Albatross\\CritterBloodAlbatross.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'u000',Player($F),GetSpellTargetLoc(),bj_UNIT_FACING)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,155.)
call KillUnit(bj_lastCreatedUnit)
set udg_KamuyK=GetUnitsInRangeOfLocMatching(385.,GetSpellTargetLoc(),Condition(function Trig_MSH_kakashi_Func001Func003Func007002003))
call ForGroupBJ(udg_KamuyK,function Trig_MSH_kakashi_Func001Func003Func008A)
call CreateNUnitsAtLoc(1,'u000',Player($F),udg_PointNew[7628],bj_UNIT_FACING)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,155.)
call KillUnit(bj_lastCreatedUnit)
call RemoveLocation(udg_PointNew[7628])
set udg_PointNew[7628]=null
call UnitDamageTargetBJ(gg_unit_Harf_0004,gg_unit_Harf_0004,120.,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_DEMOLITION)
if(Trig_MSH_kakashi_Func001Func003Func015C())then
call GroupClear(udg_KamuyK)
call DestroyGroup(udg_KamuyK)
set udg_KamuyK=null
else
set udg_KamuyKOFF=true
call TriggerSleepAction(60.)
if(Trig_MSH_kakashi_Func001Func003Func015Func006C())then
set udg_KamuyKOFF=false
set udg_PointNew[7628]=GetUnitLoc(gg_unit_Harf_0004)
call AddSpecialEffectLocBJ(GetRectCenter(gg_rct_AnozerWorld),"BlackHoles.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'u000',Player($F),udg_PointNew[7628],bj_UNIT_FACING)
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitPositionLoc(bj_lastCreatedUnit,udg_PointNew[7628])
call SetUnitTimeScalePercent(bj_lastCreatedUnit,155.)
call KillUnit(bj_lastCreatedUnit)
call ForGroupBJ(udg_KamuyK,function Trig_MSH_kakashi_Func001Func003Func015Func006Func013A)
call GroupClear(udg_KamuyK)
call DestroyGroup(udg_KamuyK)
set udg_KamuyK=null
call RemoveLocation(udg_PointNew[7628])
set udg_PointNew[7628]=null
else
call DestroyGroup(udg_KamuyK)
set udg_KamuyK=null
set udg_KamuyKOFF=false
endif
endif
else
if(Trig_MSH_kakashi_Func001Func003Func016C())then
set udg_PointNew[7628]=GetSpellTargetLoc()
set udg_KamuyKOFF=false
call AddSpecialEffectLocBJ(GetRectCenter(gg_rct_AnozerWorld),"BlackHoles.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'u000',Player($F),udg_PointNew[7628],bj_UNIT_FACING)
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitPositionLoc(bj_lastCreatedUnit,udg_PointNew[7628])
call KillUnit(bj_lastCreatedUnit)
call TriggerSleepAction(.2)
call CreateNUnitsAtLoc(1,'u000',Player($F),udg_PointNew[7628],bj_UNIT_FACING)
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitPositionLoc(bj_lastCreatedUnit,udg_PointNew[7628])
call SetUnitTimeScalePercent(bj_lastCreatedUnit,155.)
call KillUnit(bj_lastCreatedUnit)
call EnableTrigger(gg_trg_MSH_kakashi_Hole)
call ForGroupBJ(udg_KamuyK,function Trig_MSH_kakashi_Func001Func003Func016Func016A)
call TriggerSleepAction(.04)
call DisableTrigger(gg_trg_MSH_kakashi_Hole)
call GroupClear(udg_KamuyK)
call DestroyGroup(udg_KamuyK)
set udg_KamuyK=null
call RemoveLocation(udg_PointNew[7628])
set udg_PointNew[7628]=null
else
if(Trig_MSH_kakashi_Func001Func003Func016Func020C())then
call GroupClear(udg_KamuyON)
call DestroyGroup(udg_KamuyON)
set udg_KamuyON=null
set udg_KamuyOFF=false
set udg_Tobi[80]=null
endif
set udg_PointNew[7628]=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'u000',Player($F),udg_PointNew[7628],bj_UNIT_FACING)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,155.)
call KillUnit(bj_lastCreatedUnit)
call AddSpecialEffectTargetUnitBJ("head",gg_unit_Harf_0004,"Objects\\Spawnmodels\\Critters\\Albatross\\CritterBloodAlbatross.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set udg_UnitGroup=GetUnitsInRectAll(gg_rct_AnozerWorld)
call ForGroupBJ(udg_UnitGroup,function Trig_MSH_kakashi_Func001Func003Func016Func028A)
call DestroyGroup(udg_UnitGroup)
set udg_UnitGroup=null
call RemoveLocation(udg_PointNew[7628])
set udg_PointNew[7628]=null
endif
endif
endif
endfunction
function InitTrig_MSH_kakashi takes nothing returns nothing
set gg_trg_MSH_kakashi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_MSH_kakashi,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(gg_trg_MSH_kakashi,Condition(function Trig_MSH_kakashi_Conditions))
call TriggerAddAction(gg_trg_MSH_kakashi,function Trig_MSH_kakashi_Actions)
endfunction
function Trig_MSH_kakashi_Hole_Func001A takes nothing returns nothing
set udg_UnitPoint[18]=GetUnitLoc(GetEnumUnit())
call UnitDamageTargetBJ(gg_unit_Harf_0004,GetEnumUnit(),160.,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_LIGHTNING)
call SetUnitPositionLoc(GetEnumUnit(),PolarProjectionBJ(udg_UnitPoint[18],-40.,AngleBetweenPoints(udg_UnitPoint[18],udg_PointNew[7628])))
call AddSpecialEffectLocBJ(udg_UnitPoint[18],"Abilities\\Spells\\Orc\\Purge\\PurgeBuffTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call IssueImmediateOrderById(GetEnumUnit(),$D0004)
call RemoveLocation(udg_UnitPoint[18])
set udg_UnitPoint[18]=null
endfunction
function Trig_MSH_kakashi_Hole_Actions takes nothing returns nothing
call ForGroupBJ(udg_KamuyK,function Trig_MSH_kakashi_Hole_Func001A)
endfunction
function InitTrig_MSH_kakashi_Hole takes nothing returns nothing
set gg_trg_MSH_kakashi_Hole=CreateTrigger()
call DisableTrigger(gg_trg_MSH_kakashi_Hole)
call TriggerRegisterTimerEventPeriodic(gg_trg_MSH_kakashi_Hole,.03)
call TriggerAddAction(gg_trg_MSH_kakashi_Hole,function Trig_MSH_kakashi_Hole_Actions)
endfunction
function Chidori_Kakashi_Cond takes nothing returns boolean
return GetSpellAbilityId()=='A05G'
endfunction
function Chidori_Kakashi_Act takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local unit b=CreateUnit(GetOwningPlayer(a),'h037',GetUnitX(a),GetUnitY(a),0)
call IssueTargetOrderById(b,$D0062,a)
call TriggerSleepAction(.7)
call RemoveUnit(b)
set a=null
set b=null
endfunction
function InitTrig_Chidori_Kakashi takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==$E
endloop
call TriggerAddCondition(t,Condition(function Chidori_Kakashi_Cond))
call TriggerAddAction(t,function Chidori_Kakashi_Act)
set t=null
endfunction
function Chidori_Kakashi_atack_Cond takes nothing returns boolean
return(GetUnitAbilityLevel(GetAttacker(),'B00S')>0)
endfunction
function Chidori_Kakashi_atack_Act takes nothing returns nothing
local unit a=GetAttacker()
local unit b=GetTriggerUnit()
local real dmg
if(GetUnitAbilityLevel(a,'A05G')==1)then
set dmg=50+GetHeroAgi(a,false)*1
elseif(GetUnitAbilityLevel(a,'A05G')==2)then
set dmg='d'+GetHeroAgi(a,false)*1
elseif(GetUnitAbilityLevel(a,'A05G')==3)then
set dmg=$96+GetHeroAgi(a,false)*1
elseif(GetUnitAbilityLevel(a,'A05G')==4)then
set dmg=$C8+GetHeroAgi(a,false)*1
endif
if IsUnitType(b,UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(b,GetOwningPlayer(a)) then
call SetUnitAnimation(a,"spell slam")
call TriggerSleepAction(.1)
call UnitDamageTarget(a,b,dmg,false,false,null,null,null)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdi",GetUnitX(b),GetUnitY(b)))
call SetUnitAnimation(b,"death")
call TriggerSleepAction(.2)
call UnitRemoveAbility(a,'B00S')
endif
set a=null
set b=null
endfunction
function InitTrig_Chidori_Kakashi_atack takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_ATTACKED,null)
set index=index+1
exitwhen index==$E
endloop
call TriggerAddCondition(t,Condition(function Chidori_Kakashi_atack_Cond))
call TriggerAddAction(t,function Chidori_Kakashi_atack_Act)
set t=null
endfunction
function Trig_Rasengan_1_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A00G')
endfunction
function Trig_Rasengan_1_Func001C takes nothing returns boolean
return(udg_Bankai[$B9])
endfunction
function Trig_Rasengan_1_Actions takes nothing returns nothing
if(Trig_Rasengan_1_Func001C())then
set udg_Naruto[3]=GetSpellAbilityUnit()
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(gg_unit_Hpal_0034),GetUnitLoc(gg_unit_Hpal_0034),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.4,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'A012')
call IssueTargetOrderById(bj_lastCreatedUnit,$D0085,gg_unit_Hpal_0034)
call UnitRemoveAbility(udg_Naruto[3],'B01B')
else
set udg_Naruto[1]=GetSpellAbilityUnit()
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Naruto[1]),-90.,(GetUnitFacing(udg_Naruto[1])+50.)),"shadowclone.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLocFacingLocBJ(1,'h000',GetOwningPlayer(gg_unit_Hpal_0034),PolarProjectionBJ(GetUnitLoc(udg_Naruto[1]),-90.,(GetUnitFacing(udg_Naruto[1])+70.)),GetUnitLoc(GetTriggerUnit()))
call UnitApplyTimedLifeBJ(1.1,'BTLF',bj_lastCreatedUnit)
call SetUnitAnimation(bj_lastCreatedUnit,"spell three")
endif
endfunction
function InitTrig_Rasengan_1 takes nothing returns nothing
set gg_trg_Rasengan_1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Rasengan_1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Rasengan_1,Condition(function Trig_Rasengan_1_Conditions))
call TriggerAddAction(gg_trg_Rasengan_1,function Trig_Rasengan_1_Actions)
endfunction
function Trig_Rasengan_2_Conditions takes nothing returns boolean
return(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Rasengan_2_Func001Func001Func007001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00G',udg_Naruto[1])==1)
endfunction
function Trig_Rasengan_2_Func001Func001Func008001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00G',udg_Naruto[1])==2)
endfunction
function Trig_Rasengan_2_Func001Func001Func009001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00G',udg_Naruto[1])==3)
endfunction
function Trig_Rasengan_2_Func001Func001Func010001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00G',udg_Naruto[1])==4)
endfunction
function Trig_Rasengan_2_Func001Func001C takes nothing returns boolean
return(GetAttacker()==udg_Naruto[1])and(UnitHasBuffBJ(udg_Naruto[1],'B01B'))and(UnitHasBuffBJ(GetTriggerUnit(),'B001')==false)
endfunction
function Trig_Rasengan_2_Func001Func002Func005001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00L',udg_Naruto[3])==1)
endfunction
function Trig_Rasengan_2_Func001Func002Func006001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00L',udg_Naruto[3])==2)
endfunction
function Trig_Rasengan_2_Func001Func002Func007001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00L',udg_Naruto[3])==3)
endfunction
function Trig_Rasengan_2_Func001Func002Func008001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00L',udg_Naruto[3])==4)
endfunction
function Trig_Rasengan_2_Func001Func002C takes nothing returns boolean
return(GetAttacker()==udg_Naruto[3])and(UnitHasBuffBJ(udg_Naruto[3],'B002'))and(UnitHasBuffBJ(GetTriggerUnit(),'B001')==false)
endfunction
function Trig_Rasengan_2_Func001C takes nothing returns boolean
return(udg_Bankai[$B9])
endfunction
function Trig_Rasengan_2_Actions takes nothing returns nothing
if(Trig_Rasengan_2_Func001C())then
if(Trig_Rasengan_2_Func001Func002C())then
set udg_Target[$E]=GetTriggerUnit()
if(Trig_Rasengan_2_Func001Func002Func005001())then
call UnitDamageTargetBJ(udg_Naruto[3],udg_Target[$E],240.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEMOLITION)
endif
if(Trig_Rasengan_2_Func001Func002Func006001())then
call UnitDamageTargetBJ(udg_Naruto[3],udg_Target[$E],320.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEMOLITION)
endif
if(Trig_Rasengan_2_Func001Func002Func007001())then
call UnitDamageTargetBJ(udg_Naruto[3],udg_Target[$E],390.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEMOLITION)
endif
if(Trig_Rasengan_2_Func001Func002Func008001())then
call UnitDamageTargetBJ(udg_Naruto[3],udg_Target[$E],440.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEMOLITION)
endif
call UnitRemoveAbility(udg_Naruto[3],'B002')
call UnitRemoveAbility(udg_Naruto[3],'B01B')
call EnableTrigger(gg_trg_Rasenrengan_move)
call TriggerSleepAction(.2)
call DisableTrigger(gg_trg_Rasenrengan_move)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Target[$E]),"war3mapImported\\NewDirtEXNofire.mdx")
call DestroyEffect(bj_lastCreatedEffect)
set udg_Naruto[3]=null
set udg_Target[$E]=null
endif
else
if(Trig_Rasengan_2_Func001Func001C())then
set udg_Target[1]=GetTriggerUnit()
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Target[1]),"Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
if(Trig_Rasengan_2_Func001Func001Func007001())then
call UnitDamageTargetBJ(udg_Naruto[1],udg_Target[1],140.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEMOLITION)
endif
if(Trig_Rasengan_2_Func001Func001Func008001())then
call UnitDamageTargetBJ(udg_Naruto[1],udg_Target[1],220.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEMOLITION)
endif
if(Trig_Rasengan_2_Func001Func001Func009001())then
call UnitDamageTargetBJ(udg_Naruto[1],udg_Target[1],300.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEMOLITION)
endif
if(Trig_Rasengan_2_Func001Func001Func010001())then
call UnitDamageTargetBJ(udg_Naruto[1],udg_Target[1],380.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEMOLITION)
endif
call UnitRemoveAbility(udg_Naruto[1],'B01B')
call EnableTrigger(gg_trg_Rasengan_move)
call TriggerSleepAction(.23)
call DisableTrigger(gg_trg_Rasengan_move)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Target[1]),"war3mapImported\\explosion.mdx")
call DestroyEffect(bj_lastCreatedEffect)
set udg_Naruto[1]=null
set udg_Target[1]=null
endif
endif
endfunction
function InitTrig_Rasengan_2 takes nothing returns nothing
set gg_trg_Rasengan_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Rasengan_2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Rasengan_2,Condition(function Trig_Rasengan_2_Conditions))
call TriggerAddAction(gg_trg_Rasengan_2,function Trig_Rasengan_2_Actions)
endfunction
function Trig_Rasengan_move_Func002A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Rasengan_move_Actions takes nothing returns nothing
call SetUnitPositionLoc(udg_Target[1],PolarProjectionBJ(GetUnitLoc(udg_Target[1]),70.,AngleBetweenPoints(GetUnitLoc(udg_Naruto[1]),GetUnitLoc(udg_Target[1]))))
call EnumDestructablesInCircleBJ(160.,GetUnitLoc(udg_Target[1]),function Trig_Rasengan_move_Func002A)
call CreateNUnitsAtLoc(1,'h01Z',GetOwningPlayer(gg_unit_Hpal_0034),GetUnitLoc(udg_Target[1]),AngleBetweenPoints(GetUnitLoc(gg_unit_Hpal_0034),GetUnitLoc(udg_Target[1])))
call UnitApplyTimedLifeBJ(.9,'Bapl',bj_lastCreatedUnit)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Target[1]),"Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endfunction
function InitTrig_Rasengan_move takes nothing returns nothing
set gg_trg_Rasengan_move=CreateTrigger()
call DisableTrigger(gg_trg_Rasengan_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Rasengan_move,.04)
call TriggerAddAction(gg_trg_Rasengan_move,function Trig_Rasengan_move_Actions)
endfunction
function Trig_Rasenrengan_move_Func002A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Rasenrengan_move_Actions takes nothing returns nothing
call SetUnitPositionLoc(udg_Target[$E],PolarProjectionBJ(GetUnitLoc(udg_Target[$E]),70.,AngleBetweenPoints(GetUnitLoc(udg_Naruto[3]),GetUnitLoc(udg_Target[$E]))))
call EnumDestructablesInCircleBJ(160.,GetUnitLoc(udg_Target[$E]),function Trig_Rasenrengan_move_Func002A)
call CreateNUnitsAtLoc(1,'h01Z',GetOwningPlayer(gg_unit_Hpal_0034),GetUnitLoc(udg_Target[$E]),AngleBetweenPoints(GetUnitLoc(gg_unit_Hpal_0034),GetUnitLoc(udg_Target[$E])))
call UnitApplyTimedLifeBJ(.9,'Bapl',bj_lastCreatedUnit)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Target[$E]),"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endfunction
function InitTrig_Rasenrengan_move takes nothing returns nothing
set gg_trg_Rasenrengan_move=CreateTrigger()
call DisableTrigger(gg_trg_Rasenrengan_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Rasenrengan_move,.03)
call TriggerAddAction(gg_trg_Rasenrengan_move,function Trig_Rasenrengan_move_Actions)
endfunction
function Trig_Kage_bun_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A00L')
endfunction
function Trig_Kage_bun_Func002Func006Func008Func009C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00L',GetTriggerUnit())==4)
endfunction
function Trig_Kage_bun_Func002Func006Func008C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00L',GetTriggerUnit())==3)
endfunction
function Trig_Kage_bun_Func002Func006C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00L',GetTriggerUnit())==2)
endfunction
function Trig_Kage_bun_Func002C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00L',GetTriggerUnit())==1)
endfunction
function Trig_Kage_bun_Actions takes nothing returns nothing
call SetUnitAnimation(GetTriggerUnit(),"spell")
if(Trig_Kage_bun_Func002C())then
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.5,'BTLF',bj_lastCreatedUnit)
call UnitAddItemByIdSwapped('I02M',bj_lastCreatedUnit)
call UnitUseItemTarget(bj_lastCreatedUnit,bj_lastCreatedItem,GetTriggerUnit())
call RemoveItem(bj_lastCreatedItem)
else
if(Trig_Kage_bun_Func002Func006C())then
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.5,'BTLF',bj_lastCreatedUnit)
call UnitAddItemByIdSwapped('I02M',bj_lastCreatedUnit)
call UnitUseItemTarget(bj_lastCreatedUnit,bj_lastCreatedItem,GetTriggerUnit())
call UnitUseItemTarget(bj_lastCreatedUnit,bj_lastCreatedItem,GetTriggerUnit())
call RemoveItem(bj_lastCreatedItem)
else
if(Trig_Kage_bun_Func002Func006Func008C())then
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.5,'BTLF',bj_lastCreatedUnit)
call UnitAddItemByIdSwapped('I02M',bj_lastCreatedUnit)
call UnitUseItemTarget(bj_lastCreatedUnit,bj_lastCreatedItem,GetTriggerUnit())
call UnitUseItemTarget(bj_lastCreatedUnit,bj_lastCreatedItem,GetTriggerUnit())
call UnitUseItemTarget(bj_lastCreatedUnit,bj_lastCreatedItem,GetTriggerUnit())
call RemoveItem(bj_lastCreatedItem)
else
if(Trig_Kage_bun_Func002Func006Func008Func009C())then
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.5,'BTLF',bj_lastCreatedUnit)
call UnitAddItemByIdSwapped('I02M',bj_lastCreatedUnit)
call UnitUseItemTarget(bj_lastCreatedUnit,bj_lastCreatedItem,GetTriggerUnit())
call UnitUseItemTarget(bj_lastCreatedUnit,bj_lastCreatedItem,GetTriggerUnit())
call UnitUseItemTarget(bj_lastCreatedUnit,bj_lastCreatedItem,GetTriggerUnit())
call UnitUseItemTarget(bj_lastCreatedUnit,bj_lastCreatedItem,GetTriggerUnit())
call RemoveItem(bj_lastCreatedItem)
endif
endif
endif
endif
endfunction
function InitTrig_Kage_bun takes nothing returns nothing
set gg_trg_Kage_bun=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kage_bun,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Kage_bun,Condition(function Trig_Kage_bun_Conditions))
call TriggerAddAction(gg_trg_Kage_bun,function Trig_Kage_bun_Actions)
endfunction
function Trig_die_Conditions takes nothing returns boolean
return GetUnitTypeId(GetTriggerUnit())=='h000' or GetUnitTypeId(GetTriggerUnit())=='h022'
endfunction
function Trig_die_Actions takes nothing returns nothing
local unit u=GetTriggerUnit()
call DestroyEffect(AddSpecialEffect("shadowclone.mdx",GetUnitX(u),GetUnitY(u)))
call RemoveUnit(u)
set u=null
endfunction
function InitTrig_die takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_die_Conditions))
call TriggerAddAction(t,function Trig_die_Actions)
set t=null
endfunction
function Trig_sage_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A05I')
endfunction
function Trig_sage_Func001001 takes nothing returns boolean
return(udg_Bankai[$B9]==false)
endfunction
function Trig_sage_Func002C takes nothing returns boolean
return(udg_Bankai[$B9])
endfunction
function Trig_sage_Actions takes nothing returns nothing
if(Trig_sage_Func001001())then
set udg_Bankai[$B9]=true
else
set udg_Bankai[$B9]=false
endif
if(Trig_sage_Func002C())then
call TriggerSleepAction(3.)
call DestroyEffect(udg_specialeffect[$BF])
call EnableTrigger(gg_trg_sage_dead)
call SetUnitAnimation(udg_Grimmjow[5],"stand")
call UnitRemoveBuffsBJ(1,udg_Grimmjow[5])
call PauseUnit(udg_Grimmjow[5],false)
call SetPlayerAbilityAvailableBJ(false,'A00L',GetOwningPlayer(udg_Grimmjow[5]))
call UnitAddAbility(udg_Grimmjow[5],'A0AC')
call SetUnitAbilityLevelSwapped('A0AC',udg_Grimmjow[5],GetUnitAbilityLevelSwapped('A00L',udg_Grimmjow[5]))
else
call SetPlayerAbilityAvailableBJ(true,'A00L',GetOwningPlayer(udg_Grimmjow[5]))
call UnitRemoveAbility(udg_Grimmjow[5],'A0AC')
call DisableTrigger(gg_trg_sage_dead)
set udg_Grimmjow[5]=null
endif
endfunction
function InitTrig_sage takes nothing returns nothing
set gg_trg_sage=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_sage,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_sage,Condition(function Trig_sage_Conditions))
call TriggerAddAction(gg_trg_sage,function Trig_sage_Actions)
endfunction
function Trig_sage_2_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A05I')
endfunction
function Trig_sage_2_Actions takes nothing returns nothing
set udg_Grimmjow[5]=GetSpellAbilityUnit()
call PauseUnit(udg_Grimmjow[5],true)
call SetUnitAnimation(udg_Grimmjow[5],"spell one")
call QueueUnitAnimation(udg_Grimmjow[5],"spell one")
call AddSpecialEffectTargetUnitBJ("origin",udg_Grimmjow[5],"glowline.mdx")
set udg_specialeffect[$BF]=bj_lastCreatedEffect
endfunction
function InitTrig_sage_2 takes nothing returns nothing
set gg_trg_sage_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_sage_2,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(gg_trg_sage_2,Condition(function Trig_sage_2_Conditions))
call TriggerAddAction(gg_trg_sage_2,function Trig_sage_2_Actions)
endfunction
function Trig_sage_dead_Conditions takes nothing returns boolean
return(GetDyingUnit()==udg_Grimmjow[5])
endfunction
function Trig_sage_dead_Actions takes nothing returns nothing
set udg_Bankai[$B9]=false
set udg_Grimmjow[5]=null
call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_sage_dead takes nothing returns nothing
set gg_trg_sage_dead=CreateTrigger()
call DisableTrigger(gg_trg_sage_dead)
call TriggerRegisterAnyUnitEventBJ(gg_trg_sage_dead,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_sage_dead,Condition(function Trig_sage_dead_Conditions))
call TriggerAddAction(gg_trg_sage_dead,function Trig_sage_dead_Actions)
endfunction
function Trig_Rasenshuriken_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A014')
endfunction
function Trig_Rasenshuriken_Actions takes nothing returns nothing
set udg_Naruto[2]=GetSpellAbilityUnit()
set udg_Point[3]=GetSpellTargetLoc()
call PauseUnit(udg_Naruto[2],true)
call SetUnitAnimationWithRarity(udg_Naruto[2],"spell two",RARITY_FREQUENT)
call CreateNUnitsAtLocFacingLocBJ(1,'h022',GetOwningPlayer(GetTriggerUnit()),PolarProjectionBJ(GetUnitLoc(udg_Naruto[2]),-90.,(GetUnitFacing(udg_Naruto[2])+50.)),GetUnitLoc(GetTriggerUnit()))
call SetUnitTimeScalePercent(bj_lastCreatedUnit,190.)
call SetUnitAnimation(bj_lastCreatedUnit,"spell three")
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call CreateNUnitsAtLocFacingLocBJ(1,'h022',GetOwningPlayer(GetTriggerUnit()),PolarProjectionBJ(GetUnitLoc(udg_Naruto[2]),-90.,(GetUnitFacing(udg_Naruto[2])+90.)),GetUnitLoc(GetTriggerUnit()))
call SetUnitTimeScalePercent(bj_lastCreatedUnit,190.)
call SetUnitAnimation(bj_lastCreatedUnit,"spell three")
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call AddSpecialEffectTargetUnitBJ("right hand",udg_Naruto[2],"NewRasenshuriken.mdx")
set udg_SEffect[3]=bj_lastCreatedEffect
call SetUnitTimeScalePercent(udg_Naruto[2],190.)
call TriggerSleepAction(1.3)
call SetUnitAnimationWithRarity(udg_Naruto[2],"stand four",RARITY_FREQUENT)
call TriggerSleepAction(1.)
call DestroyEffect(udg_SEffect[3])
call SetUnitAnimation(udg_Naruto[2],"spell throw")
call TriggerSleepAction(.3)
call CreateNUnitsAtLoc(1,'u012',GetOwningPlayer(udg_Naruto[2]),GetUnitLoc(udg_Naruto[2]),bj_UNIT_FACING)
set udg_Target[7]=bj_lastCreatedUnit
call SetUnitTimeScalePercent(udg_Target[7],180.)
call SetUnitTimeScalePercent(udg_Naruto[2],100.)
call SetUnitAnimation(udg_Naruto[2],"stand")
call EnableTrigger(gg_trg_Rasenshuriken_move)
endfunction
function InitTrig_Rasenshuriken takes nothing returns nothing
set gg_trg_Rasenshuriken=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Rasenshuriken,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Rasenshuriken,Condition(function Trig_Rasenshuriken_Conditions))
call TriggerAddAction(gg_trg_Rasenshuriken,function Trig_Rasenshuriken_Actions)
endfunction
function Trig_Rasenshuriken_move_Func004001003001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Naruto[2])))
endfunction
function Trig_Rasenshuriken_move_Func004001003002 takes nothing returns boolean
return(UnitHasBuffBJ(GetFilterUnit(),'B00N')==false)
endfunction
function Trig_Rasenshuriken_move_Func004001003 takes nothing returns boolean
return GetBooleanAnd(Trig_Rasenshuriken_move_Func004001003001(),Trig_Rasenshuriken_move_Func004001003002())
endfunction
function Trig_Rasenshuriken_move_Func004A takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),PolarProjectionBJ(GetUnitLoc(GetEnumUnit()),10.,AngleBetweenPoints(GetUnitLoc(GetEnumUnit()),GetUnitLoc(udg_Target[7]))))
endfunction
function Trig_Rasenshuriken_move_Func007Func006A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Rasenshuriken_move_Func007C takes nothing returns boolean
return(DistanceBetweenPoints(GetUnitLoc(udg_Target[7]),udg_Point[3])<=50.)
endfunction
function Trig_Rasenshuriken_move_Actions takes nothing returns nothing
call PauseUnit(udg_Naruto[2],false)
call SetUnitPathing(udg_Target[7],false)
call SetUnitPositionLoc(udg_Target[7],PolarProjectionBJ(GetUnitLoc(udg_Target[7]),10.,AngleBetweenPoints(GetUnitLoc(udg_Naruto[2]),udg_Point[3])))
call ForGroupBJ(GetUnitsInRangeOfLocMatching(370.,GetUnitLoc(udg_Target[7]),Condition(function Trig_Rasenshuriken_move_Func004001003)),function Trig_Rasenshuriken_move_Func004A)
call AddSpecialEffectTargetUnitBJ("origin",udg_Target[7],"Abilities\\Weapons\\LichMissile\\LichMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
if(Trig_Rasenshuriken_move_Func007C())then
call DisableTrigger(GetTriggeringTrigger())
call RemoveLocation(udg_Point[3])
set udg_Point[3]=null
set udg_Point[3]=GetUnitLoc(udg_Target[7])
call RemoveUnit(udg_Target[7])
call EnumDestructablesInCircleBJ(600.,udg_Point[3],function Trig_Rasenshuriken_move_Func007Func006A)
call EnableTrigger(gg_trg_Rasenshuriken_damage)
call TriggerSleepAction(3.)
call DisableTrigger(gg_trg_Rasenshuriken_damage)
call CreateNUnitsAtLoc(1,'u014',GetOwningPlayer(udg_Naruto[2]),udg_Point[3],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,'BTLF',bj_lastCreatedUnit)
set udg_Naruto[2]=null
set udg_Target[7]=null
call RemoveLocation(udg_Point[3])
set udg_Point[3]=null
endif
endfunction
function InitTrig_Rasenshuriken_move takes nothing returns nothing
set gg_trg_Rasenshuriken_move=CreateTrigger()
call DisableTrigger(gg_trg_Rasenshuriken_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Rasenshuriken_move,.01)
call TriggerAddAction(gg_trg_Rasenshuriken_move,function Trig_Rasenshuriken_move_Actions)
endfunction
function Trig_Rasenshuriken_damage_Actions takes nothing returns nothing
call CreateNUnitsAtLoc(1,'u015',GetOwningPlayer(udg_Naruto[2]),udg_Point[3],bj_UNIT_FACING)
call KillUnit(bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'u013',GetOwningPlayer(udg_Naruto[2]),udg_Point[3],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.56,'Bapl',bj_lastCreatedUnit)
call UnitDamagePointLoc(udg_Naruto[2],0,500,udg_Point[3],30.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endfunction
function InitTrig_Rasenshuriken_damage takes nothing returns nothing
set gg_trg_Rasenshuriken_damage=CreateTrigger()
call DisableTrigger(gg_trg_Rasenshuriken_damage)
call TriggerRegisterTimerEventPeriodic(gg_trg_Rasenshuriken_damage,.05)
call TriggerAddAction(gg_trg_Rasenshuriken_damage,function Trig_Rasenshuriken_damage_Actions)
endfunction
function Trig_Kagebunshin_no_Jutsu_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A0AC')
endfunction
function Trig_Kagebunshin_no_Jutsu_Actions takes nothing returns nothing
set udg_KagebunshinUnit=GetTriggerUnit()
call SetPlayerAbilityAvailableBJ(false,'A0AC',GetOwningPlayer(udg_KagebunshinUnit))
call UnitAddAbility(udg_KagebunshinUnit,'A09M')
call SetUnitAbilityLevelSwapped('A09M',udg_KagebunshinUnit,GetUnitAbilityLevelSwapped('A0AC',udg_KagebunshinUnit))
call TriggerSleepAction(.01)
call EnableTrigger(gg_trg_Kagebunshin_no_Jutsu_Check)
endfunction
function InitTrig_Kagebunshin_no_Jutsu takes nothing returns nothing
set gg_trg_Kagebunshin_no_Jutsu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kagebunshin_no_Jutsu,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Kagebunshin_no_Jutsu,Condition(function Trig_Kagebunshin_no_Jutsu_Conditions))
call TriggerAddAction(gg_trg_Kagebunshin_no_Jutsu,function Trig_Kagebunshin_no_Jutsu_Actions)
endfunction
function Trig_Kagebunshin_no_Jutsu_Check_Func001002002001 takes nothing returns boolean
return(IsUnitIllusion(GetFilterUnit()))
endfunction
function Trig_Kagebunshin_no_Jutsu_Check_Func001002002002001 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(udg_KagebunshinUnit))
endfunction
function Trig_Kagebunshin_no_Jutsu_Check_Func001002002002002001 takes nothing returns boolean
return(UnitHasBuffBJ(GetFilterUnit(),'B005'))
endfunction
function Trig_Kagebunshin_no_Jutsu_Check_Func001002002002002002 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_Kagebunshin_no_Jutsu_Check_Func001002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Kagebunshin_no_Jutsu_Check_Func001002002002002001(),Trig_Kagebunshin_no_Jutsu_Check_Func001002002002002002())
endfunction
function Trig_Kagebunshin_no_Jutsu_Check_Func001002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Kagebunshin_no_Jutsu_Check_Func001002002002001(),Trig_Kagebunshin_no_Jutsu_Check_Func001002002002002())
endfunction
function Trig_Kagebunshin_no_Jutsu_Check_Func001002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Kagebunshin_no_Jutsu_Check_Func001002002001(),Trig_Kagebunshin_no_Jutsu_Check_Func001002002002())
endfunction
function Trig_Kagebunshin_no_Jutsu_Check_Func002C takes nothing returns boolean
return(CountUnitsInGroup(udg_KagebunshinPickGroup)==0)
endfunction
function Trig_Kagebunshin_no_Jutsu_Check_Actions takes nothing returns nothing
set udg_KagebunshinPickGroup=GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_Kagebunshin_no_Jutsu_Check_Func001002002))
if(Trig_Kagebunshin_no_Jutsu_Check_Func002C())then
call UnitRemoveAbility(udg_KagebunshinUnit,'A09M')
call SetPlayerAbilityAvailableBJ(true,'A0AC',GetOwningPlayer(udg_KagebunshinUnit))
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function InitTrig_Kagebunshin_no_Jutsu_Check takes nothing returns nothing
set gg_trg_Kagebunshin_no_Jutsu_Check=CreateTrigger()
call DisableTrigger(gg_trg_Kagebunshin_no_Jutsu_Check)
call TriggerRegisterTimerEventPeriodic(gg_trg_Kagebunshin_no_Jutsu_Check,.1)
call TriggerAddAction(gg_trg_Kagebunshin_no_Jutsu_Check,function Trig_Kagebunshin_no_Jutsu_Check_Actions)
endfunction
function Trig_Senpou_Chou_Odama_Rasen_Tarengan_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A09M')
endfunction
function Trig_Senpou_Chou_Odama_Rasen_Tarengan_Func009002003001 takes nothing returns boolean
return(IsUnitIllusion(GetFilterUnit()))
endfunction
function Trig_Senpou_Chou_Odama_Rasen_Tarengan_Func009002003002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_Senpou_Chou_Odama_Rasen_Tarengan_Func009002003002002001 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(udg_SenpouChouUnit))
endfunction
function Trig_Senpou_Chou_Odama_Rasen_Tarengan_Func009002003002002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetFilterUnit(),'B005'))
endfunction
function Trig_Senpou_Chou_Odama_Rasen_Tarengan_Func009002003002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Senpou_Chou_Odama_Rasen_Tarengan_Func009002003002002001(),Trig_Senpou_Chou_Odama_Rasen_Tarengan_Func009002003002002002())
endfunction
function Trig_Senpou_Chou_Odama_Rasen_Tarengan_Func009002003002 takes nothing returns boolean
return GetBooleanAnd(Trig_Senpou_Chou_Odama_Rasen_Tarengan_Func009002003002001(),Trig_Senpou_Chou_Odama_Rasen_Tarengan_Func009002003002002())
endfunction
function Trig_Senpou_Chou_Odama_Rasen_Tarengan_Func009002003 takes nothing returns boolean
return GetBooleanAnd(Trig_Senpou_Chou_Odama_Rasen_Tarengan_Func009002003001(),Trig_Senpou_Chou_Odama_Rasen_Tarengan_Func009002003002())
endfunction
function Trig_Senpou_Chou_Odama_Rasen_Tarengan_Func011A takes nothing returns nothing
set udg_SenpouChouIndex=(udg_SenpouChouIndex+1)
set udg_SenpouChouOodaraSize[udg_SenpouChouIndex]=10.
set udg_SenpouChouPoint[1]=GetUnitLoc(GetEnumUnit())
set udg_SenpouChouDist[udg_SenpouChouIndex]=.0
call SetUnitUserData(GetEnumUnit(),udg_SenpouChouIndex)
call CreateNUnitsAtLoc(1,'h06B',GetOwningPlayer(GetEnumUnit()),udg_SenpouChouPoint[1],bj_UNIT_FACING)
call SetUnitScalePercent(udg_SenpouChouDummy[udg_SenpouChouIndex],udg_SenpouChouOodaraSize[udg_SenpouChouIndex],udg_SenpouChouOodaraSize[udg_SenpouChouIndex],udg_SenpouChouOodaraSize[udg_SenpouChouIndex])
set udg_SenpouChouDummy[udg_SenpouChouIndex]=bj_lastCreatedUnit
call PauseUnit(GetEnumUnit(),true)
call SetUnitInvulnerable(GetEnumUnit(),true)
call SetUnitPathing(GetEnumUnit(),false)
call SetUnitFacingToFaceUnitTimed(GetEnumUnit(),udg_SenpouChouTarget,0)
call SetUnitAnimation(GetEnumUnit(),"Spell Two")
call RemoveLocation(udg_SenpouChouPoint[1])
endfunction
function Trig_Senpou_Chou_Odama_Rasen_Tarengan_Actions takes nothing returns nothing
set udg_SenpouChouInt=0
set udg_SenpouChouIndex=0
set udg_SenpouChouEffect=0
set udg_SenpouChouUnit=GetTriggerUnit()
set udg_SenpouChouTarget=GetSpellTargetUnit()
set udg_SenpouChouPoint[1]=GetUnitLoc(udg_SenpouChouUnit)
set udg_SenpouChouDamage=(I2R(GetHeroStatBJ(0,udg_SenpouChouUnit,false))*10.)
set udg_SenpouChouGroup=GetUnitsInRangeOfLocMatching(1200.,udg_SenpouChouPoint[1],Condition(function Trig_Senpou_Chou_Odama_Rasen_Tarengan_Func009002003))
call GroupAddUnit(udg_SenpouChouGroup,udg_SenpouChouUnit)
call ForGroupBJ(udg_SenpouChouGroup,function Trig_Senpou_Chou_Odama_Rasen_Tarengan_Func011A)
call EnableTrigger(gg_trg_Senpou_Chou_Odama_Timer)
endfunction
function InitTrig_Senpou_Chou_Odama_Rasen_Tarengan takes nothing returns nothing
set gg_trg_Senpou_Chou_Odama_Rasen_Tarengan=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Senpou_Chou_Odama_Rasen_Tarengan,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Senpou_Chou_Odama_Rasen_Tarengan,Condition(function Trig_Senpou_Chou_Odama_Rasen_Tarengan_Conditions))
call TriggerAddAction(gg_trg_Senpou_Chou_Odama_Rasen_Tarengan,function Trig_Senpou_Chou_Odama_Rasen_Tarengan_Actions)
endfunction
function Trig_Senpou_Chou_Odama_Timer_Func003C takes nothing returns boolean
return(udg_SenpouChouInt==60)
endfunction
function Trig_Senpou_Chou_Odama_Timer_Func004Func002C takes nothing returns boolean
return(udg_SenpouChouInt==86)
endfunction
function Trig_Senpou_Chou_Odama_Timer_Func004Func009C takes nothing returns boolean
return(udg_SenpouChouEffect>=2)
endfunction
function Trig_Senpou_Chou_Odama_Timer_Func004Func010C takes nothing returns boolean
return(ModuloInteger(udg_SenpouChouInt,5)==0)
endfunction
function Trig_Senpou_Chou_Odama_Timer_Func004C takes nothing returns boolean
return(udg_SenpouChouInt>=86)
endfunction
function Trig_Senpou_Chou_Odama_Timer_Func005Func003Func001C takes nothing returns boolean
return(udg_SenpouChouInt<=72)
endfunction
function Trig_Senpou_Chou_Odama_Timer_Func005Func003Func005C takes nothing returns boolean
return(udg_SenpouChouInt==50)
endfunction
function Trig_Senpou_Chou_Odama_Timer_Func005Func003C takes nothing returns boolean
return(udg_SenpouChouInt<=50)
endfunction
function Trig_Senpou_Chou_Odama_Timer_Func005Func004C takes nothing returns boolean
return(udg_SenpouChouInt==76)
endfunction
function Trig_Senpou_Chou_Odama_Timer_Func005Func005Func002C takes nothing returns boolean
return(udg_SenpouChouInt==86)
endfunction
function Trig_Senpou_Chou_Odama_Timer_Func005Func005C takes nothing returns boolean
return(udg_SenpouChouInt>=86)
endfunction
function Trig_Senpou_Chou_Odama_Timer_Func005A takes nothing returns nothing
set udg_SenpouChouPoint[1]=GetUnitLoc(GetEnumUnit())
set udg_SenpouChouInt2=GetUnitUserData(GetEnumUnit())
if(Trig_Senpou_Chou_Odama_Timer_Func005Func003C())then
set udg_SenpouChouOodaraSize[udg_SenpouChouInt2]=(udg_SenpouChouOodaraSize[udg_SenpouChouInt2]+1.5)
call SetUnitScalePercent(udg_SenpouChouDummy[udg_SenpouChouInt2],udg_SenpouChouOodaraSize[udg_SenpouChouInt2],udg_SenpouChouOodaraSize[udg_SenpouChouInt2],udg_SenpouChouOodaraSize[udg_SenpouChouInt2])
call SetUnitFlyHeight(udg_SenpouChouDummy[udg_SenpouChouInt2],(GetUnitFlyHeight(udg_SenpouChouDummy[udg_SenpouChouInt2])+3.),.0)
if(Trig_Senpou_Chou_Odama_Timer_Func005Func003Func005C())then
set udg_SenpouChouDist[udg_SenpouChouInt2]=(DistanceBetweenPoints(udg_SenpouChouPoint[1],udg_SenpouChouPoint[2])/25.)
call PauseUnit(udg_SenpouChouTarget,true)
call SetUnitInvulnerable(udg_SenpouChouTarget,true)
endif
else
if(Trig_Senpou_Chou_Odama_Timer_Func005Func003Func001C())then
set udg_SenpouChouPoint[3]=PolarProjectionBJ(udg_SenpouChouPoint[1],udg_SenpouChouDist[udg_SenpouChouInt2],AngleBetweenPoints(udg_SenpouChouPoint[1],udg_SenpouChouPoint[2]))
call SetUnitPositionLoc(GetEnumUnit(),udg_SenpouChouPoint[3])
call SetUnitPositionLoc(udg_SenpouChouDummy[udg_SenpouChouInt2],udg_SenpouChouPoint[3])
call SetUnitFacingToFaceUnitTimed(GetEnumUnit(),udg_SenpouChouTarget,0)
call RemoveLocation(udg_SenpouChouPoint[3])
endif
endif
if(Trig_Senpou_Chou_Odama_Timer_Func005Func004C())then
set udg_SenpouChouPoint[3]=PolarProjectionBJ(udg_SenpouChouPoint[2],120.,AngleBetweenPoints(udg_SenpouChouPoint[2],udg_SenpouChouPoint[1]))
set udg_SenpouChouAngle[udg_SenpouChouInt2]=AngleBetweenPoints(udg_SenpouChouPoint[2],udg_SenpouChouPoint[1])
call SetUnitPositionLoc(GetEnumUnit(),udg_SenpouChouPoint[3])
call SetUnitFacingToFaceUnitTimed(GetEnumUnit(),udg_SenpouChouTarget,0)
call SetUnitAnimation(GetEnumUnit(),"Spell throw one")
call RemoveLocation(udg_SenpouChouPoint[3])
endif
if(Trig_Senpou_Chou_Odama_Timer_Func005Func005C())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=udg_SenpouChouIndex
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call RemoveUnit(udg_SenpouChouDummy[bj_forLoopAIndex])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if(Trig_Senpou_Chou_Odama_Timer_Func005Func005Func002C())then
call SetUnitTimeScalePercent(GetEnumUnit(),.0)
endif
set udg_SenpouChouPoint[3]=PolarProjectionBJ(udg_SenpouChouPoint[2],120.,udg_SenpouChouAngle[udg_SenpouChouInt2])
call SetUnitPositionLoc(GetEnumUnit(),udg_SenpouChouPoint[3])
call SetUnitFacingToFaceUnitTimed(GetEnumUnit(),udg_SenpouChouTarget,0)
call RemoveLocation(udg_SenpouChouPoint[3])
endif
call RemoveLocation(udg_SenpouChouPoint[1])
endfunction
function Trig_Senpou_Chou_Odama_Timer_Func006Func005Func002C takes nothing returns boolean
return(GetEnumUnit()!=udg_SenpouChouUnit)
endfunction
function Trig_Senpou_Chou_Odama_Timer_Func006Func005A takes nothing returns nothing
call UnitDamageTargetBJ(udg_SenpouChouUnit,udg_SenpouChouTarget,udg_SenpouChouDamage,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
if(Trig_Senpou_Chou_Odama_Timer_Func006Func005Func002C())then
call GroupRemoveUnit(udg_SenpouChouGroup,GetEnumUnit())
call KillUnit(GetEnumUnit())
endif
endfunction
function Trig_Senpou_Chou_Odama_Timer_Func006C takes nothing returns boolean
return(udg_SenpouChouInt>=$AF)
endfunction
function Trig_Senpou_Chou_Odama_Timer_Actions takes nothing returns nothing
set udg_SenpouChouInt=(udg_SenpouChouInt+1)
set udg_SenpouChouPoint[2]=GetUnitLoc(udg_SenpouChouTarget)
if(Trig_Senpou_Chou_Odama_Timer_Func003C())then
call CreateNUnitsAtLoc(1,'h066',GetOwningPlayer(udg_SenpouChouUnit),udg_SenpouChouPoint[2],bj_UNIT_FACING)
set udg_SenpouChouBall[2]=bj_lastCreatedUnit
call ShowUnitHide(udg_SenpouChouBall[2])
endif
if(Trig_Senpou_Chou_Odama_Timer_Func004C())then
set udg_SenpouChouEffect=(udg_SenpouChouEffect+1)
if(Trig_Senpou_Chou_Odama_Timer_Func004Func002C())then
call CameraSetEQNoiseForPlayer(GetOwningPlayer(udg_SenpouChouUnit),15.)
call CameraSetEQNoiseForPlayer(GetOwningPlayer(udg_SenpouChouTarget),15.)
call ShowUnitShow(udg_SenpouChouBall[2])
call SetUnitTimeScalePercent(udg_SenpouChouBall[2],.0)
call CreateNUnitsAtLoc(1,'h06C',GetOwningPlayer(udg_SenpouChouUnit),udg_SenpouChouPoint[2],.0)
set udg_SenpouChouBall[1]=bj_lastCreatedUnit
endif
set udg_SenpouChouPoint[5]=GetUnitLoc(udg_SenpouChouUnit)
set udg_SenpouChouPoint[4]=PolarProjectionBJ(udg_SenpouChouPoint[2],15.,AngleBetweenPoints(udg_SenpouChouPoint[5],udg_SenpouChouPoint[2]))
set udg_SenpouChouPoint[6]=PolarProjectionBJ(udg_SenpouChouPoint[2],75.,AngleBetweenPoints(udg_SenpouChouPoint[5],udg_SenpouChouPoint[2]))
call SetUnitPositionLoc(udg_SenpouChouTarget,udg_SenpouChouPoint[4])
call SetUnitPositionLoc(udg_SenpouChouBall[1],udg_SenpouChouPoint[4])
call SetUnitPositionLoc(udg_SenpouChouBall[2],udg_SenpouChouPoint[4])
if(Trig_Senpou_Chou_Odama_Timer_Func004Func009C())then
set udg_SenpouChouEffect=0
call CreateNUnitsAtLoc(1,'h068',GetOwningPlayer(udg_SenpouChouUnit),udg_SenpouChouPoint[6],bj_UNIT_FACING)
call SetUnitVertexColorBJ(bj_lastCreatedUnit,'d','d','d',80.)
call UnitApplyTimedLifeBJ(1.,'BTLF',bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'h06A',GetOwningPlayer(udg_SenpouChouUnit),udg_SenpouChouPoint[6],AngleBetweenPoints(udg_SenpouChouPoint[5],udg_SenpouChouPoint[4]))
call UnitApplyTimedLifeBJ(1.,'BTLF',bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'h067',GetOwningPlayer(udg_SenpouChouUnit),udg_SenpouChouPoint[6],AngleBetweenPoints(udg_SenpouChouPoint[5],udg_SenpouChouPoint[4]))
call SetUnitTimeScalePercent(bj_lastCreatedUnit,400.)
call UnitApplyTimedLifeBJ(.5,'BTLF',bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'h069',GetOwningPlayer(udg_SenpouChouUnit),udg_SenpouChouPoint[6],AngleBetweenPoints(udg_SenpouChouPoint[5],udg_SenpouChouPoint[4]))
call SetUnitTimeScalePercent(bj_lastCreatedUnit,350.)
call UnitApplyTimedLifeBJ(1.,'BTLF',bj_lastCreatedUnit)
endif
if(Trig_Senpou_Chou_Odama_Timer_Func004Func010C())then
set udg_SenpouChouPoint[7]=PolarProjectionBJ(udg_SenpouChouPoint[2],GetRandomReal(350.,500.),GetRandomReal(0,360.))
call CreateNUnitsAtLoc(1,'h069',GetOwningPlayer(udg_SenpouChouUnit),udg_SenpouChouPoint[7],AngleBetweenPoints(udg_SenpouChouPoint[5],udg_SenpouChouPoint[4]))
call SetUnitScalePercent(bj_lastCreatedUnit,'d','d','d')
call UnitApplyTimedLifeBJ(1.,'BTLF',bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'h066',GetOwningPlayer(udg_SenpouChouUnit),udg_SenpouChouPoint[7],AngleBetweenPoints(udg_SenpouChouPoint[5],udg_SenpouChouPoint[4]))
call SetUnitScalePercent(bj_lastCreatedUnit,'d','d','d')
call SetUnitTimeScalePercent(bj_lastCreatedUnit,150.)
call UnitApplyTimedLifeBJ(1.,'BTLF',bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'h06A',GetOwningPlayer(udg_SenpouChouUnit),udg_SenpouChouPoint[7],AngleBetweenPoints(udg_SenpouChouPoint[5],udg_SenpouChouPoint[4]))
call SetUnitScalePercent(bj_lastCreatedUnit,'d','d','d')
call UnitApplyTimedLifeBJ(1.,'BTLF',bj_lastCreatedUnit)
call RemoveLocation(udg_SenpouChouPoint[7])
endif
call RemoveLocation(udg_SenpouChouPoint[4])
call RemoveLocation(udg_SenpouChouPoint[5])
call RemoveLocation(udg_SenpouChouPoint[6])
endif
call ForGroupBJ(udg_SenpouChouGroup,function Trig_Senpou_Chou_Odama_Timer_Func005A)
if(Trig_Senpou_Chou_Odama_Timer_Func006C())then
call SetUnitInvulnerable(udg_SenpouChouUnit,false)
call SetUnitInvulnerable(udg_SenpouChouTarget,false)
call CreateNUnitsAtLoc(1,'h069',GetOwningPlayer(udg_SenpouChouUnit),udg_SenpouChouPoint[2],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,'BTLF',bj_lastCreatedUnit)
call ForGroupBJ(udg_SenpouChouGroup,function Trig_Senpou_Chou_Odama_Timer_Func006Func005A)
call CameraClearNoiseForPlayer(GetOwningPlayer(udg_SenpouChouUnit))
call CameraClearNoiseForPlayer(GetOwningPlayer(udg_SenpouChouTarget))
call RemoveUnit(udg_SenpouChouBall[1])
call RemoveUnit(udg_SenpouChouBall[2])
call SetUnitTimeScalePercent(udg_SenpouChouUnit,100.)
call PauseUnit(udg_SenpouChouUnit,false)
call PauseUnit(udg_SenpouChouTarget,false)
call SetUnitUserData(udg_SenpouChouUnit,0)
call SetUnitPathing(udg_SenpouChouUnit,true)
call DestroyGroup(udg_SenpouChouGroup)
call DisableTrigger(GetTriggeringTrigger())
endif
call RemoveLocation(udg_SenpouChouPoint[2])
endfunction
function InitTrig_Senpou_Chou_Odama_Timer takes nothing returns nothing
set gg_trg_Senpou_Chou_Odama_Timer=CreateTrigger()
call DisableTrigger(gg_trg_Senpou_Chou_Odama_Timer)
call TriggerRegisterTimerEventPeriodic(gg_trg_Senpou_Chou_Odama_Timer,.04)
call TriggerAddAction(gg_trg_Senpou_Chou_Odama_Timer,function Trig_Senpou_Chou_Odama_Timer_Actions)
endfunction
function Trig_Clear_Dummy_Func002C takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h067')or(GetUnitTypeId(GetTriggerUnit())=='h069')or(GetUnitTypeId(GetTriggerUnit())=='h06A')or(GetUnitTypeId(GetTriggerUnit())=='h066')or(GetUnitTypeId(GetTriggerUnit())=='h068')
endfunction
function Trig_Clear_Dummy_Conditions takes nothing returns boolean
return(Trig_Clear_Dummy_Func002C())
endfunction
function Trig_Clear_Dummy_Actions takes nothing returns nothing
call RemoveUnit(GetTriggerUnit())
endfunction
function InitTrig_Clear_Dummy takes nothing returns nothing
set gg_trg_Clear_Dummy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Clear_Dummy,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Clear_Dummy,Condition(function Trig_Clear_Dummy_Conditions))
call TriggerAddAction(gg_trg_Clear_Dummy,function Trig_Clear_Dummy_Actions)
endfunction
function Kurama_Cond takes nothing returns boolean
return GetSpellAbilityId()=='A0CY'
endfunction
function Kurama_Act takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local real d
local unit b
call PauseUnit(a,true)
call TriggerSleepAction(1)
call SetUnitAnimation(a,"Spell two")
set d=bj_RADTODEG*Atan2(GetSpellTargetY()-GetUnitY(a),GetSpellTargetX()-GetUnitX(a))
set b=CreateUnit(GetOwningPlayer(a),'h065',GetUnitX(a),GetUnitY(a),d)
call ShowUnit(a,false)
call TriggerSleepAction(60.)
call SetUnitPosition(a,GetUnitX(b),GetUnitY(b))
call ShowUnit(a,true)
call PauseUnit(a,false)
call RemoveUnit(b)
set a=null
set b=null
endfunction
function InitTrig_Kurama takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Kurama_Cond))
call TriggerAddAction(t,function Kurama_Act)
set t=null
endfunction
function IsSpellNeedRange takes real x,real y,real x1,real y1,real range returns boolean
local boolean log=false
if SquareRoot((x-x1)*(x-x1)+(y-y1)*(y-y1))<range then
set log=true
endif
return log
endfunction
function cj_anonym__1 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit knockbacked=LoadUnitHandle(hash,h,0)
local integer amount=LoadInteger(hash,h,1)
local real portion=LoadReal(hash,h,2)
local real angle=LoadReal(hash,h,3)
local real x=GetWidgetX(knockbacked)
local real y=GetWidgetY(knockbacked)
local real x1=x+portion*Cos(angle*bj_DEGTORAD)
local real y1=y+portion*Sin(angle*bj_DEGTORAD)
if amount>0 then
if not IsTerrainPathable(x1,y1,PATHING_TYPE_WALKABILITY)and GetTerrainCliffLevel(x1,y1)<=GetTerrainCliffLevel(x,y)then
call SetUnitPosition(knockbacked,x1,y1)
else
call SetUnitPosition(knockbacked,x,y)
endif
call SaveInteger(hash,h,1,amount-1)
else
call SetUnitPathing(knockbacked,true)
call FlushChildHashtable(hash,h)
call PauseTimer(t)
call DestroyTimer(t)
endif
set knockbacked=null
set t=null
endfunction
function KnockBackUnitEf takes unit knockbacked,real distance,real time,real degrees,real period,integer ef,boolean b returns nothing
local timer t=CreateTimer()
local integer h=GetHandleId(t)
local integer amount=R2I(time/period)
call SetUnitPathing(knockbacked,false)
call SaveAgentHandle(hash,h,0,knockbacked)
call SaveInteger(hash,h,1,amount)
call SaveReal(hash,h,2,distance/amount)
call SaveReal(hash,h,3,degrees)
call TimerStart(t,period,true,function cj_anonym__1)
set t=null
endfunction
function Naruto__RasenRanganDamage takes unit c,unit tu,real x1,real y1,real a returns nothing
local real distance=1000.
local real timeKnock=1.
local real dmg=500.
call DestroyEffect(AddSpecialEffect("Wave.mdx",x1,y1))
call KnockBackUnitEf(tu,distance,timeKnock,a,.025,7,false)
call UnitDamageTarget(c,tu,dmg,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,null)
endfunction
function cj_anonym__2 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit d=LoadUnitHandle(hash,h,0)
local unit tu=LoadUnitHandle(hash,h,1)
local real offset=LoadReal(hash,h,2)
local unit c=LoadUnitHandle(hash,h,4)
local real x=GetWidgetX(d)
local real y=GetWidgetY(d)
local real x1=GetWidgetX(tu)
local real y1=GetWidgetY(tu)
local real a=bj_RADTODEG*Atan2(y1-y,x1-x)
local real distance=SquareRoot((x-x1)*(x-x1)+(y-y1)*(y-y1))
if GetWidgetLife(tu)>.405 and distance>offset and IsSpellNeedRange(GetWidgetX(c),GetWidgetY(c),x1,y1,375.)then
call SetUnitPosition(d,x+offset*Cos(a*bj_DEGTORAD),y+offset*Sin(a*bj_DEGTORAD))
else
if GetWidgetLife(tu)>.405 and distance<=offset then
call Naruto__RasenRanganDamage(c,tu,x1,y1,a)
endif
call DestroyEffect(LoadEffectHandle(hash,h,3))
call RemoveUnit(d)
call FlushChildHashtable(hash,h)
call PauseTimer(t)
call DestroyTimer(t)
endif
set c=null
set d=null
set tu=null
set t=null
endfunction
function Naruto__RasenRanganCreateHand takes unit c,real x,real y,unit tu returns nothing
local timer t=CreateTimer()
local integer h=GetHandleId(t)
local player p=GetOwningPlayer(c)
local real x1=GetWidgetX(tu)
local real y1=GetWidgetY(tu)
local real a=bj_RADTODEG*Atan2(y1-y,x1-x)
local real speed=1000.
local real period=.05
local real offset=speed*period
local unit d=CreateUnit(p,'n00W',x,y,a)
call SaveAgentHandle(hash,h,0,d)
call SaveAgentHandle(hash,h,1,tu)
call SaveReal(hash,h,2,offset)
call SaveAgentHandle(hash,h,3,AddSpecialEffectTarget("newrasengan3.mdx",d,"chest"))
call SaveAgentHandle(hash,h,4,c)
call TimerStart(t,period,true,function cj_anonym__2)
set d=null
set t=null
endfunction
function Naruto__RasenRanganCast takes unit c,unit tu returns nothing
local player p=GetOwningPlayer(c)
local real x=GetWidgetX(c)
local real y=GetWidgetY(c)
local real radius=500.
local unit tg
local group g=CreateGroup()
local unit d=CreateUnit(p,'n00V',x,y,.0)
call UnitApplyTimedLife(d,'BTLF',.4)
call SetUnitAnimation(d,"spell four")
call SetUnitAnimation(c,"Spell slam")
call GroupEnumUnitsInRange(g,x,y,radius,null)
loop
set tg=FirstOfGroup(g)
exitwhen tg==null
if IsUnitEnemy(tg,p)and GetWidgetLife(tg)>.405 and not IsUnitType(tg,UNIT_TYPE_STRUCTURE)then
call Naruto__RasenRanganCreateHand(c,x,y,tg)
endif
call GroupRemoveUnit(g,tg)
endloop
call DestroyGroup(g)
set d=null
set tg=null
set g=null
endfunction
function Naruto__RasenKyuganDamage takes unit c,unit tu,real x1,real y1,real a returns nothing
local real distance=500.
local real timeKnock=.5
local real dmg=500.
call DestroyEffect(AddSpecialEffect("IceNova.mdx",x1,y1))
call KnockBackUnitEf(tu,distance,timeKnock,a,.025,7,false)
call UnitDamageTarget(c,tu,dmg,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,null)
endfunction
function cj_anonym__3 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit d=LoadUnitHandle(hash,h,0)
local unit tu=LoadUnitHandle(hash,h,1)
local real offset=LoadReal(hash,h,2)
local unit c=LoadUnitHandle(hash,h,3)
local real x=GetWidgetX(c)
local real y=GetWidgetY(c)
local real x1=GetWidgetX(d)
local real y1=GetWidgetY(d)
local real x2=GetWidgetX(tu)
local real y2=GetWidgetY(tu)
local real a=bj_RADTODEG*Atan2(y2-y,x2-x)
local real distance=SquareRoot((x-x2)*(x-x2)+(y-y2)*(y-y2))
if GetWidgetLife(tu)>.405 and distance>offset then
call SetUnitPosition(d,x1-offset*Cos(a*bj_DEGTORAD),y1-offset*Sin(a*bj_DEGTORAD))
call SetUnitPosition(tu,x2-offset*Cos(a*bj_DEGTORAD),y2-offset*Sin(a*bj_DEGTORAD))
else
if GetWidgetLife(tu)>.405 and distance<=offset then
call Naruto__RasenKyuganDamage(c,tu,x2,y2,a)
endif
call SetUnitPathing(tu,true)
call RemoveUnit(d)
call FlushChildHashtable(hash,h)
call PauseTimer(t)
call DestroyTimer(t)
endif
set c=null
set d=null
set tu=null
set t=null
endfunction
function Naruto__RasenKyuganHandReturn takes unit c,unit d,unit tu,real offset returns nothing
local timer t=CreateTimer()
local integer h=GetHandleId(t)
call SetUnitPathing(tu,false)
call SaveAgentHandle(hash,h,0,d)
call SaveAgentHandle(hash,h,1,tu)
call SaveReal(hash,h,2,offset)
call SaveAgentHandle(hash,h,3,c)
call TimerStart(t,.025,true,function cj_anonym__3)
set d=null
set t=null
endfunction
function cj_anonym__4 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit d=LoadUnitHandle(hash,h,0)
local unit tu=LoadUnitHandle(hash,h,1)
local real offset=LoadReal(hash,h,2)
local real distanceMax=LoadReal(hash,h,3)
local unit c=LoadUnitHandle(hash,h,4)
local real x=GetWidgetX(d)
local real y=GetWidgetY(d)
local real x1=GetWidgetX(tu)
local real y1=GetWidgetY(tu)
local real a=bj_RADTODEG*Atan2(y1-y,x1-x)
local real distance=SquareRoot((x-x1)*(x-x1)+(y-y1)*(y-y1))
local player p=GetOwningPlayer(c)
if GetWidgetLife(tu)>.405 and distance>offset and distance<distanceMax then
call SetUnitPosition(d,x+offset*Cos(a*bj_DEGTORAD),y+offset*Sin(a*bj_DEGTORAD))
call UnitApplyTimedLife(CreateUnit(p,'n00X',x,y,a),'BTLF',(distance/500.))
else
if GetWidgetLife(tu)>.405 and distance<=offset then
call Naruto__RasenKyuganHandReturn(c,d,tu,offset)
endif
call FlushChildHashtable(hash,h)
call PauseTimer(t)
call DestroyTimer(t)
endif
set c=null
set d=null
set tu=null
set t=null
endfunction
function Naruto__RasenKyuganCreateHand takes unit c,real x,real y,unit tu returns nothing
local timer t=CreateTimer()
local integer h=GetHandleId(t)
local player p=GetOwningPlayer(c)
local real x1=GetWidgetX(tu)
local real y1=GetWidgetY(tu)
local real a=bj_RADTODEG*Atan2(y1-y,x1-x)
local real speed=1000.
local real period=.025
local real offset=speed*period
local real distanceMax=500.
local unit d=CreateUnit(p,'n00W',x,y,a)
call SaveAgentHandle(hash,h,0,d)
call SaveAgentHandle(hash,h,1,tu)
call SaveReal(hash,h,2,offset)
call SaveReal(hash,h,3,distanceMax)
call SaveAgentHandle(hash,h,4,c)
call TimerStart(t,period,true,function cj_anonym__4)
set d=null
set t=null
endfunction
function cj_anonym__5 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit d1=LoadUnitHandle(hash,h,0)
local unit d2=LoadUnitHandle(hash,h,1)
local real period=LoadReal(hash,h,2)
local real time=LoadReal(hash,h,3)
local unit c=LoadUnitHandle(hash,h,4)
local real x=GetWidgetX(c)
local real y=GetWidgetY(c)
if time>0.then
call IssueImmediateOrderById(c,$D0004)
call SetUnitAnimation(c,"Spell slam")
call SetUnitPosition(d1,x,y)
call SetUnitPosition(d2,x,y)
call SaveReal(hash,h,3,time-period)
else
call SetUnitAnimation(c,"stand ready")
call SetUnitPathing(c,true)
call RemoveUnit(d1)
call RemoveUnit(d2)
call FlushChildHashtable(hash,h)
call PauseTimer(t)
call DestroyTimer(t)
endif
set c=null
set d1=null
set d2=null
set t=null
endfunction
function Naruto__RasenKyuganCast takes unit c returns nothing
local timer t=CreateTimer()
local integer h=GetHandleId(t)
local player p=GetOwningPlayer(c)
local real x=GetWidgetX(c)
local real y=GetWidgetY(c)
local real radius=500.
local real time=2.
local real period=.025
local unit tg
local group g=CreateGroup()
local unit d1=CreateUnit(p,'n00V',x,y,.0)
local unit d2=CreateUnit(p,'n00U',x,y,.0)
call SetUnitPathing(c,false)
call SetUnitAnimation(d1,"spell channel")
call SetUnitAnimation(c,"Spell slam")
call GroupEnumUnitsInRange(g,x,y,radius,null)
loop
set tg=FirstOfGroup(g)
exitwhen tg==null
if IsUnitEnemy(tg,p)and GetWidgetLife(tg)>.405 and not IsUnitType(tg,UNIT_TYPE_STRUCTURE)then
call Naruto__RasenKyuganCreateHand(c,x,y,tg)
endif
call GroupRemoveUnit(g,tg)
endloop
call DestroyGroup(g)
call SaveAgentHandle(hash,h,0,d1)
call SaveAgentHandle(hash,h,1,d2)
call SaveReal(hash,h,2,period)
call SaveReal(hash,h,3,time)
call SaveAgentHandle(hash,h,4,c)
call TimerStart(t,period,true,function cj_anonym__5)
set tg=null
set g=null
set d1=null
set d2=null
set t=null
endfunction
function Naruto__BijuRasenganCast takes unit c,unit tu returns nothing
if tu==c then
call Naruto__RasenKyuganCast(c)
else
call Naruto__RasenRanganCast(c,tu)
endif
endfunction
function Naruto__SpellsConditions takes nothing returns boolean
local integer id=GetSpellAbilityId()
return id=='A0C1'
endfunction
function Naruto__SpellsActions takes nothing returns nothing
local integer id=GetSpellAbilityId()
if id=='A0C1' then
call Naruto__BijuRasenganCast(GetTriggerUnit(),GetSpellTargetUnit())
endif
endfunction
function Naruto__Init takes nothing returns nothing
local integer i=0
local trigger spells=CreateTrigger()
loop
call TriggerRegisterPlayerUnitEvent(spells,Player(i),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set i=i+1
exitwhen i==16
endloop
call TriggerAddCondition(spells,Condition(function Naruto__SpellsConditions))
call TriggerAddAction(spells,function Naruto__SpellsActions)
set spells=null
endfunction
function Trig_Blow_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A070')
endfunction
function Trig_Blow_Func006001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A070',GetTriggerUnit())==1)
endfunction
function Trig_Blow_Func007001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A070',GetTriggerUnit())==2)
endfunction
function Trig_Blow_Func008001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A070',GetTriggerUnit())==3)
endfunction
function Trig_Blow_Func009001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A070',GetTriggerUnit())==4)
endfunction
function Trig_Blow_Actions takes nothing returns nothing
set udg_Sakura[1]=GetSpellAbilityUnit()
set udg_Sakura[0]=GetSpellTargetUnit()
call EnableTrigger(gg_trg_Blow_Move)
call TriggerSleepAction(.08)
call DisableTrigger(gg_trg_Blow_Move)
if(Trig_Blow_Func006001())then
call UnitDamageTargetBJ(gg_unit_Hvwd_0016,udg_Sakura[0],150.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEMOLITION)
endif
if(Trig_Blow_Func007001())then
call UnitDamageTargetBJ(gg_unit_Hvwd_0016,udg_Sakura[0],220.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEMOLITION)
endif
if(Trig_Blow_Func008001())then
call UnitDamageTargetBJ(gg_unit_Hvwd_0016,udg_Sakura[0],310.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEMOLITION)
endif
if(Trig_Blow_Func009001())then
call UnitDamageTargetBJ(gg_unit_Hvwd_0016,udg_Sakura[0],380.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEMOLITION)
endif
set udg_Sakura[1]=null
set udg_Sakura[0]=null
endfunction
function InitTrig_Blow takes nothing returns nothing
set gg_trg_Blow=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Blow,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Blow,Condition(function Trig_Blow_Conditions))
call TriggerAddAction(gg_trg_Blow,function Trig_Blow_Actions)
endfunction
function Trig_Blow_Move_Func001C takes nothing returns boolean
return(UnitHasBuffBJ(udg_Sakura[0],'B001'))
endfunction
function Trig_Blow_Move_Actions takes nothing returns nothing
if(Trig_Blow_Move_Func001C())then
else
call SetUnitPositionLoc(udg_Sakura[0],PolarProjectionBJ(GetUnitLoc(udg_Sakura[0]),90.,AngleBetweenPoints(GetUnitLoc(udg_Sakura[1]),GetUnitLoc(udg_Sakura[0]))))
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Sakura[0]),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Sakura[0]),"Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endif
endfunction
function InitTrig_Blow_Move takes nothing returns nothing
set gg_trg_Blow_Move=CreateTrigger()
call DisableTrigger(gg_trg_Blow_Move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Blow_Move,.03)
call TriggerAddAction(gg_trg_Blow_Move,function Trig_Blow_Move_Actions)
endfunction
function Trig_Earth_slam_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A071')
endfunction
function Trig_Earth_slam_Func002A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Earth_slam_Actions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=9
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(GetSpellAbilityUnit()),200.,(I2R(bj_forLoopAIndex)*45.)),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(GetSpellAbilityUnit()),200.,(I2R(bj_forLoopAIndex)*45.)),"Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(GetSpellAbilityUnit()),400.,(I2R(bj_forLoopAIndex)*45.)),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(GetSpellAbilityUnit()),300.,(I2R(bj_forLoopAIndex)*45.)),"Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(GetSpellAbilityUnit()),600.,(I2R(bj_forLoopAIndex)*45.)),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(GetSpellAbilityUnit()),600.,(I2R(bj_forLoopAIndex)*45.)),"Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call EnumDestructablesInCircleBJ(600.,GetUnitLoc(GetTriggerUnit()),function Trig_Earth_slam_Func002A)
endfunction
function InitTrig_Earth_slam takes nothing returns nothing
set gg_trg_Earth_slam=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Earth_slam,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Earth_slam,Condition(function Trig_Earth_slam_Conditions))
call TriggerAddAction(gg_trg_Earth_slam,function Trig_Earth_slam_Actions)
endfunction
function Trig_Mana_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A073')
endfunction
function Trig_Mana_Actions takes nothing returns nothing
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.4,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'A072')
call IssueTargetOrderById(bj_lastCreatedUnit,$D00C0,GetTriggerUnit())
endfunction
function InitTrig_Mana takes nothing returns nothing
set gg_trg_Mana=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Mana,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Mana,Condition(function Trig_Mana_Conditions))
call TriggerAddAction(gg_trg_Mana,function Trig_Mana_Actions)
endfunction
function Trig_Mana_end_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A073')
endfunction
function Trig_Mana_end_Actions takes nothing returns nothing
call UnitRemoveAbility(GetTriggerUnit(),'B011')
endfunction
function InitTrig_Mana_end takes nothing returns nothing
set gg_trg_Mana_end=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Mana_end,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(gg_trg_Mana_end,Condition(function Trig_Mana_end_Conditions))
call TriggerAddAction(gg_trg_Mana_end,function Trig_Mana_end_Actions)
endfunction
function Ninpo_Snake_spell_Cond takes nothing returns boolean
return GetSpellAbilityId()=='A05Z'
endfunction
function Ninpo_Snake_spell_Act takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local unit b=GetSpellTargetUnit()
local unit d=CreateUnit(Player($F),'u00K',GetUnitX(b),GetUnitY(b),0)
call PauseUnit(b,true)
call TriggerSleepAction(3)
call PauseUnit(b,false)
call RemoveUnit(d)
set a=null
set b=null
set d=null
endfunction
function InitTrig_Ninpo_Snake_spell takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Ninpo_Snake_spell_Cond))
call TriggerAddAction(t,function Ninpo_Snake_spell_Act)
set t=null
endfunction
function Trig_Beast_Dies_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='o000')
endfunction
function Trig_Beast_Dies_Actions takes nothing returns nothing
call RemoveUnit(GetTriggerUnit())
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Objects\\Spawnmodels\\Undead\\UndeadLargeDeathExplode\\UndeadLargeDeathExplode.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endfunction
function InitTrig_Beast_Dies takes nothing returns nothing
set gg_trg_Beast_Dies=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Beast_Dies,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Beast_Dies,Condition(function Trig_Beast_Dies_Conditions))
call TriggerAddAction(gg_trg_Beast_Dies,function Trig_Beast_Dies_Actions)
endfunction
function Trig_Ninpo_Rat_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A05V')
endfunction
function Trig_Ninpo_Rat_Func001Func001Func002Func002C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A05V',GetTriggerUnit())==4)
endfunction
function Trig_Ninpo_Rat_Func001Func001Func002C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A05V',GetTriggerUnit())==3)
endfunction
function Trig_Ninpo_Rat_Func001Func001C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A05V',GetTriggerUnit())==2)
endfunction
function Trig_Ninpo_Rat_Func001C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A05V',GetTriggerUnit())==1)
endfunction
function Trig_Ninpo_Rat_Actions takes nothing returns nothing
if(Trig_Ninpo_Rat_Func001C())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=$A
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'n00L',GetOwningPlayer(GetTriggerUnit()),PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),100.,(I2R(bj_forLoopAIndex)*35.)),(I2R(bj_forLoopAIndex)*35.))
call UnitApplyTimedLifeBJ(4.,'BTLF',bj_lastCreatedUnit)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0012,PolarProjectionBJ(GetUnitLoc(bj_lastCreatedUnit),1500.,GetUnitFacing(bj_lastCreatedUnit)))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
if(Trig_Ninpo_Rat_Func001Func001C())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=$F
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'n00L',GetOwningPlayer(GetTriggerUnit()),PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),100.,(I2R(bj_forLoopAIndex)*24.)),(I2R(bj_forLoopAIndex)*24.))
call UnitApplyTimedLifeBJ(4.,'BTLF',bj_lastCreatedUnit)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0012,PolarProjectionBJ(GetUnitLoc(bj_lastCreatedUnit),1500.,GetUnitFacing(bj_lastCreatedUnit)))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
if(Trig_Ninpo_Rat_Func001Func001Func002C())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=20
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'n00L',GetOwningPlayer(GetTriggerUnit()),PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),100.,(I2R(bj_forLoopAIndex)*18.)),(I2R(bj_forLoopAIndex)*18.))
call UnitApplyTimedLifeBJ(4.,'BTLF',bj_lastCreatedUnit)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0012,PolarProjectionBJ(GetUnitLoc(bj_lastCreatedUnit),1500.,GetUnitFacing(bj_lastCreatedUnit)))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
if(Trig_Ninpo_Rat_Func001Func001Func002Func002C())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=25
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'n00L',GetOwningPlayer(GetTriggerUnit()),PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),100.,(I2R(bj_forLoopAIndex)*15.)),(I2R(bj_forLoopAIndex)*15.))
call UnitApplyTimedLifeBJ(4.,'BTLF',bj_lastCreatedUnit)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0012,PolarProjectionBJ(GetUnitLoc(bj_lastCreatedUnit),1500.,GetUnitFacing(bj_lastCreatedUnit)))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
endif
endif
endif
endfunction
function InitTrig_Ninpo_Rat takes nothing returns nothing
set gg_trg_Ninpo_Rat=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Ninpo_Rat,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Ninpo_Rat,Condition(function Trig_Ninpo_Rat_Conditions))
call TriggerAddAction(gg_trg_Ninpo_Rat,function Trig_Ninpo_Rat_Actions)
endfunction
function Trig_Ninpo_Rat_dead_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='n00L')
endfunction
function Trig_Ninpo_Rat_dead_Actions takes nothing returns nothing
call RemoveUnit(GetTriggerUnit())
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Objects\\Spawnmodels\\NightElf\\NightElfLargeDeathExplode\\NightElfLargeDeathExplode.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endfunction
function InitTrig_Ninpo_Rat_dead takes nothing returns nothing
set gg_trg_Ninpo_Rat_dead=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Ninpo_Rat_dead,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Ninpo_Rat_dead,Condition(function Trig_Ninpo_Rat_dead_Conditions))
call TriggerAddAction(gg_trg_Ninpo_Rat_dead,function Trig_Ninpo_Rat_dead_Actions)
endfunction
function Trig_Ninpo_Gigant_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A05W')
endfunction
function Trig_Ninpo_Gigant_Func006001003 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(gg_unit_Eill_0017)))
endfunction
function Trig_Ninpo_Gigant_Func006Func001001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A05W',GetTriggerUnit())==1)
endfunction
function Trig_Ninpo_Gigant_Func006Func002001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A05W',GetTriggerUnit())==2)
endfunction
function Trig_Ninpo_Gigant_Func006Func003001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A05W',GetTriggerUnit())==3)
endfunction
function Trig_Ninpo_Gigant_Func006A takes nothing returns nothing
if(Trig_Ninpo_Gigant_Func006Func001001())then
call UnitDamageTargetBJ(gg_unit_Eill_0017,GetEnumUnit(),(500.+(I2R(GetHeroStatBJ(1,gg_unit_Eill_0017,false))*2.)),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DEMOLITION)
endif
if(Trig_Ninpo_Gigant_Func006Func002001())then
call UnitDamageTargetBJ(gg_unit_Eill_0017,GetEnumUnit(),(800.+(I2R(GetHeroStatBJ(1,gg_unit_Eill_0017,false))*2.)),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DEMOLITION)
endif
if(Trig_Ninpo_Gigant_Func006Func003001())then
call UnitDamageTargetBJ(gg_unit_Eill_0017,GetEnumUnit(),(1200.+(I2R(GetHeroStatBJ(1,gg_unit_Eill_0017,false))*2.)),ATTACK_TYPE_CHAOS,DAMAGE_TYPE_DEMOLITION)
endif
endfunction
function Trig_Ninpo_Gigant_Actions takes nothing returns nothing
set udg_PointNew[82]=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'h005',GetOwningPlayer(GetTriggerUnit()),udg_PointNew[82],GetRandomReal(0,360))
call UnitApplyTimedLifeBJ(1.,'BTLF',bj_lastCreatedUnit)
call SetUnitFlyHeight(bj_lastCreatedUnit,-90.,1400.)
call TriggerSleepAction(.48)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(500.,udg_PointNew[82],Condition(function Trig_Ninpo_Gigant_Func006001003)),function Trig_Ninpo_Gigant_Func006A)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=$C
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call AddSpecialEffectLocBJ(PolarProjectionBJ(udg_PointNew[82],60.,(I2R(bj_forLoopAIndex)*28.)),"Objects\\Spawnmodels\\Undead\\UndeadLargeDeathExplode\\UndeadLargeDeathExplode.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(udg_PointNew[82],100.,(I2R(bj_forLoopAIndex)*28.)),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(udg_PointNew[82],100.,(I2R(bj_forLoopAIndex)*28.)),"war3mapImported\\explosion.mdx")
call DestroyEffect(bj_lastCreatedEffect)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call TerrainDeformationRippleBJ(.5,false,udg_PointNew[82],500.,500.,64,1,512)
call RemoveLocation(udg_PointNew[82])
set udg_PointNew[82]=null
endfunction
function InitTrig_Ninpo_Gigant takes nothing returns nothing
set gg_trg_Ninpo_Gigant=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Ninpo_Gigant,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Ninpo_Gigant,Condition(function Trig_Ninpo_Gigant_Conditions))
call TriggerAddAction(gg_trg_Ninpo_Gigant,function Trig_Ninpo_Gigant_Actions)
endfunction
function Trig_Ninpo_Dragon_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A05X')
endfunction
function Trig_Ninpo_Dragon_Actions takes nothing returns nothing
set udg_PointNew[83]=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'h03J',GetOwningPlayer(gg_unit_Eill_0017),PolarProjectionBJ(GetUnitLoc(gg_unit_Eill_0017),100.,AngleBetweenPoints(GetUnitLoc(gg_unit_Eill_0017),GetSpellTargetLoc())),AngleBetweenPoints(GetUnitLoc(GetTriggerUnit()),GetSpellTargetLoc()))
call UnitApplyTimedLifeBJ(10.,'BTLF',bj_lastCreatedUnit)
set udg_Naruto[94]=bj_lastCreatedUnit
call EnableTrigger(gg_trg_Ninpo_Dragon_Move)
endfunction
function InitTrig_Ninpo_Dragon takes nothing returns nothing
set gg_trg_Ninpo_Dragon=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Ninpo_Dragon,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Ninpo_Dragon,Condition(function Trig_Ninpo_Dragon_Conditions))
call TriggerAddAction(gg_trg_Ninpo_Dragon,function Trig_Ninpo_Dragon_Actions)
endfunction
function Trig_Ninpo_Dragon_Move_Func003001003001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(gg_unit_Eill_0017)))
endfunction
function Trig_Ninpo_Dragon_Move_Func003001003002 takes nothing returns boolean
return(UnitHasBuffBJ(GetFilterUnit(),'B001')==false)
endfunction
function Trig_Ninpo_Dragon_Move_Func003001003 takes nothing returns boolean
return GetBooleanAnd(Trig_Ninpo_Dragon_Move_Func003001003001(),Trig_Ninpo_Dragon_Move_Func003001003002())
endfunction
function Trig_Ninpo_Dragon_Move_Func003A takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),PolarProjectionBJ(GetUnitLoc(GetEnumUnit()),10.,AngleBetweenPoints(GetUnitLoc(GetEnumUnit()),GetUnitLoc(udg_Naruto[94]))))
endfunction
function Trig_Ninpo_Dragon_Move_Func004Func004001003 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(gg_unit_Eill_0017)))
endfunction
function Trig_Ninpo_Dragon_Move_Func004Func004A takes nothing returns nothing
call UnitDamageTargetBJ(gg_unit_Eill_0017,GetEnumUnit(),(1400.+(I2R(GetHeroStatBJ(1,gg_unit_Eill_0017,false))*2.)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
endfunction
function Trig_Ninpo_Dragon_Move_Func004C takes nothing returns boolean
return(DistanceBetweenPoints(GetUnitLoc(udg_Naruto[94]),udg_PointNew[83])<=40.)
endfunction
function Trig_Ninpo_Dragon_Move_Actions takes nothing returns nothing
call SetUnitPositionLoc(udg_Naruto[94],PolarProjectionBJ(GetUnitLoc(udg_Naruto[94]),18.,GetUnitFacing(udg_Naruto[94])))
call SetUnitAnimation(udg_Naruto[94],"walk")
call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.,GetUnitLoc(udg_Naruto[94]),Condition(function Trig_Ninpo_Dragon_Move_Func003001003)),function Trig_Ninpo_Dragon_Move_Func003A)
if(Trig_Ninpo_Dragon_Move_Func004C())then
call DisableTrigger(GetTriggeringTrigger())
call RemoveUnit(udg_Naruto[94])
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=$C
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Naruto[94]),100.,(I2R(bj_forLoopAIndex)*28.)),"Objects\\Spawnmodels\\Undead\\UndeadLargeDeathExplode\\UndeadLargeDeathExplode.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Naruto[94]),100.,(I2R(bj_forLoopAIndex)*28.)),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Naruto[94]),200.,(I2R(bj_forLoopAIndex)*28.)),"Objects\\Spawnmodels\\Undead\\UndeadLargeDeathExplode\\UndeadLargeDeathExplode.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Naruto[94]),200.,(I2R(bj_forLoopAIndex)*28.)),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Naruto[94]),300.,(I2R(bj_forLoopAIndex)*31.)),"Objects\\Spawnmodels\\Undead\\UndeadLargeDeathExplode\\UndeadLargeDeathExplode.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Naruto[94]),300.,(I2R(bj_forLoopAIndex)*31.)),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Naruto[94]),400.,(I2R(bj_forLoopAIndex)*34.)),"Objects\\Spawnmodels\\Undead\\UndeadLargeDeathExplode\\UndeadLargeDeathExplode.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Naruto[94]),400.,(I2R(bj_forLoopAIndex)*34.)),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call ForGroupBJ(GetUnitsInRangeOfLocMatching(400.,GetUnitLoc(udg_Naruto[94]),Condition(function Trig_Ninpo_Dragon_Move_Func004Func004001003)),function Trig_Ninpo_Dragon_Move_Func004Func004A)
set udg_Naruto[94]=null
call RemoveLocation(udg_PointNew[83])
set udg_PointNew[83]=null
endif
endfunction
function InitTrig_Ninpo_Dragon_Move takes nothing returns nothing
set gg_trg_Ninpo_Dragon_Move=CreateTrigger()
call DisableTrigger(gg_trg_Ninpo_Dragon_Move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Ninpo_Dragon_Move,.02)
call TriggerAddAction(gg_trg_Ninpo_Dragon_Move,function Trig_Ninpo_Dragon_Move_Actions)
endfunction
function Trig_Geppou_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A091')
endfunction
function Trig_Geppou_Func016001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A091',udg_Grimmjow[531])==1)
endfunction
function Trig_Geppou_Func017001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A091',udg_Grimmjow[531])==2)
endfunction
function Trig_Geppou_Func018001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A091',udg_Grimmjow[531])==3)
endfunction
function Trig_Geppou_Func019001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A091',udg_Grimmjow[531])==4)
endfunction
function Trig_Geppou_Func020Func003002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)!=true)!=null
endfunction
function Trig_Geppou_Func020Func003002003002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_Geppou_Func020Func003002003002002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Grimmjow[531])))
endfunction
function Trig_Geppou_Func020Func003002003002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)!=true)!=null
endfunction
function Trig_Geppou_Func020Func003002003002002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)!=true)!=null
endfunction
function Trig_Geppou_Func020Func003002003002002002002002001 takes nothing returns boolean
return(IsUnitHidden(GetFilterUnit())!=true)
endfunction
function Trig_Geppou_Func020Func003002003002002002002002002 takes nothing returns boolean
return(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(udg_Grimmjow[531])))
endfunction
function Trig_Geppou_Func020Func003002003002002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Geppou_Func020Func003002003002002002002002001(),Trig_Geppou_Func020Func003002003002002002002002002())
endfunction
function Trig_Geppou_Func020Func003002003002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Geppou_Func020Func003002003002002002002001(),Trig_Geppou_Func020Func003002003002002002002002())
endfunction
function Trig_Geppou_Func020Func003002003002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Geppou_Func020Func003002003002002002001(),Trig_Geppou_Func020Func003002003002002002002())
endfunction
function Trig_Geppou_Func020Func003002003002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Geppou_Func020Func003002003002002001(),Trig_Geppou_Func020Func003002003002002002())
endfunction
function Trig_Geppou_Func020Func003002003002 takes nothing returns boolean
return GetBooleanAnd(Trig_Geppou_Func020Func003002003002001(),Trig_Geppou_Func020Func003002003002002())
endfunction
function Trig_Geppou_Func020Func003002003 takes nothing returns boolean
return GetBooleanAnd(Trig_Geppou_Func020Func003002003001(),Trig_Geppou_Func020Func003002003002())
endfunction
function Trig_Geppou_Func020Func007Func001Func001C takes nothing returns boolean
return(UnitHasBuffBJ(udg_Grimmjow[531],'BSTN')==false)and(UnitHasBuffBJ(udg_Grimmjow[531],'BPSE')==false)
endfunction
function Trig_Geppou_Func020Func007Func001Func003Func008001 takes nothing returns boolean
return(IsUnitPaused(udg_Grimmjow[531]))
endfunction
function Trig_Geppou_Func020Func007Func001Func003Func011001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A091',udg_Grimmjow[531])==1)
endfunction
function Trig_Geppou_Func020Func007Func001Func003Func012001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A091',udg_Grimmjow[531])==2)
endfunction
function Trig_Geppou_Func020Func007Func001Func003Func013001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A091',udg_Grimmjow[531])==3)
endfunction
function Trig_Geppou_Func020Func007Func001Func003Func014001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A091',udg_Grimmjow[531])==4)
endfunction
function Trig_Geppou_Func020Func007Func001Func003A takes nothing returns nothing
set udg_Grimmjow[532]=GetEnumUnit()
set udg_Pointhero[17]=GetUnitLoc(udg_Grimmjow[532])
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Grimmjow[531]),"Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageDeathCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call SetUnitPositionLoc(udg_Grimmjow[531],PolarProjectionBJ(udg_Pointhero[17],GetRandomReal(10.,50.),GetRandomReal(0,360)))
call RemoveLocation(udg_Pointhero[17])
set udg_Pointhero[17]=null
if(Trig_Geppou_Func020Func007Func001Func003Func008001())then
call PauseUnit(udg_Grimmjow[531],false)
endif
call SetUnitTimeScalePercent(udg_Grimmjow[531],100.)
call SetUnitAnimation(udg_Grimmjow[531],"attack")
if(Trig_Geppou_Func020Func007Func001Func003Func011001())then
call UnitDamageTargetBJ(udg_Grimmjow[531],udg_Grimmjow[532],(1.1*I2R(GetHeroStatBJ(0,udg_Grimmjow[531],true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
endif
if(Trig_Geppou_Func020Func007Func001Func003Func012001())then
call UnitDamageTargetBJ(udg_Grimmjow[531],udg_Grimmjow[532],(1.4*I2R(GetHeroStatBJ(0,udg_Grimmjow[531],true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
endif
if(Trig_Geppou_Func020Func007Func001Func003Func013001())then
call UnitDamageTargetBJ(udg_Grimmjow[531],udg_Grimmjow[532],(1.7*I2R(GetHeroStatBJ(0,udg_Grimmjow[531],true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
endif
if(Trig_Geppou_Func020Func007Func001Func003Func014001())then
call UnitDamageTargetBJ(udg_Grimmjow[531],udg_Grimmjow[532],(2.*I2R(GetHeroStatBJ(0,udg_Grimmjow[531],true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
endif
call AddSpecialEffectTargetUnitBJ("origin",udg_Grimmjow[532],"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set udg_Targets[532]=null
endfunction
function Trig_Geppou_Func020Func007Func001C takes nothing returns boolean
return(Trig_Geppou_Func020Func007Func001Func001C())
endfunction
function Trig_Geppou_Func020Func007Func004001 takes nothing returns boolean
return(IsUnitPaused(udg_Grimmjow[531]))
endfunction
function Trig_Geppou_Func020Func007Func013Func003C takes nothing returns boolean
return(udg_bDuel)and(udg_Grimmjow[531]!=udg_Team1LeaderHero)and(udg_Grimmjow[531]!=udg_Team2LeaderHero)
endfunction
function Trig_Geppou_Func020Func007Func013C takes nothing returns boolean
return(Trig_Geppou_Func020Func007Func013Func003C())
endfunction
function Trig_Geppou_Func020Func007C takes nothing returns boolean
return(CountUnitsInGroup(udg_UnitGroups[7])>0)and(udg_Omnislashing[(1+GetPlayerId(GetOwningPlayer(udg_Grimmjow[531])))])and(IsUnitAliveBJ(udg_Grimmjow[531]))
endfunction
function Trig_Geppou_Func023001 takes nothing returns boolean
return(IsUnitPaused(udg_Grimmjow[531]))
endfunction
function Trig_Geppou_Func032Func003C takes nothing returns boolean
return(udg_bDuel)and(udg_Grimmjow[531]!=udg_Team1LeaderHero)and(udg_Grimmjow[531]!=udg_Team2LeaderHero)
endfunction
function Trig_Geppou_Func032C takes nothing returns boolean
return(Trig_Geppou_Func032Func003C())
endfunction
function Trig_Geppou_Actions takes nothing returns nothing
set udg_Grimmjow[531]=GetTriggerUnit()
set udg_Grimmjow[532]=GetSpellTargetUnit()
set udg_SkillLoops[3]=(8+GetUnitAbilityLevelSwapped('A091',udg_Grimmjow[531]))
set udg_Omnislashing[(1+GetPlayerId(GetOwningPlayer(udg_Grimmjow[531])))]=true
call ResetUnitAnimation(udg_Grimmjow[531])
call SetUnitTimeScalePercent(udg_Grimmjow[531],100.)
call AddSpecialEffectTargetUnitBJ("weapon",udg_Grimmjow[531],"Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile_mini.mdl")
set udg_SpecialEffect[531]=bj_lastCreatedEffect
call TriggerSleepAction(.01)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Grimmjow[531]),"Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageDeathCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call SetUnitPositionLoc(udg_Grimmjow[531],GetUnitLoc(udg_Grimmjow[532]))
call SetUnitAnimation(udg_Grimmjow[531],"attack")
if(Trig_Geppou_Func016001())then
call UnitDamageTargetBJ(udg_Grimmjow[531],udg_Grimmjow[532],(1.1*I2R(GetHeroStatBJ(0,udg_Grimmjow[531],true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
endif
if(Trig_Geppou_Func017001())then
call UnitDamageTargetBJ(udg_Grimmjow[531],udg_Grimmjow[532],(1.4*I2R(GetHeroStatBJ(0,udg_Grimmjow[531],true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
endif
if(Trig_Geppou_Func018001())then
call UnitDamageTargetBJ(udg_Grimmjow[531],udg_Grimmjow[532],(1.7*I2R(GetHeroStatBJ(0,udg_Grimmjow[531],true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
endif
if(Trig_Geppou_Func019001())then
call UnitDamageTargetBJ(udg_Grimmjow[531],udg_Grimmjow[532],(2.*I2R(GetHeroStatBJ(0,udg_Grimmjow[531],true))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
endif
set udg_Z[8]=1
loop
exitwhen udg_Z[8]>udg_SkillLoops[3]
call TriggerSleepAction(.3)
set udg_Pointhero[16]=GetUnitLoc(udg_Grimmjow[531])
set udg_UnitGroups[7]=GetUnitsInRangeOfLocMatching(600.,udg_Pointhero[16],Condition(function Trig_Geppou_Func020Func003002003))
set udg_UnitGroups[8]=GetRandomSubGroup(1,udg_UnitGroups[7])
call RemoveLocation(udg_Pointhero[16])
set udg_Point[16]=null
if(Trig_Geppou_Func020Func007C())then
if(Trig_Geppou_Func020Func007Func001C())then
call ForGroupBJ(udg_UnitGroups[8],function Trig_Geppou_Func020Func007Func001Func003A)
call DestroyGroup(udg_UnitGroups[7])
call DestroyGroup(udg_UnitGroups[8])
set udg_UnitGroups[7]=null
set udg_UnitGroups[8]=null
endif
else
call DestroyEffect(udg_SpecialEffect[531])
call SelectUnitAddForPlayer(udg_Grimmjow[531],GetOwningPlayer(udg_Grimmjow[531]))
if(Trig_Geppou_Func020Func007Func004001())then
call PauseUnit(udg_Grimmjow[531],false)
endif
call SetUnitTimeScalePercent(udg_Grimmjow[531],100.)
call SetUnitVertexColorBJ(udg_Grimmjow[531],'d','d','d',0)
call RemoveLocation(udg_Pointhero[16])
set udg_Pointhero[16]=null
call RemoveLocation(udg_Pointhero[17])
set udg_Pointhero[17]=null
call ResetUnitAnimation(udg_Grimmjow[531])
set udg_Omnislashing[(1+GetPlayerId(GetOwningPlayer(udg_Grimmjow[531])))]=false
if(Trig_Geppou_Func020Func007Func013C())then
call PauseUnit(udg_Grimmjow[531],true)
endif
set udg_Grimmjow[531]=null
set udg_Grimmjow[532]=null
set udg_SkillLoops[3]=0
endif
set udg_Z[8]=udg_Z[8]+1
endloop
call DestroyEffect(udg_SpecialEffect[531])
call SelectUnitAddForPlayer(udg_Grimmjow[531],GetOwningPlayer(udg_Grimmjow[531]))
if(Trig_Geppou_Func023001())then
call PauseUnit(udg_Grimmjow[531],false)
endif
call SetUnitTimeScalePercent(udg_Grimmjow[531],100.)
call SetUnitVertexColorBJ(udg_Grimmjow[531],'d','d','d',0)
call RemoveLocation(udg_Pointhero[16])
set udg_Pointhero[16]=null
call RemoveLocation(udg_Pointhero[17])
set udg_Pointhero[17]=null
call ResetUnitAnimation(udg_Grimmjow[531])
set udg_Omnislashing[(1+GetPlayerId(GetOwningPlayer(udg_Grimmjow[531])))]=false
if(Trig_Geppou_Func032C())then
call PauseUnit(udg_Grimmjow[531],true)
endif
set udg_Grimmjow[531]=null
set udg_Grimmjow[531]=null
set udg_SkillLoops[3]=0
endfunction
function InitTrig_Geppou takes nothing returns nothing
set gg_trg_Geppou=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Geppou,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Geppou,Condition(function Trig_Geppou_Conditions))
call TriggerAddAction(gg_trg_Geppou,function Trig_Geppou_Actions)
endfunction
function Trig_Gai_Senpu_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A092')
endfunction
function Trig_Gai_Senpu_Actions takes nothing returns nothing
call SetUnitAnimation(gg_unit_Hpb2_0015,"spell two")
call EnableTrigger(gg_trg_Gai_Senpu_damage)
call TriggerSleepAction(1.)
call DisableTrigger(gg_trg_Gai_Senpu_damage)
call ResetUnitAnimation(gg_unit_Hpb2_0015)
endfunction
function InitTrig_Gai_Senpu takes nothing returns nothing
set gg_trg_Gai_Senpu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Gai_Senpu,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Gai_Senpu,Condition(function Trig_Gai_Senpu_Conditions))
call TriggerAddAction(gg_trg_Gai_Senpu,function Trig_Gai_Senpu_Actions)
endfunction
function Trig_Gai_Senpu_damage_Conditions takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_Hpb2_0015))
endfunction
function Trig_Gai_Senpu_damage_Actions takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(gg_unit_Hpb2_0015),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endfunction
function InitTrig_Gai_Senpu_damage takes nothing returns nothing
set gg_trg_Gai_Senpu_damage=CreateTrigger()
call DisableTrigger(gg_trg_Gai_Senpu_damage)
call TriggerRegisterTimerEventPeriodic(gg_trg_Gai_Senpu_damage,.28)
call TriggerAddCondition(gg_trg_Gai_Senpu_damage,Condition(function Trig_Gai_Senpu_damage_Conditions))
call TriggerAddAction(gg_trg_Gai_Senpu_damage,function Trig_Gai_Senpu_damage_Actions)
endfunction
function Trig_Gai_bomb_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A094')
endfunction
function Trig_Gai_bomb_Actions takes nothing returns nothing
set udg_gai[4]=GetSpellAbilityUnit()
set udg_Points[470]=GetUnitLoc(udg_gai[4])
set udg_Points[471]=GetSpellTargetLoc()
set udg_Omnislashing[(1+GetPlayerId(GetOwningPlayer(udg_gai[4])))]=true
call PauseUnit(udg_gai[4],true)
call SetUnitInvulnerable(udg_gai[4],true)
call TriggerSleepAction(.01)
call ShowUnitHide(udg_gai[4])
call CreateNUnitsAtLocFacingLocBJ(1,'h04M',GetOwningPlayer(udg_gai[4]),udg_Points[470],udg_Points[471])
set udg_gai[5]=bj_lastCreatedUnit
call PauseUnit(udg_gai[5],true)
call SetUnitAnimation(udg_gai[5],"spell throw")
call SetUnitTimeScalePercent(udg_gai[5],60.)
call SetUnitFlyHeight(udg_gai[5],500.,2000.)
call AddSpecialEffectTargetUnitBJ("right hand",udg_gai[5],"Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile_mini.mdl")
set udg_SEffect[$31E5]=bj_lastCreatedEffect
call SetUnitInvulnerable(udg_gai[5],true)
call EnableTrigger(gg_trg_Gai_bomb_damage)
call TriggerSleepAction(.6)
call SetUnitFlyHeight(udg_gai[5],.0,5000.)
call TriggerSleepAction(.1)
call DisableTrigger(gg_trg_Gai_bomb_damage)
call DestroyEffect(udg_SEffect[$31E5])
call ShowUnitShow(udg_gai[4])
call SetUnitPositionLocFacingBJ(udg_gai[4],GetUnitLoc(udg_gai[5]),AngleBetweenPoints(udg_Points[470],udg_Points[471]))
call RemoveUnit(udg_gai[5])
call SetUnitInvulnerable(udg_gai[4],false)
call PauseUnit(udg_gai[4],false)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_gai[4]),"war3mapImported\\explosion.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_gai[4]),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(udg_gai[5]),GetUnitLoc(udg_gai[5]),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.05,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'A06R')
call SetUnitAbilityLevelSwapped('A06R',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A094',udg_gai[4]))
call IssueImmediateOrderById(bj_lastCreatedUnit,$D0080)
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(udg_gai[5]),GetUnitLoc(udg_gai[5]),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.05,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'A097')
call IssueImmediateOrderById(bj_lastCreatedUnit,$D009F)
call SetUnitTimeScalePercent(udg_gai[4],100.)
call SelectUnitForPlayerSingle(udg_gai[4],GetOwningPlayer(udg_gai[4]))
set udg_gai[4]=null
set udg_gai[5]=null
call RemoveLocation(udg_Points[470])
set udg_Points[470]=null
call RemoveLocation(udg_Points[471])
set udg_Points[471]=null
set udg_Omnislashing[(1+GetPlayerId(GetOwningPlayer(udg_gai[4])))]=false
endfunction
function InitTrig_Gai_bomb takes nothing returns nothing
set gg_trg_Gai_bomb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Gai_bomb,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Gai_bomb,Condition(function Trig_Gai_bomb_Conditions))
call TriggerAddAction(gg_trg_Gai_bomb,function Trig_Gai_bomb_Actions)
endfunction
function Trig_Gai_bomb_damage_Conditions takes nothing returns boolean
return(IsUnitAliveBJ(udg_gai[4]))
endfunction
function Trig_Gai_bomb_damage_Func002Func010001 takes nothing returns boolean
return(udg_bDuel==false)
endfunction
function Trig_Gai_bomb_damage_Func002C takes nothing returns boolean
return(udg_Omnislashing[(1+GetPlayerId(GetOwningPlayer(udg_gai[4])))])
endfunction
function Trig_Gai_bomb_damage_Actions takes nothing returns nothing
if(Trig_Gai_bomb_damage_Func002C())then
set udg_Points[472]=GetUnitLoc(udg_gai[5])
set udg_Points[473]=PolarProjectionBJ(udg_Points[472],(DistanceBetweenPoints(udg_Points[470],udg_Points[471])/50.),GetUnitFacing(udg_gai[5]))
call RemoveLocation(udg_Points[472])
set udg_Points[472]=null
call SetUnitPositionLoc(udg_gai[5],udg_Points[473])
call RemoveLocation(udg_Points[473])
set udg_Points[473]=null
else
call DisableTrigger(GetTriggeringTrigger())
call ShowUnitShow(udg_gai[4])
call SetUnitPositionLocFacingBJ(udg_gai[4],GetUnitLoc(udg_gai[5]),AngleBetweenPoints(udg_Points[470],udg_Points[471]))
call SetUnitInvulnerable(udg_gai[4],false)
call RemoveUnit(udg_gai[5])
call PauseUnit(udg_gai[4],false)
call SetUnitTimeScalePercent(udg_gai[4],100.)
call SetUnitInvulnerable(udg_gai[4],false)
call SelectUnitForPlayerSingle(udg_gai[4],GetOwningPlayer(udg_gai[4]))
if(Trig_Gai_bomb_damage_Func002Func010001())then
call PanCameraToTimedLocForPlayer(GetOwningPlayer(udg_gai[4]),GetUnitLoc(udg_gai[4]),.0)
endif
set udg_gai[4]=null
set udg_gai[5]=null
call RemoveLocation(udg_Points[470])
set udg_Points[470]=null
call RemoveLocation(udg_Points[471])
set udg_Points[471]=null
set udg_Omnislashing[(1+GetPlayerId(GetOwningPlayer(udg_gai[4])))]=false
endif
endfunction
function InitTrig_Gai_bomb_damage takes nothing returns nothing
set gg_trg_Gai_bomb_damage=CreateTrigger()
call DisableTrigger(gg_trg_Gai_bomb_damage)
call TriggerRegisterTimerEventPeriodic(gg_trg_Gai_bomb_damage,.02)
call TriggerAddCondition(gg_trg_Gai_bomb_damage,Condition(function Trig_Gai_bomb_damage_Conditions))
call TriggerAddAction(gg_trg_Gai_bomb_damage,function Trig_Gai_bomb_damage_Actions)
endfunction
function B_A takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
if(GetUnitAbilityLevel(a,'B00R')>0)then
call SetUnitState(a,UNIT_STATE_MANA,GetUnitState(a,UNIT_STATE_MANA)-5.)
else
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTrigger(t)
set a=null
set t=null
endif
if GetUnitState(a,UNIT_STATE_MANA)<=41 or GetUnitState(a,UNIT_STATE_LIFE)<=$A then
call UnitRemoveAbility(a,'A055')
call UnitRemoveAbility(a,'B00R')
call UnitRemoveAbility(a,'A056')
call UnitRemoveAbility(a,'A057')
call UnitRemoveAbility(a,'A01L')
call SetPlayerAbilityAvailable(GetOwningPlayer(a),'A054',true)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTrigger(t)
set a=null
set t=null
endif
set t=null
set a=null
endfunction
function Bykugan_S takes nothing returns nothing
local unit cjlocgn_00000000
local trigger cjlocgn_00000001
if GetSpellAbilityId()=='A054' then
set cjlocgn_00000000=GetSpellAbilityUnit()
set cjlocgn_00000001=CreateTrigger()
call SaveUnitHandle(hash,GetHandleId(cjlocgn_00000001),1,cjlocgn_00000000)
call TriggerRegisterTimerEvent(cjlocgn_00000001,1,true)
call TriggerAddAction(cjlocgn_00000001,function B_A)
call SetPlayerAbilityAvailable(GetOwningPlayer(cjlocgn_00000000),'A054',false)
call UnitAddAbility(cjlocgn_00000000,'A057')
call UnitAddAbility(cjlocgn_00000000,'A01L')
call UnitAddAbility(cjlocgn_00000000,'A056')
call UnitAddAbility(cjlocgn_00000000,'A055')
call UnitAddAbility(cjlocgn_00000000,'B00R')
set cjlocgn_00000001=null
set cjlocgn_00000000=null
endif
if GetSpellAbilityId()=='A01L' then
set cjlocgn_00000000=GetSpellAbilityUnit()
call UnitRemoveAbility(cjlocgn_00000000,'A055')
call UnitRemoveAbility(cjlocgn_00000000,'B00R')
call UnitRemoveAbility(cjlocgn_00000000,'A056')
call UnitRemoveAbility(cjlocgn_00000000,'A057')
call UnitRemoveAbility(cjlocgn_00000000,'A01L')
call SetPlayerAbilityAvailable(GetOwningPlayer(cjlocgn_00000000),'A054',true)
set cjlocgn_00000000=null
endif
endfunction
function InitTrig_Bykugan takes nothing returns nothing
local trigger B=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(B,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==$E
endloop
call TriggerAddAction(B,function Bykugan_S)
set B=null
endfunction
function BA_C takes nothing returns boolean
return(GetUnitAbilityLevel(GetAttacker(),'B00R')>0)
endfunction
function BA_A takes nothing returns nothing
local unit a=GetAttacker()
local unit b=GetTriggerUnit()
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl",GetUnitX(b),GetUnitY(b)))
call SetUnitState(b,UNIT_STATE_MANA,GetUnitState(b,UNIT_STATE_MANA)-50.)
set a=null
set b=null
endfunction
function InitTrig_BykuganAttack takes nothing returns nothing
local trigger BA=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(BA,Player(index),EVENT_PLAYER_UNIT_ATTACKED,null)
set index=index+1
exitwhen index==$E
endloop
call TriggerAddCondition(BA,Condition(function BA_C))
call TriggerAddAction(BA,function BA_A)
set BA=null
endfunction
function Air_Act takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
local unit b=LoadUnitHandle(hash,GetHandleId(t),2)
local real dmg=LoadReal(hash,GetHandleId(t),3)
local group g
local unit n
call SetUnitPosition(b,GetUnitX(b)+$A*Cos(GetUnitFacing(b)*bj_DEGTORAD),GetUnitY(b)+$A*Sin(GetUnitFacing(b)*bj_DEGTORAD))
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(a),'h02N',GetUnitX(b),GetUnitY(b),GetUnitFacing(b)),'BTLF',1.2)
set g=CreateGroup()
call GroupEnumUnitsInRange(g,GetUnitX(b),GetUnitY(b),$A5,null)
loop
set n=FirstOfGroup(g)
exitwhen n==null
if IsUnitEnemy(n,GetOwningPlayer(a)) and GetUnitState(n,UNIT_STATE_LIFE)>0 then
call UnitDamageTarget(a,n,dmg,false,false,null,null,null)
call SetUnitPosition(n,GetUnitX(n)+5*Cos(GetUnitFacing(b)*bj_DEGTORAD),GetUnitY(n)+5*Sin(GetUnitFacing(b)*bj_DEGTORAD))
endif
call GroupRemoveUnit(g,n)
endloop
call DestroyGroup(g)
set a=null
set b=null
set n=null
set g=null
set t=null
endfunction
function AirFist_A takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local real d
local unit b
local real dmg
local timer t
call SetUnitAnimation(a,"stand")
set d=bj_RADTODEG*Atan2(GetSpellTargetY()-GetUnitY(a),GetSpellTargetX()-GetUnitX(a))
call PauseUnit(a,true)
call SetUnitAnimation(a,"spell two")
call TriggerSleepAction(.1)
set b=CreateUnit(GetOwningPlayer(a),'h02O',GetUnitX(a),GetUnitY(a),d)
call PauseUnit(a,false)
if(GetUnitAbilityLevel(a,'A04P')==1)then
set dmg=$A+GetHeroAgi(a,false)*2
elseif(GetUnitAbilityLevel(a,'A04P')==2)then
set dmg=20+GetHeroAgi(a,false)*2
elseif(GetUnitAbilityLevel(a,'A04P')==3)then
set dmg=30+GetHeroAgi(a,false)*2
elseif(GetUnitAbilityLevel(a,'A04P')==4)then
set dmg=40+GetHeroAgi(a,false)*2
endif
set t=CreateTimer()
call SaveUnitHandle(hash,GetHandleId(t),1,a)
call SaveUnitHandle(hash,GetHandleId(t),2,b)
call SaveReal(hash,GetHandleId(t),3,dmg)
call TimerStart(t,.02,true,function Air_Act)
call TriggerSleepAction(2)
call PauseTimer(t)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
call RemoveUnit(b)
set a=null
set b=null
set t=null
set d=0
endfunction
function AirFist_C takes nothing returns boolean
return GetSpellAbilityId()=='A04P'
endfunction
function InitTrig_AirFist takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function AirFist_C))
call TriggerAddAction(t,function AirFist_A)
set t=null
endfunction
function K_Ac takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
local real dmg=LoadReal(hash,GetHandleId(t),2)
local group cjlocgn_00000000
local unit cjlocgn_00000001
if GetUnitState(a,UNIT_STATE_LIFE)>0 then
set cjlocgn_00000000=CreateGroup()
call GroupEnumUnitsInRange(cjlocgn_00000000,GetUnitX(a),GetUnitY(a),265,null)
loop
set cjlocgn_00000001=FirstOfGroup(cjlocgn_00000000)
exitwhen cjlocgn_00000001==null
if IsUnitType(cjlocgn_00000001,UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(cjlocgn_00000001,GetOwningPlayer(a)) and GetUnitState(cjlocgn_00000001,UNIT_STATE_LIFE)>0 then
call UnitDamageTarget(a,cjlocgn_00000001,dmg,false,false,null,null,null)
call SetUnitPosition(cjlocgn_00000001,GetUnitX(cjlocgn_00000001)-30*Cos(GetUnitFacing(cjlocgn_00000001)*bj_DEGTORAD),GetUnitY(cjlocgn_00000001)-30*Sin(GetUnitFacing(cjlocgn_00000001)*bj_DEGTORAD))
endif
call GroupRemoveUnit(cjlocgn_00000000,cjlocgn_00000001)
endloop
call DestroyGroup(cjlocgn_00000000)
set a=null
set cjlocgn_00000001=null
set cjlocgn_00000000=null
set t=null
else
call PauseTimer(t)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
endif
set a=null
set t=null
endfunction
function Kaiten_A takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local unit b=CreateUnit(Player($F),'h001',GetUnitX(a),GetUnitY(a),0)
local real dmg
local timer t
call PauseUnit(a,true)
call SetUnitAnimation(a,"stand")
call TriggerSleepAction(.1)
call UnitAddAbility(a,'A04Q')
call SetUnitTimeScale(a,'d'*.01)
call SetUnitAnimation(a,"spell Spin")
if(GetUnitAbilityLevel(a,'A04R')==1)then
set dmg=12.5+GetHeroAgi(a,false)
elseif(GetUnitAbilityLevel(a,'A04R')==2)then
set dmg=17.5+GetHeroAgi(a,false)
elseif(GetUnitAbilityLevel(a,'A04R')==3)then
set dmg=22.5+GetHeroAgi(a,false)
elseif(GetUnitAbilityLevel(a,'A04R')==4)then
set dmg=27.5+GetHeroAgi(a,false)
endif
set t=CreateTimer()
call SaveUnitHandle(hash,GetHandleId(t),1,a)
call SaveReal(hash,GetHandleId(t),2,dmg)
call TimerStart(t,.3,true,function K_Ac)
call TriggerSleepAction(3)
call UnitRemoveAbility(a,'A04Q')
call SetUnitTimeScale(a,$C8*.01)
call PauseUnit(a,false)
call RemoveUnit(b)
call PauseTimer(t)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
set a=null
set b=null
set t=null
endfunction
function Kaiten_C takes nothing returns boolean
return GetSpellAbilityId()=='A04R'
endfunction
function InitTrig_Kaiten takes nothing returns nothing
local trigger K=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(K,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(K,Condition(function Kaiten_C))
call TriggerAddAction(K,function Kaiten_A)
set K=null
endfunction
function L_Act takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
local real x=LoadReal(hash,GetHandleId(t),2)
local real y=LoadReal(hash,GetHandleId(t),3)
local real dmg=LoadReal(hash,GetHandleId(t),4)
local group cjlocgn_00000000
local unit cjlocgn_00000001
if GetUnitState(a,UNIT_STATE_LIFE)>0 then
set cjlocgn_00000000=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(cjlocgn_00000000,Location(x,y),$96,null)
loop
set cjlocgn_00000001=FirstOfGroup(cjlocgn_00000000)
exitwhen cjlocgn_00000001==null
if IsUnitEnemy(cjlocgn_00000001,GetOwningPlayer(a)) and GetUnitState(cjlocgn_00000001,UNIT_STATE_LIFE)>0 then
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(a),'h02U',GetUnitX(cjlocgn_00000001)-'d'*Cos(GetUnitFacing(cjlocgn_00000001)*bj_DEGTORAD),GetUnitY(cjlocgn_00000001)-'d'*Sin(GetUnitFacing(cjlocgn_00000001)*bj_DEGTORAD),GetUnitFacing(cjlocgn_00000001)),'BTLF',1.2)
call UnitDamageTarget(a,cjlocgn_00000001,dmg,true,false,null,null,null)
call SetUnitState(cjlocgn_00000001,UNIT_STATE_MANA,GetUnitState(cjlocgn_00000001,UNIT_STATE_MANA)-500.)
endif
call GroupRemoveUnit(cjlocgn_00000000,cjlocgn_00000001)
endloop
call DestroyGroup(cjlocgn_00000000)
set a=null
set cjlocgn_00000001=null
set cjlocgn_00000000=null
set x=0
set y=0
set t=null
else
call PauseTimer(t)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
call PauseUnit(a,false)
endif
set a=null
set x=0
set y=0
set t=null
endfunction
function Ladon_A takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local real dmg
local timer t
call PauseUnit(a,true)
call SetUnitAnimation(a,"spell two")
if(GetUnitAbilityLevel(a,'A04Z')==1)then
set dmg=75+GetHeroAgi(a,false)*.1
elseif(GetUnitAbilityLevel(a,'A04Z')==2)then
set dmg='d'+GetHeroAgi(a,false)*.25
elseif(GetUnitAbilityLevel(a,'A04Z')==3)then
set dmg='}'+GetHeroAgi(a,false)*.5
elseif(GetUnitAbilityLevel(a,'A04Z')==4)then
set dmg=$96+GetHeroAgi(a,false)*1
endif
call TriggerSleepAction(.5)
set t=CreateTimer()
call SaveUnitHandle(hash,GetHandleId(t),1,a)
call SaveReal(hash,GetHandleId(t),2,x)
call SaveReal(hash,GetHandleId(t),3,y)
call SaveReal(hash,GetHandleId(t),4,dmg)
call TimerStart(t,.5,false,function L_Act)
call TriggerSleepAction(1)
call PauseTimer(t)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
call PauseUnit(a,false)
set a=null
set x=0
set y=0
set t=null
endfunction
function Ladon_C takes nothing returns boolean
return GetSpellAbilityId()=='A04Z'
endfunction
function InitTrig_Ladon takes nothing returns nothing
local trigger L=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(L,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(L,Condition(function Ladon_C))
call TriggerAddAction(L,function Ladon_A)
set L=null
endfunction
function Udar_Ac takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
local unit b=LoadUnitHandle(hash,GetHandleId(t),2)
if GetUnitState(a,UNIT_STATE_LIFE)>0 and GetUnitState(b,UNIT_STATE_LIFE)>0 then
call SetUnitPosition(b,GetUnitX(b)-$F*Cos(GetUnitFacing(b)*bj_DEGTORAD),GetUnitY(b)-$F*Sin(GetUnitFacing(b)*bj_DEGTORAD))
else
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
endif
set b=null
set a=null
set t=null
endfunction
function Sixtyfour_A takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local unit b=GetSpellTargetUnit()
local real d=bj_RADTODEG*Atan2(GetUnitY(b)-GetUnitY(a),GetUnitX(b)-GetUnitX(a))
local real d1=bj_RADTODEG*Atan2(GetUnitY(a)-GetUnitY(b),GetUnitX(a)-GetUnitX(b))
local real dmg
local unit s
local texttag tt1
local real textHeight1=$C*.023/$A
local texttag tt2
local real textHeight2=$C*.023/$A
local texttag tt3
local real textHeight3=$C*.023/$A
local texttag tt4
local real textHeight4=$C*.023/$A
local texttag tt5
local real textHeight5=$C*.023/$A
local texttag tt6
local real textHeight6=$C*.023/$A
local timer t
call PauseUnit(a,true)
call PauseUnit(b,true)
call SetUnitFacing(a,d)
call SetUnitFacing(b,d1)
call SetUnitAnimation(a,"stand")
call SetUnitAnimation(b,"stand")
call TriggerSleepAction(.2)
call SetUnitPosition(a,GetUnitX(b)+'d'*Cos(GetUnitFacing(b)*bj_DEGTORAD),GetUnitY(b)+'d'*Sin(GetUnitFacing(b)*bj_DEGTORAD))
set s=CreateUnit(GetOwningPlayer(a),'h02P',GetUnitX(a),GetUnitY(a),GetUnitFacing(a))
call SetUnitAnimation(a,"stand ready")
if(GetUnitAbilityLevel(a,'A04S')==1)then
set dmg=$3E8+GetHeroAgi(a,false)*.5
elseif(GetUnitAbilityLevel(a,'A04S')==2)then
set dmg=$4E2+GetHeroAgi(a,false)*1
elseif(GetUnitAbilityLevel(a,'A04S')==3)then
set dmg=$5DC+GetHeroAgi(a,false)*1.5
endif
call TriggerSleepAction(.4)
call SetUnitTimeScale(a,'x'*.01)
call SetUnitAnimation(a,"attack 2")
call SetUnitState(b,UNIT_STATE_MANA,GetUnitState(b,UNIT_STATE_MANA)-25.)
set tt1=CreateTextTag()
call SetTextTagText(tt1,"2 Косания",textHeight1)
call SetTextTagPosUnit(tt1,a,0)
call SetTextTagColor(tt1,R2I('d'*I2R($FF)*.01),R2I('d'*I2R($FF)*.01),R2I('d'*I2R($FF)*.01),0)
call TriggerSleepAction(.6)
call DestroyTextTag(tt1)
call SetUnitTimeScale(a,$8C*.01)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.3)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.3)
call SetUnitAnimation(a,"attack 2")
call SetUnitState(b,UNIT_STATE_MANA,GetUnitState(b,UNIT_STATE_MANA)-50.)
set tt2=CreateTextTag()
call SetTextTagText(tt2,"4 Косания",textHeight2)
call SetTextTagPosUnit(tt2,a,0)
call SetTextTagColor(tt2,R2I('d'*I2R($FF)*.01),R2I('d'*I2R($FF)*.01),R2I('d'*I2R($FF)*.01),0)
call TriggerSleepAction(.8)
call DestroyTextTag(tt2)
call SetUnitTimeScale(a,$A0*.01)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.2)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.2)
call SetUnitAnimation(a,"attack 2")
call SetUnitState(b,UNIT_STATE_MANA,GetUnitState(b,UNIT_STATE_MANA)-75.)
set tt3=CreateTextTag()
call SetTextTagText(tt3,"8 Косаний",textHeight3)
call SetTextTagPosUnit(tt3,a,0)
call SetTextTagColor(tt3,R2I('d'*I2R($FF)*.01),R2I('d'*I2R($FF)*.01),R2I('d'*I2R($FF)*.01),0)
call TriggerSleepAction(1)
call DestroyTextTag(tt3)
call SetUnitTimeScale(a,$B4*.01)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call SetUnitState(b,UNIT_STATE_MANA,GetUnitState(b,UNIT_STATE_MANA)-100.)
set tt4=CreateTextTag()
call SetTextTagText(tt4,"16 Косаний",textHeight4)
call SetTextTagPosUnit(tt4,a,0)
call SetTextTagColor(tt4,R2I('d'*I2R($FF)*.01),R2I('d'*I2R($FF)*.01),R2I('d'*I2R($FF)*.01),0)
call TriggerSleepAction(1)
call DestroyTextTag(tt4)
call SetUnitTimeScale(a,$C8*.01)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call SetUnitState(b,UNIT_STATE_MANA,GetUnitState(b,UNIT_STATE_MANA)-125.)
set tt5=CreateTextTag()
call SetTextTagText(tt5,"32 Косания",textHeight5)
call SetTextTagPosUnit(tt5,a,0)
call SetTextTagColor(tt5,R2I('d'*I2R($FF)*.01),R2I('d'*I2R($FF)*.01),R2I('d'*I2R($FF)*.01),0)
call TriggerSleepAction(1)
call DestroyTextTag(tt5)
call SetUnitTimeScale(a,$DC*.01)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call UnitDamageTarget(a,b,dmg,true,false,null,null,null)
call SetUnitState(b,UNIT_STATE_MANA,GetUnitState(b,UNIT_STATE_MANA)-150.)
set tt6=CreateTextTag()
call SetTextTagText(tt6,"64 Косания",textHeight6)
call SetTextTagPosUnit(tt6,a,0)
call SetTextTagColor(tt6,R2I('d'*I2R($FF)*.01),R2I('d'*I2R($FF)*.01),R2I('d'*I2R($FF)*.01),0)
call TriggerSleepAction(.7)
call DestroyTextTag(tt6)
call RemoveUnit(s)
call PauseUnit(a,false)
call SetUnitTimeScale(a,'d'*.01)
set t=CreateTimer()
call SaveUnitHandle(hash,GetHandleId(t),1,a)
call SaveUnitHandle(hash,GetHandleId(t),2,b)
call TimerStart(t,.02,true,function Udar_Ac)
call TriggerSleepAction(.3)
call PauseUnit(b,false)
call PauseTimer(t)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
set a=null
set d=0
set d1=0
set s=null
set t=null
set tt1=null
set tt2=null
set tt3=null
set tt4=null
set tt5=null
set tt6=null
set textHeight1=0
set textHeight2=0
set textHeight3=0
set textHeight4=0
set textHeight5=0
set textHeight6=0
set b=null
endfunction
function Sixtyfour_C takes nothing returns boolean
return GetSpellAbilityId()=='A04S'
endfunction
function InitTrig_Sixtyfour takes nothing returns nothing
local trigger Ud=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(Ud,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(Ud,Condition(function Sixtyfour_C))
call TriggerAddAction(Ud,function Sixtyfour_A)
set Ud=null
endfunction
function Udar2_Ac takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
local unit b=LoadUnitHandle(hash,GetHandleId(t),2)
if GetUnitState(a,UNIT_STATE_LIFE)>0 and GetUnitState(b,UNIT_STATE_LIFE)>0 then
call SetUnitPosition(b,GetUnitX(b)-$F*Cos(GetUnitFacing(b)*bj_DEGTORAD),GetUnitY(b)-$F*Sin(GetUnitFacing(b)*bj_DEGTORAD))
else
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
endif
set b=null
set a=null
set t=null
endfunction
function Sixtyfour2_A takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local unit b=GetSpellTargetUnit()
local real d=bj_RADTODEG*Atan2(GetUnitY(b)-GetUnitY(a),GetUnitX(b)-GetUnitX(a))
local real d1=bj_RADTODEG*Atan2(GetUnitY(a)-GetUnitY(b),GetUnitX(a)-GetUnitX(b))
local real dmg
local unit s
local texttag tt1
local real textHeight1=$C*.023/$A
local texttag tt2
local real textHeight2=$C*.023/$A
local texttag tt3
local real textHeight3=$C*.023/$A
local texttag tt4
local real textHeight4=$C*.023/$A
local texttag tt5
local real textHeight5=$C*.023/$A
local texttag tt6
local real textHeight6=$C*.023/$A
local texttag tt7
local real textHeight7=$C*.023/$A
local timer t
call PauseUnit(a,true)
call PauseUnit(b,true)
call SetUnitFacing(a,d)
call SetUnitFacing(b,d1)
call SetUnitAnimation(a,"stand")
call SetUnitAnimation(b,"stand")
call TriggerSleepAction(.2)
call SetUnitPosition(a,GetUnitX(b)+'d'*Cos(GetUnitFacing(b)*bj_DEGTORAD),GetUnitY(b)+'d'*Sin(GetUnitFacing(b)*bj_DEGTORAD))
set s=CreateUnit(GetOwningPlayer(a),'h02P',GetUnitX(a),GetUnitY(a),GetUnitFacing(a))
call SetUnitAnimation(a,"spell two")
if(GetUnitAbilityLevel(a,'A053')==1)then
set dmg=$7D0+GetHeroAgi(a,false)*2
endif
call TriggerSleepAction(.4)
call SetUnitTimeScale(a,'x'*.01)
call SetUnitAnimation(a,"attack 2")
call SetUnitState(b,UNIT_STATE_MANA,GetUnitState(b,UNIT_STATE_MANA)-25.)
set tt1=CreateTextTag()
call SetTextTagText(tt1,"2 Косания",textHeight1)
call SetTextTagPosUnit(tt1,a,0)
call SetTextTagColor(tt1,R2I('d'*I2R($FF)*.01),R2I('d'*I2R($FF)*.01),R2I('d'*I2R($FF)*.01),0)
call TriggerSleepAction(.6)
call DestroyTextTag(tt1)
call SetUnitTimeScale(a,$8C*.01)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.3)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.3)
call SetUnitAnimation(a,"attack 2")
call SetUnitState(b,UNIT_STATE_MANA,GetUnitState(b,UNIT_STATE_MANA)-50.)
set tt2=CreateTextTag()
call SetTextTagText(tt2,"4 Косания",textHeight2)
call SetTextTagPosUnit(tt2,a,0)
call SetTextTagColor(tt2,R2I('d'*I2R($FF)*.01),R2I('d'*I2R($FF)*.01),R2I('d'*I2R($FF)*.01),0)
call TriggerSleepAction(.8)
call DestroyTextTag(tt2)
call SetUnitTimeScale(a,$A0*.01)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.2)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.2)
call SetUnitAnimation(a,"attack 2")
call SetUnitState(b,UNIT_STATE_MANA,GetUnitState(b,UNIT_STATE_MANA)-75.)
set tt3=CreateTextTag()
call SetTextTagText(tt3,"8 Косаний",textHeight3)
call SetTextTagPosUnit(tt3,a,0)
call SetTextTagColor(tt3,R2I('d'*I2R($FF)*.01),R2I('d'*I2R($FF)*.01),R2I('d'*I2R($FF)*.01),0)
call TriggerSleepAction(1)
call DestroyTextTag(tt3)
call SetUnitTimeScale(a,$B4*.01)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call SetUnitState(b,UNIT_STATE_MANA,GetUnitState(b,UNIT_STATE_MANA)-100.)
set tt4=CreateTextTag()
call SetTextTagText(tt4,"16 Косаний",textHeight4)
call SetTextTagPosUnit(tt4,a,0)
call SetTextTagColor(tt4,R2I('d'*I2R($FF)*.01),R2I('d'*I2R($FF)*.01),R2I('d'*I2R($FF)*.01),0)
call TriggerSleepAction(1)
call DestroyTextTag(tt4)
call SetUnitTimeScale(a,$C8*.01)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call SetUnitState(b,UNIT_STATE_MANA,GetUnitState(b,UNIT_STATE_MANA)-125.)
set tt5=CreateTextTag()
call SetTextTagText(tt5,"32 Косания",textHeight5)
call SetTextTagPosUnit(tt5,a,0)
call SetTextTagColor(tt5,R2I('d'*I2R($FF)*.01),R2I('d'*I2R($FF)*.01),R2I('d'*I2R($FF)*.01),0)
call TriggerSleepAction(1)
call DestroyTextTag(tt5)
call SetUnitTimeScale(a,$DC*.01)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call UnitDamageTarget(a,b,dmg,false,false,null,null,null)
call SetUnitState(b,UNIT_STATE_MANA,GetUnitState(b,UNIT_STATE_MANA)-150.)
set tt6=CreateTextTag()
call SetTextTagText(tt6,"64 Косания",textHeight6)
call SetTextTagPosUnit(tt6,a,0)
call SetTextTagColor(tt6,R2I('d'*I2R($FF)*.01),R2I('d'*I2R($FF)*.01),R2I('d'*I2R($FF)*.01),0)
call TriggerSleepAction(1)
call DestroyTextTag(tt6)
call SetUnitTimeScale(a,$DC*.01)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call TriggerSleepAction(.1)
call SetUnitAnimation(a,"attack 2")
call UnitDamageTarget(a,b,dmg,true,false,null,null,null)
call SetUnitState(b,UNIT_STATE_MANA,GetUnitState(b,UNIT_STATE_MANA)-150.)
set tt7=CreateTextTag()
call SetTextTagText(tt7,"128 Косания",textHeight7)
call SetTextTagPosUnit(tt7,a,0)
call SetTextTagColor(tt7,R2I('d'*I2R($FF)*.01),R2I('d'*I2R($FF)*.01),R2I('d'*I2R($FF)*.01),0)
call TriggerSleepAction(.7)
call DestroyTextTag(tt7)
call RemoveUnit(s)
call PauseUnit(a,false)
call SetUnitTimeScale(a,'d'*.01)
set t=CreateTimer()
call SaveUnitHandle(hash,GetHandleId(t),1,a)
call SaveUnitHandle(hash,GetHandleId(t),2,b)
call TimerStart(t,.02,true,function Udar2_Ac)
call TriggerSleepAction(.3)
call PauseUnit(b,false)
call PauseTimer(t)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
set a=null
set d=0
set d1=0
set s=null
set t=null
set tt1=null
set tt2=null
set tt3=null
set tt4=null
set tt5=null
set tt6=null
set tt7=null
set textHeight1=0
set textHeight2=0
set textHeight3=0
set textHeight4=0
set textHeight5=0
set textHeight6=0
set textHeight7=0
set b=null
endfunction
function Sixtyfour2_C takes nothing returns boolean
return GetSpellAbilityId()=='A053'
endfunction
function InitTrig_Sixtyfour_2 takes nothing returns nothing
local trigger Ud=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(Ud,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(Ud,Condition(function Sixtyfour2_C))
call TriggerAddAction(Ud,function Sixtyfour2_A)
set Ud=null
endfunction
function CleanerN_C takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())=='h02N' or GetUnitTypeId(GetDyingUnit())=='h02O' or GetUnitTypeId(GetDyingUnit())=='h02U'
endfunction
function CleanerN_A takes nothing returns nothing
local unit d=GetDyingUnit()
call TriggerSleepAction(1)
call RemoveUnit(d)
set d=null
endfunction
function InitTrig_CleanerN takes nothing returns nothing
local trigger Cl=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(Cl,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(Cl,Condition(function CleanerN_C))
call TriggerAddAction(Cl,function CleanerN_A)
set Cl=null
endfunction
function Trig_Dummy_Func002C takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='h05P')or(GetUnitTypeId(GetDyingUnit())=='h05Q')
endfunction
function Trig_Dummy_Conditions takes nothing returns boolean
return(Trig_Dummy_Func002C())
endfunction
function Trig_Dummy_Actions takes nothing returns nothing
call RemoveUnit(GetDyingUnit())
endfunction
function InitTrig_Dummy takes nothing returns nothing
set gg_trg_Dummy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Dummy,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Dummy,Condition(function Trig_Dummy_Conditions))
call TriggerAddAction(gg_trg_Dummy,function Trig_Dummy_Actions)
endfunction
function Trig_Lee_Senpu_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A093')
endfunction
function Trig_Lee_Senpu_Actions takes nothing returns nothing
call EnableTrigger(gg_trg_Lee_Senpu_damage)
call TriggerSleepAction(1.)
call DisableTrigger(gg_trg_Lee_Senpu_damage)
endfunction
function InitTrig_Lee_Senpu takes nothing returns nothing
set gg_trg_Lee_Senpu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Lee_Senpu,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Lee_Senpu,Condition(function Trig_Lee_Senpu_Conditions))
call TriggerAddAction(gg_trg_Lee_Senpu,function Trig_Lee_Senpu_Actions)
endfunction
function Trig_Lee_Senpu_damage_Conditions takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_Obla_0014))
endfunction
function Trig_Lee_Senpu_damage_Actions takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(gg_unit_Obla_0014),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endfunction
function InitTrig_Lee_Senpu_damage takes nothing returns nothing
set gg_trg_Lee_Senpu_damage=CreateTrigger()
call DisableTrigger(gg_trg_Lee_Senpu_damage)
call TriggerRegisterTimerEventPeriodic(gg_trg_Lee_Senpu_damage,.28)
call TriggerAddCondition(gg_trg_Lee_Senpu_damage,Condition(function Trig_Lee_Senpu_damage_Conditions))
call TriggerAddAction(gg_trg_Lee_Senpu_damage,function Trig_Lee_Senpu_damage_Actions)
endfunction
function Trig_Front_Lotus_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A0C3')
endfunction
function Trig_Front_Lotus_Func009001 takes nothing returns boolean
return(udg_FL_I==1)
endfunction
function Trig_Front_Lotus_Func013001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0C3',udg_FL_U[0])==1)
endfunction
function Trig_Front_Lotus_Func014001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0C3',udg_FL_U[0])==2)
endfunction
function Trig_Front_Lotus_Func015001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0C3',udg_FL_U[0])==3)
endfunction
function Trig_Front_Lotus_Func016001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0C3',udg_FL_U[0])==4)
endfunction
function Trig_Front_Lotus_Func031002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_Front_Lotus_Func031002003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_FL_U[0])))
endfunction
function Trig_Front_Lotus_Func031002003 takes nothing returns boolean
return GetBooleanAnd(Trig_Front_Lotus_Func031002003001(),Trig_Front_Lotus_Func031002003002())
endfunction
function Trig_Front_Lotus_Func032Func004001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0C3',udg_FL_U[0])==1)
endfunction
function Trig_Front_Lotus_Func032Func005001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0C3',udg_FL_U[0])==2)
endfunction
function Trig_Front_Lotus_Func032Func006001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0C3',udg_FL_U[0])==3)
endfunction
function Trig_Front_Lotus_Func032Func007001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0C3',udg_FL_U[0])==4)
endfunction
function Trig_Front_Lotus_Func032A takes nothing returns nothing
set udg_FL_P[2]=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(udg_FL_P[2],"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
if(Trig_Front_Lotus_Func032Func004001())then
call UnitDamageTargetBJ(udg_FL_U[0],udg_FL_U[1],150.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endif
if(Trig_Front_Lotus_Func032Func005001())then
call UnitDamageTargetBJ(udg_FL_U[0],udg_FL_U[1],230.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endif
if(Trig_Front_Lotus_Func032Func006001())then
call UnitDamageTargetBJ(udg_FL_U[0],udg_FL_U[1],310.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endif
if(Trig_Front_Lotus_Func032Func007001())then
call UnitDamageTargetBJ(udg_FL_U[0],udg_FL_U[1],390.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endif
call RemoveLocation(udg_FL_P[2])
endfunction
function Trig_Front_Lotus_Actions takes nothing returns nothing
set udg_FL_U[0]=GetTriggerUnit()
set udg_FL_U[1]=GetSpellTargetUnit()
set udg_FL_I=0
call PauseUnit(udg_FL_U[0],true)
call PauseUnit(udg_FL_U[1],true)
call SetUnitPathing(udg_FL_U[0],false)
call SetUnitAnimationByIndex(GetTriggerUnit(),$D)
call EnableTrigger(gg_trg_FL_move)
loop
exitwhen(Trig_Front_Lotus_Func009001())
call TriggerSleepAction(RMaxBJ(bj_WAIT_FOR_COND_MIN_INTERVAL,.1))
endloop
set udg_FL_P[0]=GetUnitLoc(udg_FL_U[0])
set udg_FL_P[1]=GetUnitLoc(udg_FL_U[1])
call SetUnitAnimation(udg_FL_U[0],"Spell Slam")
if(Trig_Front_Lotus_Func013001())then
call UnitDamageTargetBJ(udg_FL_U[0],udg_FL_U[1],150.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endif
if(Trig_Front_Lotus_Func014001())then
call UnitDamageTargetBJ(udg_FL_U[0],udg_FL_U[1],230.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endif
if(Trig_Front_Lotus_Func015001())then
call UnitDamageTargetBJ(udg_FL_U[0],udg_FL_U[1],310.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endif
if(Trig_Front_Lotus_Func016001())then
call UnitDamageTargetBJ(udg_FL_U[0],udg_FL_U[1],390.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endif
call AddSpecialEffectTargetUnitBJ("right foot",udg_FL_U[0],"Wave.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call ShowUnitHide(udg_FL_U[1])
call TriggerSleepAction(.2)
call AddSpecialEffectLocBJ(udg_FL_P[0],"BlackBlink.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call TriggerSleepAction(.4)
call ShowUnitShow(udg_FL_U[1])
call CreateNUnitsAtLoc(1,'h05Q',GetOwningPlayer(udg_FL_U[0]),udg_FL_P[1],bj_UNIT_FACING)
call IssueImmediateOrderById(bj_lastCreatedUnit,$D009F)
call UnitApplyTimedLifeBJ(1.,'BTLF',bj_lastCreatedUnit)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=24
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_FL_P[2]=PolarProjectionBJ(udg_FL_P[1],150.,(I2R(bj_forLoopAIndex)*15.))
call AddSpecialEffectLocBJ(udg_FL_P[2],"earthsmash.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(udg_FL_P[2])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call AddSpecialEffectLocBJ(udg_FL_P[1],"slam.mdx")
call DestroyEffect(bj_lastCreatedEffect)
set udg_FL_G[0]=GetUnitsInRangeOfLocMatching(300.,udg_FL_P[1],Condition(function Trig_Front_Lotus_Func031002003))
call ForGroupBJ(udg_FL_G[0],function Trig_Front_Lotus_Func032A)
call DestroyGroup(udg_FL_G[0])
call SetUnitPathing(udg_FL_U[0],true)
call IssueImmediateOrderById(udg_FL_U[0],$D0004)
call RemoveLocation(udg_FL_P[0])
call RemoveLocation(udg_FL_P[1])
call PauseUnit(udg_FL_U[0],false)
call PauseUnit(udg_FL_U[1],false)
set udg_FL_U[0]=null
set udg_FL_U[1]=null
endfunction
function InitTrig_Front_Lotus takes nothing returns nothing
set gg_trg_Front_Lotus=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Front_Lotus,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Front_Lotus,Condition(function Trig_Front_Lotus_Conditions))
call TriggerAddAction(gg_trg_Front_Lotus,function Trig_Front_Lotus_Actions)
endfunction
function Trig_FL_move_Func006C takes nothing returns boolean
return(udg_FL_R[1]>=200.)
endfunction
function Trig_FL_move_Actions takes nothing returns nothing
set udg_FL_P[0]=GetUnitLoc(udg_FL_U[0])
set udg_FL_P[1]=GetUnitLoc(udg_FL_U[1])
set udg_FL_R[0]=AngleBetweenPoints(udg_FL_P[0],udg_FL_P[1])
set udg_FL_P[2]=PolarProjectionBJ(udg_FL_P[0],40.,udg_FL_R[0])
set udg_FL_R[1]=DistanceBetweenPoints(udg_FL_P[0],udg_FL_P[1])
if(Trig_FL_move_Func006C())then
call CreateNUnitsAtLoc(1,'h05P',GetOwningPlayer(udg_FL_U[0]),udg_FL_P[0],udg_FL_R[0])
call SetUnitAnimationByIndex(bj_lastCreatedUnit,$D)
call SetUnitVertexColorBJ(bj_lastCreatedUnit,'d','d','d',75.)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,500.)
call UnitApplyTimedLifeBJ(.1,'BTLF',bj_lastCreatedUnit)
call SetUnitPositionLocFacingBJ(udg_FL_U[0],udg_FL_P[2],udg_FL_R[0])
call AddSpecialEffectLocBJ(udg_FL_P[0],"Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(udg_FL_P[0])
call RemoveLocation(udg_FL_P[1])
call RemoveLocation(udg_FL_P[2])
else
set udg_FL_I=1
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function InitTrig_FL_move takes nothing returns nothing
set gg_trg_FL_move=CreateTrigger()
call DisableTrigger(gg_trg_FL_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_FL_move,.02)
call TriggerAddAction(gg_trg_FL_move,function Trig_FL_move_Actions)
endfunction
function Lee_T_Cond takes nothing returns boolean
return GetUnitAbilityLevel(GetAttacker(),'A0AW')==1
endfunction
function Trig_Lee_T_Func001C takes nothing returns boolean
return udg_Lee_Taydjutsu<=3
endfunction
function Lee_T_Act takes nothing returns nothing
local real cjlocgn_00000000
local real cjlocgn_00000001
set udg_Lee_Taydjutsu=GetRandomInt(1,'d')
if(Trig_Lee_T_Func001C())then
set cjlocgn_00000000=GetUnitX(GetTriggerUnit())+'d'*Cos(GetUnitFacing(GetAttacker())*bj_DEGTORAD)
set cjlocgn_00000001=GetUnitY(GetTriggerUnit())+'d'*Sin(GetUnitFacing(GetAttacker())*bj_DEGTORAD)
call SetUnitPosition(GetAttacker(),cjlocgn_00000000,cjlocgn_00000001)
call UnitDamageTarget(GetAttacker(),GetTriggerUnit(),'d',false,false,null,null,null)
endif
endfunction
function InitTrig_Lee_Taydjutsu takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_ATTACKED,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Lee_T_Cond))
call TriggerAddAction(t,function Lee_T_Act)
set t=null
endfunction
function Lee_T_Cond2 takes nothing returns boolean
return GetUnitAbilityLevel(GetAttacker(),'A0AW')==2
endfunction
function Trig_Lee_T2_Func001C takes nothing returns boolean
return udg_Lee_Taydjutsu<=6
endfunction
function Lee_T_Act2 takes nothing returns nothing
local real cjlocgn_00000000
local real cjlocgn_00000001
set udg_Lee_Taydjutsu=GetRandomInt(1,'d')
if(Trig_Lee_T2_Func001C())then
set cjlocgn_00000000=GetUnitX(GetTriggerUnit())+'d'*Cos(GetUnitFacing(GetAttacker())*bj_DEGTORAD)
set cjlocgn_00000001=GetUnitY(GetTriggerUnit())+'d'*Sin(GetUnitFacing(GetAttacker())*bj_DEGTORAD)
call SetUnitPosition(GetAttacker(),cjlocgn_00000000,cjlocgn_00000001)
call UnitDamageTarget(GetAttacker(),GetTriggerUnit(),$C8,false,false,null,null,null)
endif
endfunction
function InitTrig_Lee_Taydjutsu2 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_ATTACKED,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Lee_T_Cond2))
call TriggerAddAction(t,function Lee_T_Act2)
set t=null
endfunction
function Lee_T_Cond3 takes nothing returns boolean
return GetUnitAbilityLevel(GetAttacker(),'A0AW')==3
endfunction
function Trig_Lee_T3_Func001C takes nothing returns boolean
return udg_Lee_Taydjutsu<=9
endfunction
function Lee_T_Act3 takes nothing returns nothing
local real cjlocgn_00000000
local real cjlocgn_00000001
set udg_Lee_Taydjutsu=GetRandomInt(1,'d')
if(Trig_Lee_T3_Func001C())then
set cjlocgn_00000000=GetUnitX(GetTriggerUnit())+'d'*Cos(GetUnitFacing(GetAttacker())*bj_DEGTORAD)
set cjlocgn_00000001=GetUnitY(GetTriggerUnit())+'d'*Sin(GetUnitFacing(GetAttacker())*bj_DEGTORAD)
call SetUnitPosition(GetAttacker(),cjlocgn_00000000,cjlocgn_00000001)
call UnitDamageTarget(GetAttacker(),GetTriggerUnit(),300,false,false,null,null,null)
endif
endfunction
function InitTrig_Lee_Taydjutsu3 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_ATTACKED,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Lee_T_Cond3))
call TriggerAddAction(t,function Lee_T_Act3)
set t=null
endfunction
function Trig_Shuriken_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A083')
endfunction
function Trig_Shuriken_Actions takes nothing returns nothing
call CreateNUnitsAtLoc(1,'n002',GetOwningPlayer(GetSpellAbilityUnit()),GetUnitLoc(GetTriggerUnit()),(GetUnitFacing(GetTriggerUnit())-5.))
call UnitApplyTimedLifeBJ(.85,'BTLF',bj_lastCreatedUnit)
set udg_Beast[304]=bj_lastCreatedUnit
call CreateNUnitsAtLoc(1,'n002',GetOwningPlayer(GetSpellAbilityUnit()),GetUnitLoc(GetTriggerUnit()),(GetUnitFacing(GetTriggerUnit())+5.))
call UnitApplyTimedLifeBJ(.85,'BTLF',bj_lastCreatedUnit)
set udg_Beast[305]=bj_lastCreatedUnit
call EnableTrigger(gg_trg_Shuriken_damage)
call TriggerSleepAction(.85)
call DisableTrigger(gg_trg_Shuriken_damage)
set udg_Beast[304]=null
set udg_Beast[305]=null
endfunction
function InitTrig_Shuriken takes nothing returns nothing
set gg_trg_Shuriken=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Shuriken,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Shuriken,Condition(function Trig_Shuriken_Conditions))
call TriggerAddAction(gg_trg_Shuriken,function Trig_Shuriken_Actions)
endfunction
function Trig_Shuriken_damage_Func002Func002001002001001003001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(gg_unit_Emoo_0031)))
endfunction
function Trig_Shuriken_damage_Func002Func002001002001001003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false)!=null
endfunction
function Trig_Shuriken_damage_Func002Func002001002001001003002002001 takes nothing returns boolean
return(IsUnitDeadBJ(GetFilterUnit())==false)
endfunction
function Trig_Shuriken_damage_Func002Func002001002001001003002002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetFilterUnit(),'B00N')==false)
endfunction
function Trig_Shuriken_damage_Func002Func002001002001001003002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Shuriken_damage_Func002Func002001002001001003002002001(),Trig_Shuriken_damage_Func002Func002001002001001003002002002())
endfunction
function Trig_Shuriken_damage_Func002Func002001002001001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_Shuriken_damage_Func002Func002001002001001003002001(),Trig_Shuriken_damage_Func002Func002001002001001003002002())
endfunction
function Trig_Shuriken_damage_Func002Func002001002001001003 takes nothing returns boolean
return GetBooleanAnd(Trig_Shuriken_damage_Func002Func002001002001001003001(),Trig_Shuriken_damage_Func002Func002001002001001003002())
endfunction
function Trig_Shuriken_damage_Func002C takes nothing returns boolean
return(DistanceBetweenPoints(GetUnitLoc(udg_Beast[304]),GetUnitLoc(GroupPickRandomUnit(GetUnitsInRangeOfLocMatching(60.,GetUnitLoc(udg_Beast[304]),Condition(function Trig_Shuriken_damage_Func002Func002001002001001003)))))<=60.)
endfunction
function Trig_Shuriken_damage_Func004Func002001002001001003001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(gg_unit_Emoo_0031)))
endfunction
function Trig_Shuriken_damage_Func004Func002001002001001003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false)!=null
endfunction
function Trig_Shuriken_damage_Func004Func002001002001001003002002001 takes nothing returns boolean
return(IsUnitDeadBJ(GetFilterUnit())==false)
endfunction
function Trig_Shuriken_damage_Func004Func002001002001001003002002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetFilterUnit(),'B00N')==false)
endfunction
function Trig_Shuriken_damage_Func004Func002001002001001003002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Shuriken_damage_Func004Func002001002001001003002002001(),Trig_Shuriken_damage_Func004Func002001002001001003002002002())
endfunction
function Trig_Shuriken_damage_Func004Func002001002001001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_Shuriken_damage_Func004Func002001002001001003002001(),Trig_Shuriken_damage_Func004Func002001002001001003002002())
endfunction
function Trig_Shuriken_damage_Func004Func002001002001001003 takes nothing returns boolean
return GetBooleanAnd(Trig_Shuriken_damage_Func004Func002001002001001003001(),Trig_Shuriken_damage_Func004Func002001002001001003002())
endfunction
function Trig_Shuriken_damage_Func004C takes nothing returns boolean
return(DistanceBetweenPoints(GetUnitLoc(udg_Beast[305]),GetUnitLoc(GroupPickRandomUnit(GetUnitsInRangeOfLocMatching(60.,GetUnitLoc(udg_Beast[305]),Condition(function Trig_Shuriken_damage_Func004Func002001002001001003)))))<=60.)
endfunction
function Trig_Shuriken_damage_Actions takes nothing returns nothing
call SetUnitPositionLoc(udg_Beast[304],PolarProjectionBJ(GetUnitLoc(udg_Beast[304]),17.,GetUnitFacing(udg_Beast[304])))
if(Trig_Shuriken_damage_Func002C())then
call KillUnit(udg_Beast[304])
endif
call SetUnitPositionLoc(udg_Beast[305],PolarProjectionBJ(GetUnitLoc(udg_Beast[305]),17.,GetUnitFacing(udg_Beast[305])))
if(Trig_Shuriken_damage_Func004C())then
call KillUnit(udg_Beast[305])
endif
endfunction
function InitTrig_Shuriken_damage takes nothing returns nothing
set gg_trg_Shuriken_damage=CreateTrigger()
call DisableTrigger(gg_trg_Shuriken_damage)
call TriggerRegisterTimerEventPeriodic(gg_trg_Shuriken_damage,.01)
call TriggerAddAction(gg_trg_Shuriken_damage,function Trig_Shuriken_damage_Actions)
endfunction
function Trig_Shuriken_Die_Func001Func001C takes nothing returns boolean
return(GetDyingUnit()==udg_Beast[304])or(GetDyingUnit()==udg_Beast[305])
endfunction
function Trig_Shuriken_Die_Func001Func002001003001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetDyingUnit())))
endfunction
function Trig_Shuriken_Die_Func001Func002001003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false)!=null
endfunction
function Trig_Shuriken_Die_Func001Func002001003002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_Shuriken_Die_Func001Func002001003002002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Shuriken_Die_Func001Func002001003002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Shuriken_Die_Func001Func002001003002002001(),Trig_Shuriken_Die_Func001Func002001003002002002())
endfunction
function Trig_Shuriken_Die_Func001Func002001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_Shuriken_Die_Func001Func002001003002001(),Trig_Shuriken_Die_Func001Func002001003002002())
endfunction
function Trig_Shuriken_Die_Func001Func002001003 takes nothing returns boolean
return GetBooleanAnd(Trig_Shuriken_Die_Func001Func002001003001(),Trig_Shuriken_Die_Func001Func002001003002())
endfunction
function Trig_Shuriken_Die_Func001Func002Func002001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A083',gg_unit_Emoo_0031)==1)
endfunction
function Trig_Shuriken_Die_Func001Func002Func003001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A083',gg_unit_Emoo_0031)==2)
endfunction
function Trig_Shuriken_Die_Func001Func002Func004001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A083',gg_unit_Emoo_0031)==3)
endfunction
function Trig_Shuriken_Die_Func001Func002Func005001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A083',gg_unit_Emoo_0031)==4)
endfunction
function Trig_Shuriken_Die_Func001Func002A takes nothing returns nothing
call IssueTargetOrderById(gg_unit_Emoo_0031,$D006B,GetEnumUnit())
if(Trig_Shuriken_Die_Func001Func002Func002001())then
call UnitDamageTargetBJ(gg_unit_Emoo_0031,GetEnumUnit(),80.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_MAGIC)
endif
if(Trig_Shuriken_Die_Func001Func002Func003001())then
call UnitDamageTargetBJ(gg_unit_Emoo_0031,GetEnumUnit(),100.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_MAGIC)
endif
if(Trig_Shuriken_Die_Func001Func002Func004001())then
call UnitDamageTargetBJ(gg_unit_Emoo_0031,GetEnumUnit(),120.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_MAGIC)
endif
if(Trig_Shuriken_Die_Func001Func002Func005001())then
call UnitDamageTargetBJ(gg_unit_Emoo_0031,GetEnumUnit(),140.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_MAGIC)
endif
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Objects\\Spawnmodels\\Critters\\Albatross\\CritterBloodAlbatross.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endfunction
function Trig_Shuriken_Die_Func001C takes nothing returns boolean
return(Trig_Shuriken_Die_Func001Func001C())
endfunction
function Trig_Shuriken_Die_Actions takes nothing returns nothing
if(Trig_Shuriken_Die_Func001C())then
call ForGroupBJ(GetUnitsInRangeOfLocMatching(60.,GetUnitLoc(GetDyingUnit()),Condition(function Trig_Shuriken_Die_Func001Func002001003)),function Trig_Shuriken_Die_Func001Func002A)
call RemoveUnit(GetDyingUnit())
endif
endfunction
function InitTrig_Shuriken_Die takes nothing returns nothing
set gg_trg_Shuriken_Die=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Shuriken_Die,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_Shuriken_Die,function Trig_Shuriken_Die_Actions)
endfunction
function Trig_Fuuma_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A086')
endfunction
function Trig_Fuuma_Actions takes nothing returns nothing
set udg_PointNew[56]=GetSpellTargetLoc()
call CreateNUnitsAtLocFacingLocBJ(1,'n00N',GetOwningPlayer(gg_unit_Emoo_0031),PolarProjectionBJ(GetUnitLoc(gg_unit_Emoo_0031),100.,AngleBetweenPoints(GetUnitLoc(gg_unit_Emoo_0031),udg_PointNew[56])),udg_PointNew[56])
set udg_Naruto[40]=bj_lastCreatedUnit
call SetUnitPathing(udg_Naruto[40],false)
call EnableTrigger(gg_trg_Fuuma_damage)
call TriggerSleepAction(.65)
call DisableTrigger(gg_trg_Fuuma_damage)
call RemoveUnit(udg_Naruto[40])
set udg_Naruto[40]=null
call RemoveLocation(udg_PointNew[56])
set udg_PointNew[56]=null
endfunction
function InitTrig_Fuuma takes nothing returns nothing
set gg_trg_Fuuma=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Fuuma,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Fuuma,Condition(function Trig_Fuuma_Conditions))
call TriggerAddAction(gg_trg_Fuuma,function Trig_Fuuma_Actions)
endfunction
function Trig_Fuuma_damage_Func002001003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_Fuuma_damage_Func002001003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(gg_unit_Emoo_0031)))
endfunction
function Trig_Fuuma_damage_Func002001003002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Fuuma_damage_Func002001003002002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetFilterUnit(),'B00N')==false)
endfunction
function Trig_Fuuma_damage_Func002001003002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Fuuma_damage_Func002001003002002001(),Trig_Fuuma_damage_Func002001003002002002())
endfunction
function Trig_Fuuma_damage_Func002001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_Fuuma_damage_Func002001003002001(),Trig_Fuuma_damage_Func002001003002002())
endfunction
function Trig_Fuuma_damage_Func002001003 takes nothing returns boolean
return GetBooleanAnd(Trig_Fuuma_damage_Func002001003001(),Trig_Fuuma_damage_Func002001003002())
endfunction
function Trig_Fuuma_damage_Func002Func001C takes nothing returns boolean
return(DistanceBetweenPoints(GetUnitLoc(udg_Naruto[40]),GetUnitLoc(GetEnumUnit()))<=80.)
endfunction
function Trig_Fuuma_damage_Func002A takes nothing returns nothing
if(Trig_Fuuma_damage_Func002Func001C())then
call DisableTrigger(GetTriggeringTrigger())
call TriggerRegisterUnitEvent(gg_trg_Fuuma_Die,udg_Naruto[40],EVENT_UNIT_DEATH)
call KillUnit(udg_Naruto[40])
endif
endfunction
function Trig_Fuuma_damage_Actions takes nothing returns nothing
call SetUnitPositionLoc(udg_Naruto[40],PolarProjectionBJ(GetUnitLoc(udg_Naruto[40]),15.,AngleBetweenPoints(GetUnitLoc(gg_unit_Emoo_0031),udg_PointNew[56])))
call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.,GetUnitLoc(udg_Naruto[40]),Condition(function Trig_Fuuma_damage_Func002001003)),function Trig_Fuuma_damage_Func002A)
endfunction
function InitTrig_Fuuma_damage takes nothing returns nothing
set gg_trg_Fuuma_damage=CreateTrigger()
call DisableTrigger(gg_trg_Fuuma_damage)
call TriggerRegisterTimerEventPeriodic(gg_trg_Fuuma_damage,.01)
call TriggerAddAction(gg_trg_Fuuma_damage,function Trig_Fuuma_damage_Actions)
endfunction
function Trig_Fuuma_Die_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='n00N')
endfunction
function Trig_Fuuma_Die_Func003001003001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(gg_unit_Emoo_0031)))
endfunction
function Trig_Fuuma_Die_Func003001003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false)!=null
endfunction
function Trig_Fuuma_Die_Func003001003002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_Fuuma_Die_Func003001003002002002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Fuuma_Die_Func003001003002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Fuuma_Die_Func003001003002002001(),Trig_Fuuma_Die_Func003001003002002002())
endfunction
function Trig_Fuuma_Die_Func003001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_Fuuma_Die_Func003001003002001(),Trig_Fuuma_Die_Func003001003002002())
endfunction
function Trig_Fuuma_Die_Func003001003 takes nothing returns boolean
return GetBooleanAnd(Trig_Fuuma_Die_Func003001003001(),Trig_Fuuma_Die_Func003001003002())
endfunction
function Trig_Fuuma_Die_Func003Func002001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A086',gg_unit_Emoo_0031)==1)
endfunction
function Trig_Fuuma_Die_Func003Func003001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A086',gg_unit_Emoo_0031)==2)
endfunction
function Trig_Fuuma_Die_Func003Func004001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A086',gg_unit_Emoo_0031)==3)
endfunction
function Trig_Fuuma_Die_Func003Func005001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A086',gg_unit_Emoo_0031)==4)
endfunction
function Trig_Fuuma_Die_Func003A takes nothing returns nothing
call IssueTargetOrderById(gg_unit_Emoo_0031,$D007F,GetEnumUnit())
if(Trig_Fuuma_Die_Func003Func002001())then
call UnitDamageTargetBJ(gg_unit_Emoo_0031,GetEnumUnit(),130.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEMOLITION)
endif
if(Trig_Fuuma_Die_Func003Func003001())then
call UnitDamageTargetBJ(gg_unit_Emoo_0031,GetEnumUnit(),180.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEMOLITION)
endif
if(Trig_Fuuma_Die_Func003Func004001())then
call UnitDamageTargetBJ(gg_unit_Emoo_0031,GetEnumUnit(),230.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEMOLITION)
endif
if(Trig_Fuuma_Die_Func003Func005001())then
call UnitDamageTargetBJ(gg_unit_Emoo_0031,GetEnumUnit(),280.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEMOLITION)
endif
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endfunction
function Trig_Fuuma_Die_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRangeOfLocMatching(95.,GetUnitLoc(GetDyingUnit()),Condition(function Trig_Fuuma_Die_Func003001003)),function Trig_Fuuma_Die_Func003A)
call RemoveUnit(GetDyingUnit())
endfunction
function InitTrig_Fuuma_Die takes nothing returns nothing
set gg_trg_Fuuma_Die=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Fuuma_Die,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Fuuma_Die,Condition(function Trig_Fuuma_Die_Conditions))
call TriggerAddAction(gg_trg_Fuuma_Die,function Trig_Fuuma_Die_Actions)
endfunction
function Drakon_Bleznesi_act takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
local real d=GetRandomReal(0,650)
local unit k=CreateUnit(GetOwningPlayer(a),'h01V',GetUnitX(a)+d*Cos(GetRandomReal(0,360)),GetUnitY(a)+d*Sin(GetRandomReal(0,360)),270)
call SetUnitTimeScale(k,300*.01)
call IssueImmediateOrderById(k,$D009F)
call UnitApplyTimedLife(k,'BTLF',.3)
call DestroyEffect((AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",GetUnitX(k),GetUnitY(k))))
set a=null
set k=null
set t=null
endfunction
function Drakon_Bleznesi takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local timer t=CreateTimer()
call PauseUnit(a,true)
call SaveUnitHandle(hash,GetHandleId(t),1,a)
call TimerStart(t,.02,true,function Drakon_Bleznesi_act)
call TriggerSleepAction(1)
call PauseTimer(t)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
call PauseUnit(a,false)
set a=null
set t=null
endfunction
function Drakon_Bleznesi_Cond takes nothing returns boolean
return GetSpellAbilityId()=='A09Q'
endfunction
function InitTrig_Drakon_Bleznesi takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==$E
endloop
call TriggerAddCondition(t,Condition(function Drakon_Bleznesi_Cond))
call TriggerAddAction(t,function Drakon_Bleznesi)
set t=null
endfunction
function remove_D_Cond takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())=='h01V'
endfunction
function remove_D takes nothing returns nothing
local unit a=GetDyingUnit()
call RemoveUnit(a)
set a=null
endfunction
function InitTrig_remove_D takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==$E
endloop
call TriggerAddCondition(t,Condition(function remove_D_Cond))
call TriggerAddAction(t,function remove_D)
set t=null
endfunction
function Djidanda takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local unit b
local real count=0
local unit n
local group g
call PauseUnit(a,true)
call SetUnitAnimation(a,"spell")
set b=CreateUnit(GetOwningPlayer(a),'u016',GetUnitX(a),GetUnitY(a),GetUnitFacing(a))
call TriggerSleepAction(1.5)
loop
exitwhen count==30
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",x+'d'*Cos((count*$C)*bj_DEGTORAD),y+'d'*Sin((count*$C)*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",x+$C8*Cos((count*$C)*bj_DEGTORAD),y+$C8*Sin((count*$C)*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",x+300*Cos((count*$C)*bj_DEGTORAD),y+300*Sin((count*$C)*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",x+400*Cos((count*$C)*bj_DEGTORAD),y+400*Sin((count*$C)*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",x+500*Cos((count*$C)*bj_DEGTORAD),y+500*Sin((count*$C)*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",x+'d'*Cos((count*$C)*bj_DEGTORAD),y+'d'*Sin((count*$C)*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",x+$C8*Cos((count*$C)*bj_DEGTORAD),y+$C8*Sin((count*$C)*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",x+300*Cos((count*$C)*bj_DEGTORAD),y+300*Sin((count*$C)*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",x+400*Cos((count*$C)*bj_DEGTORAD),y+400*Sin((count*$C)*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",x+500*Cos((count*$C)*bj_DEGTORAD),y+500*Sin((count*$C)*bj_DEGTORAD)))
set count=count+2
endloop
call PauseUnit(a,false)
set g=CreateGroup()
call GroupEnumUnitsInRange(g,x,y,500,null)
loop
set n=FirstOfGroup(g)
exitwhen n==null
if IsUnitEnemy(n,GetOwningPlayer(a)) then
call UnitDamageTarget(a,n,$7D0,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(g,n)
endloop
call RemoveUnit(b)
call DestroyGroup(g)
set a=null
set b=null
set g=null
set n=null
endfunction
function Djidanda_Cond takes nothing returns boolean
return GetSpellAbilityId()=='A00F'
endfunction
function InitTrig_Djidanda takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==$E
endloop
call TriggerAddCondition(t,Condition(function Djidanda_Cond))
call TriggerAddAction(t,function Djidanda)
set t=null
endfunction
function Trig_Gaara_Shield_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A09S'
endfunction
function Trig_Gaara_Shield_Actions takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local unit b
call UnitAddAbility(a,'A09T')
set b=CreateUnit(GetOwningPlayer(a),'hsor',GetUnitX(a),GetUnitY(a),0)
call SetUnitMoveSpeed(a,.0)
call TriggerSleepAction(15.)
call UnitRemoveAbility(a,'A09T')
call SetUnitMoveSpeed(a,GetUnitDefaultMoveSpeed(a))
call UnitRemoveAbility(a,'B01H')
call UnitRemoveAbility(a,'B01G')
call RemoveUnit(b)
set a=null
set b=null
endfunction
function InitTrig_Gaara_Shield takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_Gaara_Shield_Conditions))
call TriggerAddAction(t,function Trig_Gaara_Shield_Actions)
set t=null
endfunction
function Trig_Sabakyuu_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A0A4')
endfunction
function Trig_Sabakyuu_Func002Func018001003 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),Player(7)))
endfunction
function Trig_Sabakyuu_Func002Func018A takes nothing returns nothing
call UnitDamageTargetBJ(gg_unit_Emfr_0033,GetEnumUnit(),300.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEMOLITION)
endfunction
function Trig_Sabakyuu_Func002C takes nothing returns boolean
return(UnitHasBuffBJ(udg_Hero2[21],'B001')==false)
endfunction
function Trig_Sabakyuu_Actions takes nothing returns nothing
set udg_Hero2[21]=GetSpellTargetUnit()
if(Trig_Sabakyuu_Func002C())then
call ShowUnitHide(udg_Hero2[21])
call PauseUnit(udg_Hero2[21],true)
call CreateNUnitsAtLoc(1,'h04Y',Player($F),GetUnitLoc(udg_Hero2[21]),GetRandomReal(0,360))
set udg_Hero2[22]=bj_lastCreatedUnit
call SetUnitFlyHeight(udg_Hero2[22],600.,1600.)
call TriggerSleepAction(.6)
call SetUnitFlyHeight(udg_Hero2[22],.0,2000.)
call TriggerSleepAction(.34)
call ShowUnitShow(udg_Hero2[21])
call PauseUnit(udg_Hero2[21],false)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Hero2[21]),"Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Hero2[21]),"war3mapImported\\explosion.mdx")
call DestroyEffect(bj_lastCreatedEffect)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=7
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Hero2[21]),80.,(I2R(bj_forLoopAIndex)*55.)),"Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Hero2[21]),120.,(I2R(bj_forLoopAIndex)*55.)),"Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Hero2[21]),120.,(I2R(bj_forLoopAIndex)*55.)),"war3mapImported\\explosion.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Hero2[21]),160.,(I2R(bj_forLoopAIndex)*55.)),"Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Hero2[21]),200.,(I2R(bj_forLoopAIndex)*55.)),"Objects\\Spawnmodels\\Undead\\ImpaleTargetDust\\ImpaleTargetDust.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Hero2[21]),200.,(I2R(bj_forLoopAIndex)*55.)),"war3mapImported\\explosion.mdx")
call DestroyEffect(bj_lastCreatedEffect)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call ForGroupBJ(GetUnitsInRangeOfLocMatching(512,GetUnitLoc(udg_Hero2[21]),Condition(function Trig_Sabakyuu_Func002Func018001003)),function Trig_Sabakyuu_Func002Func018A)
call UnitDamageTargetBJ(gg_unit_Emfr_0033,udg_Hero2[21],200.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEMOLITION)
call KillUnit(udg_Hero2[22])
set udg_Hero2[21]=null
set udg_Hero2[22]=null
else
set udg_Hero2[21]=null
endif
endfunction
function InitTrig_Sabakyuu takes nothing returns nothing
set gg_trg_Sabakyuu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sabakyuu,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Sabakyuu,Condition(function Trig_Sabakyuu_Conditions))
call TriggerAddAction(gg_trg_Sabakyuu,function Trig_Sabakyuu_Actions)
endfunction
function Trig_Yama_pesok_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A0A6'
endfunction
function Trig_Yama_pesok_Actions takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local real count=0
loop
exitwhen count==72
call DestroyEffect(AddSpecialEffect("Gaara Sand.mdl",GetUnitX(a)+'x'*Cos(5*count*bj_DEGTORAD),GetUnitY(a)+'x'*Sin(5*count*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Gaara Sand.mdl",GetUnitX(a)+$F0*Cos(5*count*bj_DEGTORAD),GetUnitY(a)+$F0*Sin(5*count*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Gaara Sand.mdl",GetUnitX(a)+360*Cos(5*count*bj_DEGTORAD),GetUnitY(a)+360*Sin(5*count*bj_DEGTORAD)))
set count=count+6
endloop
set a=null
endfunction
function InitTrig_Yama_pesok takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_Yama_pesok_Conditions))
call TriggerAddAction(t,function Trig_Yama_pesok_Actions)
set t=null
endfunction
function Trig_Ruuysa_spell_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A0A2')
endfunction
function Trig_Ruuysa_spell_Actions takes nothing returns nothing
set udg_Kisame[90]=GetSpellAbilityUnit()
call CreateNUnitsAtLoc(1,'u006',GetOwningPlayer(udg_Kisame[90]),GetUnitLoc(udg_Kisame[90]),bj_UNIT_FACING)
set udg_Kisame[91]=bj_lastCreatedUnit
call SetUnitScalePercent(bj_lastCreatedUnit,200.,200.,200.)
call UnitAddAbility(bj_lastCreatedUnit,'A0A3')
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0271,GetSpellTargetLoc())
set udg_Kisame[90]=null
endfunction
function InitTrig_Ruuysa_spell takes nothing returns nothing
set gg_trg_Ruuysa_spell=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Ruuysa_spell,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Ruuysa_spell,Condition(function Trig_Ruuysa_spell_Conditions))
call TriggerAddAction(gg_trg_Ruuysa_spell,function Trig_Ruuysa_spell_Actions)
endfunction
function Trig_Ruuysa_spell_end_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A0A2')
endfunction
function Trig_Ruuysa_spell_end_Actions takes nothing returns nothing
call RemoveUnit(udg_Kisame[91])
set udg_Kisame[91]=null
endfunction
function InitTrig_Ruuysa_spell_end takes nothing returns nothing
set gg_trg_Ruuysa_spell_end=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Ruuysa_spell_end,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(gg_trg_Ruuysa_spell_end,Condition(function Trig_Ruuysa_spell_end_Conditions))
call TriggerAddAction(gg_trg_Ruuysa_spell_end,function Trig_Ruuysa_spell_end_Actions)
endfunction
function priziv takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local unit b
call SetUnitAnimation(a,"Stand one")
call TriggerSleepAction(.25)
set b=CreateUnit(GetOwningPlayer(a),'h053',GetUnitX(a)+$FA*Cos(GetUnitFacing(a)*bj_DEGTORAD),GetUnitY(a)+$FA*Sin(GetUnitFacing(a)*bj_DEGTORAD),GetUnitFacing(a))
call UnitApplyTimedLife(b,'BTLF',60)
set a=null
set b=null
endfunction
function priziv_Cond takes nothing returns boolean
return GetSpellAbilityId()=='A0AA'
endfunction
function InitTrig_Shikaku takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==$E
endloop
call TriggerAddCondition(t,Condition(function priziv_Cond))
call TriggerAddAction(t,function priziv)
set t=null
endfunction
function Shikaku_remove_Cond takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())=='h053'
endfunction
function Shikaku_remove takes nothing returns nothing
local unit a=GetDyingUnit()
call TriggerSleepAction(4)
call RemoveUnit(a)
set a=null
endfunction
function InitTrig_Shikaku_remove takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==$E
endloop
call TriggerAddCondition(t,Condition(function Shikaku_remove_Cond))
call TriggerAddAction(t,function Shikaku_remove)
set t=null
endfunction
function Trig_Lava_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A0CQ'
endfunction
function Trig_Lava_Actions takes nothing returns nothing
set udg_mei[4]=GetTriggerUnit()
set udg_Zpoint[16]=GetUnitLoc(udg_mei[4])
set udg_Zpoint[17]=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(GetTriggerUnit()),udg_Zpoint[16],GetUnitFacing(GetTriggerUnit()))
set udg_mei[5]=bj_lastCreatedUnit
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(GetTriggerUnit()),udg_Zpoint[16],GetUnitFacing(GetTriggerUnit()))
set udg_mei[6]=bj_lastCreatedUnit
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(GetTriggerUnit()),udg_Zpoint[16],GetUnitFacing(GetTriggerUnit()))
set udg_mei[7]=bj_lastCreatedUnit
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(GetTriggerUnit()),udg_Zpoint[16],GetUnitFacing(GetTriggerUnit()))
set udg_mei[8]=bj_lastCreatedUnit
call UnitAddAbility(udg_mei[5],'A0CS')
call SetUnitScalePercent(udg_mei[5],100.,100.,100.)
call UnitAddAbility(udg_mei[6],'A0CR')
call SetUnitScalePercent(udg_mei[6],100.,100.,100.)
call UnitAddAbility(udg_mei[7],'A0CS')
call SetUnitScalePercent(udg_mei[7],100.,100.,100.)
call UnitAddAbility(udg_mei[8],'A0CT')
call SetUnitScalePercent(udg_mei[8],75.,75.,75.)
call IssuePointOrderByIdLoc(udg_mei[5],$D02AC,udg_Zpoint[17])
call IssuePointOrderByIdLoc(udg_mei[6],$D02AC,udg_Zpoint[17])
call IssuePointOrderByIdLoc(udg_mei[7],$D02AC,udg_Zpoint[17])
call IssuePointOrderByIdLoc(udg_mei[8],$D02AC,udg_Zpoint[17])
call RemoveLocation(udg_Zpoint[16])
set udg_Zpoint[16]=null
call EnableTrigger(gg_trg_Lava_2)
endfunction
function InitTrig_Lava takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_Lava_Conditions))
call TriggerAddAction(t,function Trig_Lava_Actions)
set t=null
endfunction
function Trig_Lava_2_Actions takes nothing returns nothing
call CreateNUnitsAtLoc(1,'h064',GetOwningPlayer(udg_mei[4]),PolarProjectionBJ(udg_Zpoint[17],GetRandomReal(0,400.),GetRandomReal(0,360)),GetRandomReal(0,360))
call UnitApplyTimedLife(bj_lastCreatedUnit,'Bapl',6.)
endfunction
function InitTrig_Lava_2 takes nothing returns nothing
set gg_trg_Lava_2=CreateTrigger()
call DisableTrigger(gg_trg_Lava_2)
call TriggerRegisterTimerEvent(gg_trg_Lava_2,.17,true)
call TriggerAddAction(gg_trg_Lava_2,function Trig_Lava_2_Actions)
endfunction
function Trig_Lava_end_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A0CQ'
endfunction
function Trig_Lava_end_Actions takes nothing returns nothing
call DisableTrigger(gg_trg_Lava_2)
set udg_mei[4]=null
call RemoveUnit(udg_mei[5])
call RemoveUnit(udg_mei[6])
call RemoveUnit(udg_mei[7])
call RemoveUnit(udg_mei[8])
set udg_mei[5]=null
set udg_mei[6]=null
set udg_mei[7]=null
set udg_mei[8]=null
call RemoveLocation(udg_Zpoint[17])
set udg_Zpoint[17]=null
endfunction
function InitTrig_Lava_end takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_ENDCAST,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_Lava_end_Conditions))
call TriggerAddAction(t,function Trig_Lava_end_Actions)
set t=null
endfunction
function Trig_Par_Actions takes nothing returns nothing
local unit cjlocgn_00000000
local unit cjlocgn_00000001
local real cjlocgn_00000002
if GetSpellAbilityId()=='A028' then
set cjlocgn_00000000=GetSpellAbilityUnit()
set cjlocgn_00000001=CreateUnit(GetOwningPlayer(cjlocgn_00000000),'h04P',GetUnitX(cjlocgn_00000000)+50*Cos(GetUnitFacing(cjlocgn_00000000)*bj_DEGTORAD),GetUnitY(cjlocgn_00000000)+50*Sin(GetUnitFacing(cjlocgn_00000000)*bj_DEGTORAD),GetUnitFacing(cjlocgn_00000000))
set cjlocgn_00000002=0
loop
exitwhen cjlocgn_00000002==72
call DestroyEffect(AddSpecialEffect("HunAttack.mdl",GetUnitX(cjlocgn_00000000)+'x'*Cos(5*cjlocgn_00000002*bj_DEGTORAD),GetUnitY(cjlocgn_00000000)+'x'*Sin(5*cjlocgn_00000002*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("HunAttack.mdl",GetUnitX(cjlocgn_00000000)+$F0*Cos(5*cjlocgn_00000002*bj_DEGTORAD),GetUnitY(cjlocgn_00000000)+$F0*Sin(5*cjlocgn_00000002*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("HunAttack.mdl",GetUnitX(cjlocgn_00000000)+360*Cos(5*cjlocgn_00000002*bj_DEGTORAD),GetUnitY(cjlocgn_00000000)+360*Sin(5*cjlocgn_00000002*bj_DEGTORAD)))
set cjlocgn_00000002=cjlocgn_00000002+6
endloop
if GetUnitAbilityLevel(cjlocgn_00000000,'A028')==1 then
call TriggerSleepAction(5)
endif
if GetUnitAbilityLevel(cjlocgn_00000000,'A028')==2 then
call TriggerSleepAction($A)
endif
if GetUnitAbilityLevel(cjlocgn_00000000,'A028')==3 then
call TriggerSleepAction($F)
endif
if GetUnitAbilityLevel(cjlocgn_00000000,'A028')==4 then
call TriggerSleepAction(20)
endif
call RemoveUnit(cjlocgn_00000001)
set cjlocgn_00000000=null
set cjlocgn_00000001=null
endif
endfunction
function InitTrig_Par takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddAction(t,function Trig_Par_Actions)
set t=null
endfunction
function Trig_Remove_Raykage_Func001C takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='h050')or(GetUnitTypeId(GetTriggerUnit())=='h03F')or(GetUnitTypeId(GetTriggerUnit())=='h05S')or(GetUnitTypeId(GetTriggerUnit())=='h051')or(GetUnitTypeId(GetTriggerUnit())=='h05R')or(GetUnitTypeId(GetTriggerUnit())=='h052')or(GetUnitTypeId(GetTriggerUnit())=='h04Z')
endfunction
function Trig_Remove_Raykage_Conditions takes nothing returns boolean
return(Trig_Remove_Raykage_Func001C())
endfunction
function Trig_Remove_Raykage_Actions takes nothing returns nothing
call RemoveUnit(GetTriggerUnit())
endfunction
function InitTrig_Remove_Raykage takes nothing returns nothing
set gg_trg_Remove_Raykage=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Remove_Raykage,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Remove_Raykage,Condition(function Trig_Remove_Raykage_Conditions))
call TriggerAddAction(gg_trg_Remove_Raykage,function Trig_Remove_Raykage_Actions)
endfunction
function Trig_Elbow_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A0CZ')
endfunction
function Trig_Elbow_Func013001 takes nothing returns boolean
return(udg_E_I[0]==1)
endfunction
function Trig_Elbow_Func030002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Elbow_Func030002003002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_Elbow_Func030002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_E_U[0])))
endfunction
function Trig_Elbow_Func030002003002 takes nothing returns boolean
return GetBooleanAnd(Trig_Elbow_Func030002003002001(),Trig_Elbow_Func030002003002002())
endfunction
function Trig_Elbow_Func030002003 takes nothing returns boolean
return GetBooleanAnd(Trig_Elbow_Func030002003001(),Trig_Elbow_Func030002003002())
endfunction
function Trig_Elbow_Func031A takes nothing returns nothing
set udg_E_U[2]=GetEnumUnit()
set udg_E_P[1]=GetUnitLoc(udg_E_U[1])
set udg_E_P[2]=GetUnitLoc(udg_E_U[2])
set udg_E_R[0]=AngleBetweenPoints(udg_E_P[1],udg_E_P[2])
call UnitDamageTargetBJ(udg_E_U[0],udg_E_U[2],(I2R(GetHeroStatBJ(0,udg_E_U[0],true))*5.),ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
call CreateNUnitsAtLoc(1,'h05S',GetOwningPlayer(udg_E_U[0]),udg_E_P[1],udg_E_R[0])
call UnitApplyTimedLifeBJ(1.,'BTLF',bj_lastCreatedUnit)
call IssueTargetOrderById(bj_lastCreatedUnit,$D008F,udg_E_U[2])
call RemoveLocation(udg_E_P[0])
call RemoveLocation(udg_E_P[1])
call RemoveLocation(udg_E_P[2])
call ResetUnitAnimation(udg_E_U[2])
endfunction
function Trig_Elbow_Actions takes nothing returns nothing
set udg_E_U[0]=GetTriggerUnit()
set udg_E_U[1]=GetSpellTargetUnit()
set udg_E_I[0]=0
call PauseUnit(udg_E_U[0],true)
call PauseUnit(udg_E_U[1],true)
call SetUnitAnimationByIndex(GetTriggerUnit(),5)
call SetUnitPathing(udg_E_U[0],false)
call EnableTrigger(gg_trg_E_move)
call AddSpecialEffectTargetUnitBJ("left hand",udg_E_U[0],"Abilities\\Weapons\\ZigguratMissile\\ZigguratMissile.mdl")
set udg_E_E[0]=bj_lastCreatedEffect
call AddSpecialEffectTargetUnitBJ("right hand",udg_E_U[0],"Abilities\\Weapons\\ZigguratMissile\\ZigguratMissile.mdl")
set udg_E_E[1]=bj_lastCreatedEffect
loop
exitwhen(Trig_Elbow_Func013001())
call TriggerSleepAction(RMaxBJ(bj_WAIT_FOR_COND_MIN_INTERVAL,.1))
endloop
call AddSpecialEffectTargetUnitBJ("left hand",udg_E_U[0],"Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call UnitDamageTargetBJ(udg_E_U[0],udg_E_U[1],(I2R(GetHeroStatBJ(0,udg_E_U[0],true))*5.),ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
call AddSpecialEffectTargetUnitBJ("chest",udg_E_U[1],"Lightning.mdx")
set udg_E_E[0]=bj_lastCreatedEffect
set udg_E_I[0]=0
set udg_E_P[0]=GetUnitLoc(udg_E_U[0])
set udg_E_I[1]=0
call EnableTrigger(gg_trg_E_knockback)
call TriggerSleepAction(.1)
call DisableTrigger(gg_trg_E_knockback)
call DestroyEffect(udg_E_E[0])
call RemoveLocation(udg_E_P[0])
call RemoveLocation(udg_E_P[1])
call RemoveLocation(udg_E_P[2])
set udg_E_P[0]=GetUnitLoc(udg_E_U[1])
set udg_E_G[0]=GetUnitsInRangeOfLocMatching(300.,udg_E_P[0],Condition(function Trig_Elbow_Func030002003))
call ForGroupBJ(udg_E_G[0],function Trig_Elbow_Func031A)
call DestroyGroup(udg_E_G[0])
call SetUnitPathing(udg_E_U[0],true)
call PauseUnit(udg_E_U[0],false)
call PauseUnit(udg_E_U[1],false)
set udg_E_U[0]=null
set udg_E_U[1]=null
set udg_E_U[2]=null
endfunction
function InitTrig_Elbow takes nothing returns nothing
set gg_trg_Elbow=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Elbow,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Elbow,Condition(function Trig_Elbow_Conditions))
call TriggerAddAction(gg_trg_Elbow,function Trig_Elbow_Actions)
endfunction
function Trig_E_move_Func006C takes nothing returns boolean
return(udg_E_R[1]>=150.)
endfunction
function Trig_E_move_Actions takes nothing returns nothing
set udg_E_P[0]=GetUnitLoc(udg_E_U[0])
set udg_E_P[1]=GetUnitLoc(udg_E_U[1])
set udg_E_R[0]=AngleBetweenPoints(udg_E_P[0],udg_E_P[1])
set udg_E_P[2]=PolarProjectionBJ(udg_E_P[0],75.,udg_E_R[0])
set udg_E_R[1]=DistanceBetweenPoints(udg_E_P[0],udg_E_P[1])
if(Trig_E_move_Func006C())then
call CreateNUnitsAtLoc(1,'h03F',GetOwningPlayer(udg_E_U[0]),udg_E_P[0],udg_E_R[0])
call UnitApplyTimedLifeBJ(.1,'BTLF',bj_lastCreatedUnit)
call SetUnitAnimationByIndex(bj_lastCreatedUnit,5)
call SetUnitVertexColorBJ(bj_lastCreatedUnit,50.,50.,'d',50.)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,300.)
call SetUnitPositionLocFacingBJ(udg_E_U[0],udg_E_P[2],udg_E_R[0])
call AddSpecialEffectLocBJ(udg_E_P[0],"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectTargetUnitBJ("left hand",udg_E_U[0],"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(udg_E_P[0])
call RemoveLocation(udg_E_P[1])
call RemoveLocation(udg_E_P[2])
else
call RemoveLocation(udg_E_P[0])
call RemoveLocation(udg_E_P[1])
call RemoveLocation(udg_E_P[2])
set udg_E_I[0]=1
call SetUnitAnimation(udg_E_U[0],"Spell one")
call DestroyEffect(udg_E_E[0])
call DestroyEffect(udg_E_E[1])
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function InitTrig_E_move takes nothing returns nothing
set gg_trg_E_move=CreateTrigger()
call DisableTrigger(gg_trg_E_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_E_move,.02)
call TriggerAddAction(gg_trg_E_move,function Trig_E_move_Actions)
endfunction
function Trig_E_knockback_Func006C takes nothing returns boolean
return(udg_E_R[1]<=600.)
endfunction
function Trig_E_knockback_Actions takes nothing returns nothing
set udg_E_P[1]=GetUnitLoc(udg_E_U[1])
set udg_E_R[0]=AngleBetweenPoints(udg_E_P[0],udg_E_P[1])
set udg_E_P[2]=PolarProjectionBJ(udg_E_P[1],30.,udg_E_R[0])
set udg_E_R[1]=DistanceBetweenPoints(udg_E_P[0],udg_E_P[1])
set udg_E_I[1]=(udg_E_I[1]+1)
if(Trig_E_knockback_Func006C())then
call SetUnitPositionLocFacingBJ(udg_E_U[1],udg_E_P[2],udg_E_R[0])
call RemoveLocation(udg_E_P[1])
call RemoveLocation(udg_E_P[2])
else
call DestroyEffect(udg_E_E[0])
call RemoveLocation(udg_E_P[0])
call RemoveLocation(udg_E_P[1])
call RemoveLocation(udg_E_P[2])
call SetUnitAnimation(udg_E_U[1],"death")
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function InitTrig_E_knockback takes nothing returns nothing
set gg_trg_E_knockback=CreateTrigger()
call DisableTrigger(gg_trg_E_knockback)
call TriggerRegisterTimerEventPeriodic(gg_trg_E_knockback,.01)
call TriggerAddAction(gg_trg_E_knockback,function Trig_E_knockback_Actions)
endfunction
function Trig_Guillotine_Drop_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A0C2')
endfunction
function Trig_Guillotine_Drop_Func025Func002001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0C2',udg_GD_U[0])==1)
endfunction
function Trig_Guillotine_Drop_Func025Func003001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0C2',udg_GD_U[0])==2)
endfunction
function Trig_Guillotine_Drop_Func025Func004001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0C2',udg_GD_U[0])==3)
endfunction
function Trig_Guillotine_Drop_Func025Func005001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0C2',udg_GD_U[0])==4)
endfunction
function Trig_Guillotine_Drop_Func025C takes nothing returns boolean
return(UnitHasBuffBJ(udg_GD_U[0],'B01M'))
endfunction
function Trig_Guillotine_Drop_Actions takes nothing returns nothing
set udg_GD_U[0]=GetTriggerUnit()
set udg_GD_P[0]=GetUnitLoc(udg_GD_U[0])
set udg_GD_P[1]=GetSpellTargetLoc()
set udg_GD_R[0]=AngleBetweenPoints(udg_GD_P[0],udg_GD_P[1])
set udg_GD_R[1]=AngleBetweenPoints(udg_GD_P[1],udg_GD_P[0])
call PauseUnit(udg_GD_U[0],true)
call AddSpecialEffectLocBJ(udg_GD_P[0],"blackblink.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call UnitAddAbility(udg_GD_U[0],'Aave')
call SetUnitFlyHeight(udg_GD_U[0],400.,777777.)
call CreateNUnitsAtLoc(1,'h05R',GetOwningPlayer(udg_GD_U[0]),udg_GD_P[0],udg_GD_R[1])
call UnitApplyTimedLifeBJ(1.,'BTLF',bj_lastCreatedUnit)
call SetUnitPositionLocFacingBJ(udg_GD_U[0],udg_GD_P[1],udg_GD_R[0])
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=36
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_GD_P[2]=PolarProjectionBJ(udg_GD_P[1],200.,(I2R(bj_forLoopAIndex)*10.))
call CreateNUnitsAtLoc(1,'h05S',GetOwningPlayer(udg_GD_U[0]),udg_GD_P[2],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(1.,'BTLF',bj_lastCreatedUnit)
call SetUnitFlyHeight(bj_lastCreatedUnit,4000.,9999999.)
call IssueTargetOrderById(bj_lastCreatedUnit,$D0106,udg_GD_U[0])
call RemoveLocation(udg_GD_P[2])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call RemoveLocation(udg_GD_P[0])
call TriggerSleepAction(.01)
call SetUnitAnimation(udg_GD_U[0],"Attack Slam")
call SetUnitFlyHeight(udg_GD_U[0],.0,2000.)
call TriggerSleepAction(.2)
set udg_GD_R[0]=50.
set udg_GD_G[1]=GetLastCreatedGroup()
call AddSpecialEffectLocBJ(udg_GD_P[1],"HelGate.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call EnableTrigger(gg_trg_GD_loop)
if(Trig_Guillotine_Drop_Func025C())then
if(Trig_Guillotine_Drop_Func025Func002001())then
call UnitDamageTargetBJ(udg_GD_U[0],GetEnumUnit(),320.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endif
if(Trig_Guillotine_Drop_Func025Func003001())then
call UnitDamageTargetBJ(udg_GD_U[0],GetEnumUnit(),480.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endif
if(Trig_Guillotine_Drop_Func025Func004001())then
call UnitDamageTargetBJ(udg_GD_U[0],GetEnumUnit(),640.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endif
if(Trig_Guillotine_Drop_Func025Func005001())then
call UnitDamageTargetBJ(udg_GD_U[0],GetEnumUnit(),780.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endif
endif
call TriggerSleepAction(.18)
call DisableTrigger(gg_trg_GD_loop)
call UnitRemoveAbility(udg_GD_U[0],'Aave')
call DestroyGroup(udg_GD_G[1])
call RemoveLocation(udg_GD_P[1])
call PauseUnit(udg_GD_U[0],false)
set udg_GD_U[0]=null
endfunction
function InitTrig_Guillotine_Drop takes nothing returns nothing
set gg_trg_Guillotine_Drop=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Guillotine_Drop,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Guillotine_Drop,Condition(function Trig_Guillotine_Drop_Conditions))
call TriggerAddAction(gg_trg_Guillotine_Drop,function Trig_Guillotine_Drop_Actions)
endfunction
function Trig_GD_loop_Func002002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_GD_loop_Func002002003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_GD_U[0])))
endfunction
function Trig_GD_loop_Func002002003002002 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),udg_GD_G[1])==false)
endfunction
function Trig_GD_loop_Func002002003002 takes nothing returns boolean
return GetBooleanAnd(Trig_GD_loop_Func002002003002001(),Trig_GD_loop_Func002002003002002())
endfunction
function Trig_GD_loop_Func002002003 takes nothing returns boolean
return GetBooleanAnd(Trig_GD_loop_Func002002003001(),Trig_GD_loop_Func002002003002())
endfunction
function Trig_GD_loop_Func004Func001001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0C2',udg_GD_U[0])==1)
endfunction
function Trig_GD_loop_Func004Func002001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0C2',udg_GD_U[0])==2)
endfunction
function Trig_GD_loop_Func004Func003001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0C2',udg_GD_U[0])==3)
endfunction
function Trig_GD_loop_Func004Func004001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0C2',udg_GD_U[0])==4)
endfunction
function Trig_GD_loop_Func004A takes nothing returns nothing
if(Trig_GD_loop_Func004Func001001())then
call UnitDamageTargetBJ(udg_GD_U[0],GetEnumUnit(),160.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endif
if(Trig_GD_loop_Func004Func002001())then
call UnitDamageTargetBJ(udg_GD_U[0],GetEnumUnit(),240.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endif
if(Trig_GD_loop_Func004Func003001())then
call UnitDamageTargetBJ(udg_GD_U[0],GetEnumUnit(),320.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endif
if(Trig_GD_loop_Func004Func004001())then
call UnitDamageTargetBJ(udg_GD_U[0],GetEnumUnit(),390.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endif
call GroupAddUnit(udg_GD_G[1],GetEnumUnit())
endfunction
function Trig_GD_loop_Actions takes nothing returns nothing
set udg_GD_R[0]=(udg_GD_R[0]+40.)
set udg_GD_G[0]=GetUnitsInRangeOfLocMatching(udg_GD_R[0],udg_GD_P[1],Condition(function Trig_GD_loop_Func002002003))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=9
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_GD_P[2]=PolarProjectionBJ(udg_GD_P[1],udg_GD_R[0],(I2R(bj_forLoopAIndex)*40.))
call AddSpecialEffectLocBJ(udg_GD_P[2],"earthsmash.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(udg_GD_P[2])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call ForGroupBJ(udg_GD_G[0],function Trig_GD_loop_Func004A)
call DestroyGroup(udg_GD_G[0])
endfunction
function InitTrig_GD_loop takes nothing returns nothing
set gg_trg_GD_loop=CreateTrigger()
call DisableTrigger(gg_trg_GD_loop)
call TriggerRegisterTimerEventPeriodic(gg_trg_GD_loop,.06)
call TriggerAddAction(gg_trg_GD_loop,function Trig_GD_loop_Actions)
endfunction
function Trig_IB_hash_Actions takes nothing returns nothing
call InitHashtableBJ()
set udg_IB_hash=GetLastCreatedHashtableBJ()
call InitHashtableBJ()
set udg_IB_hash2=GetLastCreatedHashtableBJ()
endfunction
function InitTrig_IB_hash takes nothing returns nothing
set gg_trg_IB_hash=CreateTrigger()
call TriggerAddAction(gg_trg_IB_hash,function Trig_IB_hash_Actions)
endfunction
function Trig_IB_cast_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A0AD')
endfunction
function Trig_IB_cast_Func001C takes nothing returns boolean
return(IsUnitGroupEmptyBJ(udg_IB_group))and(IsUnitGroupEmptyBJ(udg_IB_group2))
endfunction
function Trig_IB_cast_Func006C takes nothing returns boolean
return(UnitHasBuffBJ(udg_IB_caster,'B001'))
endfunction
function Trig_IB_cast_Actions takes nothing returns nothing
if(Trig_IB_cast_Func001C())then
call EnableTrigger(gg_trg_IB_loop)
endif
set udg_IB_caster=GetTriggerUnit()
set udg_IB_target=GetSpellTargetUnit()
set udg_IB_handle=GetHandleId(udg_IB_caster)
set udg_IB_point=GetUnitLoc(udg_IB_caster)
if(Trig_IB_cast_Func006C())then
set udg_IB_damage=(8.*I2R(GetHeroStatBJ(0,udg_IB_caster,true)))
set udg_IB_DT=5
else
set udg_IB_damage=(6.*I2R(GetHeroStatBJ(0,udg_IB_caster,true)))
set udg_IB_DT=$A
endif
call SetUnitPathing(udg_IB_caster,false)
call AddSpecialEffectLocBJ(udg_IB_point,"Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call SaveRealBJ(udg_IB_damage,StringHashBJ("damage"),udg_IB_handle,udg_IB_hash)
call SaveIntegerBJ(udg_IB_DT,StringHashBJ("time"),udg_IB_handle,udg_IB_hash)
call SaveUnitHandleBJ(udg_IB_target,StringHashBJ("target"),udg_IB_handle,udg_IB_hash)
call GroupAddUnit(udg_IB_group,udg_IB_caster)
call PauseUnit(udg_IB_target,true)
call PauseUnit(udg_IB_caster,true)
call RemoveLocation(udg_IB_point)
endfunction
function InitTrig_IB_cast takes nothing returns nothing
set gg_trg_IB_cast=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_IB_cast,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_IB_cast,Condition(function Trig_IB_cast_Conditions))
call TriggerAddAction(gg_trg_IB_cast,function Trig_IB_cast_Actions)
endfunction
function Trig_IB_loop_Func001C takes nothing returns boolean
return(IsUnitGroupEmptyBJ(udg_IB_group))and(IsUnitGroupEmptyBJ(udg_IB_group2))
endfunction
function Trig_IB_loop_Func002Func004C takes nothing returns boolean
return(udg_IB_DT>0)
endfunction
function Trig_IB_loop_Func002A takes nothing returns nothing
set udg_IB_caster=GetEnumUnit()
set udg_IB_handle=GetHandleId(udg_IB_caster)
set udg_IB_DT=LoadIntegerBJ(StringHashBJ("time"),udg_IB_handle,udg_IB_hash)
if(Trig_IB_loop_Func002Func004C())then
set udg_IB_DT=(udg_IB_DT-1)
call SaveIntegerBJ(udg_IB_DT,StringHashBJ("time"),udg_IB_handle,udg_IB_hash)
else
set udg_IB_target=LoadUnitHandleBJ(StringHashBJ("target"),udg_IB_handle,udg_IB_hash)
call UnitAddAbility(udg_IB_target,'Amrf')
set udg_IB_point=GetUnitLoc(udg_IB_target)
set udg_IB_point2=PolarProjectionBJ(udg_IB_point,25.,GetRandomReal(0,359.))
call SetUnitFacingToFaceLocTimed(udg_IB_caster,udg_IB_point,0)
call AddSpecialEffectLocBJ(udg_IB_point2,"Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call SetUnitPositionLocFacingLocBJ(udg_IB_caster,udg_IB_point2,udg_IB_point)
call RemoveLocation(udg_IB_point2)
call RemoveLocation(udg_IB_point)
call SetUnitAnimationByIndex(udg_IB_caster,9)
set udg_IB_DT=24
call SaveIntegerBJ(udg_IB_DT,StringHashBJ("time"),udg_IB_handle,udg_IB_hash)
call GroupAddUnit(udg_IB_group2,udg_IB_caster)
call GroupRemoveUnit(udg_IB_group,udg_IB_caster)
call PauseUnit(udg_IB_caster,true)
endif
endfunction
function Trig_IB_loop_Func003Func005Func001C takes nothing returns boolean
return(GetUnitFlyHeight(udg_IB_target)>.0)
endfunction
function Trig_IB_loop_Func003Func005C takes nothing returns boolean
return(udg_IB_DT<=18)
endfunction
function Trig_IB_loop_Func003Func006Func001C takes nothing returns boolean
return(udg_IB_DT==4)or(udg_IB_DT==6)or(udg_IB_DT==8)or(udg_IB_DT==$A)
endfunction
function Trig_IB_loop_Func003Func006Func005Func003002003001 takes nothing returns boolean
return(IsUnitDeadBJ(GetFilterUnit())==false)
endfunction
function Trig_IB_loop_Func003Func006Func005Func003002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_IB_loop_Func003Func006Func005Func003002003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_IB_caster)))
endfunction
function Trig_IB_loop_Func003Func006Func005Func003002003002 takes nothing returns boolean
return GetBooleanAnd(Trig_IB_loop_Func003Func006Func005Func003002003002001(),Trig_IB_loop_Func003Func006Func005Func003002003002002())
endfunction
function Trig_IB_loop_Func003Func006Func005Func003002003 takes nothing returns boolean
return GetBooleanAnd(Trig_IB_loop_Func003Func006Func005Func003002003001(),Trig_IB_loop_Func003Func006Func005Func003002003002())
endfunction
function Trig_IB_loop_Func003Func006Func005Func004Func003Func001C takes nothing returns boolean
return(LoadUnitHandleBJ(udg_IB_integer2,udg_IB_handle,udg_IB_hash2)==udg_IB_target)
endfunction
function Trig_IB_loop_Func003Func006Func005Func004Func004Func002Func001Func002C takes nothing returns boolean
return(LoadUnitHandleBJ(udg_IB_integer2,udg_IB_handle,udg_IB_hash2)==null)
endfunction
function Trig_IB_loop_Func003Func006Func005Func004Func004Func002Func001C takes nothing returns boolean
return(udg_IB_bool2==false)
endfunction
function Trig_IB_loop_Func003Func006Func005Func004Func004Func003C takes nothing returns boolean
return(udg_IB_bool2)
endfunction
function Trig_IB_loop_Func003Func006Func005Func004Func004C takes nothing returns boolean
return(udg_IB_bool==false)
endfunction
function Trig_IB_loop_Func003Func006Func005Func004A takes nothing returns nothing
set udg_IB_target=GetEnumUnit()
set udg_IB_TARGET_AMMOUNT=LoadIntegerBJ(StringHashBJ("max"),udg_IB_handle,udg_IB_hash)
set udg_IB_integer2=0
loop
exitwhen udg_IB_integer2>udg_IB_TARGET_AMMOUNT
if(Trig_IB_loop_Func003Func006Func005Func004Func003Func001C())then
set udg_IB_bool=true
endif
set udg_IB_integer2=udg_IB_integer2+1
endloop
if(Trig_IB_loop_Func003Func006Func005Func004Func004C())then
call UnitDamageTargetBJ(udg_IB_caster,udg_IB_target,udg_IB_damage,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
set udg_IB_integer2=0
loop
exitwhen udg_IB_integer2>udg_IB_TARGET_AMMOUNT
if(Trig_IB_loop_Func003Func006Func005Func004Func004Func002Func001C())then
if(Trig_IB_loop_Func003Func006Func005Func004Func004Func002Func001Func002C())then
set udg_IB_bool2=true
set udg_IB_integer3=udg_IB_integer2
endif
endif
set udg_IB_integer2=udg_IB_integer2+1
endloop
if(Trig_IB_loop_Func003Func006Func005Func004Func004Func003C())then
set udg_IB_TARGET_AMMOUNT=(udg_IB_TARGET_AMMOUNT+1)
call SaveIntegerBJ(udg_IB_TARGET_AMMOUNT,StringHashBJ("max"),udg_IB_handle,udg_IB_hash)
endif
call SaveUnitHandleBJ(udg_IB_target,udg_IB_integer3,udg_IB_handle,udg_IB_hash2)
endif
set udg_IB_bool=false
set udg_IB_bool2=false
endfunction
function Trig_IB_loop_Func003Func006Func005Func006C takes nothing returns boolean
return(UnitHasBuffBJ(udg_IB_caster,'B01M'))
endfunction
function Trig_IB_loop_Func003Func006C takes nothing returns boolean
return(Trig_IB_loop_Func003Func006Func001C())
endfunction
function Trig_IB_loop_Func003Func007C takes nothing returns boolean
return(udg_IB_DT>0)
endfunction
function Trig_IB_loop_Func003A takes nothing returns nothing
set udg_IB_caster=GetEnumUnit()
set udg_IB_handle=GetHandleId(udg_IB_caster)
set udg_IB_target=LoadUnitHandleBJ(StringHashBJ("target"),udg_IB_handle,udg_IB_hash)
set udg_IB_DT=LoadIntegerBJ(StringHashBJ("time"),udg_IB_handle,udg_IB_hash)
if(Trig_IB_loop_Func003Func005C())then
if(Trig_IB_loop_Func003Func005Func001C())then
call SetUnitFlyHeight(udg_IB_target,(GetUnitFlyHeight(udg_IB_target)-25.),.0)
endif
else
call SetUnitFlyHeight(udg_IB_target,(25.+GetUnitFlyHeight(udg_IB_target)),.0)
endif
if(Trig_IB_loop_Func003Func006C())then
set udg_IB_point=GetUnitLoc(udg_IB_caster)
set udg_IB_distance=LoadRealBJ(StringHashBJ("distance"),udg_IB_handle,udg_IB_hash)
set udg_IB_distance=(udg_IB_distance+125.)
set udg_IB_integer=1
loop
exitwhen udg_IB_integer>9
set udg_IB_point2=PolarProjectionBJ(udg_IB_point,udg_IB_distance,((360./9.)*I2R(udg_IB_integer)))
set udg_IB_damage=LoadRealBJ(StringHashBJ("damage"),udg_IB_handle,udg_IB_hash)
set udg_IB_group3=GetUnitsInRangeOfLocMatching(150.,udg_IB_point2,Condition(function Trig_IB_loop_Func003Func006Func005Func003002003))
call ForGroupBJ(udg_IB_group3,function Trig_IB_loop_Func003Func006Func005Func004A)
call DestroyGroup(udg_IB_group3)
if(Trig_IB_loop_Func003Func006Func005Func006C())then
call AddSpecialEffectLocBJ(udg_IB_point2,"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(udg_IB_point2,"Abilities\\Spells\\Orc\\Purge\\PurgeBuffTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(udg_IB_point2,"Abilities\\Spells\\Orc\\LightningShield\\LightningShieldBuff.mdl")
call DestroyEffect(bj_lastCreatedEffect)
else
call AddSpecialEffectLocBJ(udg_IB_point2,"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endif
set udg_IB_integer=udg_IB_integer+1
endloop
call SaveRealBJ(udg_IB_distance,StringHashBJ("distance"),udg_IB_handle,udg_IB_hash)
endif
if(Trig_IB_loop_Func003Func007C())then
set udg_IB_DT=(udg_IB_DT-1)
call SaveIntegerBJ(udg_IB_DT,StringHashBJ("time"),udg_IB_handle,udg_IB_hash)
else
set udg_IB_target=LoadUnitHandleBJ(StringHashBJ("target"),udg_IB_handle,udg_IB_hash)
call PauseUnit(udg_IB_caster,false)
call PauseUnit(udg_IB_target,false)
call SetUnitAnimation(udg_IB_caster,"stand")
call SelectUnitForPlayerSingle(udg_IB_caster,GetOwningPlayer(udg_IB_caster))
call GroupRemoveUnit(udg_IB_group2,udg_IB_caster)
call FlushChildHashtableBJ(udg_IB_handle,udg_IB_hash)
call FlushChildHashtableBJ(udg_IB_handle,udg_IB_hash2)
endif
endfunction
function Trig_IB_loop_Actions takes nothing returns nothing
if(Trig_IB_loop_Func001C())then
call DisableTrigger(GetTriggeringTrigger())
endif
call ForGroupBJ(udg_IB_group,function Trig_IB_loop_Func002A)
call ForGroupBJ(udg_IB_group2,function Trig_IB_loop_Func003A)
endfunction
function InitTrig_IB_loop takes nothing returns nothing
set gg_trg_IB_loop=CreateTrigger()
call DisableTrigger(gg_trg_IB_loop)
call TriggerRegisterTimerEventPeriodic(gg_trg_IB_loop,.05)
call TriggerAddAction(gg_trg_IB_loop,function Trig_IB_loop_Actions)
endfunction
function Trig_Raigyaku_Suihei_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A0A5')
endfunction
function Trig_Raigyaku_Suihei_Func001Func081002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Raigyaku_Suihei_Func001Func081002003002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_Raigyaku_Suihei_Func001Func081002003002002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_RS_U[0])))
endfunction
function Trig_Raigyaku_Suihei_Func001Func081002003002002002 takes nothing returns boolean
return(GetFilterUnit()!=udg_RS_U[1])
endfunction
function Trig_Raigyaku_Suihei_Func001Func081002003002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Raigyaku_Suihei_Func001Func081002003002002001(),Trig_Raigyaku_Suihei_Func001Func081002003002002002())
endfunction
function Trig_Raigyaku_Suihei_Func001Func081002003002 takes nothing returns boolean
return GetBooleanAnd(Trig_Raigyaku_Suihei_Func001Func081002003002001(),Trig_Raigyaku_Suihei_Func001Func081002003002002())
endfunction
function Trig_Raigyaku_Suihei_Func001Func081002003 takes nothing returns boolean
return GetBooleanAnd(Trig_Raigyaku_Suihei_Func001Func081002003001(),Trig_Raigyaku_Suihei_Func001Func081002003002())
endfunction
function Trig_Raigyaku_Suihei_Func001Func086A takes nothing returns nothing
call UnitDamageTargetBJ(udg_RS_U[0],GetEnumUnit(),(I2R(GetHeroStatBJ(0,udg_RS_U[0],true))*20.),ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
endfunction
function Trig_Raigyaku_Suihei_Func001C takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B001')==false)
endfunction
function Trig_Raigyaku_Suihei_Actions takes nothing returns nothing
if(Trig_Raigyaku_Suihei_Func001C())then
set udg_RS_U[0]=GetTriggerUnit()
set udg_RS_U[1]=GetSpellTargetUnit()
call PauseUnit(udg_RS_U[0],true)
call PauseUnit(udg_RS_U[1],true)
set udg_RS_P[0]=GetUnitLoc(udg_RS_U[0])
set udg_RS_P[1]=GetUnitLoc(udg_RS_U[1])
set udg_RS_R[0]=50.
set udg_RS_R[1]=.0
set udg_RS_R[2]=200.
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_RS_R[0]=(udg_RS_R[0]+30.)
set udg_RS_R[1]=(udg_RS_R[1]+19.)
set udg_RS_R[2]=(udg_RS_R[2]-45.)
call CreateNUnitsAtLoc(1,'h052',GetOwningPlayer(udg_RS_U[0]),udg_RS_P[0],bj_UNIT_FACING)
call SetUnitVertexColorBJ(bj_lastCreatedUnit,80.,80.,90.,udg_RS_R[1])
call SetUnitScalePercent(bj_lastCreatedUnit,udg_RS_R[0],udg_RS_R[0],udg_RS_R[0])
call SetUnitTimeScalePercent(bj_lastCreatedUnit,udg_RS_R[2])
call UnitApplyTimedLifeBJ(2.1,'BTLF',bj_lastCreatedUnit)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_RS_R[0]=AngleBetweenPoints(udg_RS_P[0],udg_RS_P[1])
set udg_RS_R[1]=AngleBetweenPoints(udg_RS_P[1],udg_RS_P[0])
set udg_RS_P[2]=PolarProjectionBJ(udg_RS_P[1],-100.,udg_RS_R[0])
call TriggerSleepAction(2.)
call CreateNUnitsAtLoc(1,'h04Z',GetOwningPlayer(udg_RS_U[0]),udg_RS_P[0],udg_RS_R[1])
set udg_RS_U[2]=bj_lastCreatedUnit
call UnitApplyTimedLifeBJ(.5,'BTLF',udg_RS_U[2])
set udg_RS_R[1]=100.
call EnableTrigger(gg_trg_RS_loop)
call SetUnitPositionLocFacingBJ(udg_RS_U[0],udg_RS_P[2],udg_RS_R[0])
call AddLightningLoc("FORK",udg_RS_P[0],udg_RS_P[2])
set udg_RS_L[0]=bj_lastCreatedLightning
call AddLightningLoc("FORK",udg_RS_P[0],udg_RS_P[2])
set udg_RS_L[1]=bj_lastCreatedLightning
call AddLightningLoc("FORK",udg_RS_P[0],udg_RS_P[2])
set udg_RS_L[2]=bj_lastCreatedLightning
call AddSpecialEffectLocBJ(udg_RS_P[0],"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(udg_RS_P[2],"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'h050',GetOwningPlayer(udg_RS_U[0]),udg_RS_P[0],udg_RS_R[0])
call UnitApplyTimedLifeBJ(.1,'Brai',bj_lastCreatedUnit)
call SetUnitVertexColorBJ(bj_lastCreatedUnit,50.,50.,'d',50.)
call SetUnitAnimation(udg_RS_U[0],"Attack")
call AddSpecialEffectTargetUnitBJ("right hand",udg_RS_U[0],"Chirodri.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectTargetUnitBJ("left hand",udg_RS_U[0],"Chirodri.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call TriggerSleepAction(.02)
call DestroyLightning(udg_RS_L[0])
call DestroyLightning(udg_RS_L[1])
call DestroyLightning(udg_RS_L[2])
call AddSpecialEffectLocBJ(udg_RS_P[1],"war3mapImported\\LighWave1.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(udg_RS_P[1],"war3mapImported\\explosion.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'h051',GetOwningPlayer(udg_RS_U[0]),udg_RS_P[2],udg_RS_R[0])
call UnitApplyTimedLifeBJ(.1,'BTLF',bj_lastCreatedUnit)
call UnitDamageTargetBJ(udg_RS_U[0],udg_RS_U[1],6000.,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_DEMOLITION)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=24
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_RS_P[3]=PolarProjectionBJ(udg_RS_P[1],100.,(I2R(bj_forLoopAIndex)*15.))
call AddSpecialEffectLocBJ(udg_RS_P[3],"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(udg_RS_P[3])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_RS_G[0]=GetUnitsInRangeOfLocMatching(300.,udg_RS_P[1],Condition(function Trig_Raigyaku_Suihei_Func001Func081002003))
call RemoveLocation(udg_RS_P[0])
call RemoveLocation(udg_RS_P[1])
call RemoveLocation(udg_RS_P[2])
call EnableTrigger(gg_trg_RS_knockback)
call ForGroupBJ(udg_RS_G[0],function Trig_Raigyaku_Suihei_Func001Func086A)
call TriggerSleepAction(.2)
call DisableTrigger(gg_trg_RS_knockback)
call DestroyGroup(udg_RS_G[0])
call PauseUnit(udg_RS_U[1],false)
call PauseUnit(udg_RS_U[0],false)
else
call TriggerSleepAction(.04)
set udg_RS_U[0]=GetTriggerUnit()
set udg_RS_U[1]=GetSpellTargetUnit()
set udg_RS_P[0]=GetUnitLoc(udg_RS_U[0])
set udg_RS_P[1]=GetUnitLoc(udg_RS_U[1])
set udg_RS_R[0]=AngleBetweenPoints(udg_RS_P[0],udg_RS_P[1])
set udg_RS_P[2]=PolarProjectionBJ(udg_RS_P[1],-100.,udg_RS_R[0])
call SetUnitPositionLocFacingBJ(udg_RS_U[0],udg_RS_P[2],udg_RS_R[0])
call AddLightningLoc("FORK",udg_RS_P[0],udg_RS_P[2])
set udg_RS_L[0]=bj_lastCreatedLightning
call AddLightningLoc("FORK",udg_RS_P[0],udg_RS_P[2])
set udg_RS_L[1]=bj_lastCreatedLightning
call AddLightningLoc("FORK",udg_RS_P[0],udg_RS_P[2])
set udg_RS_L[2]=bj_lastCreatedLightning
call AddSpecialEffectLocBJ(udg_RS_P[0],"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(udg_RS_P[2],"Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call SetUnitAnimation(udg_RS_U[0],"Attack")
call TriggerSleepAction(.02)
call DestroyLightning(udg_RS_L[0])
call DestroyLightning(udg_RS_L[1])
call DestroyLightning(udg_RS_L[2])
call RemoveLocation(udg_RS_P[0])
call RemoveLocation(udg_RS_P[1])
call RemoveLocation(udg_RS_P[2])
set udg_RS_U[0]=null
set udg_RS_U[1]=null
set udg_RS_R[0]=.0
endif
endfunction
function InitTrig_Raigyaku_Suihei takes nothing returns nothing
set gg_trg_Raigyaku_Suihei=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Raigyaku_Suihei,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Raigyaku_Suihei,Condition(function Trig_Raigyaku_Suihei_Conditions))
call TriggerAddAction(gg_trg_Raigyaku_Suihei,function Trig_Raigyaku_Suihei_Actions)
endfunction
function Trig_RS_loop_Func001C takes nothing returns boolean
return(IsUnitDeadBJ(udg_RS_U[2]))
endfunction
function Trig_RS_loop_Actions takes nothing returns nothing
if(Trig_RS_loop_Func001C())then
call DisableTrigger(GetTriggeringTrigger())
else
set udg_RS_R[1]=(udg_RS_R[1]+40.)
call SetUnitScalePercent(udg_RS_U[2],udg_RS_R[1],udg_RS_R[1],udg_RS_R[1])
call SetUnitVertexColorBJ(udg_RS_U[2],80.,80.,90.,50.)
endif
endfunction
function InitTrig_RS_loop takes nothing returns nothing
set gg_trg_RS_loop=CreateTrigger()
call DisableTrigger(gg_trg_RS_loop)
call TriggerRegisterTimerEventPeriodic(gg_trg_RS_loop,.02)
call TriggerAddAction(gg_trg_RS_loop,function Trig_RS_loop_Actions)
endfunction
function Trig_RS_knockback_Func001A takes nothing returns nothing
set udg_RS_P[0]=GetUnitLoc(udg_RS_U[1])
set udg_RS_P[1]=GetUnitLoc(GetEnumUnit())
set udg_RS_R[0]=AngleBetweenPoints(udg_RS_P[0],udg_RS_P[1])
set udg_RS_R[1]=DistanceBetweenPoints(udg_RS_P[0],udg_RS_P[1])
set udg_RS_P[2]=PolarProjectionBJ(udg_RS_P[1],20.,udg_RS_R[0])
call SetUnitPositionLocFacingBJ(GetEnumUnit(),udg_RS_P[2],udg_RS_R[0])
call AddSpecialEffectLocBJ(udg_RS_P[1],"Abilities\\Weapons\\Bolt\\BoltImpact.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(udg_RS_P[0])
call RemoveLocation(udg_RS_P[1])
call RemoveLocation(udg_RS_P[2])
endfunction
function Trig_RS_knockback_Actions takes nothing returns nothing
call ForGroupBJ(udg_RS_G[0],function Trig_RS_knockback_Func001A)
endfunction
function InitTrig_RS_knockback takes nothing returns nothing
set gg_trg_RS_knockback=CreateTrigger()
call DisableTrigger(gg_trg_RS_knockback)
call TriggerRegisterTimerEventPeriodic(gg_trg_RS_knockback,.02)
call TriggerAddAction(gg_trg_RS_knockback,function Trig_RS_knockback_Actions)
endfunction
function Trig_Kengan_no_Jutsu_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A09U')
endfunction
function Trig_Kengan_no_Jutsu_Actions takes nothing returns nothing
set udg_Oonoki_K_U=GetTriggerUnit()
call UnitAddAbility(udg_Oonoki_K_U,'A09V')
call UnitAddAbility(udg_Oonoki_K_U,'A09W')
call SetUnitAbilityLevelSwapped('A09V',udg_Oonoki_K_U,GetUnitAbilityLevelSwapped('A09U',udg_Oonoki_K_U))
call StartTimerBJ(udg_Oonoki_K_T,true,.1)
endfunction
function InitTrig_Kengan_no_Jutsu takes nothing returns nothing
set gg_trg_Kengan_no_Jutsu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kengan_no_Jutsu,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(gg_trg_Kengan_no_Jutsu,Condition(function Trig_Kengan_no_Jutsu_Conditions))
call TriggerAddAction(gg_trg_Kengan_no_Jutsu,function Trig_Kengan_no_Jutsu_Actions)
endfunction
function Trig_Oonoki_KnJ_Loop_Func001C takes nothing returns boolean
return(UnitHasBuffBJ(udg_Oonoki_K_U,'B01I'))
endfunction
function Trig_Oonoki_KnJ_Loop_Actions takes nothing returns nothing
if(Trig_Oonoki_KnJ_Loop_Func001C())then
else
call UnitRemoveAbility(udg_Oonoki_K_U,'A09V')
call UnitRemoveAbility(udg_Oonoki_K_U,'A09W')
set udg_Oonoki_K_U=null
call PauseTimerBJ(true,udg_Oonoki_K_T)
endif
endfunction
function InitTrig_Oonoki_KnJ_Loop takes nothing returns nothing
set gg_trg_Oonoki_KnJ_Loop=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_Oonoki_KnJ_Loop,udg_Oonoki_K_T)
call TriggerAddAction(gg_trg_Oonoki_KnJ_Loop,function Trig_Oonoki_KnJ_Loop_Actions)
endfunction
function Trig_Learn_Genkai_Hakuri_no_Jutsu_Conditions takes nothing returns boolean
return(GetLearnedSkill()=='A09Y')
endfunction
function Trig_Learn_Genkai_Hakuri_no_Jutsu_Func001C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A09Y',GetTriggerUnit())==4)
endfunction
function Trig_Learn_Genkai_Hakuri_no_Jutsu_Actions takes nothing returns nothing
if(Trig_Learn_Genkai_Hakuri_no_Jutsu_Func001C())then
call UnitAddAbility(GetTriggerUnit(),'A09Z')
endif
endfunction
function InitTrig_Learn_Genkai_Hakuri_no_Jutsu takes nothing returns nothing
set gg_trg_Learn_Genkai_Hakuri_no_Jutsu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Learn_Genkai_Hakuri_no_Jutsu,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg_Learn_Genkai_Hakuri_no_Jutsu,Condition(function Trig_Learn_Genkai_Hakuri_no_Jutsu_Conditions))
call TriggerAddAction(gg_trg_Learn_Genkai_Hakuri_no_Jutsu,function Trig_Learn_Genkai_Hakuri_no_Jutsu_Actions)
endfunction
function Trig_Genkai_Hakuri_no_Jutsu_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A09Y')
endfunction
function Trig_Genkai_Hakuri_no_Jutsu_Func005001003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Genkai_Hakuri_no_Jutsu_Func005001003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function Trig_Genkai_Hakuri_no_Jutsu_Func005001003 takes nothing returns boolean
return GetBooleanAnd(Trig_Genkai_Hakuri_no_Jutsu_Func005001003001(),Trig_Genkai_Hakuri_no_Jutsu_Func005001003002())
endfunction
function Trig_Genkai_Hakuri_no_Jutsu_Func005A takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(350.*I2R(GetUnitAbilityLevelSwapped('A09Y',GetTriggerUnit()))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endfunction
function Trig_Genkai_Hakuri_no_Jutsu_Actions takes nothing returns nothing
set udg_Oonoki_J_P=GetSpellTargetLoc()
call CreateNUnitsAtLoc(1,'h04U',GetOwningPlayer(GetTriggerUnit()),udg_Oonoki_J_P,bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.9,'BTLF',bj_lastCreatedUnit)
call PolledWait(.8)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(400.,udg_Oonoki_J_P,Condition(function Trig_Genkai_Hakuri_no_Jutsu_Func005001003)),function Trig_Genkai_Hakuri_no_Jutsu_Func005A)
call AddSpecialEffectLocBJ(udg_Oonoki_J_P,"earthsmash.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(udg_Oonoki_J_P,200.,-60.),"earthsmash.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(udg_Oonoki_J_P,200.,-120.),"earthsmash.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(udg_Oonoki_J_P,200.,-180.),"earthsmash.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(udg_Oonoki_J_P,200.,-240.),"earthsmash.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(udg_Oonoki_J_P,200.,-300.),"earthsmash.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(udg_Oonoki_J_P,200.,-360.),"earthsmash.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(udg_Oonoki_J_P)
endfunction
function InitTrig_Genkai_Hakuri_no_Jutsu takes nothing returns nothing
set gg_trg_Genkai_Hakuri_no_Jutsu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Genkai_Hakuri_no_Jutsu,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Genkai_Hakuri_no_Jutsu,Condition(function Trig_Genkai_Hakuri_no_Jutsu_Conditions))
call TriggerAddAction(gg_trg_Genkai_Hakuri_no_Jutsu,function Trig_Genkai_Hakuri_no_Jutsu_Actions)
endfunction
function Trig_Mega_Jinton_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A09Z')
endfunction
function Trig_Mega_Jinton_Actions takes nothing returns nothing
set udg_Oonoki_MJ_U[0]=GetSpellAbilityUnit()
set udg_Oonoki_MJ_R[0]=GetUnitFacing(udg_Oonoki_MJ_U[0])
call CreateNUnitsAtLoc(1,'h04X',GetOwningPlayer(udg_Oonoki_MJ_U[0]),GetUnitLoc(udg_Oonoki_MJ_U[0]),GetUnitFacing(udg_Oonoki_MJ_U[0]))
set udg_Oonoki_MJ_U[1]=bj_lastCreatedUnit
call CreateNUnitsAtLoc(1,'h04W',GetOwningPlayer(udg_Oonoki_MJ_U[0]),PolarProjectionBJ(GetUnitLoc(udg_Oonoki_MJ_U[0]),350.,GetUnitFacing(udg_Oonoki_MJ_U[0])),GetUnitFacing(udg_Oonoki_MJ_U[0]))
call UnitApplyTimedLifeBJ(.5,'BTLF',bj_lastCreatedUnit)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Oonoki_MJ_U[0]),100.,udg_Oonoki_MJ_R[0]),"earthsmash.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Oonoki_MJ_U[0]),200.,udg_Oonoki_MJ_R[0]),"earthsmash.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Oonoki_MJ_U[0]),300.,udg_Oonoki_MJ_R[0]),"earthsmash.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Oonoki_MJ_U[0]),400.,udg_Oonoki_MJ_R[0]),"earthsmash.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Oonoki_MJ_U[0]),500.,udg_Oonoki_MJ_R[0]),"earthsmash.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Oonoki_MJ_U[0]),600.,udg_Oonoki_MJ_R[0]),"earthsmash.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Oonoki_MJ_U[0]),700.,udg_Oonoki_MJ_R[0]),"earthsmash.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Oonoki_MJ_U[0]),800.,udg_Oonoki_MJ_R[0]),"earthsmash.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(udg_Oonoki_MJ_U[0]),900.,udg_Oonoki_MJ_R[0]),"earthsmash.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call StartTimerBJ(udg_Oonoki_MJ_T[0],true,.01)
call StartTimerBJ(udg_Oonoki_MJ_T[1],true,.1)
endfunction
function InitTrig_Mega_Jinton takes nothing returns nothing
set gg_trg_Mega_Jinton=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Mega_Jinton,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Mega_Jinton,Condition(function Trig_Mega_Jinton_Conditions))
call TriggerAddAction(gg_trg_Mega_Jinton,function Trig_Mega_Jinton_Actions)
endfunction
function Trig_MJ_Loop_Func002002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_MJ_Loop_Func002002003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Oonoki_MJ_U[0])))
endfunction
function Trig_MJ_Loop_Func002002003 takes nothing returns boolean
return GetBooleanAnd(Trig_MJ_Loop_Func002002003001(),Trig_MJ_Loop_Func002002003002())
endfunction
function Trig_MJ_Loop_Func004C takes nothing returns boolean
return(udg_Oonoki_MJ_R[1]>=900.)
endfunction
function Trig_MJ_Loop_Func005003 takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_MJ_Loop_Func006Func001C takes nothing returns boolean
return(IsUnitInGroup(GetEnumUnit(),udg_Oonoki_MJ_A_G)==false)
endfunction
function Trig_MJ_Loop_Func006A takes nothing returns nothing
if(Trig_MJ_Loop_Func006Func001C())then
call GroupAddUnit(udg_Oonoki_MJ_A_G,GetEnumUnit())
call UnitDamageTargetBJ(udg_Oonoki_MJ_U[0],GetEnumUnit(),2000.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_UNIVERSAL)
endif
endfunction
function Trig_MJ_Loop_Actions takes nothing returns nothing
set udg_Oonoki_MJ_R[1]=(udg_Oonoki_MJ_R[1]+36.)
set udg_Oonoki_MJ_G[0]=GetUnitsInRangeOfLocMatching(250.,GetUnitLoc(udg_Oonoki_MJ_U[1]),Condition(function Trig_MJ_Loop_Func002002003))
call SetUnitPositionLocFacingBJ(udg_Oonoki_MJ_U[1],PolarProjectionBJ(GetUnitLoc(udg_Oonoki_MJ_U[1]),50.,udg_Oonoki_MJ_R[0]),udg_Oonoki_MJ_R[0])
if(Trig_MJ_Loop_Func004C())then
call RemoveUnit(udg_Oonoki_MJ_U[1])
set udg_Oonoki_MJ_R[0]=.0
set udg_Oonoki_MJ_R[1]=.0
set udg_Oonoki_MJ_U[0]=null
set udg_Oonoki_MJ_U[1]=null
call DestroyGroup(udg_Oonoki_MJ_G[0])
call PauseTimerBJ(true,udg_Oonoki_MJ_T[0])
endif
call EnumDestructablesInCircleBJ(250.,GetUnitLoc(udg_Oonoki_MJ_U[1]),function Trig_MJ_Loop_Func005003)
call ForGroupBJ(udg_Oonoki_MJ_G[0],function Trig_MJ_Loop_Func006A)
endfunction
function InitTrig_MJ_Loop takes nothing returns nothing
set gg_trg_MJ_Loop=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_MJ_Loop,udg_Oonoki_MJ_T[0])
call TriggerAddAction(gg_trg_MJ_Loop,function Trig_MJ_Loop_Actions)
endfunction
function Trig_Wood_health_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A075')
endfunction
function Trig_Wood_health_Actions takes nothing returns nothing
call PauseUnit(GetTriggerUnit(),true)
call UnitAddAbility(GetTriggerUnit(),'A05Q')
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'h03V',Player($F),GetUnitLoc(GetTriggerUnit()),GetRandomReal(0,360))
call UnitApplyTimedLifeBJ(3.,'Brai',bj_lastCreatedUnit)
call SetUnitScalePercent(bj_lastCreatedUnit,10.,10.,10.)
set udg_PeinReal[$C1]=10.
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=44
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call TriggerSleepAction(.0)
set udg_PeinReal[$C1]=(udg_PeinReal[$C1]+.3)
call SetUnitScalePercent(bj_lastCreatedUnit,udg_PeinReal[$C1],udg_PeinReal[$C1],udg_PeinReal[$C1])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call UnitRemoveAbility(GetTriggerUnit(),'A05Q')
call PauseUnit(GetTriggerUnit(),false)
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set udg_PeinReal[$C1]=.0
endfunction
function InitTrig_Wood_health takes nothing returns nothing
set gg_trg_Wood_health=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Wood_health,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Wood_health,Condition(function Trig_Wood_health_Conditions))
call TriggerAddAction(gg_trg_Wood_health,function Trig_Wood_health_Actions)
endfunction
function Trig_Futon_Shinku_Shuriken_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A077'
endfunction
function Trig_Futon_Shinku_Shuriken_loop takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit u=LoadUnitHandle(hash,h,0)
local real x=LoadReal(hash,h,1)
local real y=LoadReal(hash,h,2)
local real dmg=LoadReal(hash,h,3)
local unit j=LoadUnitHandle(hash,h,5)
local unit dummy=LoadUnitHandle(hash,h,6)
local group g=CreateGroup()
local unit tg
local integer i=LoadInteger(hash,h,4)
if(i>=18)then
call RemoveUnit(j)
call RemoveUnit(dummy)
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(hash,h)
else
call GroupEnumUnitsInRange(g,x,y,$B4,null)
loop
set tg=FirstOfGroup(g)
exitwhen tg==null
if(IsUnitEnemy(tg,GetOwningPlayer(u))and not IsUnitType(tg,UNIT_TYPE_DEAD)and not IsUnitType(tg,UNIT_TYPE_STRUCTURE))then
call UnitDamageTarget(u,tg,dmg,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call IssueTargetOrderById(dummy,$D006B,tg)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",tg,"chest"))
endif
call GroupRemoveUnit(g,tg)
endloop
call SaveInteger(hash,h,4,i+1)
endif
call DestroyGroup(g)
set g=null
set dummy=null
set tg=null
set u=null
set j=null
set t=null
endfunction
function Trig_Futon_Shinku_Shuriken_end takes real x,real y,unit u,unit j,real dmg,unit dummy returns nothing
local timer t=CreateTimer()
local integer h=GetHandleId(t)
call SaveAgentHandle(hash,h,0,u)
call SaveReal(hash,h,1,x)
call SaveReal(hash,h,2,y)
call SaveReal(hash,h,3,dmg)
call SaveAgentHandle(hash,h,5,j)
call SaveAgentHandle(hash,h,6,dummy)
call TimerStart(t,.2,true,function Trig_Futon_Shinku_Shuriken_loop)
set t=null
endfunction
function Trig_Futon_Shinku_Shuriken_Damage takes real x,real y,unit u,real dmg,group gm,unit dummy returns nothing
local group g=CreateGroup()
local unit tg
call GroupEnumUnitsInRange(g,x,y,$96,null)
loop
set tg=FirstOfGroup(g)
exitwhen tg==null
if(IsUnitEnemy(tg,GetOwningPlayer(u))and not IsUnitType(tg,UNIT_TYPE_DEAD)and not IsUnitType(tg,UNIT_TYPE_STRUCTURE)and IsUnitInGroup(tg,gm)==false)then
call UnitDamageTarget(u,tg,dmg,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",tg,"chest"))
call IssueTargetOrderById(dummy,$D006B,tg)
call GroupAddUnit(gm,tg)
endif
call GroupRemoveUnit(g,tg)
endloop
call DestroyGroup(g)
set g=null
set tg=null
endfunction
function Trig_Futon_Shinku_Shuriken_Timer takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit u=LoadUnitHandle(hash,h,0)
local unit f=LoadUnitHandle(hash,h,1)
local unit j=LoadUnitHandle(hash,h,2)
local real dmg=LoadReal(hash,h,3)
local group gm=LoadGroupHandle(hash,h,4)
local unit dummy=LoadUnitHandle(hash,h,5)
local real x=GetWidgetX(j)
local real y=GetWidgetY(j)
local real x1=GetWidgetX(f)
local real y1=GetWidgetY(f)
local real a=bj_RADTODEG*Atan2(y1-y,x1-x)
if SquareRoot((x-x1)*(x-x1)+(y-y1)*(y-y1))<=30 then
call Trig_Futon_Shinku_Shuriken_end(x,y,u,j,dmg,dummy)
call PauseTimer(t)
call DestroyTimer(t)
call GroupClear(gm)
call DestroyGroup(gm)
call FlushChildHashtable(hash,h)
else
call SetUnitPosition(j,x+30*Cos(a*bj_DEGTORAD),y+30*Sin(a*bj_DEGTORAD))
call Trig_Futon_Shinku_Shuriken_Damage(x,y,u,dmg,gm,dummy)
call SaveGroupHandle(hash,h,4,gm)
endif
if not IsUnitInRangeXY(u,x,y,$708)and(GetUnitState(f,UNIT_STATE_LIFE)<0)then
call RemoveUnit(j)
call PauseTimer(t)
call DestroyTimer(t)
call GroupClear(gm)
call DestroyGroup(gm)
call FlushChildHashtable(hash,h)
endif
set dummy=null
set gm=null
set u=null
set f=null
set j=null
set t=null
endfunction
function Trig_Futon_Shinku_Shuriken_Actions takes nothing returns nothing
local timer t=CreateTimer()
local integer h=GetHandleId(t)
local unit u=GetTriggerUnit()
local unit dummy
local unit f=GetSpellTargetUnit()
local unit j
local real x=GetWidgetX(u)
local real y=GetWidgetY(u)
local real dmg
local group gm=CreateGroup()
set dummy=CreateUnit(GetOwningPlayer(u),'u00E',x,y,bj_UNIT_FACING)
call UnitAddAbility(dummy,'A09C')
set j=CreateUnit(GetOwningPlayer(u),'h04V',x,y,0)
if(GetUnitAbilityLevel(u,'A077')==1)then
set dmg=$A+GetHeroStr(u,false)*3
elseif(GetUnitAbilityLevel(u,'A077')==2)then
set dmg=20+GetHeroStr(u,false)*3
elseif(GetUnitAbilityLevel(u,'A077')==3)then
set dmg=30+GetHeroStr(u,false)*3
elseif(GetUnitAbilityLevel(u,'A077')==4)then
set dmg=40+GetHeroStr(u,false)*3
endif
call SaveAgentHandle(hash,h,0,u)
call SaveAgentHandle(hash,h,1,f)
call SaveAgentHandle(hash,h,2,j)
call SaveReal(hash,h,3,dmg)
call SaveAgentHandle(hash,h,4,gm)
call SaveAgentHandle(hash,h,5,dummy)
call TimerStart(t,.03,true,function Trig_Futon_Shinku_Shuriken_Timer)
set dummy=null
set gm=null
set u=null
set f=null
set j=null
set t=null
endfunction
function InitTrig_Futon_Shinku_Shuriken takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_Futon_Shinku_Shuriken_Conditions))
call TriggerAddAction(t,function Trig_Futon_Shinku_Shuriken_Actions)
set t=null
endfunction
function Trig_Futon_Shinkuha_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A09C'
endfunction
function Trig_Futon_Shinkuha_Timer takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit u=LoadUnitHandle(hash,h,0)
local unit j=LoadUnitHandle(hash,h,1)
local integer time=LoadInteger(hash,h,2)
local real dmg=LoadReal(hash,h,3)
local group gm=LoadGroupHandle(hash,h,4)
local real a=LoadReal(hash,h,5)
local unit dummy=LoadUnitHandle(hash,h,6)
local real x=GetWidgetX(j)
local real y=GetWidgetY(j)
local group g=CreateGroup()
local unit tg
if time<28 then
call GroupEnumUnitsInRange(g,x,y,$FA,null)
loop
set tg=FirstOfGroup(g)
exitwhen tg==null
if(IsUnitEnemy(tg,GetOwningPlayer(u))and not IsUnitType(tg,UNIT_TYPE_DEAD)and not IsUnitType(tg,UNIT_TYPE_STRUCTURE)and IsUnitInGroup(tg,gm)==false)then
call UnitDamageTarget(u,tg,dmg,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",tg,"chest"))
call IssueTargetOrderById(dummy,$D006B,tg)
call GroupAddUnit(gm,tg)
endif
call GroupRemoveUnit(g,tg)
endloop
call SetUnitPosition(j,x+30*Cos(a*bj_DEGTORAD),y+30*Sin(a*bj_DEGTORAD))
call SaveInteger(hash,h,2,time+1)
call SaveGroupHandle(hash,h,4,gm)
else
call RemoveUnit(j)
call RemoveUnit(dummy)
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(hash,h)
call GroupClear(gm)
call DestroyGroup(gm)
endif
call DestroyGroup(g)
set g=null
set dummy=null
set tg=null
set u=null
set j=null
set t=null
set gm=null
endfunction
function Trig_Futon_Shinkuha_Actions takes nothing returns nothing
local timer t=CreateTimer()
local integer h=GetHandleId(t)
local unit u=GetTriggerUnit()
local unit j
local unit dummy
local real x=GetWidgetX(u)
local real y=GetWidgetY(u)
local real x1=GetSpellTargetX()
local real y1=GetSpellTargetY()
local real a=bj_RADTODEG*Atan2(y1-y,x1-x)
local real dmg
local group gm=CreateGroup()
if(GetUnitAbilityLevel(u,'A09C')==1)then
set dmg=$82+GetHeroStr(u,false)*.5
elseif(GetUnitAbilityLevel(u,'A09C')==2)then
set dmg=$C8+GetHeroStr(u,false)*.6
elseif(GetUnitAbilityLevel(u,'A09C')==3)then
set dmg=270+GetHeroStr(u,false)*.7
elseif(GetUnitAbilityLevel(u,'A09C')==4)then
set dmg=340+GetHeroStr(u,false)*.8
endif
set dummy=CreateUnit(GetOwningPlayer(u),'u00E',x,y,bj_UNIT_FACING)
call UnitAddAbility(dummy,'A09D')
set j=CreateUnit(GetOwningPlayer(u),'h04S',x+80*Cos(a*bj_DEGTORAD),y+80*Sin(a*bj_DEGTORAD),a)
set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(u),'h04T',x+'x'*Cos(a*bj_DEGTORAD),y+'x'*Sin(a*bj_DEGTORAD),a+$B4)
call SetUnitVertexColor(bj_lastCreatedUnit,$F0,$F0,$F0,$8C)
call UnitApplyTimedLife(bj_lastCreatedUnit,1,1)
call SetUnitTimeScale(bj_lastCreatedUnit,$96*.01)
call SaveAgentHandle(hash,h,0,u)
call SaveAgentHandle(hash,h,1,j)
call SaveReal(hash,h,3,dmg)
call SaveAgentHandle(hash,h,4,gm)
call SaveReal(hash,h,5,a)
call SaveAgentHandle(hash,h,6,dummy)
call TimerStart(t,.02,true,function Trig_Futon_Shinkuha_Timer)
set u=null
set dummy=null
set j=null
set gm=null
set t=null
endfunction
function InitTrig_Futon_Shinkuha takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_Futon_Shinkuha_Conditions))
call TriggerAddAction(t,function Trig_Futon_Shinkuha_Actions)
set t=null
endfunction
function SH_Danzo takes nothing returns nothing
local unit cjlocgn_00000000
local unit cjlocgn_00000001
if GetSpellAbilityId()=='A07F' then
set cjlocgn_00000000=GetSpellAbilityUnit()
set cjlocgn_00000001=GetSpellTargetUnit()
if GetUnitAbilityLevel(cjlocgn_00000000,'A07F')==1 then
call PauseUnit(cjlocgn_00000001,true)
call TriggerSleepAction(5)
call PauseUnit(cjlocgn_00000001,false)
endif
if GetUnitAbilityLevel(cjlocgn_00000000,'A07F')==2 then
call PauseUnit(cjlocgn_00000001,true)
call TriggerSleepAction(6.5)
call PauseUnit(cjlocgn_00000001,false)
endif
if GetUnitAbilityLevel(cjlocgn_00000000,'A07F')==3 then
call PauseUnit(cjlocgn_00000001,true)
call TriggerSleepAction(8)
call PauseUnit(cjlocgn_00000001,false)
endif
set cjlocgn_00000000=null
set cjlocgn_00000001=null
endif
endfunction
function InitTrig_Sh_Danzo takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddAction(t,function SH_Danzo)
set t=null
endfunction
function USF_Loop takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
local real s=LoadReal(hash,GetHandleId(t),2)
local real ss=s+50
local group g=CreateGroup()
local unit n=null
call GroupEnumUnitsInRange(g,GetUnitX(a),GetUnitY(a),$C8+ss,null)
loop
set n=FirstOfGroup(g)
exitwhen n==null
if IsUnitEnemy(n,GetOwningPlayer(a)) and IsUnitType(n,UNIT_TYPE_DEAD)==false then
call UnitDamageTarget(a,n,'d',true,false,null,null,null)
endif
call GroupRemoveUnit(g,n)
endloop
call DestroyGroup(g)
set a=null
set g=null
set n=null
set t=null
set ss=0
endfunction
function USF_A takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local real s=0
local unit b
local unit b1
local timer t
local unit b2
local unit b3
call SetUnitInvulnerable(a,true)
call TriggerSleepAction(.4)
call SetUnitAnimation(a,"Spell")
call CreateTextTagLocBJ("Ура Шишо Фуиндзюцу",GetUnitLoc(a),0,15.,'d','d',.0,0)
call TerrainDeformationRippleBJ(6,false,GetUnitLoc(a),$400,450,$C8,1,1)
call PauseUnit(a,true)
call TriggerSleepAction(.4)
set b=CreateUnitAtLoc(GetOwningPlayer(a),'h03W',GetUnitLoc(a),bj_UNIT_FACING)
call DestroyTextTag(bj_lastCreatedTextTag)
set b1=CreateUnitAtLoc(GetOwningPlayer(a),'h038',GetUnitLoc(a),bj_UNIT_FACING)
set t=CreateTimer()
call SaveUnitHandle(hash,GetHandleId(t),1,a)
call SaveReal(hash,GetHandleId(t),2,s)
call TimerStart(t,.04,true,function USF_Loop)
call SetUnitScale(b1,50*.01,50*.01,50*.01)
call TriggerSleepAction(.2)
call SetUnitScale(b1,60*.01,60*.01,60*.01)
set s=50
call SaveReal(hash,GetHandleId(t),2,s)
call TriggerSleepAction(.2)
call SetUnitScale(b1,70*.01,70*.01,70*.01)
set s='d'
call SaveReal(hash,GetHandleId(t),2,s)
call TriggerSleepAction(.2)
call SetUnitScale(b1,80*.01,80*.01,80*.01)
set s=$96
call SaveReal(hash,GetHandleId(t),2,s)
call TriggerSleepAction(.2)
call SetUnitScale(b1,90*.01,90*.01,90*.01)
set s=$C8
call SaveReal(hash,GetHandleId(t),2,s)
call TriggerSleepAction(.08)
call PauseTimer(t)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
set b2=CreateUnitAtLoc(GetOwningPlayer(a),'h03K',GetUnitLoc(a),bj_UNIT_FACING)
call TriggerSleepAction(1)
call SetUnitScale(b1,80*.01,80*.01,80*.01)
call TriggerSleepAction(.05)
call SetUnitScale(b1,70*.01,70*.01,70*.01)
call TriggerSleepAction(.05)
call SetUnitScale(b1,60*.01,60*.01,60*.01)
call TriggerSleepAction(.05)
call SetUnitScale(b1,50*.01,50*.01,50*.01)
call TriggerSleepAction(.05)
call SetUnitScale(b1,40*.01,40*.01,40*.01)
call TriggerSleepAction(.05)
call SetUnitScale(b1,30*.01,30*.01,30*.01)
call TriggerSleepAction(.05)
call SetUnitScale(b1,20*.01,20*.01,20*.01)
call TriggerSleepAction(.05)
call SetUnitScale(b1,$A*.01,$A*.01,$A*.01)
call TriggerSleepAction(.05)
call SetUnitScale(b1,0*.01,0*.01,0*.01)
set b3=CreateUnitAtLoc(GetOwningPlayer(a),'h03K',GetUnitLoc(a),bj_UNIT_FACING)
call SetUnitInvulnerable(a,false)
call PauseUnit(a,false)
call KillUnit(a)
call RemoveUnit(b)
call TriggerSleepAction(1)
call RemoveUnit(b1)
call TriggerSleepAction(2)
call RemoveUnit(b2)
call RemoveUnit(b3)
set a=null
set b=null
set b1=null
set b2=null
set b3=null
set s=0
set t=null
endfunction
function USF_C takes nothing returns boolean
return GetSpellAbilityId()=='A000'
endfunction
function InitTrig_USF takes nothing returns nothing
local trigger USFT=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(USFT,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(USFT,Condition(function USF_C))
call TriggerAddAction(USFT,function USF_A)
set USFT=null
endfunction
function Trig_Baku_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A076')
endfunction
function Trig_Baku_Func019001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A076',gg_unit_Udre_0022)==1)
endfunction
function Trig_Baku_Func020001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A076',gg_unit_Udre_0022)==2)
endfunction
function Trig_Baku_Func021001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A076',gg_unit_Udre_0022)==3)
endfunction
function Trig_Baku_Actions takes nothing returns nothing
call CreateNUnitsAtLoc(1,'h01C',Player($F),PolarProjectionBJ(GetUnitLoc(gg_unit_Udre_0022),256.,GetUnitFacing(gg_unit_Udre_0022)),GetUnitFacing(gg_unit_Udre_0022))
set udg_Danzou[0]=bj_lastCreatedUnit
call AddSpecialEffectLocBJ(GetUnitLoc(bj_lastCreatedUnit),"Kachiose.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'h021',Player($F),GetUnitLoc(bj_lastCreatedUnit),GetUnitFacing(gg_unit_Udre_0022))
set udg_Danzou[1]=bj_lastCreatedUnit
call CreateNUnitsAtLoc(1,'h024',GetOwningPlayer(gg_unit_Udre_0022),PolarProjectionBJ(GetUnitLoc(udg_Danzou[0]),400.,GetUnitFacing(udg_Danzou[0])),GetUnitFacing(udg_Danzou[0]))
call SetUnitScalePercent(bj_lastCreatedUnit,170.,170.,170.)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,1000.)
set udg_Danzou[2]=bj_lastCreatedUnit
call CreateNUnitsAtLoc(1,'h024',GetOwningPlayer(gg_unit_Udre_0022),PolarProjectionBJ(GetUnitLoc(udg_Danzou[0]),640.,GetUnitFacing(udg_Danzou[0])),GetUnitFacing(udg_Danzou[0]))
call SetUnitTimeScalePercent(bj_lastCreatedUnit,1000.)
set udg_Danzou[3]=bj_lastCreatedUnit
call CreateNUnitsAtLoc(1,'h024',GetOwningPlayer(gg_unit_Udre_0022),PolarProjectionBJ(GetUnitLoc(udg_Danzou[0]),840.,GetUnitFacing(udg_Danzou[0])),GetUnitFacing(udg_Danzou[0]))
call SetUnitScalePercent(bj_lastCreatedUnit,300.,300.,300.)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,1000.)
set udg_Danzou[4]=bj_lastCreatedUnit
call EnableTrigger(gg_trg_Baku_Move)
if(Trig_Baku_Func019001())then
call TriggerSleepAction(8.)
endif
if(Trig_Baku_Func020001())then
call TriggerSleepAction(16.)
endif
if(Trig_Baku_Func021001())then
call TriggerSleepAction(24.)
endif
call DisableTrigger(gg_trg_Baku_Move)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Danzou[0]),"Kachiose.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveUnit(udg_Danzou[0])
call RemoveUnit(udg_Danzou[1])
call RemoveUnit(udg_Danzou[2])
call RemoveUnit(udg_Danzou[3])
call RemoveUnit(udg_Danzou[4])
set udg_Danzou[0]=null
set udg_Danzou[1]=null
set udg_Danzou[2]=null
set udg_Danzou[3]=null
set udg_Danzou[4]=null
endfunction
function InitTrig_Baku takes nothing returns nothing
set gg_trg_Baku=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Baku,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Baku,Condition(function Trig_Baku_Conditions))
call TriggerAddAction(gg_trg_Baku,function Trig_Baku_Actions)
endfunction
function Trig_Baku_Move_Func001001003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Baku_Move_Func001001003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(gg_unit_Udre_0022)))
endfunction
function Trig_Baku_Move_Func001001003002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetFilterUnit(),'B001')==false)
endfunction
function Trig_Baku_Move_Func001001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_Baku_Move_Func001001003002001(),Trig_Baku_Move_Func001001003002002())
endfunction
function Trig_Baku_Move_Func001001003 takes nothing returns boolean
return GetBooleanAnd(Trig_Baku_Move_Func001001003001(),Trig_Baku_Move_Func001001003002())
endfunction
function Trig_Baku_Move_Func001A takes nothing returns nothing
call IssueImmediateOrderById(GetEnumUnit(),$D0004)
call SetUnitPositionLoc(GetEnumUnit(),PolarProjectionBJ(GetUnitLoc(GetEnumUnit()),10.,AngleBetweenPoints(GetUnitLoc(GetEnumUnit()),PolarProjectionBJ(GetUnitLoc(udg_Danzou[0]),200.,GetUnitFacing(udg_Danzou[0])))))
endfunction
function Trig_Baku_Move_Func002001003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Baku_Move_Func002001003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(gg_unit_Udre_0022)))
endfunction
function Trig_Baku_Move_Func002001003002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetFilterUnit(),'B001')==false)
endfunction
function Trig_Baku_Move_Func002001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_Baku_Move_Func002001003002001(),Trig_Baku_Move_Func002001003002002())
endfunction
function Trig_Baku_Move_Func002001003 takes nothing returns boolean
return GetBooleanAnd(Trig_Baku_Move_Func002001003001(),Trig_Baku_Move_Func002001003002())
endfunction
function Trig_Baku_Move_Func002A takes nothing returns nothing
call IssueImmediateOrderById(GetEnumUnit(),$D0004)
call SetUnitPositionLoc(GetEnumUnit(),PolarProjectionBJ(GetUnitLoc(GetEnumUnit()),10.,AngleBetweenPoints(GetUnitLoc(GetEnumUnit()),PolarProjectionBJ(GetUnitLoc(udg_Danzou[0]),200.,GetUnitFacing(udg_Danzou[0])))))
endfunction
function Trig_Baku_Move_Func003001003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Baku_Move_Func003001003002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(gg_unit_Udre_0022)))
endfunction
function Trig_Baku_Move_Func003001003002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetFilterUnit(),'B001')==false)
endfunction
function Trig_Baku_Move_Func003001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_Baku_Move_Func003001003002001(),Trig_Baku_Move_Func003001003002002())
endfunction
function Trig_Baku_Move_Func003001003 takes nothing returns boolean
return GetBooleanAnd(Trig_Baku_Move_Func003001003001(),Trig_Baku_Move_Func003001003002())
endfunction
function Trig_Baku_Move_Func003A takes nothing returns nothing
call IssueImmediateOrderById(GetEnumUnit(),$D0004)
call SetUnitPositionLoc(GetEnumUnit(),PolarProjectionBJ(GetUnitLoc(GetEnumUnit()),10.,AngleBetweenPoints(GetUnitLoc(GetEnumUnit()),PolarProjectionBJ(GetUnitLoc(udg_Danzou[0]),200.,GetUnitFacing(udg_Danzou[0])))))
endfunction
function Trig_Baku_Move_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.,PolarProjectionBJ(GetUnitLoc(udg_Danzou[0]),800.,GetUnitFacing(udg_Danzou[0])),Condition(function Trig_Baku_Move_Func001001003)),function Trig_Baku_Move_Func001A)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.,PolarProjectionBJ(GetUnitLoc(udg_Danzou[0]),600.,GetUnitFacing(udg_Danzou[0])),Condition(function Trig_Baku_Move_Func002001003)),function Trig_Baku_Move_Func002A)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.,PolarProjectionBJ(GetUnitLoc(udg_Danzou[0]),300.,GetUnitFacing(udg_Danzou[0])),Condition(function Trig_Baku_Move_Func003001003)),function Trig_Baku_Move_Func003A)
call SetUnitAnimationWithRarity(udg_Danzou[2],"stand",RARITY_RARE)
call SetUnitAnimationWithRarity(udg_Danzou[3],"stand 4",RARITY_RARE)
call SetUnitAnimationWithRarity(udg_Danzou[4],"stand 2",RARITY_RARE)
endfunction
function InitTrig_Baku_Move takes nothing returns nothing
set gg_trg_Baku_Move=CreateTrigger()
call DisableTrigger(gg_trg_Baku_Move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Baku_Move,.03)
call TriggerAddAction(gg_trg_Baku_Move,function Trig_Baku_Move_Actions)
endfunction
function Trig_Izanagi_Int_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A07E')
endfunction
function Trig_Izanagi_Int_Actions takes nothing returns nothing
set udg_Count=$A
call EnableTrigger(gg_trg_Loop_iz)
endfunction
function InitTrig_Izanagi_Int takes nothing returns nothing
set gg_trg_Izanagi_Int=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Izanagi_Int,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Izanagi_Int,Condition(function Trig_Izanagi_Int_Conditions))
call TriggerAddAction(gg_trg_Izanagi_Int,function Trig_Izanagi_Int_Actions)
endfunction
function Trig_Loop_iz_Func001C takes nothing returns boolean
return(UnitHasBuffBJ(GetTriggerUnit(),'B00Q'))and(GetUnitStateSwap(UNIT_STATE_LIFE,GetTriggerUnit())<=250.)
endfunction
function Trig_Loop_iz_Conditions takes nothing returns boolean
return(Trig_Loop_iz_Func001C())
endfunction
function Trig_Loop_iz_Func002C takes nothing returns boolean
return(udg_Count<=0)
endfunction
function Trig_Loop_iz_Actions takes nothing returns nothing
if(Trig_Loop_iz_Func002C())then
set udg_Count=0
call DisableTrigger(GetTriggeringTrigger())
call UnitRemoveAbility(GetTriggerUnit(),'B00Q')
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),"У Изанаги Генджуцу было слишком много, у вас его больше нет!")
else
set udg_Count=(udg_Count-1)
call SetUnitAnimation(GetTriggerUnit(),"death")
call TriggerSleepAction(2.5)
call ResetUnitAnimation(GetTriggerUnit())
call SetUnitLifePercentBJ(GetTriggerUnit(),'d')
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),("Будьте осторожны, вы можете возродиться только"+(I2S(udg_Count)+" раз!")))
endif
endfunction
function InitTrig_Loop_iz takes nothing returns nothing
set gg_trg_Loop_iz=CreateTrigger()
call DisableTrigger(gg_trg_Loop_iz)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Loop_iz,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Loop_iz,Condition(function Trig_Loop_iz_Conditions))
call TriggerAddAction(gg_trg_Loop_iz,function Trig_Loop_iz_Actions)
endfunction
function Trig_Koto_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A037'
endfunction
function Trig_Koto_Actions takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local unit b=GetSpellTargetUnit()
local unit d=CreateUnit(GetOwningPlayer(a),GetUnitTypeId(b),GetUnitX(b),GetUnitY(b),0)
call SetHeroXP(d,GetHeroXP(b),false)
call ShowUnit(b,false)
call SetPlayerAbilityAvailable(GetOwningPlayer(a),'A037',false)
call TriggerSleepAction(90.)
call ShowUnit(b,true)
call RemoveUnit(d)
call TriggerSleepAction(510.)
call SetPlayerAbilityAvailable(GetOwningPlayer(a),'A037',true)
set a=null
set b=null
set d=null
endfunction
function InitTrig_Koto takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_Koto_Conditions))
call TriggerAddAction(t,function Trig_Koto_Actions)
set t=null
endfunction
function Trig_Delete_Func002C takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='h03M')or(GetUnitTypeId(GetDyingUnit())=='h03N')
endfunction
function Trig_Delete_Conditions takes nothing returns boolean
return(Trig_Delete_Func002C())
endfunction
function Trig_Delete_Actions takes nothing returns nothing
call RemoveUnit(GetDyingUnit())
endfunction
function InitTrig_Delete takes nothing returns nothing
set gg_trg_Delete=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Delete,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Delete,Condition(function Trig_Delete_Conditions))
call TriggerAddAction(gg_trg_Delete,function Trig_Delete_Actions)
endfunction
function Trig_Slashing_blow_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='AOcl'
endfunction
function Trig_Slashing_blow_Actions takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local unit b=GetSpellTargetUnit()
local real dmg
local real x
local real y
call SetUnitAnimation(a,"attack alternate 2")
call TriggerSleepAction(.05)
set x=GetUnitX(b)+$C8*Cos(GetUnitFacing(a)*bj_DEGTORAD)
set y=GetUnitY(b)+$C8*Sin(GetUnitFacing(a)*bj_DEGTORAD)
call SetUnitPosition(a,x,y)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",b,"chest"))
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",b,"chest"))
if(GetUnitAbilityLevel(a,'AOcl')==1)then
set dmg=$8C+GetHeroInt(a,false)*.1
elseif(GetUnitAbilityLevel(a,'AOcl')==2)then
set dmg=$DC+GetHeroInt(a,false)*.2
elseif(GetUnitAbilityLevel(a,'AOcl')==3)then
set dmg=300+GetHeroInt(a,false)*.5
elseif(GetUnitAbilityLevel(a,'AOcl')==4)then
set dmg=380+GetHeroInt(a,false)*1
endif
call UnitDamageTarget(a,b,dmg,false,false,null,null,null)
call TriggerSleepAction(.1)
set a=null
set b=null
endfunction
function InitTrig_Slashing_blow takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_Slashing_blow_Conditions))
call TriggerAddAction(t,function Trig_Slashing_blow_Actions)
set t=null
endfunction
function Katun_Act takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
local unit b=LoadUnitHandle(hash,GetHandleId(t),2)
local group g
local unit n
local real dmg
call SetUnitX(b,GetUnitX(b)+30*Cos(bj_DEGTORAD*GetUnitFacing(b)))
call SetUnitY(b,GetUnitY(b)+30*Sin(bj_DEGTORAD*GetUnitFacing(b)))
set g=CreateGroup()
set n=null
if(GetUnitAbilityLevel(a,'A05H')==1)then
set dmg=18+GetHeroInt(a,false)*.1
elseif(GetUnitAbilityLevel(a,'A05H')==2)then
set dmg=25+GetHeroInt(a,false)*.2
elseif(GetUnitAbilityLevel(a,'A05H')==3)then
set dmg=32+GetHeroInt(a,false)*.3
elseif(GetUnitAbilityLevel(a,'A05H')==4)then
set dmg=39+GetHeroInt(a,false)*.4
endif
call GroupEnumUnitsInRange(g,GetUnitX(b),GetUnitY(b),$FA,null)
loop
set n=FirstOfGroup(g)
exitwhen n==null
if IsUnitEnemy(n,GetOwningPlayer(a)) then
call UnitDamageTarget(a,n,dmg,false,false,null,null,null)
endif
call GroupRemoveUnit(g,n)
endloop
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",GetUnitX(b),GetUnitY(b)))
call DestroyGroup(g)
set a=null
set b=null
set n=null
set g=null
set t=null
endfunction
function Katun takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local real d=bj_RADTODEG*Atan2(GetSpellTargetY()-GetUnitY(a),GetSpellTargetX()-GetUnitX(a))
local unit b=CreateUnit(GetOwningPlayer(a),'h023',GetUnitX(a),GetUnitY(a),d)
local timer t=CreateTimer()
call SaveUnitHandle(hash,GetHandleId(t),1,a)
call SaveUnitHandle(hash,GetHandleId(t),2,b)
call TimerStart(t,.03,true,function Katun_Act)
call TriggerSleepAction(.2)
call PauseTimer(t)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
call RemoveUnit(b)
set a=null
set b=null
set t=null
endfunction
function Katun_Cond takes nothing returns boolean
return GetSpellAbilityId()=='A05H'
endfunction
function InitTrig_Katun takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Katun_Cond))
call TriggerAddAction(t,function Katun)
set t=null
endfunction
function MSH_I takes nothing returns nothing
local trigger t=GetTriggeringTrigger()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
if(GetUnitAbilityLevel(a,'Binf')>0)then
call SetUnitState(a,UNIT_STATE_LIFE,GetUnitState(a,UNIT_STATE_LIFE)-5.)
else
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTrigger(t)
set a=null
set t=null
endif
if GetUnitState(a,UNIT_STATE_MANA)<='d' or GetUnitState(a,UNIT_STATE_LIFE)<='d' then
call UnitRemoveAbility(a,'A062')
call UnitRemoveAbility(a,'Binf')
call UnitRemoveAbility(a,'A01A')
call SetPlayerAbilityAvailable(GetOwningPlayer(a),'AOwk',true)
call SetPlayerAbilityAvailable(GetOwningPlayer(a),'A061',true)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTrigger(t)
call SetUnitUserData(gg_unit_Hblm_0025,1)
set a=null
set t=null
endif
set t=null
set a=null
endfunction
function MSH_Itachi takes nothing returns nothing
local unit cjlocgn_00000000
local trigger cjlocgn_00000001
if GetSpellAbilityId()=='A061' then
set cjlocgn_00000000=GetSpellAbilityUnit()
set cjlocgn_00000001=CreateTrigger()
call SaveUnitHandle(hash,GetHandleId(cjlocgn_00000001),1,cjlocgn_00000000)
call TriggerRegisterTimerEvent(cjlocgn_00000001,1,true)
call TriggerAddAction(cjlocgn_00000001,function MSH_I)
call SetPlayerAbilityAvailable(GetOwningPlayer(cjlocgn_00000000),'AOwk',false)
call SetPlayerAbilityAvailable(GetOwningPlayer(cjlocgn_00000000),'A061',false)
call SetUnitUserData(gg_unit_Hblm_0025,2)
call UnitAddAbility(cjlocgn_00000000,'A062')
call UnitAddAbility(cjlocgn_00000000,'Binf')
call UnitAddAbility(cjlocgn_00000000,'A01A')
set cjlocgn_00000001=null
set cjlocgn_00000000=null
endif
if GetSpellAbilityId()=='A062' then
set cjlocgn_00000000=GetSpellAbilityUnit()
call UnitRemoveAbility(cjlocgn_00000000,'Binf')
call UnitRemoveAbility(cjlocgn_00000000,'A062')
call UnitRemoveAbility(cjlocgn_00000000,'A01A')
call SetPlayerAbilityAvailable(GetOwningPlayer(cjlocgn_00000000),'AOwk',true)
call SetPlayerAbilityAvailable(GetOwningPlayer(cjlocgn_00000000),'A061',true)
call SetUnitUserData(gg_unit_Hblm_0025,1)
set cjlocgn_00000000=null
endif
endfunction
function InitTrig_MSH takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddAction(t,function MSH_Itachi)
set t=null
endfunction
function Trig_Clone_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='AOwk')
endfunction
function Trig_Clone_Actions takes nothing returns nothing
set udg_CloneCaster=GetSpellAbilityUnit()
call AddSpecialEffectTargetUnitBJ("hand right",udg_CloneCaster,"Abilities\\Weapons\\AvengerMissile\\AvengerMissile.mdl")
set udg_CloneEff[1]=bj_lastCreatedEffect
call AddSpecialEffectTargetUnitBJ("hand left",udg_CloneCaster,"Abilities\\Weapons\\AvengerMissile\\AvengerMissile.mdl")
set udg_CloneEff[2]=bj_lastCreatedEffect
call CreateNUnitsAtLoc(1,'h03L',GetOwningPlayer(udg_CloneCaster),GetUnitLoc(udg_CloneCaster),GetUnitFacing(udg_CloneCaster))
set udg_CloneDummy=bj_lastCreatedUnit
call DestroyEffect(udg_CloneEff[1])
call DestroyEffect(udg_CloneEff[2])
call UnitApplyTimedLifeBJ(10.,'BTLF',udg_CloneDummy)
call EnableTrigger(gg_trg_Clone2)
endfunction
function InitTrig_Clone takes nothing returns nothing
set gg_trg_Clone=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Clone,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Clone,Condition(function Trig_Clone_Conditions))
call TriggerAddAction(gg_trg_Clone,function Trig_Clone_Actions)
endfunction
function Trig_Clone2_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='h03L')
endfunction
function Trig_Clone2_Func001002003001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_Clone2_Func001002003002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_CloneCaster)))
endfunction
function Trig_Clone2_Func001002003 takes nothing returns boolean
return GetBooleanAnd(Trig_Clone2_Func001002003001(),Trig_Clone2_Func001002003002())
endfunction
function Trig_Clone2_Func002002 takes nothing returns nothing
call UnitDamageTargetBJ(udg_CloneCaster,GetEnumUnit(),220.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)
endfunction
function Trig_Clone2_Actions takes nothing returns nothing
set udg_CloneGroup=GetUnitsInRangeOfLocMatching(300.,GetUnitLoc(udg_CloneDummy),Condition(function Trig_Clone2_Func001002003))
call ForGroupBJ(udg_CloneGroup,function Trig_Clone2_Func002002)
call DestroyGroup(udg_CloneGroup)
set udg_CloneGroup=null
call CreateNUnitsAtLoc(1,'h03M',GetOwningPlayer(udg_CloneCaster),GetUnitLoc(udg_CloneDummy),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(3.,'BTLF',bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'h03N',GetOwningPlayer(udg_CloneCaster),GetUnitLoc(udg_CloneDummy),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.1,'BTLF',bj_lastCreatedUnit)
call RemoveUnit(udg_CloneDummy)
set udg_CloneDummy=null
set udg_CloneCaster=null
call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Clone2 takes nothing returns nothing
set gg_trg_Clone2=CreateTrigger()
call DisableTrigger(gg_trg_Clone2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Clone2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Clone2,Condition(function Trig_Clone2_Conditions))
call TriggerAddAction(gg_trg_Clone2,function Trig_Clone2_Actions)
endfunction
function Trig_Tsukyomi_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A051')
endfunction
function Trig_Tsukyomi_Func004Func049002 takes nothing returns nothing
call IssuePointOrderByIdLoc(GetEnumUnit(),$D0012,PolarProjectionBJ(GetUnitLoc(udg_Target[21]),256.,200.))
endfunction
function Trig_Tsukyomi_Func004Func051A takes nothing returns nothing
call SetUnitAbilityLevelSwapped('A050',GetEnumUnit(),GetUnitAbilityLevelSwapped('A051',gg_unit_Hblm_0025))
call IssueTargetOrderById(GetEnumUnit(),$D007F,udg_Target[21])
endfunction
function Trig_Tsukyomi_Func004Func054C takes nothing returns boolean
return(GetUnitUserData(gg_unit_Hblm_0025)==2)
endfunction
function Trig_Tsukyomi_Func004C takes nothing returns boolean
return(GetUnitUserData(gg_unit_Hblm_0025)==1)
endfunction
function Trig_Tsukyomi_Actions takes nothing returns nothing
set udg_Itachi[3]=GetSpellAbilityUnit()
set udg_Target[21]=GetSpellTargetUnit()
if(Trig_Tsukyomi_Func004C())then
call CreateNUnitsAtLoc(1,'u009',GetOwningPlayer(udg_Itachi[3]),GetUnitLoc(udg_Itachi[3]),(GetUnitFacing(udg_Itachi[3])+50.))
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0012,PolarProjectionBJ(GetUnitLoc(bj_lastCreatedUnit),450.,(GetUnitFacing(udg_Itachi[3])+50.)))
call CreateNUnitsAtLoc(1,'u009',GetOwningPlayer(udg_Itachi[3]),GetUnitLoc(udg_Itachi[3]),(GetUnitFacing(udg_Itachi[3])+100.))
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0012,PolarProjectionBJ(GetUnitLoc(bj_lastCreatedUnit),400.,(GetUnitFacing(udg_Itachi[3])+100.)))
call CreateNUnitsAtLoc(1,'u009',GetOwningPlayer(udg_Itachi[3]),GetUnitLoc(udg_Itachi[3]),(GetUnitFacing(udg_Itachi[3])+150.))
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0012,PolarProjectionBJ(GetUnitLoc(bj_lastCreatedUnit),350.,(GetUnitFacing(udg_Itachi[3])+150.)))
call CreateNUnitsAtLoc(1,'u009',GetOwningPlayer(udg_Itachi[3]),GetUnitLoc(udg_Itachi[3]),(GetUnitFacing(udg_Itachi[3])+250.))
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0012,PolarProjectionBJ(GetUnitLoc(bj_lastCreatedUnit),450.,(GetUnitFacing(udg_Itachi[3])+250.)))
call TriggerSleepAction(.01)
call CreateNUnitsAtLoc(1,'u009',GetOwningPlayer(udg_Itachi[3]),GetUnitLoc(udg_Itachi[3]),(GetUnitFacing(udg_Itachi[3])+30.))
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call SetUnitFlyHeight(bj_lastCreatedUnit,200.,200.)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0012,PolarProjectionBJ(GetUnitLoc(bj_lastCreatedUnit),500.,(GetUnitFacing(udg_Itachi[3])+30.)))
call CreateNUnitsAtLoc(1,'u009',GetOwningPlayer(udg_Itachi[3]),GetUnitLoc(udg_Itachi[3]),(GetUnitFacing(udg_Itachi[3])+80.))
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call SetUnitFlyHeight(bj_lastCreatedUnit,200.,200.)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0012,PolarProjectionBJ(GetUnitLoc(bj_lastCreatedUnit),500.,(GetUnitFacing(udg_Itachi[3])+80.)))
call CreateNUnitsAtLoc(1,'u009',GetOwningPlayer(udg_Itachi[3]),GetUnitLoc(udg_Itachi[3]),(GetUnitFacing(udg_Itachi[3])+80.))
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call SetUnitFlyHeight(bj_lastCreatedUnit,200.,200.)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0012,PolarProjectionBJ(GetUnitLoc(bj_lastCreatedUnit),500.,(GetUnitFacing(udg_Itachi[3])+130.)))
call CreateNUnitsAtLoc(1,'u009',GetOwningPlayer(udg_Itachi[3]),GetUnitLoc(udg_Itachi[3]),(GetUnitFacing(udg_Itachi[3])+180.))
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call SetUnitFlyHeight(bj_lastCreatedUnit,200.,200.)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0012,PolarProjectionBJ(GetUnitLoc(bj_lastCreatedUnit),500.,(GetUnitFacing(udg_Itachi[3])+180.)))
call TriggerSleepAction(.01)
call CreateNUnitsAtLoc(1,'u009',GetOwningPlayer(udg_Itachi[3]),GetUnitLoc(udg_Itachi[3]),(GetUnitFacing(udg_Itachi[3])+100.))
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call SetUnitFlyHeight(bj_lastCreatedUnit,320.,200.)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0012,PolarProjectionBJ(GetUnitLoc(bj_lastCreatedUnit),500.,(GetUnitFacing(udg_Itachi[3])+190.)))
call CreateNUnitsAtLoc(1,'u009',GetOwningPlayer(udg_Itachi[3]),GetUnitLoc(udg_Itachi[3]),(GetUnitFacing(udg_Itachi[3])+150.))
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call SetUnitFlyHeight(bj_lastCreatedUnit,330.,200.)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0012,PolarProjectionBJ(GetUnitLoc(bj_lastCreatedUnit),500.,(GetUnitFacing(udg_Itachi[3])+240.)))
call CreateNUnitsAtLoc(1,'u009',GetOwningPlayer(udg_Itachi[3]),GetUnitLoc(udg_Itachi[3]),(GetUnitFacing(udg_Itachi[3])+200.))
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call SetUnitFlyHeight(bj_lastCreatedUnit,320.,200.)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0012,PolarProjectionBJ(GetUnitLoc(bj_lastCreatedUnit),500.,(GetUnitFacing(udg_Itachi[3])+300.)))
call CreateNUnitsAtLoc(1,'u009',GetOwningPlayer(udg_Itachi[3]),GetUnitLoc(udg_Itachi[3]),(GetUnitFacing(udg_Itachi[3])+250.))
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call SetUnitFlyHeight(bj_lastCreatedUnit,340.,200.)
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0012,PolarProjectionBJ(GetUnitLoc(bj_lastCreatedUnit),450.,(GetUnitFacing(udg_Itachi[3])+350.)))
call SetUnitPositionLoc(gg_unit_Hblm_0025,PolarProjectionBJ(GetUnitLoc(udg_Target[21]),-180.,GetUnitFacing(udg_Target[21])))
call TriggerSleepAction(.4)
call ForGroupBJ(GetUnitsOfTypeIdAll('u009'),function Trig_Tsukyomi_Func004Func049002)
call TriggerSleepAction(.3)
call ForGroupBJ(GetUnitsOfTypeIdAll('u009'),function Trig_Tsukyomi_Func004Func051A)
set udg_Itachi[3]=null
set udg_Target[21]=null
else
if(Trig_Tsukyomi_Func004Func054C())then
call PauseUnit(udg_Target[21],true)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Target[21]),"ItachiMangekyouPulse.mdx")
set udg_SEffect[5]=bj_lastCreatedEffect
call UnitDamageTargetBJ(udg_Itachi[3],udg_Itachi[3],390.,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
call AddSpecialEffectTargetUnitBJ("head",udg_Itachi[3],"Objects\\Spawnmodels\\Critters\\Albatross\\CritterBloodAlbatross.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'h04O',Player($F),OffsetLocation(GetUnitLoc(udg_Target[21]),.0,90.),270.)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,250.)
call SetUnitVertexColorBJ(bj_lastCreatedUnit,100.,100.,100.,50.)
call IssueTargetOrderById(bj_lastCreatedUnit,$D000F,udg_Target[21])
call UnitApplyTimedLifeBJ(4.,'Brai',bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'h04O',Player($F),OffsetLocation(GetUnitLoc(udg_Target[21]),90.,50.),225.)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,250.)
call SetUnitVertexColorBJ(bj_lastCreatedUnit,100.,100.,100.,50.)
call IssueTargetOrderById(bj_lastCreatedUnit,$D000F,udg_Target[21])
call UnitApplyTimedLifeBJ(4.,'Brai',bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'h04O',Player($F),OffsetLocation(GetUnitLoc(udg_Target[21]),90.,-50.),135.)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,250.)
call SetUnitVertexColorBJ(bj_lastCreatedUnit,100.,100.,100.,50.)
call IssueTargetOrderById(bj_lastCreatedUnit,$D000F,udg_Target[21])
call UnitApplyTimedLifeBJ(4.,'Brai',bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'h04O',Player($F),OffsetLocation(GetUnitLoc(udg_Target[21]),.0,-100.),90.)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,250.)
call SetUnitVertexColorBJ(bj_lastCreatedUnit,100.,100.,100.,50.)
call IssueTargetOrderById(bj_lastCreatedUnit,$D000F,udg_Target[21])
call UnitApplyTimedLifeBJ(4.,'Brai',bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'h04O',Player($F),OffsetLocation(GetUnitLoc(udg_Target[21]),-90.,-50.),45.)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,250.)
call SetUnitVertexColorBJ(bj_lastCreatedUnit,100.,100.,100.,50.)
call IssueTargetOrderById(bj_lastCreatedUnit,$D000F,udg_Target[21])
call UnitApplyTimedLifeBJ(4.,'Brai',bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'h04O',Player($F),OffsetLocation(GetUnitLoc(udg_Target[21]),-90.,50.),315.)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,260.)
call SetUnitVertexColorBJ(bj_lastCreatedUnit,100.,100.,100.,50.)
call IssueTargetOrderById(bj_lastCreatedUnit,$D000F,udg_Target[21])
call UnitApplyTimedLifeBJ(4.,'Brai',bj_lastCreatedUnit)
call DestroyEffect(udg_SEffect[5])
call EnableTrigger(gg_trg_Tsukyomi_damage)
call TriggerSleepAction(4.)
call DisableTrigger(gg_trg_Tsukyomi_damage)
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(udg_Target[21]),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.4,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'AUsl')
call SetUnitAbilityLevelSwapped('AUsl',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A051',gg_unit_Hblm_0025))
call IssueTargetOrderById(bj_lastCreatedUnit,$D0103,udg_Target[21])
call SetUnitAnimation(udg_Target[21],"death")
call UnitRemoveAbility(udg_Target[21],'BPSE')
call PauseUnit(udg_Target[21],false)
set udg_Itachi[3]=null
set udg_Target[21]=null
endif
endif
endfunction
function InitTrig_Tsukyomi takes nothing returns nothing
set gg_trg_Tsukyomi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Tsukyomi,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Tsukyomi,Condition(function Trig_Tsukyomi_Conditions))
call TriggerAddAction(gg_trg_Tsukyomi,function Trig_Tsukyomi_Actions)
endfunction
function Trig_Tsukyomi_damage_Func005001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A051',gg_unit_Hblm_0025)==1)
endfunction
function Trig_Tsukyomi_damage_Func006001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A051',gg_unit_Hblm_0025)==2)
endfunction
function Trig_Tsukyomi_damage_Func007001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A051',gg_unit_Hblm_0025)==3)
endfunction
function Trig_Tsukyomi_damage_Func008001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A051',gg_unit_Hblm_0025)==4)
endfunction
function Trig_Tsukyomi_damage_Actions takes nothing returns nothing
call AddSpecialEffectTargetUnitBJ("origin",udg_Target[21],"Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Target[21]),"Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl")
call DestroyEffect(bj_lastCreatedEffect)
if(Trig_Tsukyomi_damage_Func005001())then
call UnitDamageTargetBJ(gg_unit_Hblm_0025,udg_Target[21],10.,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_MAGIC)
endif
if(Trig_Tsukyomi_damage_Func006001())then
call UnitDamageTargetBJ(gg_unit_Hblm_0025,udg_Target[21],20.,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_MAGIC)
endif
if(Trig_Tsukyomi_damage_Func007001())then
call UnitDamageTargetBJ(gg_unit_Hblm_0025,udg_Target[21],30.,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_MAGIC)
endif
if(Trig_Tsukyomi_damage_Func008001())then
call UnitDamageTargetBJ(gg_unit_Hblm_0025,udg_Target[21],40.,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_MAGIC)
endif
endfunction
function InitTrig_Tsukyomi_damage takes nothing returns nothing
set gg_trg_Tsukyomi_damage=CreateTrigger()
call DisableTrigger(gg_trg_Tsukyomi_damage)
call TriggerRegisterTimerEventPeriodic(gg_trg_Tsukyomi_damage,.5)
call TriggerAddAction(gg_trg_Tsukyomi_damage,function Trig_Tsukyomi_damage_Actions)
endfunction
function Trig_Tsukyomi_dead_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='h04O')
endfunction
function Trig_Tsukyomi_dead_Actions takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Abilities\\Spells\\Undead\\CarrionSwarm\\CarrionSwarmDamage.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveUnit(GetDyingUnit())
endfunction
function InitTrig_Tsukyomi_dead takes nothing returns nothing
set gg_trg_Tsukyomi_dead=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Tsukyomi_dead,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Tsukyomi_dead,Condition(function Trig_Tsukyomi_dead_Conditions))
call TriggerAddAction(gg_trg_Tsukyomi_dead,function Trig_Tsukyomi_dead_Actions)
endfunction
function Trig_Crow_2_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A050')
endfunction
function Trig_Crow_2_Actions takes nothing returns nothing
call TriggerSleepAction(.02)
call RemoveUnit(GetTriggerUnit())
endfunction
function InitTrig_Crow_2 takes nothing returns nothing
set gg_trg_Crow_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Crow_2,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Crow_2,Condition(function Trig_Crow_2_Conditions))
call TriggerAddAction(gg_trg_Crow_2,function Trig_Crow_2_Actions)
endfunction
function s__SusanooItachiStruct_SusanooItachiStopAction takes integer this,integer e returns nothing
set s__SusanooItachiStruct_m[e]=s__SusanooItachiStruct_m[s__SusanooItachiStruct_DI]
set s__SusanooItachiStruct_DI=s__SusanooItachiStruct_DI-1
if s__SusanooItachiStruct_DI==-1 then
call PauseTimer(s__SusanooItachiStruct_t)
endif
endfunction
function s__SusanooItachiStruct_SusanooItachiMovie takes nothing returns nothing
local integer this
local integer i=0
loop
exitwhen i>s__SusanooItachiStruct_DI
set this=s__SusanooItachiStruct_m[i]
call SetTextTagText(s__SusanooItachiStruct_thl[this],R2S(ItachiSusanooHeal),$A*.023/$A)
call SetTextTagPosUnit(s__SusanooItachiStruct_thl[this],s__SusanooItachiStruct_c[this],$A*.023/$A)
if s__SusanooItachiStruct_count[this]==40 then
set s__SusanooItachiStruct_count[this]=0
endif
call SetUnitFacing(ItachiSusanoo,GetUnitFacing(s__SusanooItachiStruct_c[this]))
call SetUnitX(ItachiSusanoo,GetUnitX(s__SusanooItachiStruct_c[this]))
call SetUnitY(ItachiSusanoo,GetUnitY(s__SusanooItachiStruct_c[this]))
set s__SusanooItachiStruct_count[this]=s__SusanooItachiStruct_count[this]+1
set s__SusanooItachiStruct_count2[this]=s__SusanooItachiStruct_count2[this]+1
if GetUnitAbilityLevel(s__SusanooItachiStruct_c[this],'Binf')>0 and GetWidgetLife(s__SusanooItachiStruct_c[this])>0 and ItachiSusanooHeal>0 and s__SusanooItachiStruct_count2[this]!=$3E8 then
else
set ItachiSusanooHeal=0
call DestroyTextTag(s__SusanooItachiStruct_thl[this])
set s__SusanooItachiStruct_thl[this]=null
call SetUnitTimeScale(ItachiSusanoo,'d'*.01)
call SetUnitAnimation(ItachiSusanoo,"Death")
call UnitApplyTimedLife(ItachiSusanoo,1,1)
set ItachiSus=false
set ItachiSusanoo=null
set s__SusanooItachiStruct_c[this]=null
call s__SusanooItachiStruct_SusanooItachiStopAction(this,i)
call s__SusanooItachiStruct_deallocate(this)
endif
set i=i+1
endloop
endfunction
function s__SusanooItachiStruct_SusanooItachiStart takes nothing returns nothing
local integer this=s__SusanooItachiStruct__allocate()
set s__SusanooItachiStruct_DI=s__SusanooItachiStruct_DI+1
set s__SusanooItachiStruct_m[s__SusanooItachiStruct_DI]=this
set s__SusanooItachiStruct_c[this]=GetSpellAbilityUnit()
if ItachiSusOne==false then
set ItachiSusOne=true
set ItachiSusanooCaster=s__SusanooItachiStruct_c[this]
call TriggerRegisterUnitEvent(gg_trg_SusanooItachiDef,ItachiSusanooCaster,EVENT_UNIT_DAMAGED)
endif
set ItachiSusanoo=CreateUnit(GetOwningPlayer(s__SusanooItachiStruct_c[this]),'h01V',GetUnitX(s__SusanooItachiStruct_c[this]),GetUnitY(s__SusanooItachiStruct_c[this]),GetUnitFacing(s__SusanooItachiStruct_c[this]))
call SetUnitAnimation(ItachiSusanoo,"Birth")
call SetUnitTimeScale(ItachiSusanoo,$96*.01)
set ItachiSus=true
set s__SusanooItachiStruct_count[this]=0
set s__SusanooItachiStruct_count2[this]=0
set ItachiSusanooHeal=GetUnitState(s__SusanooItachiStruct_c[this],UNIT_STATE_MAX_LIFE)*2
set s__SusanooItachiStruct_thl[this]=CreateTextTag()
call SetTextTagText(s__SusanooItachiStruct_thl[this],R2S(ItachiSusanooHeal),$A*.023/$A)
call SetTextTagColor(s__SusanooItachiStruct_thl[this],PercentTo255('d'),PercentTo255('d'),PercentTo255('d'),PercentTo255(100.-0))
call SetTextTagPermanent(s__SusanooItachiStruct_thl[this],false)
if s__SusanooItachiStruct_DI==0 then
call TimerStart(s__SusanooItachiStruct_t,.01,true,function s__SusanooItachiStruct_SusanooItachiMovie)
endif
endfunction
function SusanooItachiScope__SusanooItachiSpellPick takes nothing returns boolean
return GetSpellAbilityId()=='A0AG'
endfunction
function SusanooItachiScope__SusanooItachiSpellStart takes nothing returns nothing
call s__SusanooItachiStruct_SusanooItachiStart()
endfunction
function SusanooItachiScope__InitTrig_SusanooItachi takes nothing returns nothing
local trigger SusanooItachi=CreateTrigger()
local integer ip
set ip=0
loop
call TriggerRegisterPlayerUnitEvent(SusanooItachi,Player(ip),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set ip=ip+1
exitwhen ip==16
endloop
call TriggerAddCondition(SusanooItachi,Condition(function SusanooItachiScope__SusanooItachiSpellPick))
call TriggerAddAction(SusanooItachi,function SusanooItachiScope__SusanooItachiSpellStart)
set SusanooItachi=null
endfunction
function SusanooItachiAttack_Cond takes nothing returns boolean
return GetUnitAbilityLevel(GetAttacker(),'Binf')>0 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())) and ItachiSus and ItachiSusAttack==false and ItachiSusanoo!=null
endfunction
function SusanooItachiAttack_Act takes nothing returns nothing
local unit c=GetAttacker()
local unit d=GetTriggerUnit()
set ItachiSusAttack=true
call SetUnitAnimation(ItachiSusanoo,"Attack 2")
call TriggerSleepAction(.6)
call UnitDamageTarget(c,d,GetHeroAgi(c,true)*1,true,false,null,null,null)
call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",d,"origin"))
call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\ShadowTrap.mdl",d,"origin"))
set c=null
set d=null
call TriggerSleepAction(.6)
set ItachiSusAttack=false
endfunction
function InitTrig_SusanooItachiAttack takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_ATTACKED,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function SusanooItachiAttack_Cond))
call TriggerAddAction(t,function SusanooItachiAttack_Act)
set t=null
endfunction
function SusanooItachiDef_Cond takes nothing returns boolean
return GetUnitAbilityLevel(GetTriggerUnit(),'Binf')>0 and ItachiSus and ItachiSusanoo!=null and ItachiSusanooHeal>0
endfunction
function SusanooItachiDef_Act takes nothing returns nothing
local real dam=GetEventDamage()
set ItachiSusanooHeal=ItachiSusanooHeal-dam
call SetUnitState(ItachiSusanooCaster,UNIT_STATE_LIFE,GetUnitState(ItachiSusanooCaster,UNIT_STATE_LIFE)+dam)
endfunction
function InitTrig_SusanooItachiDef takes nothing returns nothing
set gg_trg_SusanooItachiDef=CreateTrigger()
call TriggerAddCondition(gg_trg_SusanooItachiDef,Condition(function SusanooItachiDef_Cond))
call TriggerAddAction(gg_trg_SusanooItachiDef,function SusanooItachiDef_Act)
endfunction
function Trig_Samehada_chakra_Conditions takes nothing returns boolean
return(GetAttacker()==gg_unit_Hpb1_0026)
endfunction
function Trig_Samehada_chakra_Func001Func001Func001C takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())<10.)
endfunction
function Trig_Samehada_chakra_Func001Func001C takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())>10.)
endfunction
function Trig_Samehada_chakra_Func001C takes nothing returns boolean
return(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())>2500.)
endfunction
function Trig_Samehada_chakra_Actions takes nothing returns nothing
if(Trig_Samehada_chakra_Func001C())then
call SetUnitManaBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_MANA,GetAttacker())+200.))
call SetUnitManaBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())-200.))
else
if(Trig_Samehada_chakra_Func001Func001C())then
call SetUnitManaBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_MANA,GetAttacker())+25.))
call SetUnitManaBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())-25.))
else
if(Trig_Samehada_chakra_Func001Func001Func001C())then
call SetUnitManaBJ(GetAttacker(),(GetUnitStateSwap(UNIT_STATE_MANA,GetAttacker())+GetUnitManaPercent(GetTriggerUnit())))
call SetUnitManaBJ(GetTriggerUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())-10.))
endif
endif
endif
endfunction
function InitTrig_Samehada_chakra takes nothing returns nothing
set gg_trg_Samehada_chakra=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Samehada_chakra,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Samehada_chakra,Condition(function Trig_Samehada_chakra_Conditions))
call TriggerAddAction(gg_trg_Samehada_chakra,function Trig_Samehada_chakra_Actions)
endfunction
function Trig_Samehada_Heal_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='AHhb')
endfunction
function Trig_Samehada_Heal_Actions takes nothing returns nothing
call SetWidgetLife(GetSpellTargetUnit(),(GetUnitStateSwap(UNIT_STATE_LIFE,GetSpellTargetUnit())+GetUnitStateSwap(UNIT_STATE_MANA,GetTriggerUnit())))
call SetUnitManaPercentBJ(GetTriggerUnit(),.0)
endfunction
function InitTrig_Samehada_Heal takes nothing returns nothing
set gg_trg_Samehada_Heal=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Samehada_Heal,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Samehada_Heal,Condition(function Trig_Samehada_Heal_Conditions))
call TriggerAddAction(gg_trg_Samehada_Heal,function Trig_Samehada_Heal_Actions)
endfunction
function Trig_Sphere_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A08O')
endfunction
function Trig_Sphere_Func001Func017Func002Func013C takes nothing returns boolean
return(IsUnitAliveBJ(udg_Kisame[$650]))and(IsUnitAliveBJ(udg_Kisame[$651]))and(DistanceBetweenPoints(GetUnitLoc(udg_Kisame[$650]),GetUnitLoc(udg_Kisame[$651]))<=280.)
endfunction
function Trig_Sphere_Func001Func017Func002C takes nothing returns boolean
return(Trig_Sphere_Func001Func017Func002Func013C())
endfunction
function Trig_Sphere_Func001C takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B001'))
endfunction
function Trig_Sphere_Actions takes nothing returns nothing
if(Trig_Sphere_Func001C())then
call SetUnitAnimation(udg_Kisame[$650],"spell throw")
else
set udg_Kisame[$650]=GetSpellAbilityUnit()
set udg_Kisame[$651]=GetSpellTargetUnit()
call CreateNUnitsAtLoc(1,'u00Z',Player($F),GetUnitLoc(udg_Kisame[$650]),bj_UNIT_FACING)
set udg_Kisame[$652]=bj_lastCreatedUnit
call SetUnitPathing(udg_Kisame[$652],false)
call SetUnitPositionLoc(bj_lastCreatedUnit,GetUnitLoc(udg_Kakashi[$651]))
call UnitApplyTimedLifeBJ(4.,'BTLF',bj_lastCreatedUnit)
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitPositionLoc(bj_lastCreatedUnit,GetUnitLoc(udg_Kisame[$651]))
call SetUnitFacingToFaceUnitTimed(udg_Kisame[$650],udg_Kisame[$651],0)
call PauseUnit(udg_Kisame[$650],true)
call PauseUnit(udg_Kisame[$651],true)
call SetUnitAnimation(udg_Kisame[$650],"spell throw")
call TriggerSleepAction(.15)
call SetUnitTimeScalePercent(udg_Kisame[$650],.0)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=20
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call TriggerSleepAction(.08)
if(Trig_Sphere_Func001Func017Func002C())then
call SetUnitPositionLoc(udg_Kisame[$652],GetUnitLoc(udg_Kakashi[$651]))
else
call RemoveUnit(udg_Kisame[$652])
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Kisame[$651]),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call UnitRemoveAbility(udg_Kisame[$650],'BPSE')
call UnitRemoveAbility(udg_Kisame[$651],'BPSE')
call PauseUnit(udg_Kisame[$650],false)
call PauseUnit(udg_Kisame[$651],false)
call SetUnitTimeScalePercent(udg_Kisame[$650],100.)
set udg_Kisame[$650]=null
set udg_Kisame[$651]=null
set udg_Kisame[$652]=null
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Kisame[$651]),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call UnitRemoveAbility(udg_Kisame[$650],'BPSE')
call UnitRemoveAbility(udg_Kisame[$651],'BPSE')
call PauseUnit(udg_Kisame[$650],false)
call PauseUnit(udg_Kisame[$651],false)
call SetUnitTimeScalePercent(udg_Kisame[$650],100.)
set udg_Kisame[$650]=null
set udg_Kisame[$651]=null
set udg_Kisame[$652]=null
endif
endfunction
function InitTrig_Sphere takes nothing returns nothing
set gg_trg_Sphere=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sphere,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Sphere,Condition(function Trig_Sphere_Conditions))
call TriggerAddAction(gg_trg_Sphere,function Trig_Sphere_Actions)
endfunction
function Trig_Suitun_shark_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='ANcf')
endfunction
function Trig_Suitun_shark_Actions takes nothing returns nothing
set udg_Kisame[$B]=GetSpellAbilityUnit()
call CreateNUnitsAtLocFacingLocBJ(1,'u010',GetOwningPlayer(udg_Kisame[$B]),PolarProjectionBJ(GetUnitLoc(udg_Kisame[$B]),100.,AngleBetweenPoints(GetUnitLoc(udg_Kisame[$B]),GetSpellTargetLoc())),GetSpellTargetLoc())
set udg_Kisame[19]=bj_lastCreatedUnit
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Kisame[19]),"Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call SetUnitPathing(udg_Kisame[19],false)
call EnableTrigger(gg_trg_Suitun_shark_damage)
call TriggerSleepAction(.61)
call DisableTrigger(gg_trg_Suitun_shark_damage)
call RemoveUnit(udg_Kisame[19])
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Kisame[19]),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set udg_Kisame[$B]=null
set udg_Kisame[19]=null
endfunction
function InitTrig_Suitun_shark takes nothing returns nothing
set gg_trg_Suitun_shark=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Suitun_shark,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Suitun_shark,Condition(function Trig_Suitun_shark_Conditions))
call TriggerAddAction(gg_trg_Suitun_shark,function Trig_Suitun_shark_Actions)
endfunction
function Trig_Suitun_shark_damage_Func004Func001001002001001003001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(gg_unit_Hpb1_0026)))
endfunction
function Trig_Suitun_shark_damage_Func004Func001001002001001003002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_Suitun_shark_damage_Func004Func001001002001001003002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Suitun_shark_damage_Func004Func001001002001001003002002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetFilterUnit(),'B00N')==false)
endfunction
function Trig_Suitun_shark_damage_Func004Func001001002001001003002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Suitun_shark_damage_Func004Func001001002001001003002002001(),Trig_Suitun_shark_damage_Func004Func001001002001001003002002002())
endfunction
function Trig_Suitun_shark_damage_Func004Func001001002001001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_Suitun_shark_damage_Func004Func001001002001001003002001(),Trig_Suitun_shark_damage_Func004Func001001002001001003002002())
endfunction
function Trig_Suitun_shark_damage_Func004Func001001002001001003 takes nothing returns boolean
return GetBooleanAnd(Trig_Suitun_shark_damage_Func004Func001001002001001003001(),Trig_Suitun_shark_damage_Func004Func001001002001001003002())
endfunction
function Trig_Suitun_shark_damage_Func004C takes nothing returns boolean
return(DistanceBetweenPoints(GetUnitLoc(udg_Kisame[19]),GetUnitLoc(GroupPickRandomUnit(GetUnitsInRangeOfLocMatching(250.,GetUnitLoc(udg_Kisame[19]),Condition(function Trig_Suitun_shark_damage_Func004Func001001002001001003)))))<=105.)
endfunction
function Trig_Suitun_shark_damage_Actions takes nothing returns nothing
call SetUnitPositionLoc(udg_Kisame[19],PolarProjectionBJ(GetUnitLoc(udg_Kisame[19]),40.,AngleBetweenPoints(GetUnitLoc(udg_Kisame[19]),PolarProjectionBJ(GetUnitLoc(udg_Kisame[19]),256,GetUnitFacing(udg_Kisame[19])))))
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Kisame[19]),"Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
if(Trig_Suitun_shark_damage_Func004C())then
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(udg_Kisame[$B]),GetUnitLoc(udg_Kisame[19]),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.1,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'A06R')
call SetUnitAbilityLevelSwapped('A06R',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('ANcf',udg_Kisame[$B]))
call IssueImmediateOrderById(bj_lastCreatedUnit,$D0080)
call RemoveUnit(udg_Kisame[19])
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Kisame[19]),"war3mapImported\\AquaSpike.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Kisame[19]),"Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set udg_Kisame[$B]=null
set udg_Kisame[19]=null
endif
endfunction
function InitTrig_Suitun_shark_damage takes nothing returns nothing
set gg_trg_Suitun_shark_damage=CreateTrigger()
call DisableTrigger(gg_trg_Suitun_shark_damage)
call TriggerRegisterTimerEventPeriodic(gg_trg_Suitun_shark_damage,.03)
call TriggerAddAction(gg_trg_Suitun_shark_damage,function Trig_Suitun_shark_damage_Actions)
endfunction
function Trig_Suitun_surou_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A08Q')
endfunction
function Trig_Suitun_surou_Actions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=7
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),180.,(I2R(bj_forLoopAIndex)*55.)),"war3mapImported\\explosion.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),120.,(I2R(bj_forLoopAIndex)*55.)),"war3mapImported\\WaterGeyser.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),170.,(I2R(bj_forLoopAIndex)*55.)),"Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function InitTrig_Suitun_surou takes nothing returns nothing
set gg_trg_Suitun_surou=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Suitun_surou,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Suitun_surou,Condition(function Trig_Suitun_surou_Conditions))
call TriggerAddAction(gg_trg_Suitun_surou,function Trig_Suitun_surou_Actions)
endfunction
function Trig_Suitun_bakeshi_shouha_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='Arsp')
endfunction
function Trig_Suitun_bakeshi_shouha_Actions takes nothing returns nothing
set udg_Kisame[1]=GetSpellAbilityUnit()
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(udg_Kisame[1]),GetUnitLoc(udg_Kisame[1]),bj_UNIT_FACING)
set udg_Kisame[$C]=bj_lastCreatedUnit
call SetUnitScalePercent(bj_lastCreatedUnit,200.,200.,200.)
call UnitAddAbility(bj_lastCreatedUnit,'ANst')
call SetUnitAbilityLevelSwapped('ANst',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('Arsp',udg_Kisame[1]))
call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0271,GetSpellTargetLoc())
endfunction
function InitTrig_Suitun_bakeshi_shouha takes nothing returns nothing
set gg_trg_Suitun_bakeshi_shouha=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Suitun_bakeshi_shouha,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Suitun_bakeshi_shouha,Condition(function Trig_Suitun_bakeshi_shouha_Conditions))
call TriggerAddAction(gg_trg_Suitun_bakeshi_shouha,function Trig_Suitun_bakeshi_shouha_Actions)
endfunction
function Trig_Suitun_bakeshi_shouha_end_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='Arsp')
endfunction
function Trig_Suitun_bakeshi_shouha_end_Actions takes nothing returns nothing
call IssueImmediateOrderById(udg_Kisame[$C],$D0004)
call RemoveUnit(udg_Kisame[$C])
set udg_Kisame[$C]=null
set udg_Kisame[1]=null
endfunction
function InitTrig_Suitun_bakeshi_shouha_end takes nothing returns nothing
set gg_trg_Suitun_bakeshi_shouha_end=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Suitun_bakeshi_shouha_end,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(gg_trg_Suitun_bakeshi_shouha_end,Condition(function Trig_Suitun_bakeshi_shouha_end_Conditions))
call TriggerAddAction(gg_trg_Suitun_bakeshi_shouha_end,function Trig_Suitun_bakeshi_shouha_end_Actions)
endfunction
function Trig_Samehada_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A04M')
endfunction
function Trig_Samehada_Func002001 takes nothing returns boolean
return(udg_Bankai[(1+GetPlayerId(GetTriggerPlayer()))]==false)
endfunction
function Trig_Samehada_Func004C takes nothing returns boolean
return(udg_Bankai[(1+GetPlayerId(GetOwningPlayer(udg_Kisame[2])))])
endfunction
function Trig_Samehada_Actions takes nothing returns nothing
set udg_Kisame[2]=GetSpellAbilityUnit()
if(Trig_Samehada_Func002001())then
set udg_Bankai[(1+GetPlayerId(GetTriggerPlayer()))]=true
else
set udg_Bankai[(1+GetPlayerId(GetTriggerPlayer()))]=false
endif
call TriggerSleepAction(.25)
if(Trig_Samehada_Func004C())then
call CreateNUnitsAtLoc(1,'u011',GetOwningPlayer(udg_Kisame[2]),GetUnitLoc(udg_Kisame[2]),bj_UNIT_FACING)
set udg_Kisame[3]=bj_lastCreatedUnit
call SetPlayerAbilityAvailableBJ(false,'AOmi',GetOwningPlayer(udg_Kisame[2]))
call UnitAddAbility(udg_Kisame[2],'AUls')
call EnableTrigger(gg_trg_Samehada_move)
call EnableTrigger(gg_trg_Samehada_dead)
else
call RemoveUnit(udg_Kisame[3])
call DisableTrigger(gg_trg_Samehada_move)
call DisableTrigger(gg_trg_Samehada_dead)
call UnitRemoveAbility(udg_Kisame[2],'AUls')
call SetPlayerAbilityAvailableBJ(true,'AOmi',GetOwningPlayer(udg_Kisame[2]))
set udg_Kisame[3]=null
set udg_Kisame[2]=null
endif
endfunction
function InitTrig_Samehada takes nothing returns nothing
set gg_trg_Samehada=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Samehada,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Samehada,Condition(function Trig_Samehada_Conditions))
call TriggerAddAction(gg_trg_Samehada,function Trig_Samehada_Actions)
endfunction
function Trig_Samehada_move_Actions takes nothing returns nothing
call SetUnitPositionLoc(udg_Kisame[3],GetUnitLoc(udg_Kisame[2]))
endfunction
function InitTrig_Samehada_move takes nothing returns nothing
set gg_trg_Samehada_move=CreateTrigger()
call DisableTrigger(gg_trg_Samehada_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Samehada_move,.01)
call TriggerAddAction(gg_trg_Samehada_move,function Trig_Samehada_move_Actions)
endfunction
function Trig_Samehada_dead_Conditions takes nothing returns boolean
return(GetDyingUnit()==udg_Kisame[2])
endfunction
function Trig_Samehada_dead_Actions takes nothing returns nothing
set udg_Bankai[(1+GetPlayerId(GetOwningPlayer(udg_Kisame[2])))]=false
call RemoveUnit(udg_Kisame[3])
call DisableTrigger(gg_trg_Samehada_move)
call UnitRemoveAbility(udg_Kisame[2],'AUls')
call SetPlayerAbilityAvailableBJ(true,'AOmi',GetOwningPlayer(udg_Kisame[2]))
set udg_Kisame[3]=null
set udg_Kisame[2]=null
endfunction
function InitTrig_Samehada_dead takes nothing returns nothing
set gg_trg_Samehada_dead=CreateTrigger()
call DisableTrigger(gg_trg_Samehada_dead)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Samehada_dead,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Samehada_dead,Condition(function Trig_Samehada_dead_Conditions))
call TriggerAddAction(gg_trg_Samehada_dead,function Trig_Samehada_dead_Actions)
endfunction
function Trig_PeinAttack_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A0B6')
endfunction
function Trig_PeinAttack_Func008001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0B6',udg_Nagato[0])==1)
endfunction
function Trig_PeinAttack_Func009001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0B6',udg_Nagato[0])==2)
endfunction
function Trig_PeinAttack_Func010001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0B6',udg_Nagato[0])==3)
endfunction
function Trig_PeinAttack_Func011001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0B6',udg_Nagato[0])==4)
endfunction
function Trig_PeinAttack_Actions takes nothing returns nothing
set udg_Nagato[0]=GetSpellAbilityUnit()
set udg_Nagato[1]=GetSpellTargetUnit()
set udg_NagatoPoint[0]=GetUnitLoc(udg_Nagato[1])
call TriggerSleepAction(.05)
call SetUnitPositionLoc(udg_Nagato[0],udg_NagatoPoint[0])
if(Trig_PeinAttack_Func008001())then
call UnitDamageTargetBJ(udg_Nagato[0],udg_Nagato[1],160.,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_DIVINE)
endif
if(Trig_PeinAttack_Func009001())then
call UnitDamageTargetBJ(udg_Nagato[0],udg_Nagato[1],220.,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_DIVINE)
endif
if(Trig_PeinAttack_Func010001())then
call UnitDamageTargetBJ(udg_Nagato[0],udg_Nagato[1],300.,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_DIVINE)
endif
if(Trig_PeinAttack_Func011001())then
call UnitDamageTargetBJ(udg_Nagato[0],udg_Nagato[1],380.,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_DIVINE)
endif
call AddSpecialEffectLocBJ(udg_NagatoPoint[0],"Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set udg_Nagato[0]=null
set udg_Nagato[1]=null
call RemoveLocation(udg_NagatoPoint[0])
set udg_NagatoPoint[0]=null
endfunction
function InitTrig_PeinAttack takes nothing returns nothing
set gg_trg_PeinAttack=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_PeinAttack,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_PeinAttack,Condition(function Trig_PeinAttack_Conditions))
call TriggerAddAction(gg_trg_PeinAttack,function Trig_PeinAttack_Actions)
endfunction
function Trig_ShieldPole_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A043')
endfunction
function Trig_ShieldPole_Func006002003001 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(udg_Nagato[2]))
endfunction
function Trig_ShieldPole_Func006002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_ShieldPole_Func006002003002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_ShieldPole_Func006002003002002002 takes nothing returns boolean
return(UnitHasBuffBJ(GetFilterUnit(),'B00N')==false)
endfunction
function Trig_ShieldPole_Func006002003002002 takes nothing returns boolean
return GetBooleanAnd(Trig_ShieldPole_Func006002003002002001(),Trig_ShieldPole_Func006002003002002002())
endfunction
function Trig_ShieldPole_Func006002003002 takes nothing returns boolean
return GetBooleanAnd(Trig_ShieldPole_Func006002003002001(),Trig_ShieldPole_Func006002003002002())
endfunction
function Trig_ShieldPole_Func006002003 takes nothing returns boolean
return GetBooleanAnd(Trig_ShieldPole_Func006002003001(),Trig_ShieldPole_Func006002003002())
endfunction
function Trig_ShieldPole_Func007A takes nothing returns nothing
call UnitAddAbility(GetEnumUnit(),'A02C')
endfunction
function Trig_ShieldPole_Actions takes nothing returns nothing
set udg_Nagato[2]=GetSpellAbilityUnit()
set udg_NagatoPoint[1]=GetUnitLoc(udg_Nagato[2])
call CreateNUnitsAtLoc(1,'u00H',Player($F),udg_NagatoPoint[1],GetUnitFacing(udg_Nagato[2]))
set udg_Nagato[3]=bj_lastCreatedUnit
call SetUnitTimeScalePercent(udg_Nagato[3],.0)
set udg_Arrow[16]=GetUnitsInRangeOfLocMatching(512.,udg_NagatoPoint[1],Condition(function Trig_ShieldPole_Func006002003))
call ForGroupBJ(udg_Arrow[16],function Trig_ShieldPole_Func007A)
call DestroyGroup(udg_Arrow[16])
set udg_Arrow[16]=null
call EnableTrigger(gg_trg_ShieldPoleEnter)
endfunction
function InitTrig_ShieldPole takes nothing returns nothing
set gg_trg_ShieldPole=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ShieldPole,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_ShieldPole,Condition(function Trig_ShieldPole_Conditions))
call TriggerAddAction(gg_trg_ShieldPole,function Trig_ShieldPole_Actions)
endfunction
function Trig_ShieldPole2_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A043')
endfunction
function Trig_ShieldPole2_Func002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_ShieldPole2_Func002002002002 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_ShieldPole2_Func002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_ShieldPole2_Func002002002001(),Trig_ShieldPole2_Func002002002002())
endfunction
function Trig_ShieldPole2_Func003A takes nothing returns nothing
call UnitRemoveAbility(GetEnumUnit(),'A02C')
endfunction
function Trig_ShieldPole2_Actions takes nothing returns nothing
call DisableTrigger(gg_trg_ShieldPoleEnter)
set udg_Arrow[16]=GetUnitsOfPlayerMatching(GetOwningPlayer(udg_Nagato[2]),Condition(function Trig_ShieldPole2_Func002002002))
call ForGroupBJ(udg_Arrow[16],function Trig_ShieldPole2_Func003A)
call DestroyGroup(udg_Arrow[16])
set udg_Arrow[16]=null
call RemoveLocation(udg_NagatoPoint[1])
set udg_NagatoPoint[1]=null
call DestroyGroup(udg_Arrow[17])
set udg_Arrow[17]=null
call RemoveLocation(udg_NagatoPoint[2])
set udg_NagatoPoint[2]=null
call RemoveUnit(udg_Nagato[3])
set udg_Nagato[2]=null
set udg_Nagato[3]=null
endfunction
function InitTrig_ShieldPole2 takes nothing returns nothing
set gg_trg_ShieldPole2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ShieldPole2,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(gg_trg_ShieldPole2,Condition(function Trig_ShieldPole2_Conditions))
call TriggerAddAction(gg_trg_ShieldPole2,function Trig_ShieldPole2_Actions)
endfunction
function Trig_ShieldPoleEnter_Func001002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_ShieldPoleEnter_Func001002002002 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_ShieldPoleEnter_Func001002002 takes nothing returns boolean
return GetBooleanAnd(Trig_ShieldPoleEnter_Func001002002001(),Trig_ShieldPoleEnter_Func001002002002())
endfunction
function Trig_ShieldPoleEnter_Func002Func002Func001001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A02C',GetEnumUnit())==1)
endfunction
function Trig_ShieldPoleEnter_Func002Func002C takes nothing returns boolean
return(DistanceBetweenPoints(udg_NagatoPoint[2],udg_NagatoPoint[1])>510.)
endfunction
function Trig_ShieldPoleEnter_Func002Func003Func001001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A02C',GetEnumUnit())==1)
endfunction
function Trig_ShieldPoleEnter_Func002Func003C takes nothing returns boolean
return(DistanceBetweenPoints(udg_NagatoPoint[2],udg_NagatoPoint[1])<510.)
endfunction
function Trig_ShieldPoleEnter_Func002A takes nothing returns nothing
set udg_NagatoPoint[2]=GetUnitLoc(GetEnumUnit())
if(Trig_ShieldPoleEnter_Func002Func002C())then
if(Trig_ShieldPoleEnter_Func002Func002Func001001())then
call UnitRemoveAbility(GetEnumUnit(),'A02C')
endif
endif
if(Trig_ShieldPoleEnter_Func002Func003C())then
if(Trig_ShieldPoleEnter_Func002Func003Func001001())then
else
call UnitAddAbility(GetEnumUnit(),'A02C')
endif
endif
call RemoveLocation(udg_NagatoPoint[2])
set udg_NagatoPoint[2]=null
endfunction
function Trig_ShieldPoleEnter_Actions takes nothing returns nothing
set udg_Arrow[17]=GetUnitsOfPlayerMatching(GetOwningPlayer(udg_Nagato[2]),Condition(function Trig_ShieldPoleEnter_Func001002002))
call ForGroupBJ(udg_Arrow[17],function Trig_ShieldPoleEnter_Func002A)
call DestroyGroup(udg_Arrow[17])
set udg_Arrow[17]=null
endfunction
function InitTrig_ShieldPoleEnter takes nothing returns nothing
set gg_trg_ShieldPoleEnter=CreateTrigger()
call DisableTrigger(gg_trg_ShieldPoleEnter)
call TriggerRegisterTimerEventPeriodic(gg_trg_ShieldPoleEnter,1.)
call TriggerAddAction(gg_trg_ShieldPoleEnter,function Trig_ShieldPoleEnter_Actions)
endfunction
function Trig_Mana_1_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A09L')
endfunction
function Trig_Mana_1_Actions takes nothing returns nothing
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.4,'BTLF',bj_lastCreatedUnit)
call UnitAddAbility(bj_lastCreatedUnit,'A0AE')
call IssueTargetOrderById(bj_lastCreatedUnit,$D00C0,GetTriggerUnit())
endfunction
function InitTrig_Mana_1 takes nothing returns nothing
set gg_trg_Mana_1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Mana_1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Mana_1,Condition(function Trig_Mana_1_Conditions))
call TriggerAddAction(gg_trg_Mana_1,function Trig_Mana_1_Actions)
endfunction
function Trig_Mana_end_1_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A09L')
endfunction
function Trig_Mana_end_1_Actions takes nothing returns nothing
call UnitRemoveAbility(GetTriggerUnit(),'B011')
endfunction
function InitTrig_Mana_end_1 takes nothing returns nothing
set gg_trg_Mana_end_1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Mana_end_1,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(gg_trg_Mana_end_1,Condition(function Trig_Mana_end_1_Conditions))
call TriggerAddAction(gg_trg_Mana_end_1,function Trig_Mana_end_1_Actions)
endfunction
function Trig_bansho_tenin_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A0AP')
endfunction
function Trig_bansho_tenin_Func001C takes nothing returns boolean
return(UnitHasBuffBJ(GetSpellTargetUnit(),'B001')==false)
endfunction
function Trig_bansho_tenin_Actions takes nothing returns nothing
if(Trig_bansho_tenin_Func001C())then
set udg_Bansho_Tenin[1]=GetSpellAbilityUnit()
set udg_Bansho_Tenin[2]=GetSpellTargetUnit()
set udg_Bansho_Tenin_Point[1]=GetUnitLoc(udg_Bansho_Tenin[1])
call PauseUnit(udg_Bansho_Tenin[1],true)
call PauseUnit(udg_Bansho_Tenin[2],true)
call SetUnitPathing(udg_Bansho_Tenin[2],false)
call EnableTrigger(gg_trg_bansho_tenin_move)
endif
endfunction
function InitTrig_bansho_tenin takes nothing returns nothing
set gg_trg_bansho_tenin=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_bansho_tenin,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_bansho_tenin,Condition(function Trig_bansho_tenin_Conditions))
call TriggerAddAction(gg_trg_bansho_tenin,function Trig_bansho_tenin_Actions)
endfunction
function Trig_bansho_tenin_move_Func006Func001001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0AP',udg_Bansho_Tenin[1])==1)
endfunction
function Trig_bansho_tenin_move_Func006Func002001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0AP',udg_Bansho_Tenin[1])==2)
endfunction
function Trig_bansho_tenin_move_Func006Func003001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0AP',udg_Bansho_Tenin[1])==3)
endfunction
function Trig_bansho_tenin_move_Func006Func004001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0AP',udg_Bansho_Tenin[1])==4)
endfunction
function Trig_bansho_tenin_move_Func006C takes nothing returns boolean
return(DistanceBetweenPoints(udg_Bansho_Tenin_Point[1],udg_Bansho_Tenin_Point[3])<=100.)
endfunction
function Trig_bansho_tenin_move_Actions takes nothing returns nothing
set udg_Bansho_Tenin_Point[3]=GetUnitLoc(udg_Bansho_Tenin[2])
set udg_Bansho_Tenin_Point[4]=PolarProjectionBJ(udg_Bansho_Tenin_Point[3],29.,AngleBetweenPoints(udg_Bansho_Tenin_Point[3],udg_Bansho_Tenin_Point[1]))
call SetUnitPositionLocFacingLocBJ(udg_Bansho_Tenin[2],udg_Bansho_Tenin_Point[4],udg_Bansho_Tenin_Point[1])
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Bansho_Tenin[2]),"Abilities\\Spells\\Orc\\Purge\\PurgeBuffTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
if(Trig_bansho_tenin_move_Func006C())then
if(Trig_bansho_tenin_move_Func006Func001001())then
call UnitDamageTargetBJ(udg_Bansho_Tenin[1],udg_Bansho_Tenin[2],140.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEMOLITION)
endif
if(Trig_bansho_tenin_move_Func006Func002001())then
call UnitDamageTargetBJ(udg_Bansho_Tenin[1],udg_Bansho_Tenin[2],220.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEMOLITION)
endif
if(Trig_bansho_tenin_move_Func006Func003001())then
call UnitDamageTargetBJ(udg_Bansho_Tenin[1],udg_Bansho_Tenin[2],300.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEMOLITION)
endif
if(Trig_bansho_tenin_move_Func006Func004001())then
call UnitDamageTargetBJ(udg_Bansho_Tenin[1],udg_Bansho_Tenin[2],380.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEMOLITION)
endif
call PauseUnit(udg_Bansho_Tenin[1],false)
call PauseUnit(udg_Bansho_Tenin[2],false)
call SetUnitPathing(udg_Bansho_Tenin[2],true)
call RemoveLocation(udg_Bansho_Tenin_Point[1])
call DisableTrigger(GetTriggeringTrigger())
set udg_Bansho_Tenin[1]=null
set udg_Bansho_Tenin[2]=null
endif
call RemoveLocation(udg_Bansho_Tenin_Point[3])
call RemoveLocation(udg_Bansho_Tenin_Point[4])
endfunction
function InitTrig_bansho_tenin_move takes nothing returns nothing
set gg_trg_bansho_tenin_move=CreateTrigger()
call DisableTrigger(gg_trg_bansho_tenin_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_bansho_tenin_move,.01)
call TriggerAddAction(gg_trg_bansho_tenin_move,function Trig_bansho_tenin_move_Actions)
endfunction
function Trig_ComeOnHere_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A09N')
endfunction
function Trig_ComeOnHere_Func002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_ComeOnHere_Func002002002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_ComeOnHere_Func002002002002002001 takes nothing returns boolean
return(IsUnitHidden(GetFilterUnit())==false)
endfunction
function Trig_ComeOnHere_Func002002002002002002001 takes nothing returns boolean
return(GetFilterUnit()!=GetTriggerUnit())
endfunction
function Trig_ComeOnHere_Func002002002002002002002001 takes nothing returns boolean
return(GetFilterUnit()!=udg_Hero2[2])
endfunction
function Trig_ComeOnHere_Func002002002002002002002002 takes nothing returns boolean
return(IsUnitPaused(GetFilterUnit())==false)
endfunction
function Trig_ComeOnHere_Func002002002002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_ComeOnHere_Func002002002002002002002001(),Trig_ComeOnHere_Func002002002002002002002002())
endfunction
function Trig_ComeOnHere_Func002002002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_ComeOnHere_Func002002002002002002001(),Trig_ComeOnHere_Func002002002002002002002())
endfunction
function Trig_ComeOnHere_Func002002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_ComeOnHere_Func002002002002002001(),Trig_ComeOnHere_Func002002002002002002())
endfunction
function Trig_ComeOnHere_Func002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_ComeOnHere_Func002002002002001(),Trig_ComeOnHere_Func002002002002002())
endfunction
function Trig_ComeOnHere_Func002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_ComeOnHere_Func002002002001(),Trig_ComeOnHere_Func002002002002())
endfunction
function Trig_ComeOnHere_Func003A takes nothing returns nothing
set udg_NagatoPoint[4]=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(udg_NagatoPoint[4],"shadowclone.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(udg_NagatoPoint[4])
set udg_NagatoPoint[4]=null
call SetUnitPositionLoc(GetEnumUnit(),udg_NagatoPoint[3])
set udg_NagatoPoint[4]=GetUnitLoc(GetEnumUnit())
call AddSpecialEffectLocBJ(udg_NagatoPoint[4],"shadowclone.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(udg_NagatoPoint[4])
set udg_NagatoPoint[4]=null
endfunction
function Trig_ComeOnHere_Actions takes nothing returns nothing
set udg_NagatoPoint[3]=GetUnitLoc(GetTriggerUnit())
set udg_Arrow[18]=GetUnitsOfPlayerMatching(GetOwningPlayer(GetTriggerUnit()),Condition(function Trig_ComeOnHere_Func002002002))
call ForGroupBJ(udg_Arrow[18],function Trig_ComeOnHere_Func003A)
call GroupClear(udg_Arrow[18])
call DestroyGroup(udg_Arrow[18])
set udg_Arrow[18]=null
call RemoveLocation(udg_NagatoPoint[3])
set udg_NagatoPoint[3]=null
endfunction
function InitTrig_ComeOnHere takes nothing returns nothing
set gg_trg_ComeOnHere=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ComeOnHere,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_ComeOnHere,Condition(function Trig_ComeOnHere_Conditions))
call TriggerAddAction(gg_trg_ComeOnHere,function Trig_ComeOnHere_Actions)
endfunction
function Trig_SpikeofNagato_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A09O')
endfunction
function Trig_SpikeofNagato_Func003C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A09P',GetTriggerUnit())>0)
endfunction
function Trig_SpikeofNagato_Actions takes nothing returns nothing
call UnitAddAbility(GetSpellAbilityUnit(),'A09P')
call PolledWait(17.9)
if(Trig_SpikeofNagato_Func003C())then
call UnitRemoveAbility(GetTriggerUnit(),'A09P')
endif
endfunction
function InitTrig_SpikeofNagato takes nothing returns nothing
set gg_trg_SpikeofNagato=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_SpikeofNagato,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_SpikeofNagato,Condition(function Trig_SpikeofNagato_Conditions))
call TriggerAddAction(gg_trg_SpikeofNagato,function Trig_SpikeofNagato_Actions)
endfunction
function Trig_SpikeofNagato_attack_Conditions takes nothing returns boolean
return(UnitHasBuffBJ(GetAttacker(),'B00L'))
endfunction
function Trig_SpikeofNagato_attack_Actions takes nothing returns nothing
call UnitRemoveAbility(GetAttacker(),'B00L')
call PolledWait(.5)
call UnitRemoveAbility(GetAttacker(),'A09P')
endfunction
function InitTrig_SpikeofNagato_attack takes nothing returns nothing
set gg_trg_SpikeofNagato_attack=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_SpikeofNagato_attack,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_SpikeofNagato_attack,Condition(function Trig_SpikeofNagato_attack_Conditions))
call TriggerAddAction(gg_trg_SpikeofNagato_attack,function Trig_SpikeofNagato_attack_Actions)
endfunction
function Trig_RadiusNagatoControl_Conditions takes nothing returns boolean
return(IsUnitAliveBJ(udg_Hero2[2]))
endfunction
function Trig_RadiusNagatoControl_Func002Func003Func001C takes nothing returns boolean
return(GetUnitLifePercent(udg_Hero2[2])>=4.)and(DistanceBetweenPoints(udg_NagatoPoint[6],udg_NagatoPoint[7])<4000.)
endfunction
function Trig_RadiusNagatoControl_Func002Func003Func003Func001C takes nothing returns boolean
return(DistanceBetweenPoints(udg_NagatoPoint[6],udg_NagatoPoint[7])>4000.)and(RectContainsLoc(gg_rct_Secret_of_Chamber,udg_NagatoPoint[7])==false)and(RectContainsLoc(gg_rct_Ame,udg_NagatoPoint[7])==false)
endfunction
function Trig_RadiusNagatoControl_Func002Func003Func003Func003C takes nothing returns boolean
return(IsUnitAliveBJ(GetEnumUnit()))
endfunction
function Trig_RadiusNagatoControl_Func002Func003Func003C takes nothing returns boolean
return(Trig_RadiusNagatoControl_Func002Func003Func003Func001C())
endfunction
function Trig_RadiusNagatoControl_Func002Func003C takes nothing returns boolean
return(Trig_RadiusNagatoControl_Func002Func003Func001C())
endfunction
function Trig_RadiusNagatoControl_Func002A takes nothing returns nothing
set udg_NagatoPoint[6]=GetUnitLoc(udg_Hero2[2])
set udg_NagatoPoint[7]=GetUnitLoc(GetEnumUnit())
if(Trig_RadiusNagatoControl_Func002Func003C())then
call SetUnitManaPercentBJ(GetEnumUnit(),(GetUnitManaPercent(GetEnumUnit())+5.5))
else
if(Trig_RadiusNagatoControl_Func002Func003Func003C())then
if(Trig_RadiusNagatoControl_Func002Func003Func003Func003C())then
call KillUnit(GetEnumUnit())
endif
endif
endif
call RemoveLocation(udg_NagatoPoint[6])
set udg_NagatoPoint[6]=null
call RemoveLocation(udg_NagatoPoint[7])
set udg_NagatoPoint[7]=null
endfunction
function Trig_RadiusNagatoControl_Func003Func001C takes nothing returns boolean
return(IsUnitAliveBJ(udg_Hero2[3]))and(IsUnitAliveBJ(udg_Hero2[4]))and(IsUnitAliveBJ(udg_Hero2[5]))and(IsUnitAliveBJ(udg_Hero2[6]))and(IsUnitAliveBJ(udg_Hero2[7]))and(IsUnitAliveBJ(gg_unit_Hhkl_0021))
endfunction
function Trig_RadiusNagatoControl_Func003Func003Func001C takes nothing returns boolean
return(IsUnitAliveBJ(udg_Hero2[3])==false)and(IsUnitAliveBJ(udg_Hero2[4]))and(IsUnitAliveBJ(udg_Hero2[5]))and(IsUnitAliveBJ(udg_Hero2[6]))and(IsUnitAliveBJ(udg_Hero2[7]))and(IsUnitAliveBJ(gg_unit_Hhkl_0021))
endfunction
function Trig_RadiusNagatoControl_Func003Func003Func002Func001C takes nothing returns boolean
return(IsUnitAliveBJ(udg_Hero2[3])==false)and(IsUnitAliveBJ(udg_Hero2[4])==false)and(IsUnitAliveBJ(udg_Hero2[5]))and(IsUnitAliveBJ(udg_Hero2[6]))and(IsUnitAliveBJ(udg_Hero2[7]))and(IsUnitAliveBJ(gg_unit_Hhkl_0021))
endfunction
function Trig_RadiusNagatoControl_Func003Func003Func002Func002Func001C takes nothing returns boolean
return(IsUnitAliveBJ(udg_Hero2[3])==false)and(IsUnitAliveBJ(udg_Hero2[4])==false)and(IsUnitAliveBJ(udg_Hero2[5])==false)and(IsUnitAliveBJ(udg_Hero2[6]))and(IsUnitAliveBJ(udg_Hero2[7]))and(IsUnitAliveBJ(gg_unit_Hhkl_0021))
endfunction
function Trig_RadiusNagatoControl_Func003Func003Func002Func002Func002Func001C takes nothing returns boolean
return(IsUnitAliveBJ(udg_Hero2[3])==false)and(IsUnitAliveBJ(udg_Hero2[4])==false)and(IsUnitAliveBJ(udg_Hero2[5])==false)and(IsUnitAliveBJ(udg_Hero2[6])==false)and(IsUnitAliveBJ(udg_Hero2[7]))and(IsUnitAliveBJ(gg_unit_Hhkl_0021))
endfunction
function Trig_RadiusNagatoControl_Func003Func003Func002Func002Func002Func002Func001C takes nothing returns boolean
return(IsUnitAliveBJ(udg_Hero2[3])==false)and(IsUnitAliveBJ(udg_Hero2[4])==false)and(IsUnitAliveBJ(udg_Hero2[5])==false)and(IsUnitAliveBJ(udg_Hero2[6])==false)and(IsUnitAliveBJ(udg_Hero2[7])==false)and(IsUnitAliveBJ(gg_unit_Hhkl_0021))
endfunction
function Trig_RadiusNagatoControl_Func003Func003Func002Func002Func002Func002Func002Func001C takes nothing returns boolean
return(IsUnitAliveBJ(udg_Hero2[3])==false)and(IsUnitAliveBJ(udg_Hero2[4])==false)and(IsUnitAliveBJ(udg_Hero2[5])==false)and(IsUnitAliveBJ(udg_Hero2[6])==false)and(IsUnitAliveBJ(udg_Hero2[7])==false)and(IsUnitAliveBJ(gg_unit_Hhkl_0021)==false)
endfunction
function Trig_RadiusNagatoControl_Func003Func003Func002Func002Func002Func002Func002C takes nothing returns boolean
return(Trig_RadiusNagatoControl_Func003Func003Func002Func002Func002Func002Func002Func001C())
endfunction
function Trig_RadiusNagatoControl_Func003Func003Func002Func002Func002Func002C takes nothing returns boolean
return(Trig_RadiusNagatoControl_Func003Func003Func002Func002Func002Func002Func001C())
endfunction
function Trig_RadiusNagatoControl_Func003Func003Func002Func002Func002C takes nothing returns boolean
return(Trig_RadiusNagatoControl_Func003Func003Func002Func002Func002Func001C())
endfunction
function Trig_RadiusNagatoControl_Func003Func003Func002Func002C takes nothing returns boolean
return(Trig_RadiusNagatoControl_Func003Func003Func002Func002Func001C())
endfunction
function Trig_RadiusNagatoControl_Func003Func003Func002C takes nothing returns boolean
return(Trig_RadiusNagatoControl_Func003Func003Func002Func001C())
endfunction
function Trig_RadiusNagatoControl_Func003Func003C takes nothing returns boolean
return(Trig_RadiusNagatoControl_Func003Func003Func001C())
endfunction
function Trig_RadiusNagatoControl_Func003C takes nothing returns boolean
return(Trig_RadiusNagatoControl_Func003Func001C())
endfunction
function Trig_RadiusNagatoControl_Actions takes nothing returns nothing
call ForGroupBJ(udg_Peins,function Trig_RadiusNagatoControl_Func002A)
if(Trig_RadiusNagatoControl_Func003C())then
call SetUnitManaPercentBJ(udg_Hero2[2],(GetUnitManaPercent(udg_Hero2[2])-.9))
else
if(Trig_RadiusNagatoControl_Func003Func003C())then
call SetUnitManaPercentBJ(udg_Hero2[2],(GetUnitManaPercent(udg_Hero2[2])-.8))
else
if(Trig_RadiusNagatoControl_Func003Func003Func002C())then
call SetUnitManaPercentBJ(udg_Hero2[2],(GetUnitManaPercent(udg_Hero2[2])-.7))
else
if(Trig_RadiusNagatoControl_Func003Func003Func002Func002C())then
call SetUnitManaPercentBJ(udg_Hero2[2],(GetUnitManaPercent(udg_Hero2[2])-.6))
else
if(Trig_RadiusNagatoControl_Func003Func003Func002Func002Func002C())then
call SetUnitManaPercentBJ(udg_Hero2[2],(GetUnitManaPercent(udg_Hero2[2])-.5))
else
if(Trig_RadiusNagatoControl_Func003Func003Func002Func002Func002Func002C())then
call SetUnitManaPercentBJ(udg_Hero2[2],(GetUnitManaPercent(udg_Hero2[2])-.4))
else
if(Trig_RadiusNagatoControl_Func003Func003Func002Func002Func002Func002Func002C())then
call SetUnitManaPercentBJ(udg_Hero2[2],(GetUnitManaPercent(udg_Hero2[2])-.3))
endif
endif
endif
endif
endif
endif
endif
endfunction
function InitTrig_RadiusNagatoControl takes nothing returns nothing
set gg_trg_RadiusNagatoControl=CreateTrigger()
call DisableTrigger(gg_trg_RadiusNagatoControl)
call TriggerRegisterTimerEventPeriodic(gg_trg_RadiusNagatoControl,1.)
call TriggerAddCondition(gg_trg_RadiusNagatoControl,Condition(function Trig_RadiusNagatoControl_Conditions))
call TriggerAddAction(gg_trg_RadiusNagatoControl,function Trig_RadiusNagatoControl_Actions)
endfunction
function Trig_Rinnegan_Conditions takes nothing returns boolean
return(GetLearnedSkill()=='A02Z')
endfunction
function Trig_Rinnegan_Func001Func002C takes nothing returns boolean
return(GetTriggerUnit()==gg_unit_Hhkl_0021)
endfunction
function Trig_Rinnegan_Func001Func003001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A08U',GetTriggerUnit())>0)
endfunction
function Trig_Rinnegan_Func001Func003002 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A06E',GetTriggerUnit())>0)
endfunction
function Trig_Rinnegan_Func001C takes nothing returns boolean
return(GetBooleanOr(Trig_Rinnegan_Func001Func003001(),Trig_Rinnegan_Func001Func003002()))
endfunction
function Trig_Rinnegan_Actions takes nothing returns nothing
if(Trig_Rinnegan_Func001C())then
else
if(Trig_Rinnegan_Func001Func002C())then
call UnitAddAbility(GetTriggerUnit(),'A08U')
else
call UnitAddAbility(GetTriggerUnit(),'A06E')
endif
endif
endfunction
function InitTrig_Rinnegan takes nothing returns nothing
set gg_trg_Rinnegan=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Rinnegan,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg_Rinnegan,Condition(function Trig_Rinnegan_Conditions))
call TriggerAddAction(gg_trg_Rinnegan,function Trig_Rinnegan_Actions)
endfunction
function Trig_RevivePath_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A08T')
endfunction
function Trig_RevivePath_Func003C takes nothing returns boolean
return(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)
endfunction
function Trig_RevivePath_Actions takes nothing returns nothing
call CreateNUnitsAtLoc(1,'halt',GetOwningPlayer(GetTriggerUnit()),PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),256,GetUnitFacing(GetTriggerUnit())),GetUnitFacing(GetTriggerUnit()))
call UnitApplyTimedLifeBJ(10.,'BTLF',bj_lastCreatedUnit)
if(Trig_RevivePath_Func003C())then
call IssueTargetOrderById(bj_lastCreatedUnit,$D0047,udg_Hero2[3])
call IssueTargetOrderById(bj_lastCreatedUnit,$D0047,udg_Hero2[4])
call IssueTargetOrderById(bj_lastCreatedUnit,$D0047,udg_Hero2[5])
call IssueTargetOrderById(bj_lastCreatedUnit,$D0047,udg_Hero2[6])
call IssueTargetOrderById(bj_lastCreatedUnit,$D0047,udg_Hero2[7])
call IssueTargetOrderById(bj_lastCreatedUnit,$D0047,gg_unit_Hhkl_0021)
endif
endfunction
function InitTrig_RevivePath takes nothing returns nothing
set gg_trg_RevivePath=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_RevivePath,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_RevivePath,Condition(function Trig_RevivePath_Conditions))
call TriggerAddAction(gg_trg_RevivePath,function Trig_RevivePath_Actions)
endfunction
function Shinra_Effect takes nothing returns nothing
local timer sh=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(sh),1)
local group gh=CreateGroup()
local unit bh
call GroupEnumUnitsInRange(gh,GetUnitX(a),GetUnitY(a),500,null)
loop
set bh=FirstOfGroup(gh)
exitwhen bh==null
if IsUnitEnemy(bh,GetOwningPlayer(a)) and GetUnitState(bh,UNIT_STATE_LIFE)>0 then
if GetUnitState(a,UNIT_STATE_LIFE)>0 then
call SetUnitPosition(bh,GetUnitX(bh)-$A*Cos(GetUnitFacing(bh)*bj_DEGTORAD),GetUnitY(bh)-$A*Sin(GetUnitFacing(bh)*bj_DEGTORAD))
call UnitDamageTarget(a,bh,500,false,false,null,null,null)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetUnitX(bh),GetUnitY(bh)))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NightElfBlood\\NightElfBloodDruidoftheClaw.mdl",GetUnitX(bh),GetUnitY(bh)))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Orc\\Orcblood\\BattrollBlood.mdl",GetUnitX(bh),GetUnitY(bh)))
else
call PauseUnit(a,false)
call PauseTimer(sh)
call FlushChildHashtable(hash,GetHandleId(sh))
call DestroyTimer(sh)
endif
endif
call GroupRemoveUnit(gh,bh)
endloop
call DestroyGroup(gh)
set a=null
set gh=null
set bh=null
set sh=null
endfunction
function PeinShinra_A takes nothing returns nothing
local unit cjlocgn_00000000
local unit cjlocgn_00000001
local timer cjlocgn_00000002
if GetSpellAbilityId()=='A09B' then
set cjlocgn_00000000=GetSpellAbilityUnit()
if GetUnitState(cjlocgn_00000000,UNIT_STATE_MANA)>=GetUnitState(cjlocgn_00000000,UNIT_STATE_MANA)-(GetUnitState(cjlocgn_00000000,UNIT_STATE_MAX_MANA)*25/'d')then
call SetUnitState(cjlocgn_00000000,UNIT_STATE_MANA,GetUnitState(cjlocgn_00000000,UNIT_STATE_MANA)-(GetUnitState(cjlocgn_00000000,UNIT_STATE_MAX_MANA)*25/'d'))
call PauseUnit(cjlocgn_00000000,true)
call UnitAddAbility(cjlocgn_00000000,'A08X')
call SetUnitAnimation(cjlocgn_00000000,"Spell Shinra")
set cjlocgn_00000001=CreateUnit(GetOwningPlayer(cjlocgn_00000000),'h04F',GetUnitX(cjlocgn_00000000),GetUnitY(cjlocgn_00000000),0)
set cjlocgn_00000002=CreateTimer()
call SaveUnitHandle(hash,GetHandleId(cjlocgn_00000002),1,cjlocgn_00000000)
call TimerStart(cjlocgn_00000002,.1,true,function Shinra_Effect)
call SetUnitScale(cjlocgn_00000001,'d'*.01,'d'*.01,'d'*.01)
call TriggerSleepAction(.02)
call SetUnitScale(cjlocgn_00000001,'}'*.01,'}'*.01,'}'*.01)
call TriggerSleepAction(.02)
call SetUnitScale(cjlocgn_00000001,$96*.01,$96*.01,$96*.01)
call TriggerSleepAction(.02)
call SetUnitScale(cjlocgn_00000001,$AF*.01,$AF*.01,$AF*.01)
call TriggerSleepAction(.02)
call SetUnitScale(cjlocgn_00000001,$C8*.01,$C8*.01,$C8*.01)
call TriggerSleepAction(.02)
call SetUnitScale(cjlocgn_00000001,$E1*.01,$E1*.01,$E1*.01)
call TriggerSleepAction(.02)
call SetUnitScale(cjlocgn_00000001,$FA*.01,$FA*.01,$FA*.01)
call TriggerSleepAction(.02)
call SetUnitScale(cjlocgn_00000001,275*.01,275*.01,275*.01)
call TriggerSleepAction(.02)
call SetUnitScale(cjlocgn_00000001,300*.01,300*.01,300*.01)
call TriggerSleepAction(.02)
call SetUnitScale(cjlocgn_00000001,325*.01,325*.01,325*.01)
call TriggerSleepAction(.02)
call SetUnitScale(cjlocgn_00000001,350*.01,350*.01,350*.01)
call TriggerSleepAction(.02)
call SetUnitScale(cjlocgn_00000001,375*.01,375*.01,375*.01)
call TriggerSleepAction(.02)
call SetUnitScale(cjlocgn_00000001,400*.01,400*.01,400*.01)
call TriggerSleepAction(.02)
call SetUnitScale(cjlocgn_00000001,425*.01,425*.01,425*.01)
call TriggerSleepAction(.02)
call SetUnitScale(cjlocgn_00000001,450*.01,450*.01,450*.01)
call TriggerSleepAction(.02)
call SetUnitScale(cjlocgn_00000001,475*.01,475*.01,475*.01)
call TriggerSleepAction(.02)
call SetUnitScale(cjlocgn_00000001,500*.01,500*.01,500*.01)
call TriggerSleepAction(.02)
call SetUnitScale(cjlocgn_00000001,525*.01,525*.01,525*.01)
call TriggerSleepAction(.02)
call SetUnitScale(cjlocgn_00000001,550*.01,550*.01,550*.01)
call TriggerSleepAction(.02)
call SetUnitScale(cjlocgn_00000001,575*.01,575*.01,575*.01)
call TriggerSleepAction(1)
call PauseTimer(cjlocgn_00000002)
call FlushChildHashtable(hash,GetHandleId(cjlocgn_00000002))
call DestroyTimer(cjlocgn_00000002)
call UnitRemoveAbility(cjlocgn_00000000,'A08X')
call RemoveUnit(cjlocgn_00000001)
call PauseUnit(cjlocgn_00000000,false)
set cjlocgn_00000002=null
set cjlocgn_00000001=null
else
call DisplayTimedTextFromPlayer(GetOwningPlayer(cjlocgn_00000000),0,0,5,GetLocalizedString("|cFF0000FFНету Чакры!|r"))
endif
set cjlocgn_00000000=null
endif
endfunction
function InitTrig_PeinShinra takes nothing returns nothing
local trigger Pein2=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(Pein2,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddAction(Pein2,function PeinShinra_A)
set Pein2=null
endfunction
function PSk_end takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
local unit ch=LoadUnitHandle(hash,GetHandleId(t),2)
local integer vj=LoadInteger(hash,GetHandleId(t),6)
local group g=LoadGroupHandle(hash,GetHandleId(t),4)
local real x=GetUnitX(ch)
local real y=GetUnitY(ch)
local real d
local real r
local unit n
if vj<=1 then
call PauseTimer(t)
set n=CreateUnit(GetOwningPlayer(a),'h04E',x,y,0)
call UnitApplyTimedLife(n,'BTLF',3)
call IssueImmediateOrderById(n,$D009F)
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",GetUnitX(n)+'d'*Cos(1*72*bj_DEGTORAD),GetUnitY(n)+'d'*Sin(1*72*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",GetUnitX(n)+'d'*Cos(2*72*bj_DEGTORAD),GetUnitY(n)+'d'*Sin(2*72*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",GetUnitX(n)+'d'*Cos(3*72*bj_DEGTORAD),GetUnitY(n)+'d'*Sin(3*72*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",GetUnitX(n)+'d'*Cos(4*72*bj_DEGTORAD),GetUnitY(n)+'d'*Sin(4*72*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",GetUnitX(n)+'d'*Cos(5*72*bj_DEGTORAD),GetUnitY(n)+'d'*Sin(5*72*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",GetUnitX(n)+$C8*Cos(1*72*bj_DEGTORAD),GetUnitY(n)+$C8*Sin(1*72*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",GetUnitX(n)+$C8*Cos(2*72*bj_DEGTORAD),GetUnitY(n)+$C8*Sin(2*72*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",GetUnitX(n)+$C8*Cos(3*72*bj_DEGTORAD),GetUnitY(n)+$C8*Sin(3*72*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",GetUnitX(n)+$C8*Cos(4*72*bj_DEGTORAD),GetUnitY(n)+$C8*Sin(4*72*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",GetUnitX(n)+$C8*Cos(5*72*bj_DEGTORAD),GetUnitY(n)+$C8*Sin(5*72*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",GetUnitX(n)+300*Cos(1*72*bj_DEGTORAD),GetUnitY(n)+300*Sin(1*72*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",GetUnitX(n)+300*Cos(2*72*bj_DEGTORAD),GetUnitY(n)+300*Sin(2*72*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",GetUnitX(n)+300*Cos(3*72*bj_DEGTORAD),GetUnitY(n)+300*Sin(3*72*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",GetUnitX(n)+300*Cos(4*72*bj_DEGTORAD),GetUnitY(n)+300*Sin(4*72*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",GetUnitX(n)+300*Cos(5*72*bj_DEGTORAD),GetUnitY(n)+300*Sin(5*72*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",GetUnitX(n)+600*Cos(1*72*bj_DEGTORAD),GetUnitY(n)+600*Sin(1*72*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",GetUnitX(n)+600*Cos(2*72*bj_DEGTORAD),GetUnitY(n)+600*Sin(2*72*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",GetUnitX(n)+600*Cos(3*72*bj_DEGTORAD),GetUnitY(n)+600*Sin(3*72*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",GetUnitX(n)+600*Cos(4*72*bj_DEGTORAD),GetUnitY(n)+600*Sin(4*72*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",GetUnitX(n)+600*Cos(5*72*bj_DEGTORAD),GetUnitY(n)+600*Sin(5*72*bj_DEGTORAD)))
set n=null
call GroupEnumUnitsInRange(g,x,y,280,null)
loop
set n=FirstOfGroup(g)
exitwhen n==null
if IsUnitEnemy(n,GetOwningPlayer(a)) and GetUnitAbilityLevel(n,'A08W')>=1 and GetUnitState(n,UNIT_STATE_LIFE)>0 and IsUnitType(n,UNIT_TYPE_STRUCTURE)==false then
call SetUnitInvulnerable(n,false)
call UnitDamageTarget(a,n,(GetHeroStr(a,true)+GetHeroAgi(a,true)+GetHeroInt(a,true))*2+$7D0,false,false,null,null,null)
set d=bj_RADTODEG*Atan2(y-GetUnitY(n),x-GetUnitX(n))
call UnitRemoveAbility(n,'A08W')
call PauseUnit(n,false)
call SetUnitAnimation(n,"death")
set r=GetRandomReal($A,700)
call SetUnitX(n,GetUnitX(n)+r*Cos(d*bj_DEGTORAD))
call SetUnitY(n,GetUnitY(n)+r*Sin(d*bj_DEGTORAD))
endif
call GroupRemoveUnit(g,n)
endloop
call UnitApplyTimedLife(ch,'BTLF',.01)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
else
call GroupEnumUnitsInRange(g,x,y,400,null)
loop
set n=FirstOfGroup(g)
exitwhen n==null
if IsUnitEnemy(n,GetOwningPlayer(a)) and GetUnitAbilityLevel(n,'A08W')>=1 and GetUnitState(n,UNIT_STATE_LIFE)>0 and IsUnitType(n,UNIT_TYPE_STRUCTURE)==false then
call SetUnitFlyHeight(n,vj,0)
endif
call GroupRemoveUnit(g,n)
endloop
set vj=vj-60
call SaveInteger(hash,GetHandleId(t),6,vj)
endif
set a=null
set ch=null
set g=null
set n=null
set t=null
endfunction
function PS_act takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
local unit ch=LoadUnitHandle(hash,GetHandleId(t),2)
local integer die=LoadInteger(hash,GetHandleId(t),5)
local group g=LoadGroupHandle(hash,GetHandleId(t),4)
local group g1=LoadGroupHandle(hash,GetHandleId(t),7)
local real x=GetUnitX(ch)
local real y=GetUnitY(ch)
local real d
local unit n
local unit gg
if die>=$5AA then
call PauseTimer(t)
call SetUnitTimeScale(ch,$AA*.01)
call GroupEnumUnitsInRange(g,x,y,$C8,null)
loop
set n=FirstOfGroup(g)
exitwhen n==null
if IsUnitEnemy(n,GetOwningPlayer(a)) and GetUnitAbilityLevel(n,'A08V')>=1 and GetUnitState(n,UNIT_STATE_LIFE)>0 and IsUnitType(n,UNIT_TYPE_STRUCTURE)==false then
call UnitRemoveAbility(n,'A08V')
call UnitAddAbility(n,'A08W')
endif
call GroupRemoveUnit(g,n)
endloop
set n=null
set g=null
call GroupEnumUnitsInRange(g1,x,y,800,null)
loop
set n=FirstOfGroup(g1)
exitwhen n==null
if IsUnitEnemy(n,GetOwningPlayer(a)) and GetUnitAbilityLevel(n,'A08V')>=1 and GetUnitState(n,UNIT_STATE_LIFE)>0 and IsUnitType(n,UNIT_TYPE_STRUCTURE)==false then
call SetUnitInvulnerable(n,false)
set gg=CreateUnit(GetOwningPlayer(a),'h04E',GetUnitX(n),GetUnitY(n),0)
call UnitApplyTimedLife(gg,'BTLF',1)
call IssueTargetOrderById(gg,$D007F,n)
call SetUnitFlyHeight(n,0,700)
call UnitRemoveAbility(n,'A08V')
call PauseUnit(n,false)
endif
call GroupRemoveUnit(g1,n)
endloop
else
call GroupEnumUnitsInRange(g,x,y,750,null)
loop
set n=FirstOfGroup(g)
exitwhen n==null
if IsUnitEnemy(n,GetOwningPlayer(a)) and GetUnitState(n,UNIT_STATE_LIFE)>0 and IsUnitType(n,UNIT_TYPE_STRUCTURE)==false then
set d=bj_RADTODEG*Atan2(y-GetUnitY(n),x-GetUnitX(n))
call SetUnitInvulnerable(n,true)
call UnitAddAbility(n,'A08V')
call PauseUnit(n,true)
call SetUnitFlyHeight(n,$4E2,500)
call SetUnitX(n,GetUnitX(n)+d/d*7*Cos(d*bj_DEGTORAD))
call SetUnitY(n,GetUnitY(n)+d/d*7*Sin(d*bj_DEGTORAD))
endif
call GroupRemoveUnit(g,n)
endloop
set die=die+$A
call SaveInteger(hash,GetHandleId(t),5,die)
endif
set a=null
set ch=null
set gg=null
set n=null
set g=null
set g1=null
set t=null
endfunction
function PeinShibaku_A takes nothing returns nothing
local unit cjlocgn_00000000
local timer cjlocgn_00000001
local real cjlocgn_00000002
local real cjlocgn_00000003
local integer cjlocgn_00000004
local integer cjlocgn_00000005
local integer cjlocgn_00000006
local unit cjlocgn_00000007
if GetSpellAbilityId()=='A035' then
set cjlocgn_00000000=GetSpellAbilityUnit()
if GetUnitState(cjlocgn_00000000,UNIT_STATE_MANA)>=GetUnitState(cjlocgn_00000000,UNIT_STATE_MANA)-(GetUnitState(cjlocgn_00000000,UNIT_STATE_MAX_MANA)*45/'d')then
call SetUnitState(cjlocgn_00000000,UNIT_STATE_MANA,GetUnitState(cjlocgn_00000000,UNIT_STATE_MANA)-(GetUnitState(cjlocgn_00000000,UNIT_STATE_MAX_MANA)*45/'d'))
call SetUnitState(cjlocgn_00000000,UNIT_STATE_LIFE,GetUnitState(cjlocgn_00000000,UNIT_STATE_LIFE)-(GetUnitState(cjlocgn_00000000,UNIT_STATE_MAX_LIFE)*35/'d'))
set cjlocgn_00000001=CreateTimer()
set cjlocgn_00000002=GetSpellTargetX()
set cjlocgn_00000003=GetSpellTargetY()
set cjlocgn_00000004=0
set cjlocgn_00000005=$4E2
set cjlocgn_00000006=0
set cjlocgn_00000007=CreateUnit(GetOwningPlayer(cjlocgn_00000000),'h02L',cjlocgn_00000002,cjlocgn_00000003,0)
call SaveUnitHandle(hash,GetHandleId(cjlocgn_00000001),1,cjlocgn_00000000)
call SaveUnitHandle(hash,GetHandleId(cjlocgn_00000001),2,cjlocgn_00000007)
call SaveInteger(hash,GetHandleId(cjlocgn_00000001),5,cjlocgn_00000006)
call SaveGroupHandle(hash,GetHandleId(cjlocgn_00000001),4,CreateGroup())
call SaveGroupHandle(hash,GetHandleId(cjlocgn_00000001),7,CreateGroup())
call SaveInteger(hash,GetHandleId(cjlocgn_00000001),6,cjlocgn_00000005)
call TimerStart(cjlocgn_00000001,.03,true,function PS_act)
call TriggerSleepAction(5)
call SetUnitAnimation(cjlocgn_00000007,"spell")
call TimerStart(cjlocgn_00000001,.03,true,function PSk_end)
set cjlocgn_00000007=null
set cjlocgn_00000001=null
else
call DisplayTimedTextFromPlayer(GetOwningPlayer(cjlocgn_00000000),0,0,5,GetLocalizedString("|cFF0000FFНету Чакры!|r"))
endif
set cjlocgn_00000000=null
endif
endfunction
function InitTrig_PeinShibaku takes nothing returns nothing
local trigger Pein3=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(Pein3,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddAction(Pein3,function PeinShibaku_A)
set Pein3=null
endfunction
function S_Act takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
local unit b=LoadUnitHandle(hash,GetHandleId(t),2)
local group g
local unit n
local real dmg
call SetUnitPosition(b,GetUnitX(b)+30*Cos(GetUnitFacing(b)*bj_DEGTORAD),GetUnitY(b)+30*Sin(GetUnitFacing(b)*bj_DEGTORAD))
set g=CreateGroup()
call GroupEnumUnitsInRange(g,GetUnitX(b),GetUnitY(b),$A5,null)
loop
set n=FirstOfGroup(g)
exitwhen n==null
if IsUnitEnemy(n,GetOwningPlayer(a)) and GetUnitState(n,UNIT_STATE_LIFE)>0 then
if(GetUnitAbilityLevel(a,'A090')==1)then
set dmg=50+GetHeroInt(a,false)*.1
elseif(GetUnitAbilityLevel(a,'A090')==2)then
set dmg=75+GetHeroInt(a,false)*.25
elseif(GetUnitAbilityLevel(a,'A090')==3)then
set dmg='i'+GetHeroInt(a,false)*.5
elseif(GetUnitAbilityLevel(a,'A090')==4)then
set dmg='}'+GetHeroInt(a,false)*1
endif
call UnitDamageTarget(a,n,dmg,false,false,null,null,null)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetUnitX(n),GetUnitY(n)))
endif
call GroupRemoveUnit(g,n)
endloop
call DestroyGroup(g)
set a=null
set b=null
set n=null
set g=null
set t=null
endfunction
function Ps_Act takes nothing returns nothing
local timer tp=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(tp),1)
local unit b1=LoadUnitHandle(hash,GetHandleId(tp),2)
local unit cjlocgn_00000000
local unit cjlocgn_00000001
local unit cjlocgn_00000002
if GetUnitState(b1,UNIT_STATE_LIFE)<500 then
set cjlocgn_00000000=CreateUnit(GetOwningPlayer(a),'h04J',GetUnitX(b1),GetUnitY(b1),GetUnitFacing(b1))
set cjlocgn_00000001=CreateUnit(GetOwningPlayer(a),'h04J',GetUnitX(b1),GetUnitY(b1),GetUnitFacing(b1))
set cjlocgn_00000002=CreateUnit(GetOwningPlayer(a),'h04J',GetUnitX(b1),GetUnitY(b1),GetUnitFacing(b1))
call RemoveUnit(b1)
call PauseTimer(tp)
call FlushChildHashtable(hash,GetHandleId(tp))
call DestroyTimer(tp)
set cjlocgn_00000000=null
set cjlocgn_00000001=null
set cjlocgn_00000002=null
endif
set a=null
set b1=null
set tp=null
endfunction
function Summon_A takes nothing returns nothing
local unit cjlocgn_00000000
local real cjlocgn_00000001
local unit cjlocgn_00000002
local timer cjlocgn_00000003
local unit cjlocgn_00000004
if GetSpellAbilityId()=='A09J' then
set cjlocgn_00000000=GetSpellAbilityUnit()
set cjlocgn_00000001=bj_RADTODEG*Atan2(GetSpellTargetY()-GetUnitY(cjlocgn_00000000),GetSpellTargetX()-GetUnitX(cjlocgn_00000000))
call SetUnitAnimation(cjlocgn_00000000,"spell 2")
set cjlocgn_00000002=CreateUnit(GetOwningPlayer(cjlocgn_00000000),'h04L',GetUnitX(cjlocgn_00000000)+$A*Cos(GetUnitFacing(cjlocgn_00000000)*bj_DEGTORAD),GetUnitY(cjlocgn_00000000)+$A*Sin(GetUnitFacing(cjlocgn_00000000)*bj_DEGTORAD),cjlocgn_00000001)
call DestroyEffect(AddSpecialEffect("shadowclone.mdx",GetUnitX(cjlocgn_00000002),GetUnitY(cjlocgn_00000002)))
call TriggerSleepAction(.1)
set cjlocgn_00000003=CreateTimer()
call SaveUnitHandle(hash,GetHandleId(cjlocgn_00000003),1,cjlocgn_00000000)
call SaveUnitHandle(hash,GetHandleId(cjlocgn_00000003),2,cjlocgn_00000002)
call TimerStart(cjlocgn_00000003,.03,true,function S_Act)
call TriggerSleepAction(1.2)
call PauseTimer(cjlocgn_00000003)
call FlushChildHashtable(hash,GetHandleId(cjlocgn_00000003))
call DestroyTimer(cjlocgn_00000003)
call DestroyEffect(AddSpecialEffect("shadowclone.mdx",GetUnitX(cjlocgn_00000002),GetUnitY(cjlocgn_00000002)))
call RemoveUnit(cjlocgn_00000002)
set cjlocgn_00000000=null
set cjlocgn_00000002=null
set cjlocgn_00000003=null
set cjlocgn_00000001=0
endif
if GetSpellAbilityId()=='A090' then
set cjlocgn_00000000=GetSpellAbilityUnit()
set cjlocgn_00000002=GetSpellTargetUnit()
call SetUnitAnimation(cjlocgn_00000000,"spell 2")
call PauseUnit(cjlocgn_00000000,true)
call PauseUnit(cjlocgn_00000002,true)
call TriggerSleepAction(.5)
set cjlocgn_00000004=CreateUnit(GetOwningPlayer(cjlocgn_00000000),'h04D',GetUnitX(cjlocgn_00000002)+60*Cos(GetUnitFacing(cjlocgn_00000002)*bj_DEGTORAD),GetUnitY(cjlocgn_00000002)+60*Sin(GetUnitFacing(cjlocgn_00000002)*bj_DEGTORAD),GetUnitFacing(cjlocgn_00000002)-$B4)
call DestroyEffect(AddSpecialEffect("shadowclone.mdx",GetUnitX(cjlocgn_00000004),GetUnitY(cjlocgn_00000004)))
call TriggerSleepAction(1)
call PauseUnit(cjlocgn_00000000,false)
call PauseUnit(cjlocgn_00000002,false)
set cjlocgn_00000003=CreateTimer()
call SaveUnitHandle(hash,GetHandleId(cjlocgn_00000003),1,cjlocgn_00000000)
call SaveUnitHandle(hash,GetHandleId(cjlocgn_00000003),2,cjlocgn_00000004)
call TimerStart(cjlocgn_00000003,.1,true,function Ps_Act)
call TriggerSleepAction(30)
call FlushChildHashtable(hash,GetHandleId(cjlocgn_00000003))
call DestroyTimer(cjlocgn_00000003)
if GetUnitState(cjlocgn_00000004,UNIT_STATE_LIFE)>0 then
call DestroyEffect(AddSpecialEffect("shadowclone.mdx",GetUnitX(cjlocgn_00000004),GetUnitY(cjlocgn_00000004)))
endif
call RemoveUnit(cjlocgn_00000004)
set cjlocgn_00000000=null
set cjlocgn_00000002=null
set cjlocgn_00000004=null
endif
if GetSpellAbilityId()=='A08Z' then
set cjlocgn_00000000=GetSpellAbilityUnit()
call SetUnitAnimation(cjlocgn_00000000,"spell")
call PauseUnit(cjlocgn_00000000,true)
call SetUnitInvulnerable(cjlocgn_00000000,true)
call TriggerSleepAction(.2)
call SetUnitAnimation(cjlocgn_00000000,"spell five")
call TriggerSleepAction(1)
call DestroyEffect(AddSpecialEffect("shadowclone.mdx",GetUnitX(cjlocgn_00000000),GetUnitY(cjlocgn_00000000)))
set cjlocgn_00000002=CreateUnit(GetOwningPlayer(cjlocgn_00000000),'h04K',GetUnitX(cjlocgn_00000000)+$96*Cos(GetUnitFacing(cjlocgn_00000000)*bj_DEGTORAD),GetUnitY(cjlocgn_00000000)+$96*Sin(GetUnitFacing(cjlocgn_00000000)*bj_DEGTORAD),GetUnitFacing(cjlocgn_00000000))
call DestroyEffect(AddSpecialEffect("shadowclone.mdx",GetUnitX(cjlocgn_00000002),GetUnitY(cjlocgn_00000002)))
call TriggerSleepAction(3)
call DestroyEffect(AddSpecialEffect("shadowclone.mdx",GetUnitX(cjlocgn_00000002),GetUnitY(cjlocgn_00000002)))
call RemoveUnit(cjlocgn_00000002)
call PauseUnit(cjlocgn_00000000,false)
call SetUnitInvulnerable(cjlocgn_00000000,false)
set cjlocgn_00000002=null
set cjlocgn_00000000=null
endif
set cjlocgn_00000003=null
endfunction
function InitTrig_Summon takes nothing returns nothing
local trigger S=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(S,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddAction(S,function Summon_A)
set S=null
endfunction
function RinneSpawn_C takes nothing returns boolean
return GetSpellAbilityId()=='A0B4'
endfunction
function RinneSpawn takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local real d=bj_RADTODEG*Atan2(GetSpellTargetY()-GetUnitY(a),GetSpellTargetX()-GetUnitX(a))
local unit b
call TriggerSleepAction(.1)
set b=CreateUnit(GetOwningPlayer(a),'n00R',GetUnitX(a)-$C8*Cos(GetUnitFacing(a)*bj_DEGTORAD),GetUnitY(a)-$C8*Sin(GetUnitFacing(a)*bj_DEGTORAD),d)
call TriggerSleepAction($A)
call RemoveUnit(b)
set a=null
set b=null
set d=0
endfunction
function InitTrig_RinneSpawn takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==$E
endloop
call TriggerAddCondition(t,Condition(function RinneSpawn_C))
call TriggerAddAction(t,function RinneSpawn)
set t=null
endfunction
function AF_Act takes nothing returns nothing
local timer ts=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(ts),1)
local unit b=LoadUnitHandle(hash,GetHandleId(ts),2)
call SetUnitPosition(b,GetUnitX(b)-28*Cos(GetUnitFacing(b)*bj_DEGTORAD),GetUnitY(b)-28*Sin(GetUnitFacing(b)*bj_DEGTORAD))
if IsUnitEnemy(b,GetOwningPlayer(a)) and GetUnitState(b,UNIT_STATE_LIFE)>0 then
call UnitDamageTarget(a,b,'d',false,false,null,null,null)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(a),'h059',GetUnitX(b),GetUnitY(b),GetUnitFacing(b)),'BTLF',1.2)
call DestroyEffect(AddSpecialEffect("lb_novatarget.mdx",GetUnitX(b),GetUnitY(b)))
else
call PauseUnit(a,false)
call PauseUnit(b,false)
call PauseTimer(ts)
call FlushChildHashtable(hash,GetHandleId(ts))
call DestroyTimer(ts)
endif
set a=null
set b=null
set ts=null
endfunction
function AA_Act takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
local unit b=LoadUnitHandle(hash,GetHandleId(t),2)
local group g
local unit f
local unit cjlocgn_00000000
local group cjlocgn_00000001
local unit cjlocgn_00000002
call SetUnitPosition(b,GetUnitX(b)+35*Cos(GetUnitFacing(b)*bj_DEGTORAD),GetUnitY(b)+35*Sin(GetUnitFacing(b)*bj_DEGTORAD))
set g=CreateGroup()
call GroupEnumUnitsInRange(g,GetUnitX(b),GetUnitY(b),$B4,null)
loop
set f=FirstOfGroup(g)
exitwhen f==null
if IsUnitEnemy(f,GetOwningPlayer(a)) and GetUnitState(f,UNIT_STATE_LIFE)>0 then
set cjlocgn_00000000=CreateUnit(GetOwningPlayer(a),'h05A',GetUnitX(b),GetUnitY(b),0)
set cjlocgn_00000001=CreateGroup()
call GroupEnumUnitsInRange(cjlocgn_00000001,GetUnitX(cjlocgn_00000000),GetUnitY(cjlocgn_00000000),800,null)
loop
set cjlocgn_00000002=FirstOfGroup(cjlocgn_00000001)
exitwhen cjlocgn_00000002==null
if IsUnitEnemy(cjlocgn_00000002,GetOwningPlayer(a)) and GetUnitState(cjlocgn_00000002,UNIT_STATE_LIFE)>0 then
call UnitDamageTarget(a,cjlocgn_00000002,500,false,false,null,null,null)
call DestroyEffect(AddSpecialEffect("Lightning 3.mdx",GetUnitX(cjlocgn_00000000),GetUnitY(cjlocgn_00000000)))
call DestroyEffect(AddSpecialEffect("FrostNova.mdx",GetUnitX(cjlocgn_00000000),GetUnitY(cjlocgn_00000000)))
call DestroyEffect(AddSpecialEffect("Lightning 3.mdx",GetUnitX(cjlocgn_00000000),GetUnitY(cjlocgn_00000000)))
call RemoveUnit(cjlocgn_00000000)
call RemoveUnit(b)
call PauseTimer(t)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
endif
call GroupRemoveUnit(cjlocgn_00000001,cjlocgn_00000002)
endloop
call DestroyGroup(cjlocgn_00000001)
set cjlocgn_00000001=null
set cjlocgn_00000000=null
set cjlocgn_00000002=null
endif
call GroupRemoveUnit(g,f)
endloop
call DestroyGroup(g)
set g=null
set f=null
set a=null
set b=null
set t=null
endfunction
function A_Act takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
local unit b=LoadUnitHandle(hash,GetHandleId(t),2)
local unit n=LoadUnitHandle(hash,GetHandleId(t),3)
local effect e=LoadEffectHandle(hash,GetHandleId(t),4)
local group cjlocgn_00000000
local unit cjlocgn_00000001
local real cjlocgn_00000002
if GetUnitState(b,UNIT_STATE_MANA)<=.0 then
call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",GetUnitX(b),GetUnitY(b)))
set cjlocgn_00000000=CreateGroup()
call GroupEnumUnitsInRange(cjlocgn_00000000,GetUnitX(b),GetUnitY(b),$C8,null)
loop
set cjlocgn_00000001=FirstOfGroup(cjlocgn_00000000)
exitwhen cjlocgn_00000001==null
if IsUnitEnemy(cjlocgn_00000001,GetOwningPlayer(a)) and GetUnitState(cjlocgn_00000001,UNIT_STATE_LIFE)>0 then
call UnitDamageTarget(a,cjlocgn_00000001,$3E8,false,false,null,null,null)
endif
call GroupRemoveUnit(cjlocgn_00000000,cjlocgn_00000001)
endloop
call DestroyGroup(cjlocgn_00000000)
call DestroyEffect(e)
call PauseUnit(n,false)
call RemoveUnit(b)
call PauseTimer(t)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
set cjlocgn_00000000=null
set cjlocgn_00000001=null
else
set cjlocgn_00000002=bj_RADTODEG*Atan2(GetUnitY(n)-GetUnitY(b),GetUnitX(n)-GetUnitX(b))
call SetUnitPosition(b,GetUnitX(b)+20*Cos(cjlocgn_00000002*bj_DEGTORAD),GetUnitY(b)+20*Sin(cjlocgn_00000002*bj_DEGTORAD))
call SetUnitState(b,UNIT_STATE_MANA,GetUnitState(b,UNIT_STATE_MANA)-20)
set cjlocgn_00000002=0
endif
set a=null
set e=null
set b=null
set n=null
set t=null
endfunction
function Asura_A takes nothing returns nothing
local unit cjlocgn_00000000
local unit cjlocgn_00000001
local timer cjlocgn_00000002
local real cjlocgn_00000003
local effect cjlocgn_00000004
local real cjlocgn_00000005
local real cjlocgn_00000006
local unit cjlocgn_00000007
if GetSpellAbilityId()=='A0B2' then
set cjlocgn_00000000=GetSpellAbilityUnit()
set cjlocgn_00000001=GetSpellTargetUnit()
call PauseUnit(cjlocgn_00000000,true)
call PauseUnit(cjlocgn_00000001,true)
call SetUnitPosition(cjlocgn_00000000,GetUnitX(cjlocgn_00000001)+60*Cos(GetUnitFacing(cjlocgn_00000001)*bj_DEGTORAD),GetUnitY(cjlocgn_00000001)+60*Sin(GetUnitFacing(cjlocgn_00000001)*bj_DEGTORAD))
call SetUnitFacing(cjlocgn_00000000,GetUnitFacing(cjlocgn_00000001)-$B4)
call DestroyEffect(AddSpecialEffect("BlackBlink.mdx",GetUnitX(cjlocgn_00000000),GetUnitY(cjlocgn_00000000)))
call SetUnitAnimation(cjlocgn_00000000,"Attack - 3")
call SetUnitAnimation(cjlocgn_00000001,"Death")
set cjlocgn_00000002=CreateTimer()
call SaveUnitHandle(hash,GetHandleId(cjlocgn_00000002),1,cjlocgn_00000000)
call SaveUnitHandle(hash,GetHandleId(cjlocgn_00000002),2,cjlocgn_00000001)
call TimerStart(cjlocgn_00000002,.03,true,function AF_Act)
call TriggerSleepAction(1)
call PauseUnit(cjlocgn_00000000,false)
call PauseUnit(cjlocgn_00000001,false)
call PauseTimer(cjlocgn_00000002)
call FlushChildHashtable(hash,GetHandleId(cjlocgn_00000002))
call DestroyTimer(cjlocgn_00000002)
set cjlocgn_00000000=null
set cjlocgn_00000001=null
set cjlocgn_00000002=null
endif
if GetSpellAbilityId()=='A0B0' then
set cjlocgn_00000000=GetSpellAbilityUnit()
call PauseUnit(cjlocgn_00000000,true)
set cjlocgn_00000003=bj_RADTODEG*Atan2(GetSpellTargetY()-GetUnitY(cjlocgn_00000000),GetSpellTargetX()-GetUnitX(cjlocgn_00000000))
call TriggerSleepAction(.2)
call SetUnitAnimation(cjlocgn_00000000,"spell slam")
set cjlocgn_00000004=AddSpecialEffectTarget("gun_nagato.mdx",cjlocgn_00000000,"right hand")
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(cjlocgn_00000000),'h056',GetUnitX(cjlocgn_00000000)+90*Cos(GetUnitFacing(cjlocgn_00000000)*bj_DEGTORAD),GetUnitY(cjlocgn_00000000)+90*Sin(GetUnitFacing(cjlocgn_00000000)*bj_DEGTORAD),GetUnitFacing(cjlocgn_00000000)),'BTLF',1.2)
call TriggerSleepAction(.1)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(cjlocgn_00000000),'h056',GetUnitX(cjlocgn_00000000)+90*Cos(GetUnitFacing(cjlocgn_00000000)*bj_DEGTORAD),GetUnitY(cjlocgn_00000000)+90*Sin(GetUnitFacing(cjlocgn_00000000)*bj_DEGTORAD),GetUnitFacing(cjlocgn_00000000)),'BTLF',1.2)
call TriggerSleepAction(.1)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(cjlocgn_00000000),'h056',GetUnitX(cjlocgn_00000000)+90*Cos(GetUnitFacing(cjlocgn_00000000)*bj_DEGTORAD),GetUnitY(cjlocgn_00000000)+90*Sin(GetUnitFacing(cjlocgn_00000000)*bj_DEGTORAD),GetUnitFacing(cjlocgn_00000000)),'BTLF',1.2)
call TriggerSleepAction(.1)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(cjlocgn_00000000),'h056',GetUnitX(cjlocgn_00000000)+90*Cos(GetUnitFacing(cjlocgn_00000000)*bj_DEGTORAD),GetUnitY(cjlocgn_00000000)+90*Sin(GetUnitFacing(cjlocgn_00000000)*bj_DEGTORAD),GetUnitFacing(cjlocgn_00000000)),'BTLF',1.2)
call TriggerSleepAction(.1)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(cjlocgn_00000000),'h056',GetUnitX(cjlocgn_00000000)+90*Cos(GetUnitFacing(cjlocgn_00000000)*bj_DEGTORAD),GetUnitY(cjlocgn_00000000)+90*Sin(GetUnitFacing(cjlocgn_00000000)*bj_DEGTORAD),GetUnitFacing(cjlocgn_00000000)),'BTLF',1.2)
call TriggerSleepAction(.1)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(cjlocgn_00000000),'h056',GetUnitX(cjlocgn_00000000)+90*Cos(GetUnitFacing(cjlocgn_00000000)*bj_DEGTORAD),GetUnitY(cjlocgn_00000000)+90*Sin(GetUnitFacing(cjlocgn_00000000)*bj_DEGTORAD),GetUnitFacing(cjlocgn_00000000)),'BTLF',1.2)
call TriggerSleepAction(.5)
set cjlocgn_00000001=CreateUnit(GetOwningPlayer(cjlocgn_00000000),'h057',GetUnitX(cjlocgn_00000000)+40*Cos(GetUnitFacing(cjlocgn_00000000)*bj_DEGTORAD),GetUnitY(cjlocgn_00000000)+40*Sin(GetUnitFacing(cjlocgn_00000000)*bj_DEGTORAD),cjlocgn_00000003)
call PauseUnit(cjlocgn_00000000,false)
call DestroyEffect(cjlocgn_00000004)
set cjlocgn_00000002=CreateTimer()
call SaveUnitHandle(hash,GetHandleId(cjlocgn_00000002),1,cjlocgn_00000000)
call SaveUnitHandle(hash,GetHandleId(cjlocgn_00000002),2,cjlocgn_00000001)
call TimerStart(cjlocgn_00000002,.03,true,function AA_Act)
call TriggerSleepAction(1.9)
call PauseTimer(cjlocgn_00000002)
call FlushChildHashtable(hash,GetHandleId(cjlocgn_00000002))
call DestroyTimer(cjlocgn_00000002)
call RemoveUnit(cjlocgn_00000001)
set cjlocgn_00000000=null
set cjlocgn_00000004=null
set cjlocgn_00000001=null
set cjlocgn_00000003=0
set cjlocgn_00000002=null
endif
if GetSpellAbilityId()=='A0B1' then
set cjlocgn_00000000=GetSpellAbilityUnit()
set cjlocgn_00000001=GetSpellTargetUnit()
call PauseUnit(cjlocgn_00000000,true)
call PauseUnit(cjlocgn_00000001,true)
call DestroyEffect(AddSpecialEffect("BlackBlink.mdx",GetUnitX(cjlocgn_00000000),GetUnitY(cjlocgn_00000000)))
call TriggerSleepAction(.5)
call SetUnitPosition(cjlocgn_00000000,GetUnitX(cjlocgn_00000001)+20*Cos(GetUnitFacing(cjlocgn_00000001)*bj_DEGTORAD),GetUnitY(cjlocgn_00000001)+20*Sin(GetUnitFacing(cjlocgn_00000001)*bj_DEGTORAD))
call SetUnitFacing(cjlocgn_00000000,GetUnitFacing(cjlocgn_00000001)-$B4)
call DestroyEffect(AddSpecialEffect("BlackBlink.mdx",GetUnitX(cjlocgn_00000000),GetUnitY(cjlocgn_00000000)))
call SetUnitTimeScale(cjlocgn_00000000,$8C*.01)
call SetUnitAnimation(cjlocgn_00000000,"attack - 1")
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetUnitX(cjlocgn_00000001),GetUnitY(cjlocgn_00000001)))
call SetUnitAnimation(cjlocgn_00000001,"death")
call TriggerSleepAction(.5)
call SetUnitAnimation(cjlocgn_00000000,"attack - 2")
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetUnitX(cjlocgn_00000001),GetUnitY(cjlocgn_00000001)))
call SetUnitAnimation(cjlocgn_00000001,"death")
call TriggerSleepAction(.5)
call SetUnitAnimation(cjlocgn_00000000,"attack Slam")
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetUnitX(cjlocgn_00000001),GetUnitY(cjlocgn_00000001)))
call SetUnitAnimation(cjlocgn_00000001,"death")
call TriggerSleepAction(.2)
call SetUnitPosition(cjlocgn_00000001,GetUnitX(cjlocgn_00000001)-500*Cos(GetUnitFacing(cjlocgn_00000001)*bj_DEGTORAD),GetUnitY(cjlocgn_00000001)-500*Sin(GetUnitFacing(cjlocgn_00000001)*bj_DEGTORAD))
set cjlocgn_00000004=AddSpecialEffect("Red Targeting Aura.mdx",GetUnitX(cjlocgn_00000001),GetUnitY(cjlocgn_00000001))
set cjlocgn_00000003=GetUnitX(cjlocgn_00000001)-GetUnitX(cjlocgn_00000000)
set cjlocgn_00000005=GetUnitY(cjlocgn_00000001)-GetUnitY(cjlocgn_00000000)
set cjlocgn_00000006=SquareRoot(cjlocgn_00000003*cjlocgn_00000003+cjlocgn_00000005*cjlocgn_00000005)
set cjlocgn_00000007=CreateUnit(GetOwningPlayer(cjlocgn_00000000),'h058',GetUnitX(cjlocgn_00000000)+1*Cos(GetUnitFacing(cjlocgn_00000000)*bj_DEGTORAD),GetUnitY(cjlocgn_00000000)+1*Sin(GetUnitFacing(cjlocgn_00000000)*bj_DEGTORAD),GetUnitFacing(cjlocgn_00000000))
call SetUnitState(cjlocgn_00000007,UNIT_STATE_MANA,R2I(cjlocgn_00000006))
call PauseUnit(cjlocgn_00000000,false)
set cjlocgn_00000002=CreateTimer()
call SaveUnitHandle(hash,GetHandleId(cjlocgn_00000002),1,cjlocgn_00000000)
call SaveUnitHandle(hash,GetHandleId(cjlocgn_00000002),2,cjlocgn_00000007)
call SaveUnitHandle(hash,GetHandleId(cjlocgn_00000002),3,cjlocgn_00000001)
call SaveEffectHandle(hash,GetHandleId(cjlocgn_00000002),4,cjlocgn_00000004)
call TimerStart(cjlocgn_00000002,.03,true,function A_Act)
set cjlocgn_00000000=null
set cjlocgn_00000004=null
set cjlocgn_00000001=null
set cjlocgn_00000007=null
set cjlocgn_00000003=0
set cjlocgn_00000005=0
set cjlocgn_00000006=0
set cjlocgn_00000002=null
endif
endfunction
function InitTrig_Asura takes nothing returns nothing
local trigger A=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(A,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddAction(A,function Asura_A)
set A=null
endfunction
function Trig_Kats_C1_mine_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='n00M')
endfunction
function Trig_Kats_C1_mine_Func005A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Kats_C1_mine_Actions takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"war3mapImported\\explosion.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Objects\\Spawnmodels\\Human\\HCancelDeath\\HCancelDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call EnumDestructablesInCircleBJ(200.,GetUnitLoc(GetTriggerUnit()),function Trig_Kats_C1_mine_Func005A)
endfunction
function InitTrig_Kats_C1_mine takes nothing returns nothing
set gg_trg_Kats_C1_mine=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kats_C1_mine,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Kats_C1_mine,Condition(function Trig_Kats_C1_mine_Conditions))
call TriggerAddAction(gg_trg_Kats_C1_mine,function Trig_Kats_C1_mine_Actions)
endfunction
function Trig_Kats_C1_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='ngsp')
endfunction
function Trig_Kats_C1_Actions takes nothing returns nothing
call KillUnit(GetAttacker())
endfunction
function InitTrig_Kats_C1 takes nothing returns nothing
set gg_trg_Kats_C1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kats_C1,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Kats_C1,Condition(function Trig_Kats_C1_Conditions))
call TriggerAddAction(gg_trg_Kats_C1,function Trig_Kats_C1_Actions)
endfunction
function Trig_Kats_C1_dead_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='ngsp')
endfunction
function Trig_Kats_C1_dead_Func006A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_Kats_C1_dead_Actions takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call UnitDamagePointLoc(gg_unit_Hamg_0024,0,250.,GetUnitLoc(GetTriggerUnit()),300.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
call EnumDestructablesInCircleBJ(200.,GetUnitLoc(GetTriggerUnit()),function Trig_Kats_C1_dead_Func006A)
call RemoveUnit(GetTriggerUnit())
endfunction
function InitTrig_Kats_C1_dead takes nothing returns nothing
set gg_trg_Kats_C1_dead=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kats_C1_dead,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Kats_C1_dead,Condition(function Trig_Kats_C1_dead_Conditions))
call TriggerAddAction(gg_trg_Kats_C1_dead,function Trig_Kats_C1_dead_Actions)
endfunction
function Trig_Metall_Attack_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A03W'
endfunction
function Trig_Metall_Attack_Timer takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit u=LoadUnitHandle(hash,h,0)
local unit j=LoadUnitHandle(hash,h,1)
local integer time=LoadInteger(hash,h,2)
local real dmg=LoadReal(hash,h,3)
local group gm=LoadGroupHandle(hash,h,4)
local real a=GetUnitFacing(j)
local real x=GetWidgetX(j)
local real y=GetWidgetY(j)
local group g=CreateGroup()
local unit tg
if time<28 then
if time==0 or time==2 or time==4 or time==6 or time==8 or time==$A or time==$C or time==$E or time==16 or time==18 or time==20 or time==22 or time==24 or time==26 then
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",x,y))
endif
call GroupEnumUnitsInRange(g,x,y,$FA,null)
loop
set tg=FirstOfGroup(g)
exitwhen tg==null
if(IsUnitEnemy(tg,GetOwningPlayer(u))and not IsUnitType(tg,UNIT_TYPE_DEAD)and not IsUnitType(tg,UNIT_TYPE_STRUCTURE)and IsUnitInGroup(tg,gm)==false)then
call UnitDamageTarget(u,tg,dmg,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call GroupAddUnit(gm,tg)
endif
call GroupRemoveUnit(g,tg)
endloop
call SetUnitPosition(j,x+30*Cos(a*bj_DEGTORAD),y+30*Sin(a*bj_DEGTORAD))
call SaveInteger(hash,h,2,time+1)
call SaveGroupHandle(hash,h,4,gm)
else
call SetUnitAnimationWithRarity(j,"Spell",RARITY_RARE)
call UnitApplyTimedLife(j,1,3)
set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(u),'h02A',x,y,bj_UNIT_FACING)
call SetUnitScale(bj_lastCreatedUnit,2,2,2)
call UnitApplyTimedLife(bj_lastCreatedUnit,1,1)
call DestroyEffect(AddSpecialEffect("war3mapImported\\Slam.mdx",x,y))
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(hash,h)
call GroupClear(gm)
call DestroyGroup(gm)
endif
call DestroyGroup(g)
set g=null
set tg=null
set u=null
set j=null
set t=null
set gm=null
endfunction
function Trig_Metall_Attack_Actions takes nothing returns nothing
local timer t=CreateTimer()
local integer h=GetHandleId(t)
local unit u=GetTriggerUnit()
local unit j
local real x=GetWidgetX(u)
local real y=GetWidgetY(u)
local real x1=GetSpellTargetX()
local real y1=GetSpellTargetY()
local real a=bj_RADTODEG*Atan2(y1-y,x1-x)
local real dmg
local group gm=CreateGroup()
if(GetUnitAbilityLevel(u,'A03W')==1)then
set dmg=$A0+GetHeroInt(u,false)*.5
elseif(GetUnitAbilityLevel(u,'A03W')==2)then
set dmg=280+GetHeroInt(u,false)*.6
elseif(GetUnitAbilityLevel(u,'A03W')==3)then
set dmg=340+GetHeroInt(u,false)*.7
elseif(GetUnitAbilityLevel(u,'A03W')==4)then
set dmg=410+GetHeroInt(u,false)*.8
endif
if(GetRandomInt(0,1)==0)then
set j=CreateUnit(GetOwningPlayer(u),'h029',x-$8C*Cos((a-90)*bj_DEGTORAD),y-$8C*Sin((a-90)*bj_DEGTORAD),a-8)
else
set j=CreateUnit(GetOwningPlayer(u),'h029',x-$8C*Cos((a+90)*bj_DEGTORAD),y-$8C*Sin((a+90)*bj_DEGTORAD),a+8)
endif
call SaveAgentHandle(hash,h,0,u)
call SaveAgentHandle(hash,h,1,j)
call SaveReal(hash,h,3,dmg)
call SaveAgentHandle(hash,h,4,gm)
call TimerStart(t,.03,true,function Trig_Metall_Attack_Timer)
set u=null
set j=null
set gm=null
set t=null
endfunction
function InitTrig_Metall_Attack takes nothing returns nothing
set gg_trg_Metall_Attack=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Metall_Attack,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Metall_Attack,Condition(function Trig_Metall_Attack_Conditions))
call TriggerAddAction(gg_trg_Metall_Attack,function Trig_Metall_Attack_Actions)
endfunction
function Trig_Senjusobu_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A02H'
endfunction
function Trig_Senjusobu_End takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function Trig_Senjusobu_Damage takes real x,real y,unit u,group gm returns nothing
local group g=CreateGroup()
local unit tg
call GroupEnumUnitsInRange(g,x,y,300,null)
loop
set tg=FirstOfGroup(g)
exitwhen tg==null
if(IsUnitEnemy(tg,GetOwningPlayer(u))and not IsUnitType(tg,UNIT_TYPE_DEAD)and not IsUnitType(tg,UNIT_TYPE_STRUCTURE)and IsUnitInGroup(tg,gm)==false)then
call UnitDamageTarget(u,tg,GetHeroInt(u,false)*.5,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call GroupAddUnit(gm,tg)
endif
call GroupRemoveUnit(g,tg)
endloop
call DestroyGroup(g)
set g=null
set tg=null
endfunction
function Trig_Senjusobu_Poison_loop takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit u=LoadUnitHandle(hash,h,0)
local group gm0=LoadGroupHandle(hash,h,1)
local group g=CreateGroup()
local real x=LoadReal(hash,h,2)
local real y=LoadReal(hash,h,3)
local group gm=LoadGroupHandle(hash,h,4)
local real a=LoadReal(hash,h,5)
local unit tg
if(GetUnitCurrentOrder(u)!=$D0206)then
call ForGroup(gm0,function Trig_Senjusobu_End)
call GroupClear(gm0)
call DestroyGroup(gm0)
call GroupClear(gm)
call DestroyGroup(gm)
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(hash,h)
call SetUnitTurnSpeed(u,GetUnitDefaultTurnSpeed(u))
else
call Trig_Senjusobu_Damage(x,y,u,gm)
set x=x-300*Cos(a*bj_DEGTORAD)
set y=y-300*Sin(a*bj_DEGTORAD)
call Trig_Senjusobu_Damage(x,y,u,gm)
set x=x-600*Cos(a*bj_DEGTORAD)
set y=y-600*Sin(a*bj_DEGTORAD)
call Trig_Senjusobu_Damage(x,y,u,gm)
call GroupClear(gm)
call SaveGroupHandle(hash,h,4,gm)
endif
set g=null
set tg=null
set u=null
set gm0=null
set gm=null
set t=null
endfunction
function Trig_Senjusobu_Poison takes unit u,real x1,real y1,real a,group gm0,unit j returns nothing
local timer t=CreateTimer()
local integer h=GetHandleId(t)
local group gm=CreateGroup()
call SaveUnitHandle(hash,h,0,u)
call SaveReal(hash,h,2,x1)
call SaveReal(hash,h,3,y1)
call SaveGroupHandle(hash,h,4,gm)
call SaveReal(hash,h,5,a)
call DestroyEffect(AddSpecialEffect("war3mapImported\\shamanyouranus-ShadowyMissile.mdx",x1,y1))
set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(u),'h02E',x1,y1,0)
call GroupAddUnit(gm0,bj_lastCreatedUnit)
set x1=GetWidgetX(j)-300*Cos(a*bj_DEGTORAD)
set y1=GetWidgetY(j)-300*Sin(a*bj_DEGTORAD)
call DestroyEffect(AddSpecialEffect("war3mapImported\\shamanyouranus-ShadowyMissile.mdx",x1,y1))
set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(u),'h02E',x1,y1,0)
call GroupAddUnit(gm0,bj_lastCreatedUnit)
set x1=GetWidgetX(j)-600*Cos(a*bj_DEGTORAD)
set y1=GetWidgetY(j)-600*Sin(a*bj_DEGTORAD)
call DestroyEffect(AddSpecialEffect("war3mapImported\\shamanyouranus-ShadowyMissile.mdx",x1,y1))
set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(u),'h02E',x1,y1,0)
call GroupAddUnit(gm0,bj_lastCreatedUnit)
call SaveGroupHandle(hash,h,1,gm0)
call TimerStart(t,.1,true,function Trig_Senjusobu_Poison_loop)
set t=null
set gm=null
endfunction
function Trig_Senjusobu_Timer takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit u=LoadUnitHandle(hash,h,0)
local unit j=LoadUnitHandle(hash,h,1)
local real a=LoadReal(hash,h,2)
local real i=LoadReal(hash,h,3)
local real dmg=LoadReal(hash,h,4)
local group gm0=LoadGroupHandle(hash,h,5)
local group gm2=LoadGroupHandle(hash,h,6)
local real i2=LoadReal(hash,h,7)
local group g=CreateGroup()
local unit tg
local real x=GetWidgetX(u)
local real y=GetWidgetY(u)
local real x1=GetWidgetX(j)
local real y1=GetWidgetY(j)
if(GetUnitCurrentOrder(u)!=$D0206)then
call ForGroup(gm0,function Trig_Senjusobu_End)
call RemoveUnit(j)
call GroupClear(gm0)
call DestroyGroup(gm0)
call GroupClear(gm2)
call DestroyGroup(gm2)
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(hash,h)
call SetUnitTurnSpeed(u,GetUnitDefaultTurnSpeed(u))
else
if(i<=1.52)then
set i=i+.12
set i2=i2+5
call GroupEnumUnitsInRange(g,x1-80*Cos(a*bj_DEGTORAD),y1-80*Sin(a*bj_DEGTORAD),300,null)
loop
set tg=FirstOfGroup(g)
exitwhen tg==null
if(IsUnitEnemy(tg,GetOwningPlayer(u))and not IsUnitType(tg,UNIT_TYPE_DEAD)and not IsUnitType(tg,UNIT_TYPE_STRUCTURE)and IsUnitInGroup(tg,gm2)==false)then
call UnitDamageTarget(u,tg,dmg,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call GroupAddUnit(gm2,tg)
call IssueTargetOrderById(j,$D02B6,tg)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\HydraliskImpact\\HydraliskImpact.mdl",tg,"chest"))
endif
call GroupRemoveUnit(g,tg)
endloop
set g=null
set tg=null
call SetUnitPosition(j,x1+(80+i2)*Cos(a*bj_DEGTORAD),y1+(80+i2)*Sin(a*bj_DEGTORAD))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",x1,y1))
call DestroyEffect(AddSpecialEffect("war3mapImported\\DustWave.mdx",x1,y1))
set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(u),'h02C',x1,y1,a)
call SetUnitScale(j,i,i,i)
call SetUnitScale(bj_lastCreatedUnit,i,i,i)
call GroupAddUnit(gm0,bj_lastCreatedUnit)
call SaveReal(hash,h,3,i)
call SaveReal(hash,h,7,i2)
call SaveGroupHandle(hash,h,5,gm0)
call SaveGroupHandle(hash,h,6,gm2)
else
call Trig_Senjusobu_Poison(u,x1,y1,a,gm0,j)
call RemoveUnit(j)
call PauseTimer(t)
call DestroyTimer(t)
call GroupClear(gm2)
call DestroyGroup(gm2)
call FlushChildHashtable(hash,h)
endif
endif
call DestroyGroup(g)
set tg=null
set g=null
set t=null
set u=null
set j=null
set gm0=null
set gm2=null
endfunction
function Trig_Senjusobu_Actions takes nothing returns nothing
local timer t=CreateTimer()
local integer h=GetHandleId(t)
local unit u=GetTriggerUnit()
local unit j
local real x=GetWidgetX(u)
local real y=GetWidgetY(u)
local real x1=GetSpellTargetX()
local real y1=GetSpellTargetY()
local real a=bj_RADTODEG*Atan2(y1-y,x1-x)
local group gm0=CreateGroup()
local group gm2=CreateGroup()
local real dmg
local real i=.6
call SetUnitAnimationWithRarity(u,"Spell Two",RARITY_RARE)
set j=CreateUnit(GetOwningPlayer(u),'u006',x+$A0*Cos(a*bj_DEGTORAD),y+$A0*Sin(a*bj_DEGTORAD),a)
call UnitAddAbility(j,'A04G')
if(GetUnitAbilityLevel(u,'A02H')==1)then
set dmg=$A0+GetHeroInt(u,false)*.7
elseif(GetUnitAbilityLevel(u,'A02H')==2)then
set dmg=$DC+GetHeroInt(u,false)*.8
elseif(GetUnitAbilityLevel(u,'A02H')==3)then
set dmg=320+GetHeroInt(u,false)*.9
elseif(GetUnitAbilityLevel(u,'A02H')==4)then
set dmg=380+GetHeroInt(u,false)*1
endif
call TriggerSleepAction(.5)
call SaveAgentHandle(hash,h,0,u)
call SaveAgentHandle(hash,h,1,j)
call SaveReal(hash,h,2,a)
call SaveReal(hash,h,3,i)
call SaveReal(hash,h,4,dmg)
call SaveGroupHandle(hash,h,5,gm0)
call SaveGroupHandle(hash,h,6,gm2)
call SetUnitTurnSpeed(u,0)
call TimerStart(t,.08,true,function Trig_Senjusobu_Timer)
set t=null
set u=null
set j=null
set gm0=null
set gm2=null
endfunction
function InitTrig_Senjusobu takes nothing returns nothing
set gg_trg_Senjusobu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Senjusobu,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Senjusobu,Condition(function Trig_Senjusobu_Conditions))
call TriggerAddAction(gg_trg_Senjusobu,function Trig_Senjusobu_Actions)
endfunction
function Trig_Sadets_Kaiho_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A03X'
endfunction
function Trig_Sadets_Kaiho_Timer takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit u=LoadUnitHandle(hash,h,0)
local unit j=LoadUnitHandle(hash,h,1)
local real i=LoadReal(hash,h,2)
local real dmg=LoadReal(hash,h,3)
local group gm=LoadGroupHandle(hash,h,4)
local unit k=LoadUnitHandle(hash,h,5)
local real i2=LoadReal(hash,h,6)
local unit dummy=LoadUnitHandle(hash,h,7)
local real a=GetUnitFacing(j)
local real x=GetWidgetX(j)
local real y=GetWidgetY(j)
local group g=CreateGroup()
local unit tg
set i=i+.05
set i2=i2+$E
if i<4. then
call GroupEnumUnitsInRange(g,x,y,i2,null)
loop
set tg=FirstOfGroup(g)
exitwhen tg==null
if(IsUnitEnemy(tg,GetOwningPlayer(u))and not IsUnitType(tg,UNIT_TYPE_DEAD)and not IsUnitType(tg,UNIT_TYPE_STRUCTURE)and IsUnitInGroup(tg,gm)==false)then
call IssueTargetOrderById(dummy,$D02B6,tg)
call UnitDamageTarget(u,tg,dmg,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call GroupAddUnit(gm,tg)
endif
call GroupRemoveUnit(g,tg)
endloop
call SetUnitScale(j,i,i,i)
call SetUnitScale(k,i,i,i)
call SaveReal(hash,h,2,i)
call SaveReal(hash,h,6,i2)
call SaveGroupHandle(hash,h,4,gm)
else
call UnitApplyTimedLife(j,1,5)
call UnitApplyTimedLife(k,1,5)
call RemoveUnit(dummy)
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(hash,h)
call GroupClear(gm)
call DestroyGroup(gm)
endif
call DestroyGroup(g)
set dummy=null
set g=null
set tg=null
set u=null
set j=null
set t=null
set gm=null
set k=null
endfunction
function Trig_Sadets_Kaiho_Actions takes nothing returns nothing
local timer t=CreateTimer()
local integer h=GetHandleId(t)
local unit u=GetTriggerUnit()
local unit j
local unit k
local real x=GetWidgetX(u)
local real y=GetWidgetY(u)
local real x1=GetSpellTargetX()
local real y1=GetSpellTargetY()
local real a=bj_RADTODEG*Atan2(y1-y,x1-x)
local real dmg
local unit dummy
local group gm=CreateGroup()
if(GetUnitAbilityLevel(u,'A03X')==1)then
set dmg=800+GetHeroInt(u,false)*1.5
elseif(GetUnitAbilityLevel(u,'A03X')==2)then
set dmg=$3E8+GetHeroInt(u,false)*2.
elseif(GetUnitAbilityLevel(u,'A03X')==3)then
set dmg=$4B0+GetHeroInt(u,false)*2.5
endif
set j=CreateUnit(GetOwningPlayer(u),'h028',x1,y1,a)
set k=CreateUnit(GetOwningPlayer(u),'h02D',x1,y1,a)
set dummy=CreateUnit(GetOwningPlayer(u),'u006',x1,y1,a)
call UnitAddAbility(dummy,'A04G')
call SaveAgentHandle(hash,h,0,u)
call SaveAgentHandle(hash,h,1,j)
call SaveReal(hash,h,3,dmg)
call SaveAgentHandle(hash,h,4,gm)
call SaveAgentHandle(hash,h,5,k)
call SaveAgentHandle(hash,h,7,dummy)
call TimerStart(t,.01,true,function Trig_Sadets_Kaiho_Timer)
set dummy=null
set u=null
set j=null
set gm=null
set t=null
set k=null
endfunction
function InitTrig_Satetsu_Kaiho takes nothing returns nothing
set gg_trg_Satetsu_Kaiho=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Satetsu_Kaiho,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Satetsu_Kaiho,Condition(function Trig_Sadets_Kaiho_Conditions))
call TriggerAddAction(gg_trg_Satetsu_Kaiho,function Trig_Sadets_Kaiho_Actions)
endfunction
function Trig_Circular_Saw_Blade_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A04I'
endfunction
function Trig_Circular_Saw_Blade_Timer takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit u=LoadUnitHandle(hash,h,0)
local unit f=LoadUnitHandle(hash,h,1)
local unit j=LoadUnitHandle(hash,h,2)
local boolean back=LoadBoolean(hash,h,3)
local real x=GetWidgetX(j)
local real y=GetWidgetY(j)
local real x1=GetWidgetX(f)
local real y1=GetWidgetY(f)
local real x2=GetWidgetX(u)
local real y2=GetWidgetY(u)
local real a=bj_RADTODEG*Atan2(y1-y,x1-x)
if(IsUnitInRangeXY(f,x2,y2,$578)and(GetUnitState(f,UNIT_STATE_LIFE)>0))then
if SquareRoot((x-x1)*(x-x1)+(y-y1)*(y-y1))<=30 and back then
set back=false
set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(u),'u006',x,y,bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'A003')
call UnitAddAbility(bj_lastCreatedUnit,'A04G')
call IssueTargetOrderById(bj_lastCreatedUnit,$D02B6,f)
call IssueTargetOrderById(bj_lastCreatedUnit,$D011C,f)
call UnitDamageTarget(u,f,$C8+GetHeroInt(u,false)*.5,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",f,"chest"))
call RemoveUnit(bj_lastCreatedUnit)
call SaveBoolean(hash,h,3,back)
elseif(back)then
call SetUnitPosition(j,x+30*Cos(a*bj_DEGTORAD),y+30*Sin(a*bj_DEGTORAD))
endif
else
set back=false
call SaveBoolean(hash,h,3,back)
endif
if SquareRoot((x-x2)*(x-x2)+(y-y2)*(y-y2))<=30 and back==false or not IsUnitInRangeXY(u,x,y,$708)and(GetUnitState(u,UNIT_STATE_LIFE)>0)then
call RemoveUnit(j)
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(hash,h)
elseif(back==false)then
set a=bj_RADTODEG*Atan2(y2-y,x2-x)
call SetUnitPosition(j,x+30*Cos(a*bj_DEGTORAD),y+30*Sin(a*bj_DEGTORAD))
endif
set u=null
set f=null
set j=null
set t=null
endfunction
function Trig_Circular_Saw_Blade_Actions takes nothing returns nothing
local timer t=CreateTimer()
local integer h=GetHandleId(t)
local unit u=GetTriggerUnit()
local unit f=GetSpellTargetUnit()
local unit j
local real x=GetWidgetX(u)
local real y=GetWidgetY(u)
local boolean back=true
set j=CreateUnit(GetOwningPlayer(u),'h00J',x,y,0)
call SaveAgentHandle(hash,h,0,u)
call SaveAgentHandle(hash,h,1,f)
call SaveAgentHandle(hash,h,2,j)
call SaveBoolean(hash,h,3,back)
call TimerStart(t,.03,true,function Trig_Circular_Saw_Blade_Timer)
set u=null
set f=null
set j=null
set t=null
endfunction
function InitTrig_Circular_Saw_Blade takes nothing returns nothing
set gg_trg_Circular_Saw_Blade=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Circular_Saw_Blade,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Circular_Saw_Blade,Condition(function Trig_Circular_Saw_Blade_Conditions))
call TriggerAddAction(gg_trg_Circular_Saw_Blade,function Trig_Circular_Saw_Blade_Actions)
endfunction
function Trig_Hiruko_Kachyose_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A047'
endfunction
function Trig_Hiruko_Kachyose_Actions takes nothing returns nothing
local unit u=GetTriggerUnit()
local real a=GetUnitFacing(u)
local real x=GetWidgetX(u)
local real y=GetWidgetY(u)
call ShowUnit(u,false)
call SetUnitInvulnerable(u,true)
call DestroyEffect(AddSpecialEffect("war3mapImported\\shadowclone.mdx",x,y))
set udg_Hiruko=CreateUnit(GetOwningPlayer(u),'n00K',x,y,GetUnitFacing(u))
call SetHeroStr(udg_Hiruko,GetHeroStr(u,false),true)
call SetHeroAgi(udg_Hiruko,GetHeroAgi(u,false),true)
call SetHeroInt(udg_Hiruko,GetHeroInt(u,false),true)
if(GetUnitAbilityLevel(u,'A047')==1)then
call UnitAddAbility(udg_Hiruko,'A04B')
elseif(GetUnitAbilityLevel(u,'A047')==2)then
call UnitAddAbility(udg_Hiruko,'A04B')
call UnitAddAbility(udg_Hiruko,'A04F')
elseif(GetUnitAbilityLevel(u,'A047')==3)then
call UnitAddAbility(udg_Hiruko,'A04B')
call UnitAddAbility(udg_Hiruko,'A04F')
call UnitAddAbility(udg_Hiruko,'A048')
elseif(GetUnitAbilityLevel(u,'A047')==4)then
call UnitAddAbility(udg_Hiruko,'A04B')
call UnitAddAbility(udg_Hiruko,'A04F')
call UnitAddAbility(udg_Hiruko,'A048')
call UnitAddAbility(udg_Hiruko,'A04E')
endif
call SelectUnitForPlayerSingle(udg_Hiruko,GetOwningPlayer(u))
set udg_Sasori=u
set u=null
endfunction
function InitTrig_Hiruko_Kachyose takes nothing returns nothing
set gg_trg_Hiruko_Kachyose=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hiruko_Kachyose,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Hiruko_Kachyose,Condition(function Trig_Hiruko_Kachyose_Conditions))
call TriggerAddAction(gg_trg_Hiruko_Kachyose,function Trig_Hiruko_Kachyose_Actions)
endfunction
function Trig_Hiruko_Die_Conditions takes nothing returns boolean
return GetDyingUnit()==udg_Hiruko
endfunction
function Trig_Hiruko_Die_Actions takes nothing returns nothing
local real x=GetWidgetX(udg_Hiruko)
local real y=GetWidgetY(udg_Hiruko)
call DestroyEffect(AddSpecialEffect("war3mapImported\\shadowclone.mdx",x,y))
call ShowUnit(udg_Sasori,true)
call SetUnitInvulnerable(udg_Sasori,false)
call SetUnitPosition(udg_Sasori,x,y)
call SetUnitFacing(udg_Sasori,GetUnitFacing(udg_Hiruko))
call RemoveUnit(udg_Hiruko)
call SelectUnitForPlayerSingle(udg_Sasori,GetOwningPlayer(udg_Sasori))
set udg_Sasori=null
set udg_Hiruko=null
endfunction
function InitTrig_Hiruko_Die takes nothing returns nothing
set gg_trg_Hiruko_Die=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hiruko_Die,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Hiruko_Die,Condition(function Trig_Hiruko_Die_Conditions))
call TriggerAddAction(gg_trg_Hiruko_Die,function Trig_Hiruko_Die_Actions)
endfunction
function Trig_Unload_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A04D'
endfunction
function Trig_Unload_Actions takes nothing returns nothing
call KillUnit(udg_Hiruko)
endfunction
function InitTrig_Unload takes nothing returns nothing
set gg_trg_Unload=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Unload,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Unload,Condition(function Trig_Unload_Conditions))
call TriggerAddAction(gg_trg_Unload,function Trig_Unload_Actions)
endfunction
function Trig_Hiruko_Tail_Attack_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A04B'
endfunction
function Trig_Hiruko_Tail_Attack_Actions takes nothing returns nothing
local unit u=GetTriggerUnit()
local real x=GetWidgetX(u)
local real y=GetWidgetY(u)
local real x1=GetSpellTargetX()
local real y1=GetSpellTargetY()
local real a=bj_RADTODEG*Atan2(y1-y,x1-x)
local group g=CreateGroup()
local unit tg
local unit dummy
set dummy=CreateUnit(GetOwningPlayer(u),'u006',x,y,bj_UNIT_FACING)
call UnitAddAbility(dummy,'A019')
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl",x+$C8*Cos(a*bj_DEGTORAD),y+$8C*Sin(a*bj_DEGTORAD)))
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",x+$C8*Cos(a*bj_DEGTORAD),y+$8C*Sin(a*bj_DEGTORAD)))
call GroupEnumUnitsInRange(g,x,y,350,null)
loop
set tg=FirstOfGroup(g)
exitwhen tg==null
if(IsUnitEnemy(tg,GetOwningPlayer(u))and not IsUnitType(tg,UNIT_TYPE_DEAD)and not IsUnitType(tg,UNIT_TYPE_STRUCTURE))then
call UnitDamageTarget(u,tg,$DC+GetHeroInt(u,false)*1.2,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call IssueTargetOrderById(dummy,$D006B,tg)
endif
call GroupRemoveUnit(g,tg)
endloop
call DestroyGroup(g)
call RemoveUnit(dummy)
set g=null
set dummy=null
set tg=null
set u=null
endfunction
function InitTrig_Hiruko_Tail_Attack takes nothing returns nothing
set gg_trg_Hiruko_Tail_Attack=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hiruko_Tail_Attack,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Hiruko_Tail_Attack,Condition(function Trig_Hiruko_Tail_Attack_Conditions))
call TriggerAddAction(gg_trg_Hiruko_Tail_Attack,function Trig_Hiruko_Tail_Attack_Actions)
endfunction
function Trig_Hiruko_Toxic_Bombs_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A04F')
endfunction
function Trig_Hiruko_Toxic_Bombs_DamageLoop takes nothing returns nothing
local timer t2=GetExpiredTimer()
local integer h2=GetHandleId(t2)
local unit u=LoadUnitHandle(hash,h2,0)
local unit j=LoadUnitHandle(hash,h2,1)
local real x1=LoadReal(hash,h2,2)
local real y1=LoadReal(hash,h2,3)
local real time=LoadReal(hash,h2,4)
local group g=CreateGroup()
local unit tg
if time>=6 then
call KillUnit(j)
call FlushChildHashtable(hash,h2)
call PauseTimer(t2)
call DestroyTimer(t2)
else
call GroupEnumUnitsInRange(g,x1,y1,450,null)
loop
set tg=FirstOfGroup(g)
exitwhen tg==null
if(IsUnitEnemy(tg,GetOwningPlayer(u))and not IsUnitType(tg,UNIT_TYPE_DEAD)and not IsUnitType(tg,UNIT_TYPE_STRUCTURE))then
call UnitDamageTarget(u,tg,GetHeroInt(udg_Sasori,false)*.2,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(g,tg)
endloop
call SaveReal(hash,h2,4,time+.15)
endif
call DestroyGroup(g)
set g=null
set tg=null
set u=null
set j=null
set t2=null
endfunction
function Trig_Hiruko_Toxic_Bombs_Damage takes unit u,timer t,real x1,real y1 returns nothing
local timer t2=CreateTimer()
local integer h2=GetHandleId(t2)
local unit j
call DestroyEffect(AddSpecialEffect("war3mapImported\\shamanyouranus-ShadowyMissile.mdx",x1,y1))
set j=CreateUnit(GetOwningPlayer(u),'h02E',x1,y1,270)
call SaveUnitHandle(hash,h2,0,u)
call SaveUnitHandle(hash,h2,1,j)
call SaveReal(hash,h2,2,x1)
call SaveReal(hash,h2,3,y1)
call TimerStart(t2,.1,true,function Trig_Hiruko_Toxic_Bombs_DamageLoop)
set j=null
set t2=null
endfunction
function Trig_Hiruko_Toxic_Bombs_Timer takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit u=LoadUnitHandle(hash,h,0)
local unit j=LoadUnitHandle(hash,h,1)
local real x1=LoadReal(hash,h,2)
local real y1=LoadReal(hash,h,3)
local real a=LoadReal(hash,h,4)
local real time=LoadReal(hash,h,5)
local real speed=LoadReal(hash,h,6)
local real dist=LoadReal(hash,h,7)
local real x=GetUnitX(j)
local real y=GetUnitY(j)
local real range=SquareRoot((x-x1)*(x-x1)+(y-y1)*(y-y1))
local real z=2*550
local real fly
if SquareRoot((x-x1)*(x-x1)+(y-y1)*(y-y1))<=dist/time*.01 then
call Trig_Hiruko_Toxic_Bombs_Damage(u,t,x1,y1)
call RemoveUnit(j)
call FlushChildHashtable(hash,h)
call PauseTimer(t)
call DestroyTimer(t)
else
call SetUnitX(j,x+speed*Cos(a*bj_DEGTORAD))
call SetUnitY(j,y+speed*Sin(a*bj_DEGTORAD))
set fly=(z/dist)*(dist-range)*(range/dist)
call SetUnitFlyHeight(j,fly,0)
endif
set u=null
set j=null
set t=null
endfunction
function Trig_Hiruko_Toxic_Bombs_Actions takes nothing returns nothing
local timer t=CreateTimer()
local integer h=GetHandleId(t)
local unit u=GetSpellAbilityUnit()
local unit j
local real x=GetUnitX(u)
local real y=GetUnitY(u)
local real x1=GetSpellTargetX()
local real y1=GetSpellTargetY()
local real a=bj_RADTODEG*Atan2(y1-y,x1-x)
local real dist=SquareRoot((x-x1)*(x-x1)+(y-y1)*(y-y1))
local real time=.25
local real speed=dist/time*.01
if(x1-y1!=x-y)then
set j=CreateUnit(GetOwningPlayer(u),'h02F',x,y,a)
call SaveUnitHandle(hash,h,0,u)
call SaveUnitHandle(hash,h,1,j)
call SaveReal(hash,h,2,x1)
call SaveReal(hash,h,3,y1)
call SaveReal(hash,h,4,a)
call SaveReal(hash,h,5,time)
call SaveReal(hash,h,6,speed)
call SaveReal(hash,h,7,dist)
call TimerStart(t,.03,true,function Trig_Hiruko_Toxic_Bombs_Timer)
else
call DisplayTimedTextToPlayer(GetOwningPlayer(u),0,0,.8,"     |cffffcc00нельзя указывать на себя.|r")
call DestroyTimer(t)
endif
set u=null
set j=null
set t=null
endfunction
function InitTrig_Hiruko_Toxic_Bombs takes nothing returns nothing
set gg_trg_Hiruko_Toxic_Bombs=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hiruko_Toxic_Bombs,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Hiruko_Toxic_Bombs,Condition(function Trig_Hiruko_Toxic_Bombs_Conditions))
call TriggerAddAction(gg_trg_Hiruko_Toxic_Bombs,function Trig_Hiruko_Toxic_Bombs_Actions)
endfunction
function Trig_Hiruko_Needle_Shot_START_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A04E'
endfunction
function Trig_Hiruko_Needle_START_Func takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Hiruko_Needle_U[0])) and IsUnitAliveBJ(GetFilterUnit()) and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Hiruko_Needle_START_Func007A takes nothing returns nothing
local real x=GetWidgetX(udg_Hiruko_Needle_U[1])
local real y=GetWidgetY(udg_Hiruko_Needle_U[1])
call IssueTargetOrderById(udg_Hiruko_Needle_U[2],$D02B6,GetEnumUnit())
call UnitDamageTarget(udg_Hiruko_Needle_U[0],GetEnumUnit(),$A+GetHeroInt(udg_Hiruko_Needle_U[0],false)*.5,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\HydraliskImpact\\HydraliskImpact.mdl",GetEnumUnit(),"chest"))
call RemoveUnit(udg_Hiruko_Needle_U[1])
endfunction
function Trig_Hiruko_Needle_START_Func001A takes nothing returns nothing
local unit u=GetEnumUnit()
local real x=GetWidgetX(u)
local real y=GetWidgetY(u)
local real a=GetUnitFacing(u)
local boolexpr f=Condition(function Trig_Hiruko_Needle_START_Func)
set udg_Hiruko_Needle_U[1]=u
set u=null
call SetUnitPosition(udg_Hiruko_Needle_U[1],x+30*Cos(a*bj_DEGTORAD),y+30*Sin(a*bj_DEGTORAD))
set udg_Hiruko_Needle_G[1]=CreateGroup()
call GroupEnumUnitsInRange(udg_Hiruko_Needle_G[1],x,y,30,f)
call ForGroup(udg_Hiruko_Needle_G[1],function Trig_Hiruko_Needle_START_Func007A)
call GroupClear(udg_Hiruko_Needle_G[1])
call DestroyGroup(udg_Hiruko_Needle_G[1])
set udg_Hiruko_Needle_G[1]=null
call DestroyBoolExpr(f)
set f=null
endfunction
function Trig_Hiruko_Needle_START_Func005A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_Hiruko_Needle_START_Timer takes nothing returns nothing
local timer t=GetExpiredTimer()
if CountUnitsInGroup(udg_Hiruko_Needle_G[0])==0 then
call PauseTimer(t)
call DestroyTimer(t)
call ForGroup(udg_Hiruko_Needle_G[0],function Trig_Hiruko_Needle_START_Func005A)
call GroupClear(udg_Hiruko_Needle_G[0])
call DestroyGroup(udg_Hiruko_Needle_G[0])
call RemoveUnit(udg_Hiruko_Needle_U[2])
set udg_Hiruko_Needle_G[0]=null
set udg_Hiruko_Needle_U[0]=null
set udg_Hiruko_Needle_U[1]=null
set udg_Hiruko_Needle_U[2]=null
else
call ForGroup(udg_Hiruko_Needle_G[0],function Trig_Hiruko_Needle_START_Func001A)
endif
set t=null
endfunction
function Trig_Hiruko_Needle_Shot_START_Actions takes nothing returns nothing
local timer t=CreateTimer()
local unit u=GetTriggerUnit()
local real x=GetWidgetX(u)
local real y=GetWidgetY(u)
local real x1=GetSpellTargetX()
local real y1=GetSpellTargetY()
set udg_Hiruko_Needle_R[2]=bj_RADTODEG*Atan2(y1-y,x1-x)
set udg_Hiruko_Needle_U[0]=u
set udg_Hiruko_Needle_U[2]=CreateUnit(GetOwningPlayer(udg_Hiruko_Needle_U[0]),'u006',x,y,bj_UNIT_FACING)
call UnitAddAbility(udg_Hiruko_Needle_U[2],'A04G')
set udg_Hiruko_Needle_R[0]=x+20*Cos(udg_Hiruko_Needle_R[2]-90*bj_DEGTORAD)
set udg_Hiruko_Needle_R[1]=y+20*Sin(udg_Hiruko_Needle_R[2]-90*bj_DEGTORAD)
set udg_Hiruko_Needle_G[0]=CreateGroup()
call SetUnitAnimationByIndex(udg_Hiruko_Needle_U[0],4)
call EnableTrigger(gg_trg_Hiruko_Needle_Shot_Attack)
call TimerStart(t,.03,true,function Trig_Hiruko_Needle_START_Timer)
set u=null
set t=null
endfunction
function InitTrig_Hiruko_Needle_Shot_START takes nothing returns nothing
set gg_trg_Hiruko_Needle_Shot_START=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hiruko_Needle_Shot_START,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Hiruko_Needle_Shot_START,Condition(function Trig_Hiruko_Needle_Shot_START_Conditions))
call TriggerAddAction(gg_trg_Hiruko_Needle_Shot_START,function Trig_Hiruko_Needle_Shot_START_Actions)
endfunction
function Trig_Hiruko_Needle_Shot_DIE_Conditions takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())=='h02G'
endfunction
function Trig_Hiruko_Needle_Shot_DIE_Actions takes nothing returns nothing
call GroupRemoveUnit(udg_Hiruko_Needle_G[0],GetDyingUnit())
endfunction
function InitTrig_Hiruko_Needle_Shot_DIE takes nothing returns nothing
set gg_trg_Hiruko_Needle_Shot_DIE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hiruko_Needle_Shot_DIE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Hiruko_Needle_Shot_DIE,Condition(function Trig_Hiruko_Needle_Shot_DIE_Conditions))
call TriggerAddAction(gg_trg_Hiruko_Needle_Shot_DIE,function Trig_Hiruko_Needle_Shot_DIE_Actions)
endfunction
function Trig_Hiruko_Needle_Shot_Attack_Actions takes nothing returns nothing
set udg_Hiruko_Needle_R[3]=GetRandomReal((udg_Hiruko_Needle_R[2]-20),(udg_Hiruko_Needle_R[2]+20))
set bj_lastCreatedUnit=CreateUnit(GetOwningPlayer(udg_Hiruko_Needle_U[0]),'h02G',udg_Hiruko_Needle_R[0],udg_Hiruko_Needle_R[1],udg_Hiruko_Needle_R[3])
call UnitApplyTimedLife(bj_lastCreatedUnit,1,1)
call GroupAddUnit(udg_Hiruko_Needle_G[0],bj_lastCreatedUnit)
endfunction
function InitTrig_Hiruko_Needle_Shot_Attack takes nothing returns nothing
set gg_trg_Hiruko_Needle_Shot_Attack=CreateTrigger()
call DisableTrigger(gg_trg_Hiruko_Needle_Shot_Attack)
call TriggerRegisterTimerEventPeriodic(gg_trg_Hiruko_Needle_Shot_Attack,.03)
call TriggerAddAction(gg_trg_Hiruko_Needle_Shot_Attack,function Trig_Hiruko_Needle_Shot_Attack_Actions)
endfunction
function Trig_Hiruko_Needle_Shot_END_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A04E'
endfunction
function Trig_Hiruko_Needle_Shot_END_Actions takes nothing returns nothing
call DisableTrigger(gg_trg_Hiruko_Needle_Shot_Attack)
endfunction
function InitTrig_Hiruko_Needle_Shot_END takes nothing returns nothing
set gg_trg_Hiruko_Needle_Shot_END=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hiruko_Needle_Shot_END,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hiruko_Needle_Shot_END,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(gg_trg_Hiruko_Needle_Shot_END,Condition(function Trig_Hiruko_Needle_Shot_END_Conditions))
call TriggerAddAction(gg_trg_Hiruko_Needle_Shot_END,function Trig_Hiruko_Needle_Shot_END_Actions)
endfunction
function Trig_Real_Body_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A046'
endfunction
function Trig_Real_Body_Actions takes nothing returns nothing
local unit u=GetTriggerUnit()
local trigger Real_Body_Deathe=CreateTrigger()
if(udg_SasoriRealBody==false)then
set udg_SasoriRealBody=true
call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A047',false)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A03X',false)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A03W',false)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A02H',false)
set udg_Sasori=u
call EnableTrigger(gg_trg_Real_Body_Deathe)
call EnableTrigger(gg_trg_Red_Puppets_Attack)
else
call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A047',true)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A03X',true)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A03W',true)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A02H',true)
set udg_SasoriRealBody=false
call DisableTrigger(gg_trg_Real_Body_Deathe)
call DisableTrigger(gg_trg_Red_Puppets_Attack)
endif
set u=null
set udg_Sasori=null
set Real_Body_Deathe=null
endfunction
function InitTrig_Real_Body takes nothing returns nothing
set gg_trg_Real_Body=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Real_Body,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Real_Body,Condition(function Trig_Real_Body_Conditions))
call TriggerAddAction(gg_trg_Real_Body,function Trig_Real_Body_Actions)
endfunction
function Trig_Real_Body_Deathe_Conditions takes nothing returns boolean
return GetUnitTypeId(GetTriggerUnit())=='E003'
endfunction
function Trig_Real_Body_Deathe_Actions takes nothing returns nothing
local unit u=GetDyingUnit()
call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A047',true)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A03X',true)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A03W',true)
call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A02H',true)
set udg_SasoriRealBody=false
set u=null
endfunction
function InitTrig_Real_Body_Deathe takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_Real_Body_Deathe_Conditions))
call TriggerAddAction(t,function Trig_Real_Body_Deathe_Actions)
set t=null
endfunction
function Trig_Flamethrower_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A04H'
endfunction
function Trig_Flamethrower_Damage takes real x,real y,unit u,group gm returns nothing
local group g=CreateGroup()
local unit tg
call GroupEnumUnitsInRange(g,x,y,$DC,null)
loop
set tg=FirstOfGroup(g)
exitwhen tg==null
if(IsUnitEnemy(tg,GetOwningPlayer(u))and not IsUnitType(tg,UNIT_TYPE_DEAD)and not IsUnitType(tg,UNIT_TYPE_STRUCTURE)and IsUnitInGroup(tg,gm)==false)then
call UnitDamageTarget(u,tg,$A+GetHeroInt(u,false)*.5,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call GroupAddUnit(gm,tg)
endif
call GroupRemoveUnit(g,tg)
endloop
call DestroyGroup(g)
set g=null
set tg=null
endfunction
function Trig_Flamethrower_Timer takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit u=LoadUnitHandle(hash,h,0)
local unit j=LoadUnitHandle(hash,0,1)
local unit j2=LoadUnitHandle(hash,0,2)
local real a=LoadReal(hash,h,3)
local real time=LoadReal(hash,h,4)
local group gm=LoadGroupHandle(hash,h,5)
local real x=GetWidgetX(u)
local real y=GetWidgetY(u)
if(GetUnitCurrentOrder(u)!=$D0278)then
call SetUnitTurnSpeed(u,GetUnitDefaultTurnSpeed(u))
call RemoveUnit(j)
call RemoveUnit(j2)
call GroupClear(gm)
call DestroyGroup(gm)
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(hash,h)
else
if(time==.1 or time>=.4)then
set x=GetWidgetX(u)+$C8*Cos(a*bj_DEGTORAD)
set y=GetWidgetY(u)+$C8*Sin(a*bj_DEGTORAD)
call Trig_Flamethrower_Damage(x,y,u,gm)
endif
if(time==.2 or time>=.4)then
set x=GetWidgetX(u)+400*Cos(a*bj_DEGTORAD)
set y=GetWidgetY(u)+400*Sin(a*bj_DEGTORAD)
call Trig_Flamethrower_Damage(x,y,u,gm)
endif
if(time==.3 or time>=.4)then
set x=GetWidgetX(u)+600*Cos(a*bj_DEGTORAD)
set y=GetWidgetY(u)+600*Sin(a*bj_DEGTORAD)
call Trig_Flamethrower_Damage(x,y,u,gm)
endif
if(time>=.4)then
set x=GetWidgetX(u)+800*Cos(a*bj_DEGTORAD)
set y=GetWidgetY(u)+800*Sin(a*bj_DEGTORAD)
call Trig_Flamethrower_Damage(x,y,u,gm)
endif
endif
call GroupClear(gm)
call SaveGroupHandle(hash,h,5,gm)
call SaveReal(hash,h,4,time+.05)
set u=null
set j=null
set j2=null
set t=null
set gm=null
endfunction
function Trig_Flamethrower_Actions takes nothing returns nothing
local timer t=CreateTimer()
local integer h=GetHandleId(t)
local unit u=GetTriggerUnit()
local unit j
local unit j2
local real x=GetWidgetX(u)
local real y=GetWidgetY(u)
local real x1=GetSpellTargetX()
local real y1=GetSpellTargetY()
local real a=bj_RADTODEG*Atan2(y1-y,x1-x)
local group gm=CreateGroup()
call SetUnitTurnSpeed(u,0)
call SetUnitAnimationWithRarity(u,"Spell Two",RARITY_RARE)
set j=CreateUnit(GetOwningPlayer(u),'h02I',x-30*Cos((a-90)*bj_DEGTORAD)+40*Cos(a*bj_DEGTORAD),y-30*Sin((a-90)*bj_DEGTORAD)+40*Sin(a*bj_DEGTORAD),a+3)
set j2=CreateUnit(GetOwningPlayer(u),'h02I',x-30*Cos((a+90)*bj_DEGTORAD)+40*Cos(a*bj_DEGTORAD),y-30*Sin((a+90)*bj_DEGTORAD)+40*Sin(a*bj_DEGTORAD),a-3)
call SaveAgentHandle(hash,h,0,u)
call SaveAgentHandle(hash,0,1,j)
call SaveAgentHandle(hash,0,2,j2)
call SaveReal(hash,h,3,a)
call SaveAgentHandle(hash,h,5,gm)
call TimerStart(t,.05,true,function Trig_Flamethrower_Timer)
set u=null
set j=null
set j2=null
set t=null
set gm=null
endfunction
function InitTrig_Flamethrower takes nothing returns nothing
set gg_trg_Flamethrower=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Flamethrower,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Flamethrower,Condition(function Trig_Flamethrower_Conditions))
call TriggerAddAction(gg_trg_Flamethrower,function Trig_Flamethrower_Actions)
endfunction
function Trig_Waterthrower_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A04C'
endfunction
function Trig_Waterthrower_Timer takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit u=LoadUnitHandle(hash,h,0)
local unit j=LoadUnitHandle(hash,h,1)
local integer time=LoadInteger(hash,h,2)
local group gm=LoadGroupHandle(hash,h,3)
local real a=LoadReal(hash,h,4)
local real x=GetWidgetX(j)
local real y=GetWidgetY(j)
local group g=CreateGroup()
local unit tg
if time<22 then
call GroupEnumUnitsInRange(g,x,y,$FA,null)
loop
set tg=FirstOfGroup(g)
exitwhen tg==null
if(IsUnitEnemy(tg,GetOwningPlayer(u))and not IsUnitType(tg,UNIT_TYPE_DEAD)and not IsUnitType(tg,UNIT_TYPE_STRUCTURE)and IsUnitInGroup(tg,gm)==false)then
call UnitDamageTarget(u,tg,500+GetHeroInt(u,false)*3.,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call GroupAddUnit(gm,tg)
endif
call GroupRemoveUnit(g,tg)
endloop
call SetUnitPosition(j,x+50*Cos(a*bj_DEGTORAD),y+50*Sin(a*bj_DEGTORAD))
call SaveInteger(hash,h,2,time+1)
call SaveGroupHandle(hash,h,3,gm)
else
call RemoveUnit(j)
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(hash,h)
call GroupClear(gm)
call DestroyGroup(gm)
endif
call DestroyGroup(g)
set g=null
set tg=null
set u=null
set j=null
set t=null
set gm=null
endfunction
function Trig_Waterthrower_Actions takes nothing returns nothing
local timer t=CreateTimer()
local integer h=GetHandleId(t)
local real x1=GetWidgetX(GetSpellTargetUnit())
local real y1=GetWidgetY(GetSpellTargetUnit())
local unit u=GetTriggerUnit()
local unit j
local real x=GetWidgetX(u)
local real y=GetWidgetY(u)
local real a=bj_RADTODEG*Atan2(y1-y,x1-x)
local group gm=CreateGroup()
set j=CreateUnit(GetOwningPlayer(u),'u006',x-$8C*Cos(a*bj_DEGTORAD),y-$8C*Sin(a*bj_DEGTORAD),a)
call SetUnitAnimationWithRarity(u,"Spell Two",RARITY_FREQUENT)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(u),'h02H',x-30*Cos((a-90)*bj_DEGTORAD)+40*Cos(a*bj_DEGTORAD),y-30*Sin((a-90)*bj_DEGTORAD)+40*Sin(a*bj_DEGTORAD),a+3),1,3)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(u),'h02H',x-30*Cos((a+90)*bj_DEGTORAD)+40*Cos(a*bj_DEGTORAD),y-30*Sin((a+90)*bj_DEGTORAD)+40*Sin(a*bj_DEGTORAD),a-3),1,3)
call SaveAgentHandle(hash,h,0,u)
call SaveAgentHandle(hash,h,1,j)
call SaveAgentHandle(hash,h,3,gm)
call SaveReal(hash,h,4,a)
call TimerStart(t,.03,true,function Trig_Waterthrower_Timer)
set u=null
set j=null
set gm=null
set t=null
endfunction
function InitTrig_Waterthrower takes nothing returns nothing
set gg_trg_Waterthrower=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Waterthrower,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Waterthrower,Condition(function Trig_Waterthrower_Conditions))
call TriggerAddAction(gg_trg_Waterthrower,function Trig_Waterthrower_Actions)
endfunction
function Trig_Sasori_Hook_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A04J'
endfunction
function Trig_Sasori_Hook_Timer takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit u=LoadUnitHandle(hash,h,0)
local unit j=LoadUnitHandle(hash,h,1)
local real a=LoadReal(hash,h,2)
local boolean back=LoadBoolean(hash,h,3)
local integer i=LoadInteger(hash,h,4)
local boolean start=LoadBoolean(hash,h,5)
local real x=GetWidgetX(j)
local real y=GetWidgetY(j)
local real x1=GetWidgetX(u)
local real y1=GetWidgetY(u)
local unit ui
local unit tg
local unit f=LoadUnitHandle(hash,h,6)
local group g=CreateGroup()
local group gm=LoadGroupHandle(hash,h,7)
local lightning l=LoadLightningHandle(hash,h,8)
local unit dummy=LoadUnitHandle(hash,h,9)
if i==30 and back and start then
set back=false
call SaveBoolean(hash,h,3,back)
elseif(back and start)then
call SetUnitPosition(j,x+50*Cos(a*bj_DEGTORAD),y+50*Sin(a*bj_DEGTORAD))
call GroupEnumUnitsInRange(g,x,y,$96,null)
call MoveLightningEx(l,true,x,y,80,x1,y1,80)
loop
set f=FirstOfGroup(g)
exitwhen f==null
if(IsUnitEnemy(f,GetOwningPlayer(u))and not IsUnitType(f,UNIT_TYPE_DEAD)and not IsUnitType(f,UNIT_TYPE_STRUCTURE))then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",f,"chest"))
call UnitDamageTarget(u,f,800+GetHeroInt(u,false)*3,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call IssueTargetOrderById(dummy,$D02B6,f)
call SetUnitInvulnerable(u,true)
call PauseUnit(u,true)
call SetUnitPathing(u,false)
set start=false
call SaveUnitHandle(hash,h,6,f)
call SaveBoolean(hash,h,5,start)
call GroupClear(g)
else
call GroupRemoveUnit(g,f)
set f=null
endif
endloop
call SaveInteger(hash,h,4,i+1)
endif
if SquareRoot((x-x1)*(x-x1)+(y-y1)*(y-y1))<=50 and back==false or not IsUnitInRangeXY(u,x,y,$7D0)or(GetUnitState(u,UNIT_STATE_LIFE)<=0)then
call RemoveUnit(dummy)
call GroupClear(gm)
call DestroyGroup(gm)
call DestroyLightning(l)
call RemoveUnit(j)
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(hash,h)
elseif(back==false)then
set a=bj_RADTODEG*Atan2(y1-y,x1-x)
call SetUnitPosition(j,x+50*Cos(a*bj_DEGTORAD),y+50*Sin(a*bj_DEGTORAD))
call SetUnitFacing(j,a+$B4)
call MoveLightningEx(l,true,x,y,80,x1,y1,80)
endif
if SquareRoot((x-x1)*(x-x1)+(y-y1)*(y-y1))<=60 and start==false and(IsUnitInRangeXY(f,x,y,$5DC))or(GetUnitState(f,UNIT_STATE_LIFE)>0)then
set back=false
call RemoveUnit(dummy)
call SetUnitInvulnerable(u,false)
call PauseUnit(u,false)
call SetUnitPathing(u,true)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",x,y))
call SetUnitAnimationWithRarity(u,"Spell Throw",RARITY_RARE)
call GroupClear(gm)
call DestroyGroup(gm)
call DestroyLightning(l)
call RemoveUnit(j)
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(hash,h)
elseif(start==false)then
set f=LoadUnitHandle(hash,h,6)
set x=GetWidgetX(f)
set y=GetWidgetY(f)
call SetUnitPosition(j,x,y)
set a=bj_RADTODEG*Atan2(y1-y,x1-x)
call SetUnitPosition(u,x1-60*Cos(a*bj_DEGTORAD),y1-60*Sin(a*bj_DEGTORAD))
call SetUnitFacing(u,a+$B4)
call SetUnitAnimationWithRarity(u,"Spell Slam",RARITY_FREQUENT)
call MoveLightningEx(l,true,x,y,80,x1,y1,80)
call GroupEnumUnitsInRange(g,x1,y1,$FA,null)
loop
set tg=FirstOfGroup(g)
exitwhen tg==null
if(IsUnitEnemy(tg,GetOwningPlayer(u))and not IsUnitType(tg,UNIT_TYPE_DEAD)and not IsUnitType(tg,UNIT_TYPE_STRUCTURE)and IsUnitInGroup(tg,gm)==false)then
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",f,"chest"))
call UnitDamageTarget(u,tg,600+GetHeroInt(u,false)*3,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call IssueTargetOrderById(dummy,$D02B6,tg)
call GroupAddUnit(gm,tg)
endif
call GroupRemoveUnit(g,tg)
endloop
call SaveGroupHandle(hash,h,7,gm)
endif
call DestroyGroup(g)
set g=null
set gm=null
set dummy=null
set u=null
set tg=null
set f=null
set l=null
set ui=null
set j=null
set t=null
endfunction
function Trig_Sasori_Hook_Actions takes nothing returns nothing
local timer t=CreateTimer()
local integer h=GetHandleId(t)
local unit u=GetTriggerUnit()
local unit j
local unit dummy
local real x=GetWidgetX(u)
local real y=GetWidgetY(u)
local real x1=GetSpellTargetX()
local real y1=GetSpellTargetY()
local real a=bj_RADTODEG*Atan2(y1-y,x1-x)
local boolean back=true
local boolean start=true
local group gm=CreateGroup()
local lightning l
set l=AddLightningEx("DRAM",true,x,y,80,x,y,80)
call SetLightningColor(l,1,500,1,1)
set j=CreateUnit(GetOwningPlayer(u),'h02B',x,y,a)
set dummy=CreateUnit(GetOwningPlayer(u),'u006',x,y,a)
call UnitAddAbility(dummy,'A04G')
call SaveAgentHandle(hash,h,0,u)
call SaveAgentHandle(hash,h,1,j)
call SaveReal(hash,h,2,a)
call SaveBoolean(hash,h,3,back)
call SaveBoolean(hash,h,5,start)
call SaveGroupHandle(hash,h,7,gm)
call SaveLightningHandle(hash,h,8,l)
call SaveAgentHandle(hash,h,9,dummy)
call TimerStart(t,.03,true,function Trig_Sasori_Hook_Timer)
set u=null
set j=null
set t=null
set l=null
set gm=null
set dummy=null
endfunction
function InitTrig_Sasori_Hook takes nothing returns nothing
set gg_trg_Sasori_Hook=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sasori_Hook,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Sasori_Hook,Condition(function Trig_Sasori_Hook_Conditions))
call TriggerAddAction(gg_trg_Sasori_Hook,function Trig_Sasori_Hook_Actions)
endfunction
function Trig_Red_Puppets_Attack_Conditions takes nothing returns boolean
return GetUnitTypeId(GetAttacker())=='u007'
endfunction
function Trig_Red_Puppets_Attack_Actions takes nothing returns nothing
call UnitDamageTarget(udg_Sasori,GetTriggerUnit(),500+GetHeroInt(udg_Sasori,false)*$C,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call TriggerSleepAction(1)
call RemoveUnit(GetAttacker())
endfunction
function InitTrig_Red_Puppets_Attack takes nothing returns nothing
set gg_trg_Red_Puppets_Attack=CreateTrigger()
call DisableTrigger(gg_trg_Red_Puppets_Attack)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Red_Puppets_Attack,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Red_Puppets_Attack,Condition(function Trig_Red_Puppets_Attack_Conditions))
call TriggerAddAction(gg_trg_Red_Puppets_Attack,function Trig_Red_Puppets_Attack_Actions)
endfunction
function Trig_Kaedjin_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A0AU')
endfunction
function Trig_Kaedjin_Actions takes nothing returns nothing
set udg_SealPoint=GetUnitLoc(gg_unit_h00E_0087)
call CreateNUnitsAtLoc(1,'h04R',Player($F),udg_SealPoint,180.)
call UnitApplyTimedLifeBJ(5.,'BTLF',bj_lastCreatedUnit)
call RemoveLocation(udg_SealPoint)
set udg_SealPoint=null
endfunction
function InitTrig_Kaedjin takes nothing returns nothing
set gg_trg_Kaedjin=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kaedjin,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Kaedjin,Condition(function Trig_Kaedjin_Conditions))
call TriggerAddAction(gg_trg_Kaedjin,function Trig_Kaedjin_Actions)
endfunction
function Trig_Earth_teleport_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A05M')
endfunction
function Trig_Earth_teleport_Func006C takes nothing returns boolean
return(UnitHasBuffBJ(udg_Tobi[1],'B001')==false)
endfunction
function Trig_Earth_teleport_Func009C takes nothing returns boolean
return(UnitHasBuffBJ(udg_Tobi[1],'B001')==false)
endfunction
function Trig_Earth_teleport_Actions takes nothing returns nothing
set udg_Tobi[1]=GetSpellAbilityUnit()
set udg_PointNew[1]=GetSpellTargetLoc()
call SetUnitTimeScalePercent(udg_Tobi[1],400.)
call SetUnitAnimation(udg_Tobi[1],"spell one")
call TriggerSleepAction(.05)
if(Trig_Earth_teleport_Func006C())then
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Tobi[1]),"Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endif
call SetUnitPositionLoc(GetTriggerUnit(),udg_PointNew[1])
call SetUnitAnimation(udg_Tobi[1],"spell three")
if(Trig_Earth_teleport_Func009C())then
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Tobi[1]),"Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endif
call SetUnitTimeScalePercent(udg_Tobi[1],100.)
set udg_Tobi[1]=null
call RemoveLocation(udg_PointNew[1])
set udg_PointNew[1]=null
endfunction
function InitTrig_Earth_teleport takes nothing returns nothing
set gg_trg_Earth_teleport=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Earth_teleport,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Earth_teleport,Condition(function Trig_Earth_teleport_Conditions))
call TriggerAddAction(gg_trg_Earth_teleport,function Trig_Earth_teleport_Actions)
endfunction
function Di_Cond takes nothing returns boolean
return GetSpellAbilityId()=='A05R'
endfunction
function Di_Act takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
call SetUnitPathing(a,false)
call UnitAddAbility(a,'A05N')
call UnitAddAbility(a,'A05P')
call UnitAddAbility(a,'A05O')
call UnitAddAbility(a,'A05Q')
call TriggerSleepAction(15.)
call SetUnitPathing(a,true)
call UnitRemoveAbility(a,'A05N')
call UnitRemoveAbility(a,'A05P')
call UnitRemoveAbility(a,'A05O')
call UnitRemoveAbility(a,'A05Q')
set a=null
endfunction
function InitTrig_Di takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Di_Cond))
call TriggerAddAction(t,function Di_Act)
set t=null
endfunction
function Di_1_Cond takes nothing returns boolean
return(GetUnitAbilityLevel(GetAttacker(),'B001')>0)
endfunction
function Di_1_Act takes nothing returns nothing
local unit a=GetAttacker()
local unit b=GetTriggerUnit()
local real dmg
if(GetUnitAbilityLevel(a,'A05R')==1)then
set dmg=$8C+GetHeroAgi(a,false)*2
elseif(GetUnitAbilityLevel(a,'A05R')==2)then
set dmg=$DC+GetHeroAgi(a,false)*2
elseif(GetUnitAbilityLevel(a,'A05R')==3)then
set dmg=300+GetHeroAgi(a,false)*2
elseif(GetUnitAbilityLevel(a,'A05R')==4)then
set dmg=390+GetHeroAgi(a,false)*2
endif
call UnitDamageTarget(a,b,dmg,false,false,null,null,null)
call SetUnitPathing(a,true)
call UnitRemoveAbility(a,'A05N')
call UnitRemoveAbility(a,'A05P')
call UnitRemoveAbility(a,'A05O')
call UnitRemoveAbility(a,'A05Q')
call UnitRemoveAbility(a,'B001')
set a=null
set b=null
endfunction
function InitTrig_Di_1 takes nothing returns nothing
local trigger t
local integer index
call DisableTrigger(gg_trg_Di_1)
set t=CreateTrigger()
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_ATTACKED,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddAction(t,function Di_1_Act)
call TriggerAddCondition(t,Condition(function Di_1_Cond))
set t=null
endfunction
function Trig_Stone_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A05L'
endfunction
function Trig_Stone_Actions takes nothing returns nothing
local unit cjlocgn_00000000
if GetSpellAbilityId()=='A05L' then
set cjlocgn_00000000=GetSpellAbilityUnit()
if GetUnitAbilityLevel(cjlocgn_00000000,'A05L')==1 then
call UnitAddAbility(cjlocgn_00000000,'A00S')
call TriggerSleepAction(5.)
call UnitRemoveAbility(cjlocgn_00000000,'A00S')
endif
if GetUnitAbilityLevel(cjlocgn_00000000,'A05L')==2 then
call UnitAddAbility(cjlocgn_00000000,'A00S')
call TriggerSleepAction(10.)
call UnitRemoveAbility(cjlocgn_00000000,'A00S')
endif
if GetUnitAbilityLevel(cjlocgn_00000000,'A05L')==3 then
call UnitAddAbility(cjlocgn_00000000,'A00S')
call TriggerSleepAction(15.)
call UnitRemoveAbility(cjlocgn_00000000,'A00S')
endif
if GetUnitAbilityLevel(cjlocgn_00000000,'A05L')==4 then
call UnitAddAbility(cjlocgn_00000000,'A00S')
call TriggerSleepAction(20.)
call UnitRemoveAbility(cjlocgn_00000000,'A00S')
endif
set cjlocgn_00000000=null
endif
endfunction
function InitTrig_Stone takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_Stone_Conditions))
call TriggerAddAction(t,function Trig_Stone_Actions)
set t=null
endfunction
function Trig_MSH_Tobi_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A00E')
endfunction
function Trig_MSH_Tobi_Func001Func001Func001Func001Func001C takes nothing returns boolean
return(GetUnitUserData(GetTriggerUnit())==4)
endfunction
function Trig_MSH_Tobi_Func001Func001Func001Func001C takes nothing returns boolean
return(GetUnitUserData(GetTriggerUnit())==3)
endfunction
function Trig_MSH_Tobi_Func001Func001Func001C takes nothing returns boolean
return(GetUnitUserData(GetTriggerUnit())==2)
endfunction
function Trig_MSH_Tobi_Func001Func001C takes nothing returns boolean
return(GetUnitUserData(GetTriggerUnit())==1)
endfunction
function Trig_MSH_Tobi_Func001C takes nothing returns boolean
return(GetUnitUserData(GetTriggerUnit())==0)
endfunction
function Trig_MSH_Tobi_Actions takes nothing returns nothing
if(Trig_MSH_Tobi_Func001C())then
call SetUnitUserData(GetTriggerUnit(),1)
call SetPlayerAbilityAvailableBJ(false,'A004',GetOwningPlayer(GetTriggerUnit()))
call UnitAddAbility(GetTriggerUnit(),'A006')
call SetPlayerAbilityAvailableBJ(true,'A006',GetOwningPlayer(GetTriggerUnit()))
call SetUnitAbilityLevelSwapped('A006',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A00E',GetTriggerUnit()))
else
if(Trig_MSH_Tobi_Func001Func001C())then
call SetUnitUserData(GetTriggerUnit(),2)
call SetPlayerAbilityAvailableBJ(false,'A006',GetOwningPlayer(GetTriggerUnit()))
call UnitAddAbility(GetTriggerUnit(),'A00H')
call SetPlayerAbilityAvailableBJ(true,'A00H',GetOwningPlayer(GetTriggerUnit()))
call SetUnitAbilityLevelSwapped('A00H',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A00E',GetTriggerUnit()))
else
if(Trig_MSH_Tobi_Func001Func001Func001C())then
call SetUnitUserData(GetTriggerUnit(),3)
call SetPlayerAbilityAvailableBJ(false,'A00H',GetOwningPlayer(GetTriggerUnit()))
call UnitAddAbility(GetTriggerUnit(),'A005')
call SetPlayerAbilityAvailableBJ(true,'A005',GetOwningPlayer(GetTriggerUnit()))
call SetUnitAbilityLevelSwapped('A005',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A00E',GetTriggerUnit()))
else
if(Trig_MSH_Tobi_Func001Func001Func001Func001C())then
call SetUnitUserData(GetTriggerUnit(),4)
call SetPlayerAbilityAvailableBJ(false,'A005',GetOwningPlayer(GetTriggerUnit()))
call UnitAddAbility(GetTriggerUnit(),'A007')
call SetPlayerAbilityAvailableBJ(true,'A007',GetOwningPlayer(GetTriggerUnit()))
call SetUnitAbilityLevelSwapped('A007',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A00E',GetTriggerUnit()))
else
if(Trig_MSH_Tobi_Func001Func001Func001Func001Func001C())then
call SetUnitUserData(GetTriggerUnit(),0)
call SetPlayerAbilityAvailableBJ(false,'A007',GetOwningPlayer(GetTriggerUnit()))
call UnitAddAbility(GetTriggerUnit(),'A004')
call SetPlayerAbilityAvailableBJ(true,'A004',GetOwningPlayer(GetTriggerUnit()))
call SetUnitAbilityLevelSwapped('A004',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A00E',GetTriggerUnit()))
endif
endif
endif
endif
endif
endfunction
function InitTrig_MSH_Tobi takes nothing returns nothing
set gg_trg_MSH_Tobi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_MSH_Tobi,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_MSH_Tobi,Condition(function Trig_MSH_Tobi_Conditions))
call TriggerAddAction(gg_trg_MSH_Tobi,function Trig_MSH_Tobi_Actions)
endfunction
function Trig_Kamuy_shuriken_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A006')
endfunction
function Trig_Kamuy_shuriken_Func010002003001 takes nothing returns boolean
return(GetPlayerController(GetOwningPlayer(GetFilterUnit()))!=MAP_CONTROL_USER)
endfunction
function Trig_Kamuy_shuriken_Func010002003002001 takes nothing returns boolean
return(GetPlayerController(GetOwningPlayer(GetFilterUnit()))!=MAP_CONTROL_COMPUTER)
endfunction
function Trig_Kamuy_shuriken_Func010002003002002001 takes nothing returns boolean
return(GetPlayerController(GetOwningPlayer(GetFilterUnit()))!=MAP_CONTROL_CREEP)
endfunction
function Trig_Kamuy_shuriken_Func010002003002002002 takes nothing returns boolean
return(GetPlayerController(GetOwningPlayer(GetFilterUnit()))!=MAP_CONTROL_NEUTRAL)
endfunction
function Trig_Kamuy_shuriken_Func010002003002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_shuriken_Func010002003002002001(),Trig_Kamuy_shuriken_Func010002003002002002())
endfunction
function Trig_Kamuy_shuriken_Func010002003002 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_shuriken_Func010002003002001(),Trig_Kamuy_shuriken_Func010002003002002())
endfunction
function Trig_Kamuy_shuriken_Func010002003 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_shuriken_Func010002003001(),Trig_Kamuy_shuriken_Func010002003002())
endfunction
function Trig_Kamuy_shuriken_Func027001001001 takes nothing returns boolean
return(UnitItemInSlotBJ(udg_Tobi[70],5)==null)
endfunction
function Trig_Kamuy_shuriken_Func027001001002 takes nothing returns boolean
return(UnitHasItemOfTypeBJ(udg_Tobi[70],'I03A')==false)
endfunction
function Trig_Kamuy_shuriken_Func027001001 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_shuriken_Func027001001001(),Trig_Kamuy_shuriken_Func027001001002())
endfunction
function Trig_Kamuy_shuriken_Func027001002 takes nothing returns boolean
return(GetUnitTypeId(udg_Tobi[70])=='H01U')
endfunction
function Trig_Kamuy_shuriken_Func027001 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_shuriken_Func027001001(),Trig_Kamuy_shuriken_Func027001002())
endfunction
function Trig_Kamuy_shuriken_Func028001001001 takes nothing returns boolean
return(UnitItemInSlotBJ(udg_Tobi[70],6)==null)
endfunction
function Trig_Kamuy_shuriken_Func028001001002 takes nothing returns boolean
return(UnitHasItemOfTypeBJ(udg_Tobi[70],'I00F')==false)
endfunction
function Trig_Kamuy_shuriken_Func028001001 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_shuriken_Func028001001001(),Trig_Kamuy_shuriken_Func028001001002())
endfunction
function Trig_Kamuy_shuriken_Func028001002 takes nothing returns boolean
return(GetUnitTypeId(udg_Tobi[70])=='H01U')
endfunction
function Trig_Kamuy_shuriken_Func028001 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_shuriken_Func028001001(),Trig_Kamuy_shuriken_Func028001002())
endfunction
function Trig_Kamuy_shuriken_Actions takes nothing returns nothing
set udg_Tobi[70]=GetSpellAbilityUnit()
set udg_Zpoint[64]=GetUnitLoc(udg_Tobi[70])
call PauseUnit(udg_Tobi[70],true)
call CreateNUnitsAtLoc(1,'u000',Player($F),udg_Zpoint[64],bj_UNIT_FACING)
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitPositionLoc(bj_lastCreatedUnit,udg_Zpoint[64])
call SetUnitTimeScalePercent(bj_lastCreatedUnit,198.)
call KillUnit(bj_lastCreatedUnit)
call TriggerSleepAction(.08)
set udg_KamuySh=GetUnitsInRangeOfLocMatching(1.,udg_Zpoint[64],Condition(function Trig_Kamuy_shuriken_Func010002003))
call PauseUnit(udg_Tobi[70],false)
call CreateNUnitsAtLoc(1,'n003',GetOwningPlayer(udg_Tobi[70]),PolarProjectionBJ(udg_Zpoint[64],90.,GetUnitFacing(udg_Tobi[70])),GetUnitFacing(udg_Tobi[70]))
call UnitApplyTimedLifeBJ(.9,'Brai',bj_lastCreatedUnit)
call GroupAddUnit(udg_KamuySh,bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'n003',GetOwningPlayer(udg_Tobi[70]),PolarProjectionBJ(udg_Zpoint[64],60.,GetUnitFacing(udg_Tobi[70])),(GetUnitFacing(udg_Tobi[70])+9.))
call UnitApplyTimedLifeBJ(.9,'Brai',bj_lastCreatedUnit)
call GroupAddUnit(udg_KamuySh,bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'n003',GetOwningPlayer(udg_Tobi[70]),PolarProjectionBJ(udg_Zpoint[64],60.,GetUnitFacing(udg_Tobi[70])),(GetUnitFacing(udg_Tobi[70])-9.))
call UnitApplyTimedLifeBJ(.9,'Brai',bj_lastCreatedUnit)
call GroupAddUnit(udg_KamuySh,bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'n003',GetOwningPlayer(udg_Tobi[70]),PolarProjectionBJ(udg_Zpoint[64],20.,GetUnitFacing(udg_Tobi[70])),(GetUnitFacing(udg_Tobi[70])-18.))
call UnitApplyTimedLifeBJ(.9,'Brai',bj_lastCreatedUnit)
call GroupAddUnit(udg_KamuySh,bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'n003',GetOwningPlayer(udg_Tobi[70]),PolarProjectionBJ(udg_Zpoint[64],20.,GetUnitFacing(udg_Tobi[70])),(GetUnitFacing(udg_Tobi[70])+18.))
call UnitApplyTimedLifeBJ(.9,'Brai',bj_lastCreatedUnit)
call GroupAddUnit(udg_KamuySh,bj_lastCreatedUnit)
if(Trig_Kamuy_shuriken_Func027001())then
call UnitAddItemByIdSwapped('I03A',udg_Tobi[70])
endif
if(Trig_Kamuy_shuriken_Func028001())then
call UnitAddItemByIdSwapped('I00F',udg_Tobi[70])
endif
set udg_Arrow[$C]=GetUnitsOfTypeIdAll(GetUnitTypeId(null))
call EnableTrigger(gg_trg_Kamuy_shuriken_Move)
call TriggerSleepAction(.8)
call DisableTrigger(gg_trg_Kamuy_shuriken_Move)
call RemoveLocation(udg_Zpoint[64])
set udg_Zpoint[64]=null
call DestroyGroup(udg_KamuySh)
set udg_KamuySh=null
call GroupClear(udg_Arrow[$C])
call DestroyGroup(udg_Arrow[$C])
set udg_Arrow[$C]=null
set udg_Tobi[70]=null
endfunction
function InitTrig_Kamuy_shuriken takes nothing returns nothing
set gg_trg_Kamuy_shuriken=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kamuy_shuriken,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Kamuy_shuriken,Condition(function Trig_Kamuy_shuriken_Conditions))
call TriggerAddAction(gg_trg_Kamuy_shuriken,function Trig_Kamuy_shuriken_Actions)
endfunction
function Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003001001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Tobi[70])))
endfunction
function Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003001002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)!=null
endfunction
function Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003001 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003001001(),Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003001002())
endfunction
function Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003002002001 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003002002002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false)!=null
endfunction
function Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003002002002002001 takes nothing returns boolean
return(UnitHasBuffBJ(GetFilterUnit(),'B00N')==false)
endfunction
function Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003002002002002002001 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),udg_KamuySh)==false)
endfunction
function Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003002002002002002002 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),udg_Arrow[$C])==false)
endfunction
function Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003002002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003002002002002002001(),Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003002002002002002002())
endfunction
function Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003002002002002001(),Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003002002002002002())
endfunction
function Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003002002002001(),Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003002002002002())
endfunction
function Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003002002001(),Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003002002002())
endfunction
function Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003002001(),Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003002002())
endfunction
function Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003001(),Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003002())
endfunction
function Trig_Kamuy_shuriken_Move_Func001Func004C takes nothing returns boolean
return(CountUnitsInGroup(GetUnitsInRangeOfLocMatching(60.,udg_UnitPoint[1],Condition(function Trig_Kamuy_shuriken_Move_Func001Func004Func001001001003)))>0)
endfunction
function Trig_Kamuy_shuriken_Move_Func001A takes nothing returns nothing
set udg_UnitPoint[1]=GetUnitLoc(GetEnumUnit())
set udg_UnitPoint[0]=PolarProjectionBJ(udg_UnitPoint[1],28.,GetUnitFacing(GetEnumUnit()))
call SetUnitPositionLoc(GetEnumUnit(),udg_UnitPoint[0])
if(Trig_Kamuy_shuriken_Move_Func001Func004C())then
call KillUnit(GetEnumUnit())
endif
call RemoveLocation(udg_UnitPoint[0])
set udg_UnitPoint[0]=null
call RemoveLocation(udg_UnitPoint[1])
set udg_UnitPoint[1]=null
endfunction
function Trig_Kamuy_shuriken_Move_Actions takes nothing returns nothing
call ForGroupBJ(udg_KamuySh,function Trig_Kamuy_shuriken_Move_Func001A)
endfunction
function InitTrig_Kamuy_shuriken_Move takes nothing returns nothing
set gg_trg_Kamuy_shuriken_Move=CreateTrigger()
call DisableTrigger(gg_trg_Kamuy_shuriken_Move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Kamuy_shuriken_Move,.02)
call TriggerAddAction(gg_trg_Kamuy_shuriken_Move,function Trig_Kamuy_shuriken_Move_Actions)
endfunction
function Trig_Kamuy_shuriken_Dies_Func001Func001002003001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetDyingUnit())))
endfunction
function Trig_Kamuy_shuriken_Dies_Func001Func001002003002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Kamuy_shuriken_Dies_Func001Func001002003002002 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_Kamuy_shuriken_Dies_Func001Func001002003002 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_shuriken_Dies_Func001Func001002003002001(),Trig_Kamuy_shuriken_Dies_Func001Func001002003002002())
endfunction
function Trig_Kamuy_shuriken_Dies_Func001Func001002003 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_shuriken_Dies_Func001Func001002003001(),Trig_Kamuy_shuriken_Dies_Func001Func001002003002())
endfunction
function Trig_Kamuy_shuriken_Dies_Func001Func003Func002001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A006',udg_Tobi[70])==1)
endfunction
function Trig_Kamuy_shuriken_Dies_Func001Func003Func003001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A006',udg_Tobi[70])==2)
endfunction
function Trig_Kamuy_shuriken_Dies_Func001Func003Func004001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A006',udg_Tobi[70])==3)
endfunction
function Trig_Kamuy_shuriken_Dies_Func001Func003Func005001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A006',udg_Tobi[70])==4)
endfunction
function Trig_Kamuy_shuriken_Dies_Func001Func003A takes nothing returns nothing
call GroupAddUnit(udg_Arrow[$C],GetEnumUnit())
if(Trig_Kamuy_shuriken_Dies_Func001Func003Func002001())then
call UnitDamageTargetBJ(udg_Tobi[70],GetEnumUnit(),(140.+(I2R(GetHeroStatBJ(1,udg_Tobi[70],false))*2.)),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEATH)
endif
if(Trig_Kamuy_shuriken_Dies_Func001Func003Func003001())then
call UnitDamageTargetBJ(udg_Tobi[70],GetEnumUnit(),220.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEATH)
endif
if(Trig_Kamuy_shuriken_Dies_Func001Func003Func004001())then
call UnitDamageTargetBJ(udg_Tobi[70],GetEnumUnit(),310.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEATH)
endif
if(Trig_Kamuy_shuriken_Dies_Func001Func003Func005001())then
call UnitDamageTargetBJ(udg_Tobi[70],GetEnumUnit(),350.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEATH)
endif
call AddSpecialEffectTargetUnitBJ("chest",GetEnumUnit(),"Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endfunction
function Trig_Kamuy_shuriken_Dies_Func001C takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='n003')
endfunction
function Trig_Kamuy_shuriken_Dies_Actions takes nothing returns nothing
if(Trig_Kamuy_shuriken_Dies_Func001C())then
set udg_Arrow[$D]=GetUnitsInRangeOfLocMatching(60.,GetUnitLoc(GetDyingUnit()),Condition(function Trig_Kamuy_shuriken_Dies_Func001Func001002003))
call ForGroupBJ(udg_Arrow[$D],function Trig_Kamuy_shuriken_Dies_Func001Func003A)
call GroupClear(udg_Arrow[$D])
call DestroyGroup(udg_Arrow[$D])
set udg_Arrow[$D]=null
call RemoveUnit(GetDyingUnit())
endif
endfunction
function InitTrig_Kamuy_shuriken_Dies takes nothing returns nothing
set gg_trg_Kamuy_shuriken_Dies=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kamuy_shuriken_Dies,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_Kamuy_shuriken_Dies,function Trig_Kamuy_shuriken_Dies_Actions)
endfunction
function Trig_Kamuy_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A00H')
endfunction
function Trig_Kamuy_Func012C takes nothing returns boolean
return(IsUnitPaused(GetTriggerUnit()))
endfunction
function Trig_Kamuy_Actions takes nothing returns nothing
call CreateNUnitsAtLoc(1,'u000',Player($F),GetUnitLoc(GetTriggerUnit()),bj_UNIT_FACING)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,155.)
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitPositionLoc(bj_lastCreatedUnit,GetUnitLoc(GetTriggerUnit()))
call KillUnit(bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'u000',Player($F),GetSpellTargetLoc(),bj_UNIT_FACING)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,150.)
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitPositionLoc(bj_lastCreatedUnit,GetSpellTargetLoc())
call KillUnit(bj_lastCreatedUnit)
call TriggerSleepAction(.01)
if(Trig_Kamuy_Func012C())then
else
call PauseUnit(GetTriggerUnit(),true)
call TriggerSleepAction(.14)
call PauseUnit(GetTriggerUnit(),false)
endif
endfunction
function InitTrig_Kamuy takes nothing returns nothing
set gg_trg_Kamuy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kamuy,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Kamuy,Condition(function Trig_Kamuy_Conditions))
call TriggerAddAction(gg_trg_Kamuy,function Trig_Kamuy_Actions)
endfunction
function Trig_Kamuy_Black_Hole_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A005')
endfunction
function Trig_Kamuy_Black_Hole_Func001Func011002003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Kamuy_Black_Hole_Func001Func011002003002001 takes nothing returns boolean
return(GetFilterUnit()!=GetSpellAbilityUnit())
endfunction
function Trig_Kamuy_Black_Hole_Func001Func011002003002002001 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='h00M')
endfunction
function Trig_Kamuy_Black_Hole_Func001Func011002003002002002001 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='u00R')
endfunction
function Trig_Kamuy_Black_Hole_Func001Func011002003002002002002001 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='u00V')
endfunction
function Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002001 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='u00S')
endfunction
function Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002002001 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='u00T')
endfunction
function Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002002002001 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='u00W')
endfunction
function Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002002002002001 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='u00U')
endfunction
function Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002002002002002001 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='u00X')
endfunction
function Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002002002002002002001 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='u017')
endfunction
function Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002002002002002002002001 takes nothing returns boolean
return(GetUnitTypeId(GetFilterUnit())!='u01A')
endfunction
function Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002002002002002002002002 takes nothing returns boolean
return(GetOwningPlayer(GetFilterUnit())!=Player($F))
endfunction
function Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002002002002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002002002002002002002001(),Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002002002002002002002002())
endfunction
function Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002002002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002002002002002002001(),Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002002002002002002002())
endfunction
function Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002002002002002001(),Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002002002002002002())
endfunction
function Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002002002002001(),Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002002002002002())
endfunction
function Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002002002001(),Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002002002002())
endfunction
function Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002002001(),Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002002002())
endfunction
function Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002001(),Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002002())
endfunction
function Trig_Kamuy_Black_Hole_Func001Func011002003002002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_Black_Hole_Func001Func011002003002002002002001(),Trig_Kamuy_Black_Hole_Func001Func011002003002002002002002())
endfunction
function Trig_Kamuy_Black_Hole_Func001Func011002003002002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_Black_Hole_Func001Func011002003002002002001(),Trig_Kamuy_Black_Hole_Func001Func011002003002002002002())
endfunction
function Trig_Kamuy_Black_Hole_Func001Func011002003002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_Black_Hole_Func001Func011002003002002001(),Trig_Kamuy_Black_Hole_Func001Func011002003002002002())
endfunction
function Trig_Kamuy_Black_Hole_Func001Func011002003002 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_Black_Hole_Func001Func011002003002001(),Trig_Kamuy_Black_Hole_Func001Func011002003002002())
endfunction
function Trig_Kamuy_Black_Hole_Func001Func011002003 takes nothing returns boolean
return GetBooleanAnd(Trig_Kamuy_Black_Hole_Func001Func011002003001(),Trig_Kamuy_Black_Hole_Func001Func011002003002())
endfunction
function Trig_Kamuy_Black_Hole_Func001Func012A takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),GetRectCenter(gg_rct_AnozerWorld))
endfunction
function Trig_Kamuy_Black_Hole_Func001Func020Func005001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00E',udg_Tobi[80])==1)
endfunction
function Trig_Kamuy_Black_Hole_Func001Func020Func005003001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00E',udg_Tobi[80])==2)
endfunction
function Trig_Kamuy_Black_Hole_Func001Func020Func005003003001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00E',udg_Tobi[80])==3)
endfunction
function Trig_Kamuy_Black_Hole_Func001Func020Func005003003003001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00E',udg_Tobi[80])==4)
endfunction
function Trig_Kamuy_Black_Hole_Func001Func020Func006Func001C takes nothing returns boolean
return(udg_KamuyOFF)and(RectContainsLoc(gg_rct_AnozerWorld,GetUnitLoc(udg_Tobi[80]))==false)
endfunction
function Trig_Kamuy_Black_Hole_Func001Func020Func006Func012A takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),udg_PointNew[7629])
endfunction
function Trig_Kamuy_Black_Hole_Func001Func020Func006C takes nothing returns boolean
return(Trig_Kamuy_Black_Hole_Func001Func020Func006Func001C())
endfunction
function Trig_Kamuy_Black_Hole_Func001Func020C takes nothing returns boolean
return(CountUnitsInGroup(udg_KamuyON)==0)
endfunction
function Trig_Kamuy_Black_Hole_Func001C takes nothing returns boolean
return(udg_KamuyOFF==false)
endfunction
function Trig_Kamuy_Black_Hole_Actions takes nothing returns nothing
if(Trig_Kamuy_Black_Hole_Func001C())then
set udg_Tobi[80]=GetSpellAbilityUnit()
set udg_PointNew[7629]=GetUnitLoc(udg_Tobi[80])
call PauseUnit(udg_Tobi[80],true)
call CreateNUnitsAtLoc(1,'u000',Player($F),udg_PointNew[7629],bj_UNIT_FACING)
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitPositionLoc(bj_lastCreatedUnit,udg_PointNew[7629])
call SetUnitTimeScalePercent(bj_lastCreatedUnit,155.)
call KillUnit(bj_lastCreatedUnit)
set udg_KamuyON=GetUnitsInRangeOfLocMatching(180.,udg_PointNew[7629],Condition(function Trig_Kamuy_Black_Hole_Func001Func011002003))
call ForGroupBJ(udg_KamuyON,function Trig_Kamuy_Black_Hole_Func001Func012A)
call CreateNUnitsAtLoc(1,'u000',Player($F),GetRectCenter(gg_rct_AnozerWorld),bj_UNIT_FACING)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,155.)
call KillUnit(bj_lastCreatedUnit)
call RemoveLocation(udg_PointNew[7629])
set udg_PointNew[7629]=null
call TriggerSleepAction(.3)
call PauseUnit(udg_Tobi[80],false)
if(Trig_Kamuy_Black_Hole_Func001Func020C())then
call DestroyGroup(udg_KamuyON)
set udg_KamuyON=null
set udg_Tobi[80]=null
else
set udg_KamuyOFF=true
if(Trig_Kamuy_Black_Hole_Func001Func020Func005001())then
call PolledWait(6.)
else
if(Trig_Kamuy_Black_Hole_Func001Func020Func005003001())then
call PolledWait(12.)
else
if(Trig_Kamuy_Black_Hole_Func001Func020Func005003003001())then
call PolledWait(16.)
else
if(Trig_Kamuy_Black_Hole_Func001Func020Func005003003003001())then
call PolledWait(24.)
endif
endif
endif
endif
if(Trig_Kamuy_Black_Hole_Func001Func020Func006C())then
set udg_KamuyOFF=false
set udg_PointNew[7629]=GetUnitLoc(udg_Tobi[80])
set udg_Tobi[80]=null
call AddSpecialEffectLocBJ(GetRectCenter(gg_rct_AnozerWorld),"BlackHoles.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'u000',Player($F),udg_PointNew[7629],bj_UNIT_FACING)
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitPositionLoc(bj_lastCreatedUnit,udg_PointNew[7629])
call SetUnitTimeScalePercent(bj_lastCreatedUnit,155.)
call KillUnit(bj_lastCreatedUnit)
call ForGroupBJ(udg_KamuyON,function Trig_Kamuy_Black_Hole_Func001Func020Func006Func012A)
call DestroyGroup(udg_KamuyON)
set udg_KamuyON=null
call RemoveLocation(udg_PointNew[7629])
set udg_PointNew[7629]=null
endif
endif
else
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),"Поглощенные всё ещё находятся в измерении.")
endif
endfunction
function InitTrig_Kamuy_Black_Hole takes nothing returns nothing
set gg_trg_Kamuy_Black_Hole=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kamuy_Black_Hole,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Kamuy_Black_Hole,Condition(function Trig_Kamuy_Black_Hole_Conditions))
call TriggerAddAction(gg_trg_Kamuy_Black_Hole,function Trig_Kamuy_Black_Hole_Actions)
endfunction
function Trig_Kamuy_Black_Hole_2_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A004')
endfunction
function Trig_Kamuy_Black_Hole_2_Func001Func003C takes nothing returns boolean
return(udg_KamuyKOFF)
endfunction
function Trig_Kamuy_Black_Hole_2_Func001Func011A takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),udg_PointNew[7629])
endfunction
function Trig_Kamuy_Black_Hole_2_Func001Func024Func001C takes nothing returns boolean
return(udg_KamuyKOFF)
endfunction
function Trig_Kamuy_Black_Hole_2_Func001Func024Func019Func002001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00E',udg_Tobi[80])==1)
endfunction
function Trig_Kamuy_Black_Hole_2_Func001Func024Func019Func003001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00E',udg_Tobi[80])==2)
endfunction
function Trig_Kamuy_Black_Hole_2_Func001Func024Func019Func004001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00E',udg_Tobi[80])==3)
endfunction
function Trig_Kamuy_Black_Hole_2_Func001Func024Func019Func005001 takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A00E',udg_Tobi[80])==4)
endfunction
function Trig_Kamuy_Black_Hole_2_Func001Func024Func019A takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),udg_PointNew[7629])
if(Trig_Kamuy_Black_Hole_2_Func001Func024Func019Func002001())then
call UnitDamageTargetBJ(udg_Tobi[80],GetEnumUnit(),160.,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_DEMOLITION)
endif
if(Trig_Kamuy_Black_Hole_2_Func001Func024Func019Func003001())then
call UnitDamageTargetBJ(udg_Tobi[80],GetEnumUnit(),220.,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_DEMOLITION)
endif
if(Trig_Kamuy_Black_Hole_2_Func001Func024Func019Func004001())then
call UnitDamageTargetBJ(udg_Tobi[80],GetEnumUnit(),340.,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_DEMOLITION)
endif
if(Trig_Kamuy_Black_Hole_2_Func001Func024Func019Func005001())then
call UnitDamageTargetBJ(udg_Tobi[80],GetEnumUnit(),389.,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_MAGIC)
endif
endfunction
function Trig_Kamuy_Black_Hole_2_Func001Func024Func036A takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),udg_PointNew[7629])
endfunction
function Trig_Kamuy_Black_Hole_2_Func001Func024Func045C takes nothing returns boolean
return(udg_KamuyOFF)and(RectContainsLoc(gg_rct_AnozerWorld,GetUnitLoc(udg_Tobi[80]))==false)
endfunction
function Trig_Kamuy_Black_Hole_2_Func001Func024C takes nothing returns boolean
return(Trig_Kamuy_Black_Hole_2_Func001Func024Func045C())
endfunction
function Trig_Kamuy_Black_Hole_2_Func001C takes nothing returns boolean
return(RectContainsLoc(gg_rct_AnozerWorld,GetUnitLoc(GetTriggerUnit())))
endfunction
function Trig_Kamuy_Black_Hole_2_Actions takes nothing returns nothing
if(Trig_Kamuy_Black_Hole_2_Func001C())then
set udg_Tobi[79]=GetSpellAbilityUnit()
set udg_PointNew[7629]=GetRandomLocInRect(gg_rct_VisibleMap)
if(Trig_Kamuy_Black_Hole_2_Func001Func003C())then
call GroupClear(udg_KamuyK)
call DestroyGroup(udg_KamuyK)
set udg_KamuyK=null
set udg_KamuyKOFF=false
endif
call PauseUnit(udg_Tobi[79],true)
call CreateNUnitsAtLoc(1,'u000',Player($F),udg_PointNew[7629],bj_UNIT_FACING)
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitPositionLoc(bj_lastCreatedUnit,udg_PointNew[7629])
call SetUnitTimeScalePercent(bj_lastCreatedUnit,155.)
call KillUnit(bj_lastCreatedUnit)
set udg_Zpoint[$D2]=GetUnitLoc(udg_Tobi[79])
call ForGroupBJ(GetUnitsInRectAll(gg_rct_AnozerWorld),function Trig_Kamuy_Black_Hole_2_Func001Func011A)
call CreateNUnitsAtLoc(1,'u000',Player($F),udg_Zpoint[$D2],bj_UNIT_FACING)
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitPositionLoc(bj_lastCreatedUnit,udg_Zpoint[$D2])
call SetUnitTimeScalePercent(bj_lastCreatedUnit,155.)
call KillUnit(bj_lastCreatedUnit)
call RemoveLocation(udg_Zpoint[$D2])
set udg_Zpoint[$D2]=null
call RemoveLocation(udg_PointNew[7629])
set udg_PointNew[7629]=null
call TriggerSleepAction(.3)
call PauseUnit(udg_Tobi[79],false)
set udg_Tobi[79]=null
else
if(Trig_Kamuy_Black_Hole_2_Func001Func024C())then
set udg_PointNew[7629]=GetUnitLoc(udg_Tobi[80])
set udg_KamuyOFF=false
call PauseUnit(udg_Tobi[80],true)
call AddSpecialEffectLocBJ(GetRectCenter(gg_rct_AnozerWorld),"BlackHoles.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call CreateNUnitsAtLoc(1,'u000',Player($F),udg_PointNew[7629],bj_UNIT_FACING)
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitPositionLoc(bj_lastCreatedUnit,udg_PointNew[7629])
call KillUnit(bj_lastCreatedUnit)
call TriggerSleepAction(.2)
call CreateNUnitsAtLoc(1,'u000',Player($F),udg_PointNew[7629],bj_UNIT_FACING)
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitPositionLoc(bj_lastCreatedUnit,udg_PointNew[7629])
call SetUnitTimeScalePercent(bj_lastCreatedUnit,155.)
call KillUnit(bj_lastCreatedUnit)
call EnableTrigger(gg_trg_Kamuy_Black_Hole_2_move)
call ForGroupBJ(udg_KamuyON,function Trig_Kamuy_Black_Hole_2_Func001Func024Func019A)
call TriggerSleepAction(.04)
call DisableTrigger(gg_trg_Kamuy_Black_Hole_2_move)
call PauseUnit(udg_Tobi[80],false)
set udg_Tobi[80]=null
call GroupClear(udg_KamuyON)
call RemoveLocation(udg_PointNew[7629])
set udg_PointNew[7629]=null
call DestroyGroup(udg_KamuyON)
set udg_KamuyON=null
else
if(Trig_Kamuy_Black_Hole_2_Func001Func024Func001C())then
call GroupClear(udg_KamuyK)
call DestroyGroup(udg_KamuyK)
set udg_KamuyK=null
set udg_KamuyKOFF=false
endif
set udg_Tobi[79]=GetSpellAbilityUnit()
set udg_PointNew[7629]=GetUnitLoc(udg_Tobi[79])
call PauseUnit(udg_Tobi[79],true)
call CreateNUnitsAtLoc(1,'u000',Player($F),udg_PointNew[7629],bj_UNIT_FACING)
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitPositionLoc(bj_lastCreatedUnit,udg_PointNew[7629])
call SetUnitTimeScalePercent(bj_lastCreatedUnit,155.)
call KillUnit(bj_lastCreatedUnit)
call ForGroupBJ(GetUnitsInRectAll(gg_rct_AnozerWorld),function Trig_Kamuy_Black_Hole_2_Func001Func024Func036A)
call CreateNUnitsAtLoc(1,'u000',Player($F),GetRectCenter(gg_rct_AnozerWorld),bj_UNIT_FACING)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,155.)
call KillUnit(bj_lastCreatedUnit)
call RemoveLocation(udg_PointNew[7629])
set udg_PointNew[7629]=null
call TriggerSleepAction(.3)
call PauseUnit(udg_Tobi[79],false)
set udg_Tobi[79]=null
endif
endif
endfunction
function InitTrig_Kamuy_Black_Hole_2 takes nothing returns nothing
set gg_trg_Kamuy_Black_Hole_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kamuy_Black_Hole_2,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Kamuy_Black_Hole_2,Condition(function Trig_Kamuy_Black_Hole_2_Conditions))
call TriggerAddAction(gg_trg_Kamuy_Black_Hole_2,function Trig_Kamuy_Black_Hole_2_Actions)
endfunction
function Trig_Kamuy_Black_Hole_2_move_Func001A takes nothing returns nothing
set udg_UnitPoint[19]=GetUnitLoc(GetEnumUnit())
call SetUnitPositionLoc(GetEnumUnit(),PolarProjectionBJ(udg_UnitPoint[19],-40.,AngleBetweenPoints(udg_UnitPoint[19],udg_PointNew[7629])))
call AddSpecialEffectLocBJ(udg_UnitPoint[19],"Abilities\\Spells\\Orc\\Purge\\PurgeBuffTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call IssueImmediateOrderById(GetEnumUnit(),$D0004)
call RemoveLocation(udg_UnitPoint[19])
set udg_UnitPoint[19]=null
endfunction
function Trig_Kamuy_Black_Hole_2_move_Actions takes nothing returns nothing
call ForGroupBJ(udg_KamuyON,function Trig_Kamuy_Black_Hole_2_move_Func001A)
endfunction
function InitTrig_Kamuy_Black_Hole_2_move takes nothing returns nothing
set gg_trg_Kamuy_Black_Hole_2_move=CreateTrigger()
call DisableTrigger(gg_trg_Kamuy_Black_Hole_2_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Kamuy_Black_Hole_2_move,.03)
call TriggerAddAction(gg_trg_Kamuy_Black_Hole_2_move,function Trig_Kamuy_Black_Hole_2_move_Actions)
endfunction
function Trig_KamuyWorldLeave_Func001C takes nothing returns boolean
return(IsTriggerEnabled(gg_trg_Kamuy_Black_Hole_2_move)==false)and(IsUnitInGroup(GetTriggerUnit(),udg_KamuyON))
endfunction
function Trig_KamuyWorldLeave_Func002C takes nothing returns boolean
return(IsTriggerEnabled(gg_trg_MSH_kakashi_Hole)==false)and(IsUnitInGroup(GetTriggerUnit(),udg_KamuyK))
endfunction
function Trig_KamuyWorldLeave_Actions takes nothing returns nothing
if(Trig_KamuyWorldLeave_Func001C())then
call GroupRemoveUnit(udg_KamuyON,GetTriggerUnit())
endif
if(Trig_KamuyWorldLeave_Func002C())then
call GroupRemoveUnit(udg_KamuyK,GetTriggerUnit())
endif
endfunction
function InitTrig_KamuyWorldLeave takes nothing returns nothing
set gg_trg_KamuyWorldLeave=CreateTrigger()
call TriggerRegisterLeaveRectSimple(gg_trg_KamuyWorldLeave,gg_rct_AnozerWorld)
call TriggerAddAction(gg_trg_KamuyWorldLeave,function Trig_KamuyWorldLeave_Actions)
endfunction
function Trig_Kamuy_Black_Hole_3_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A007')
endfunction
function Trig_Kamuy_Black_Hole_3_Func001C takes nothing returns boolean
return(udg_KamuyOFF)
endfunction
function Trig_Kamuy_Black_Hole_3_Actions takes nothing returns nothing
if(Trig_Kamuy_Black_Hole_3_Func001C())then
set udg_KamuyOFF=false
call GroupClear(udg_KamuyON)
call DestroyGroup(udg_KamuyON)
set udg_KamuyON=null
set udg_Tobi[80]=null
endif
set udg_Walloff[(1+GetPlayerId(GetOwningPlayer(GetTriggerUnit())))]=false
set udg_Tobi[79]=GetSpellAbilityUnit()
set udg_PointNew[7629]=GetUnitLoc(udg_Tobi[79])
call PauseUnit(udg_Tobi[79],true)
call TriggerSleepAction(.02)
call CreateNUnitsAtLoc(1,'u000',Player($F),udg_PointNew[7629],bj_UNIT_FACING)
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitPositionLoc(bj_lastCreatedUnit,udg_PointNew[7629])
call SetUnitTimeScalePercent(bj_lastCreatedUnit,155.)
call KillUnit(bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'u000',Player($F),GetRectCenter(gg_rct_AnozerWorld),bj_UNIT_FACING)
call SetUnitPathing(bj_lastCreatedUnit,false)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,155.)
call KillUnit(bj_lastCreatedUnit)
call SetUnitPathing(udg_Tobi[79],false)
call SetUnitPositionLoc(udg_Tobi[79],GetRectCenter(gg_rct_AnozerWorld))
call RemoveLocation(udg_PointNew[7629])
set udg_PointNew[7629]=null
call TriggerSleepAction(.38)
call SetUnitPathing(udg_Tobi[79],true)
call PauseUnit(udg_Tobi[79],false)
set udg_Tobi[79]=null
endfunction
function InitTrig_Kamuy_Black_Hole_3 takes nothing returns nothing
set gg_trg_Kamuy_Black_Hole_3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kamuy_Black_Hole_3,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Kamuy_Black_Hole_3,Condition(function Trig_Kamuy_Black_Hole_3_Conditions))
call TriggerAddAction(gg_trg_Kamuy_Black_Hole_3,function Trig_Kamuy_Black_Hole_3_Actions)
endfunction
function Trig_Gedo_mazo_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A05T')
endfunction
function Trig_Gedo_mazo_Func001Func024003001003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Gedo_mazo_Func001Func024003001003002001 takes nothing returns boolean
return(IsUnitInGroup(GetFilterUnit(),GetUnitsOfPlayerAll(Player($F)))==false)
endfunction
function Trig_Gedo_mazo_Func001Func024003001003002002001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Sasuke[84])))
endfunction
function Trig_Gedo_mazo_Func001Func024003001003002002002 takes nothing returns boolean
return(IsUnitAliveBJ(GetFilterUnit()))
endfunction
function Trig_Gedo_mazo_Func001Func024003001003002002 takes nothing returns boolean
return GetBooleanAnd(Trig_Gedo_mazo_Func001Func024003001003002002001(),Trig_Gedo_mazo_Func001Func024003001003002002002())
endfunction
function Trig_Gedo_mazo_Func001Func024003001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_Gedo_mazo_Func001Func024003001003002001(),Trig_Gedo_mazo_Func001Func024003001003002002())
endfunction
function Trig_Gedo_mazo_Func001Func024003001003 takes nothing returns boolean
return GetBooleanAnd(Trig_Gedo_mazo_Func001Func024003001003001(),Trig_Gedo_mazo_Func001Func024003001003002())
endfunction
function Trig_Gedo_mazo_Func001C takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_h00E_0087))and(IsUnitHidden(gg_unit_h00E_0087)==false)
endfunction
function Trig_Gedo_mazo_Actions takes nothing returns nothing
if(Trig_Gedo_mazo_Func001C())then
call AddSpecialEffectLocBJ(GetUnitLoc(gg_unit_h00E_0087),"shadowclone2.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call ShowUnitHide(gg_unit_h00E_0087)
call CreateNUnitsAtLoc(1,'h00E',GetOwningPlayer(GetTriggerUnit()),PolarProjectionBJ(GetUnitLoc(GetTriggerUnit()),-300.,GetUnitFacing(GetTriggerUnit())),GetUnitFacing(GetTriggerUnit()))
set udg_Sasuke[83]=bj_lastCreatedUnit
call AddSpecialEffectLocBJ(GetUnitLoc(bj_lastCreatedUnit),"shadowclone2.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call DisableTrigger(gg_trg_Ichibi_bidju_1)
call DisableTrigger(gg_trg_Ichibi_bidju_2)
call DisableTrigger(gg_trg_Ichibi_bidju_3)
call DisableTrigger(gg_trg_Ichibi_bidju_4)
call DisableTrigger(gg_trg_Ichibi_bidju_5)
call DisableTrigger(gg_trg_Ichibi_bidju_6)
call DisableTrigger(gg_trg_Ichibi_bidju_7)
call DisableTrigger(gg_trg_Ichibi_bidju_8)
call DisableTrigger(gg_trg_Ichibi_bidju_9)
call DisableTrigger(gg_trg_Ichibi_bidju_10)
call DisableTrigger(gg_trg_Ichibi_bidju)
call TriggerSleepAction(1.)
call CreateNUnitsAtLoc(1,'h01T',GetOwningPlayer(udg_Sasuke[83]),PolarProjectionBJ(GetUnitLoc(udg_Sasuke[83]),140.,GetUnitFacing(udg_Sasuke[83])),bj_UNIT_FACING)
set udg_Sasuke[84]=bj_lastCreatedUnit
call IssueTargetOrderById(udg_Sasuke[84],$D0097,GroupPickRandomUnit(GetUnitsInRangeOfLocMatching(1000.,GetUnitLoc(udg_Sasuke[84]),Condition(function Trig_Gedo_mazo_Func001Func024003001003))))
call TriggerSleepAction(6.)
call RemoveUnit(udg_Sasuke[83])
call RemoveUnit(udg_Sasuke[84])
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Sasuke[83]),"Kachiose.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call ShowUnitShow(gg_unit_h00E_0087)
call AddSpecialEffectLocBJ(GetUnitLoc(gg_unit_h00E_0087),"shadowclone2.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call EnableTrigger(gg_trg_Ichibi_bidju_1)
call EnableTrigger(gg_trg_Ichibi_bidju_2)
call EnableTrigger(gg_trg_Ichibi_bidju_3)
call EnableTrigger(gg_trg_Ichibi_bidju_4)
call EnableTrigger(gg_trg_Ichibi_bidju_5)
call EnableTrigger(gg_trg_Ichibi_bidju_6)
call EnableTrigger(gg_trg_Ichibi_bidju_7)
call EnableTrigger(gg_trg_Ichibi_bidju_8)
call EnableTrigger(gg_trg_Ichibi_bidju_9)
call EnableTrigger(gg_trg_Ichibi_bidju_10)
call EnableTrigger(gg_trg_Ichibi_bidju)
set udg_Sasuke[84]=null
set udg_Sasuke[83]=null
endif
endfunction
function InitTrig_Gedo_mazo takes nothing returns nothing
set gg_trg_Gedo_mazo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Gedo_mazo,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Gedo_mazo,Condition(function Trig_Gedo_mazo_Conditions))
call TriggerAddAction(gg_trg_Gedo_mazo,function Trig_Gedo_mazo_Actions)
endfunction
function Trig_Tobi_Kotun_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A082'
endfunction
function Trig_Tobi_Kotun_Damage takes real x,real y,unit u,group gm returns nothing
local group g=CreateGroup()
local unit tg
call GroupEnumUnitsInRange(g,x,y,$DC,null)
loop
set tg=FirstOfGroup(g)
exitwhen tg==null
if(IsUnitEnemy(tg,GetOwningPlayer(u))and not IsUnitType(tg,UNIT_TYPE_DEAD)and not IsUnitType(tg,UNIT_TYPE_STRUCTURE)and IsUnitInGroup(tg,gm)==false)then
call UnitDamageTarget(u,tg,$A+GetHeroStr(u,false)*.5,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call GroupAddUnit(gm,tg)
endif
call GroupRemoveUnit(g,tg)
endloop
call DestroyGroup(g)
set g=null
set tg=null
endfunction
function Trig_Tobi_Kotun_Timer takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit u=LoadUnitHandle(hash,h,0)
local unit j=LoadUnitHandle(hash,0,1)
local real a=LoadReal(hash,h,3)
local real time=LoadReal(hash,h,4)
local group gm=LoadGroupHandle(hash,h,5)
local real x=GetWidgetX(u)
local real y=GetWidgetY(u)
if(GetUnitCurrentOrder(u)!=$D0278)then
call SetUnitTurnSpeed(u,GetUnitDefaultTurnSpeed(u))
call RemoveUnit(j)
call GroupClear(gm)
call DestroyGroup(gm)
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(hash,h)
else
if(time==.1 or time>=.4)then
set x=GetWidgetX(u)+$C8*Cos(a*bj_DEGTORAD)
set y=GetWidgetY(u)+$C8*Sin(a*bj_DEGTORAD)
call Trig_Tobi_Kotun_Damage(x,y,u,gm)
endif
if(time==.2 or time>=.4)then
set x=GetWidgetX(u)+400*Cos(a*bj_DEGTORAD)
set y=GetWidgetY(u)+400*Sin(a*bj_DEGTORAD)
call Trig_Tobi_Kotun_Damage(x,y,u,gm)
endif
if(time==.3 or time>=.4)then
set x=GetWidgetX(u)+600*Cos(a*bj_DEGTORAD)
set y=GetWidgetY(u)+600*Sin(a*bj_DEGTORAD)
call Trig_Tobi_Kotun_Damage(x,y,u,gm)
endif
if(time>=.4)then
set x=GetWidgetX(u)+800*Cos(a*bj_DEGTORAD)
set y=GetWidgetY(u)+800*Sin(a*bj_DEGTORAD)
call Trig_Tobi_Kotun_Damage(x,y,u,gm)
endif
endif
call GroupClear(gm)
call SaveGroupHandle(hash,h,5,gm)
call SaveReal(hash,h,4,time+.05)
set u=null
set j=null
set t=null
set gm=null
endfunction
function Trig_Tobi_Kotun_Actions takes nothing returns nothing
local timer t=CreateTimer()
local integer h=GetHandleId(t)
local unit u=GetTriggerUnit()
local unit j
local real x=GetWidgetX(u)
local real y=GetWidgetY(u)
local real x1=GetSpellTargetX()
local real y1=GetSpellTargetY()
local real a=bj_RADTODEG*Atan2(y1-y,x1-x)
local group gm=CreateGroup()
call SetUnitTurnSpeed(u,0)
call SetUnitAnimationWithRarity(u,"Spell Two",RARITY_RARE)
set j=CreateUnit(GetOwningPlayer(u),'h048',x-30*Cos((a-90)*bj_DEGTORAD)+40*Cos(a*bj_DEGTORAD),y-30*Sin((a-90)*bj_DEGTORAD)+40*Sin(a*bj_DEGTORAD),a+3)
call SaveAgentHandle(hash,h,0,u)
call SaveAgentHandle(hash,0,1,j)
call SaveReal(hash,h,3,a)
call SaveAgentHandle(hash,h,5,gm)
call TimerStart(t,.05,true,function Trig_Tobi_Kotun_Timer)
set u=null
set j=null
set t=null
set gm=null
endfunction
function InitTrig_Tobi_Kotun takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_Tobi_Kotun_Conditions))
call TriggerAddAction(t,function Trig_Tobi_Kotun_Actions)
set t=null
endfunction
function Trig_RikudoObitoAttack_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A07P'
endfunction
function Trig_RikudoObitoAttack_Actions takes nothing returns nothing
local unit u=GetTriggerUnit()
local real x=GetWidgetX(u)+350*Cos(GetUnitFacing(u)*bj_DEGTORAD)
local real y=GetWidgetY(u)+350*Sin(GetUnitFacing(u)*bj_DEGTORAD)
local group g=CreateGroup()
local unit tg
call PauseUnit(u,true)
call SetUnitInvulnerable(u,true)
call TriggerSleepAction(.5)
call SetUnitAnimation(u,"Spell Three")
call TriggerSleepAction(1.)
call PauseUnit(u,false)
call SetUnitInvulnerable(u,false)
call UnitApplyTimedLife(CreateUnit(Player($C),'h043',x,y,270.),1,3)
call UnitApplyTimedLife(CreateUnit(Player($C),'h043',x,y,270.),1,3)
call SetUnitAnimation(u,"Stand Ready")
call GroupEnumUnitsInRange(g,x,y,480,null)
loop
set tg=FirstOfGroup(g)
exitwhen tg==null
if(IsUnitEnemy(tg,GetOwningPlayer(u))and not IsUnitType(tg,UNIT_TYPE_DEAD)and not IsUnitType(tg,UNIT_TYPE_STRUCTURE))then
call UnitDamageTarget(u,tg,$9C4,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(g,tg)
endloop
call RemoveUnit(GetAttacker())
call DestroyGroup(g)
set g=null
set u=null
set tg=null
endfunction
function InitTrig_RikudoObitoAttack takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_RikudoObitoAttack_Conditions))
call TriggerAddAction(t,function Trig_RikudoObitoAttack_Actions)
set t=null
endfunction
function Trig_RikudoObitoBareer_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A07Q'
endfunction
function Trig_RikudoObitoBareer_Func001A takes nothing returns nothing
if(GetDestructableTypeId(GetEnumDestructable())=='YTfb')then
call RemoveDestructable(GetEnumDestructable())
endif
endfunction
function Trig_RikudoObitoBareer_Actions takes nothing returns nothing
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local real x1
local real y1
local location l=Location(x,y)
set udg_ObitoBareer=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'h03Y',x,y,bj_UNIT_FACING)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=90
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set x1=x+$546*Cos((I2R(bj_forLoopAIndex)*4.)*bj_DEGTORAD)
set y1=y+$546*Sin((I2R(bj_forLoopAIndex)*4.)*bj_DEGTORAD)
call CreateDestructable('YTfb',x1,y1,270,1,0)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call TriggerSleepAction(10.)
call EnumDestructablesInCircleBJ(1500.,l,function Trig_RikudoObitoBareer_Func001A)
call RemoveUnit(udg_ObitoBareer)
call RemoveLocation(l)
set l=null
set udg_ObitoBareer=null
endfunction
function InitTrig_RikudoObitoBareer takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_RikudoObitoBareer_Conditions))
call TriggerAddAction(t,function Trig_RikudoObitoBareer_Actions)
set t=null
endfunction
function Trig_RikudoObitoFlower_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A07U')
endfunction
function Trig_RikudoObitoFlower_Effect_2 takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit u=LoadUnitHandle(hash,h,0)
local real obito=LoadReal(hash,h,1)
local unit j2=LoadUnitHandle(hash,h,2)
local unit j3=LoadUnitHandle(hash,h,3)
local unit j4=LoadUnitHandle(hash,h,4)
local unit j5=LoadUnitHandle(hash,h,5)
local real x=GetWidgetX(udg_ObitoBareer)
local real y=GetWidgetY(udg_ObitoBareer)
local real x1
local real y1
local group g=CreateGroup()
local unit tg
if(obito>=170.)then
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(hash,h)
set bj_lastCreatedUnit=CreateUnit(Player($B),'h045',x,y,bj_UNIT_FACING)
call SetUnitScale(bj_lastCreatedUnit,400*.01,400*.01,400*.01)
call SetUnitTimeScale(bj_lastCreatedUnit,60*.01)
call UnitApplyTimedLife(bj_lastCreatedUnit,1,2)
set bj_lastCreatedUnit=CreateUnit(Player($B),'h043',x,y,bj_UNIT_FACING)
call SetUnitScale(bj_lastCreatedUnit,400*.01,400*.01,400*.01)
call UnitApplyTimedLife(bj_lastCreatedUnit,1,2)
set bj_lastCreatedUnit=CreateUnit(Player($B),'h043',x,y,bj_UNIT_FACING)
call SetUnitScale(bj_lastCreatedUnit,400*.01,400*.01,400*.01)
call UnitApplyTimedLife(bj_lastCreatedUnit,1,2)
set bj_lastCreatedUnit=CreateUnit(Player($B),'h043',x,y,bj_UNIT_FACING)
call SetUnitScale(bj_lastCreatedUnit,400*.01,400*.01,400*.01)
call UnitApplyTimedLife(bj_lastCreatedUnit,1,2)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=20
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set x1=GetWidgetX(udg_ObitoBareer)+(GetRandomReal(30.,330.))*Cos((I2R(bj_forLoopAIndex)*18.)*bj_DEGTORAD)
set y1=GetWidgetY(udg_ObitoBareer)+(GetRandomReal(30.,330.))*Sin((I2R(bj_forLoopAIndex)*18.)*bj_DEGTORAD)
set bj_lastCreatedUnit=CreateUnit(Player($B),'h045',x1,y1,bj_UNIT_FACING)
call SetUnitScale(bj_lastCreatedUnit,(GetRandomReal(140.,290.))*.01,(GetRandomReal(140.,290.))*.01,(GetRandomReal(140.,290.))*.01)
call SetUnitTimeScale(bj_lastCreatedUnit,60*.01)
call UnitApplyTimedLife(bj_lastCreatedUnit,1,2)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=20
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set x1=GetWidgetX(udg_ObitoBareer)+(GetRandomReal(370.,640.))*Cos((I2R(bj_forLoopAIndex)*18.)*bj_DEGTORAD)
set y1=GetWidgetY(udg_ObitoBareer)+(GetRandomReal(370.,640.))*Sin((I2R(bj_forLoopAIndex)*18.)*bj_DEGTORAD)
set bj_lastCreatedUnit=CreateUnit(Player($B),'h045',x1,y1,bj_UNIT_FACING)
call SetUnitScale(bj_lastCreatedUnit,(GetRandomReal(140.,290.))*.01,(GetRandomReal(140.,290.))*.01,(GetRandomReal(140.,290.))*.01)
call SetUnitTimeScale(bj_lastCreatedUnit,60*.01)
call UnitApplyTimedLife(bj_lastCreatedUnit,1,2)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=20
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set x1=GetWidgetX(udg_ObitoBareer)+(GetRandomReal(660.,890.))*Cos((I2R(bj_forLoopAIndex)*18.)*bj_DEGTORAD)
set y1=GetWidgetY(udg_ObitoBareer)+(GetRandomReal(660.,890.))*Sin((I2R(bj_forLoopAIndex)*18.)*bj_DEGTORAD)
set bj_lastCreatedUnit=CreateUnit(Player($B),'h045',x1,y1,bj_UNIT_FACING)
call SetUnitScale(bj_lastCreatedUnit,(GetRandomReal(140.,290.))*.01,(GetRandomReal(140.,290.))*.01,(GetRandomReal(140.,290.))*.01)
call SetUnitTimeScale(bj_lastCreatedUnit,60*.01)
call UnitApplyTimedLife(bj_lastCreatedUnit,1,2)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=20
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set x1=GetWidgetX(udg_ObitoBareer)+(GetRandomReal(890.,1180.))*Cos((I2R(bj_forLoopAIndex)*18.)*bj_DEGTORAD)
set y1=GetWidgetY(udg_ObitoBareer)+(GetRandomReal(890.,1180.))*Sin((I2R(bj_forLoopAIndex)*18.)*bj_DEGTORAD)
set bj_lastCreatedUnit=CreateUnit(Player($B),'h045',x1,y1,bj_UNIT_FACING)
call SetUnitScale(bj_lastCreatedUnit,(GetRandomReal(140.,290.))*.01,(GetRandomReal(140.,290.))*.01,(GetRandomReal(140.,290.))*.01)
call SetUnitTimeScale(bj_lastCreatedUnit,60*.01)
call UnitApplyTimedLife(bj_lastCreatedUnit,1,2)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call GroupEnumUnitsInRange(g,x,y,$578,null)
loop
set tg=FirstOfGroup(g)
exitwhen tg==null
if(IsUnitAliveBJ(tg))and(UnitHasBuffBJ(tg,'A0AC')==false)and(IsUnitType(tg,UNIT_TYPE_STRUCTURE)==false)and(IsUnitType(tg,UNIT_TYPE_MAGIC_IMMUNE)==false)and(IsUnitEnemy(tg,GetOwningPlayer(u)))then
call UnitDamageTarget(u,tg,$3A98,true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(g,tg)
endloop
call DestroyGroup(g)
call RemoveUnit(j2)
call RemoveUnit(j3)
call RemoveUnit(j4)
call RemoveUnit(j5)
else
call SetUnitScale(j2,(30.+obito)*.01,(30.+obito)*.01,(30.+obito)*.01)
call SetUnitScale(j3,(30.+obito)*.01,(30.+obito)*.01,(30.+obito)*.01)
call SetUnitScale(j4,(30.+obito)*.01,(30.+obito)*.01,(30.+obito)*.01)
call SetUnitScale(j5,(30.+obito)*.01,(30.+obito)*.01,(30.+obito)*.01)
endif
call SaveReal(hash,h,1,obito+1)
set g=null
set tg=null
set u=null
set j2=null
set j3=null
set j4=null
set j5=null
set t=null
endfunction
function Trig_RikudoObitoFlower_Effect takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit u=LoadUnitHandle(hash,h,0)
local real obito=LoadReal(hash,h,1)
local unit j2=LoadUnitHandle(hash,h,2)
local unit j3=LoadUnitHandle(hash,h,3)
local unit j4=LoadUnitHandle(hash,h,4)
local unit j5=LoadUnitHandle(hash,h,5)
local real a=GetUnitFacing(j2)
local real x=GetWidgetX(j2)+50*Cos((GetUnitFacing(j2))*bj_DEGTORAD)
local real y=GetWidgetY(j2)+50*Sin((GetUnitFacing(j2))*bj_DEGTORAD)
local group g=CreateGroup()
local unit tg
if(obito>=300.)then
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(hash,h)
set x=GetWidgetX(j2)
set y=GetWidgetY(j2)
call UnitApplyTimedLife(CreateUnit(Player($B),'h043',x,y,bj_UNIT_FACING),1,.8)
call UnitApplyTimedLife(CreateUnit(Player($B),'h045',x,y,bj_UNIT_FACING),1,.8)
set x=GetWidgetX(j3)
set y=GetWidgetY(j3)
call UnitApplyTimedLife(CreateUnit(Player($B),'h043',x,y,bj_UNIT_FACING),1,.8)
call UnitApplyTimedLife(CreateUnit(Player($B),'h045',x,y,bj_UNIT_FACING),1,.8)
set x=GetWidgetX(j4)
set y=GetWidgetY(j4)
call UnitApplyTimedLife(CreateUnit(Player($B),'h043',x,y,bj_UNIT_FACING),1,.8)
call UnitApplyTimedLife(CreateUnit(Player($B),'h045',x,y,bj_UNIT_FACING),1,.8)
set x=GetWidgetX(j5)
set y=GetWidgetY(j5)
call UnitApplyTimedLife(CreateUnit(Player($B),'h043',x,y,bj_UNIT_FACING),1,.8)
call UnitApplyTimedLife(CreateUnit(Player($B),'h045',x,y,bj_UNIT_FACING),1,.8)
call RemoveUnit(j2)
call RemoveUnit(j3)
call RemoveUnit(j4)
call RemoveUnit(j5)
endif
if(obito>=170.)then
call SetUnitX(j2,x)
call SetUnitY(j2,y)
set a=GetUnitFacing(j3)
set x=GetWidgetX(j3)+40*Cos(a*bj_DEGTORAD)
set y=GetWidgetY(j3)+40*Sin(a*bj_DEGTORAD)
call SetUnitX(j3,x)
call SetUnitY(j3,y)
set a=GetUnitFacing(j4)
set x=GetWidgetX(j4)+40*Cos(a*bj_DEGTORAD)
set y=GetWidgetY(j4)+40*Sin(a*bj_DEGTORAD)
call SetUnitX(j4,x)
call SetUnitY(j4,y)
set a=GetUnitFacing(j5)
set x=GetWidgetX(j5)+40*Cos(a*bj_DEGTORAD)
set y=GetWidgetY(j5)+40*Sin(a*bj_DEGTORAD)
call SetUnitX(j5,x)
call SetUnitY(j5,y)
if(obito==$B4 or obito==$BE or obito==$C8 or obito==$D2 or obito==$DC or obito==$E6 or obito==$F0 or obito==$FA or obito==260 or obito==270 or obito==280 or obito==290)then
set a=GetUnitFacing(j2)
set x=GetWidgetX(j2)
set y=GetWidgetY(j2)
call UnitApplyTimedLife(CreateUnit(Player($B),'h03Q',x,y,a),1,.8)
call UnitApplyTimedLife(CreateUnit(Player($B),'h01X',x,y,a),1,.8)
call GroupEnumUnitsInRange(g,x,y,500,null)
loop
set tg=FirstOfGroup(g)
exitwhen tg==null
if(IsUnitAliveBJ(tg))and(UnitHasBuffBJ(tg,'A0AC')==false)and(IsUnitType(tg,UNIT_TYPE_STRUCTURE)==false)and(IsUnitType(tg,UNIT_TYPE_MAGIC_IMMUNE)==false)and(IsUnitEnemy(tg,GetOwningPlayer(u)))then
call UnitDamageTarget(u,tg,$BB8,true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(g,tg)
endloop
set a=GetUnitFacing(j3)
set x=GetWidgetX(j3)
set y=GetWidgetY(j3)
call UnitApplyTimedLife(CreateUnit(Player($B),'h03Q',x,y,a),1,.8)
call UnitApplyTimedLife(CreateUnit(Player($B),'h01X',x,y,a),1,.8)
call GroupEnumUnitsInRange(g,x,y,500,null)
loop
set tg=FirstOfGroup(g)
exitwhen tg==null
if(IsUnitAliveBJ(tg))and(UnitHasBuffBJ(tg,'A0AC')==false)and(IsUnitType(tg,UNIT_TYPE_STRUCTURE)==false)and(IsUnitType(tg,UNIT_TYPE_MAGIC_IMMUNE)==false)and(IsUnitEnemy(tg,GetOwningPlayer(u)))then
call UnitDamageTarget(u,tg,$BB8,true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(g,tg)
endloop
set a=GetUnitFacing(j4)
set x=GetWidgetX(j4)
set y=GetWidgetY(j4)
call UnitApplyTimedLife(CreateUnit(Player($B),'h03Q',x,y,a),1,.8)
call UnitApplyTimedLife(CreateUnit(Player($B),'h01X',x,y,a),1,.8)
call GroupEnumUnitsInRange(g,x,y,500,null)
loop
set tg=FirstOfGroup(g)
exitwhen tg==null
if(IsUnitAliveBJ(tg))and(UnitHasBuffBJ(tg,'A0AC')==false)and(IsUnitType(tg,UNIT_TYPE_STRUCTURE)==false)and(IsUnitType(tg,UNIT_TYPE_MAGIC_IMMUNE)==false)and(IsUnitEnemy(tg,GetOwningPlayer(u)))then
call UnitDamageTarget(u,tg,$BB8,true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(g,tg)
endloop
set a=GetUnitFacing(j5)
set x=GetWidgetX(j5)
set y=GetWidgetY(j5)
call UnitApplyTimedLife(CreateUnit(Player($B),'h03Q',x,y,a),1,.8)
call UnitApplyTimedLife(CreateUnit(Player($B),'h01X',x,y,a),1,.8)
call GroupEnumUnitsInRange(g,x,y,500,null)
loop
set tg=FirstOfGroup(g)
exitwhen tg==null
if(IsUnitAliveBJ(tg))and(UnitHasBuffBJ(tg,'A0AC')==false)and(IsUnitType(tg,UNIT_TYPE_STRUCTURE)==false)and(IsUnitType(tg,UNIT_TYPE_MAGIC_IMMUNE)==false)and(IsUnitEnemy(tg,GetOwningPlayer(u)))then
call UnitDamageTarget(u,tg,$BB8,true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(g,tg)
endloop
call DestroyGroup(g)
endif
else
call SetUnitScale(j2,(30.+obito)*.01,(30.+obito)*.01,(30.+obito)*.01)
call SetUnitScale(j3,(30.+obito)*.01,(30.+obito)*.01,(30.+obito)*.01)
call SetUnitScale(j4,(30.+obito)*.01,(30.+obito)*.01,(30.+obito)*.01)
call SetUnitScale(j5,(30.+obito)*.01,(30.+obito)*.01,(30.+obito)*.01)
endif
call SaveReal(hash,h,1,obito+1)
set g=null
set tg=null
set u=null
set j2=null
set j3=null
set j4=null
set j5=null
set t=null
endfunction
function Trig_RikudoObitoFlower_Actions takes nothing returns nothing
local timer t=CreateTimer()
local integer h=GetHandleId(t)
local unit u=GetTriggerUnit()
local unit j
local unit j2
local unit j3
local unit j4
local unit j5
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local real x1=x+380*Cos(273.*bj_DEGTORAD)
local real y1=y+380*Sin(273.*bj_DEGTORAD)
local real obito=20.
set j=CreateUnit(GetOwningPlayer(u),'h040',x,y,324.)
call SetUnitTimeScale(j,300*.01)
call SetUnitAnimation(j,"birth")
call TriggerSleepAction(1.)
call SetUnitAnimation(j,"stand")
set j2=CreateUnit(GetOwningPlayer(u),'h044',x1,y1,273.)
set x1=x+380*Cos(220.*bj_DEGTORAD)
set y1=y+380*Sin(220.*bj_DEGTORAD)
set j3=CreateUnit(GetOwningPlayer(u),'h044',x1,y1,230.)
set x1=x+380*Cos(108.*bj_DEGTORAD)
set y1=y+380*Sin(108.*bj_DEGTORAD)
set j4=CreateUnit(GetOwningPlayer(u),'h044',x1,y1,108.)
set x1=x+380*Cos(16.*bj_DEGTORAD)
set y1=y+380*Sin(16.*bj_DEGTORAD)
set j5=CreateUnit(GetOwningPlayer(u),'h044',x1,y1,16.)
call SaveAgentHandle(hash,h,0,u)
call SaveReal(hash,h,1,obito)
call SaveAgentHandle(hash,h,2,j2)
call SaveAgentHandle(hash,h,3,j3)
call SaveAgentHandle(hash,h,4,j4)
call SaveAgentHandle(hash,h,5,j5)
if(DistanceBetweenPoints(GetUnitLoc(j),GetUnitLoc(udg_ObitoBareer))<=300.)then
call TimerStart(t,.01,true,function Trig_RikudoObitoFlower_Effect_2)
else
call TimerStart(t,.01,true,function Trig_RikudoObitoFlower_Effect)
endif
set u=null
set j2=null
set j3=null
set j4=null
set j5=null
set t=null
call TriggerSleepAction(3.)
call RemoveUnit(j)
set j=null
endfunction
function InitTrig_RikudoObitoFlower takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_RikudoObitoFlower_Conditions))
call TriggerAddAction(t,function Trig_RikudoObitoFlower_Actions)
set t=null
endfunction
function Trig_RINNEGAN_Conditions takes nothing returns boolean
return(GetIssuedOrderId()==$D00D1)and(GetUnitAbilityLevelSwapped('A06B',GetTriggerUnit())>0)
endfunction
function Trig_RINNEGAN_Actions takes nothing returns nothing
call SetPlayerAbilityAvailableBJ(false,'A06L',GetOwningPlayer(GetTriggerUnit()))
call SetPlayerAbilityAvailableBJ(false,'A06D',GetOwningPlayer(GetTriggerUnit()))
call SetPlayerAbilityAvailableBJ(false,'A06A',GetOwningPlayer(GetTriggerUnit()))
call SetPlayerAbilityAvailableBJ(false,'A04N',GetOwningPlayer(GetTriggerUnit()))
call SetPlayerAbilityAvailableBJ(false,'A06M',GetOwningPlayer(GetTriggerUnit()))
call SetPlayerAbilityAvailableBJ(true,'A06I',GetOwningPlayer(GetTriggerUnit()))
call SetPlayerAbilityAvailableBJ(true,'A06K',GetOwningPlayer(GetTriggerUnit()))
call SetPlayerAbilityAvailableBJ(true,'A06G',GetOwningPlayer(GetTriggerUnit()))
call SetPlayerAbilityAvailableBJ(true,'A06N',GetOwningPlayer(GetTriggerUnit()))
call SetPlayerAbilityAvailableBJ(true,'A06O',GetOwningPlayer(GetTriggerUnit()))
call UnitRemoveAbility(GetTriggerUnit(),'A06C')
call UnitAddAbility(GetTriggerUnit(),'A06E')
call EnableTrigger(gg_trg_RINNEGAN_end)
endfunction
function InitTrig_RINNEGAN takes nothing returns nothing
set gg_trg_RINNEGAN=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_RINNEGAN,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(gg_trg_RINNEGAN,Condition(function Trig_RINNEGAN_Conditions))
call TriggerAddAction(gg_trg_RINNEGAN,function Trig_RINNEGAN_Actions)
endfunction
function Trig_RINNEGAN_end_Conditions takes nothing returns boolean
return(GetIssuedOrderId()==$D00D2)and(GetUnitAbilityLevelSwapped('A06B',GetTriggerUnit())>0)
endfunction
function Trig_RINNEGAN_end_Actions takes nothing returns nothing
call SetPlayerAbilityAvailableBJ(true,'A06L',GetOwningPlayer(GetTriggerUnit()))
call SetPlayerAbilityAvailableBJ(true,'A06D',GetOwningPlayer(GetTriggerUnit()))
call SetPlayerAbilityAvailableBJ(true,'A06A',GetOwningPlayer(GetTriggerUnit()))
call SetPlayerAbilityAvailableBJ(true,'A04N',GetOwningPlayer(GetTriggerUnit()))
call SetPlayerAbilityAvailableBJ(true,'A06M',GetOwningPlayer(GetTriggerUnit()))
call SetPlayerAbilityAvailableBJ(false,'A06I',GetOwningPlayer(GetTriggerUnit()))
call SetPlayerAbilityAvailableBJ(false,'A06K',GetOwningPlayer(GetTriggerUnit()))
call SetPlayerAbilityAvailableBJ(false,'A06G',GetOwningPlayer(GetTriggerUnit()))
call SetPlayerAbilityAvailableBJ(false,'A06N',GetOwningPlayer(GetTriggerUnit()))
call SetPlayerAbilityAvailableBJ(false,'A06O',GetOwningPlayer(GetTriggerUnit()))
call UnitRemoveAbility(GetTriggerUnit(),'A06E')
call UnitAddAbility(GetTriggerUnit(),'A06C')
call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_RINNEGAN_end takes nothing returns nothing
set gg_trg_RINNEGAN_end=CreateTrigger()
call DisableTrigger(gg_trg_RINNEGAN_end)
call TriggerRegisterAnyUnitEventBJ(gg_trg_RINNEGAN_end,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(gg_trg_RINNEGAN_end,Condition(function Trig_RINNEGAN_end_Conditions))
call TriggerAddAction(gg_trg_RINNEGAN_end,function Trig_RINNEGAN_end_Actions)
endfunction
function Trig_KATONUCHIHA_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A06F')
endfunction
function Trig_KATONUCHIHA_Actions takes nothing returns nothing
set udg_Bansho_Tenin[$7E]=GetSpellAbilityUnit()
set udg_Angle[912]=R2I(AngleBetweenPoints(GetUnitLoc(udg_Bansho_Tenin[$7E]),GetSpellTargetLoc()))
call CreateNUnitsAtLoc(1,'u00D',GetOwningPlayer(udg_Bansho_Tenin[$7E]),GetUnitLoc(udg_Bansho_Tenin[$7E]),(udg_Angle[912]-6.))
call UnitApplyTimedLifeBJ(1.1,'BTLF',bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'u00D',GetOwningPlayer(udg_Bansho_Tenin[$7E]),GetUnitLoc(udg_Bansho_Tenin[$7E]),(udg_Angle[912]+6.))
call UnitApplyTimedLifeBJ(1.1,'BTLF',bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'u00D',GetOwningPlayer(udg_Bansho_Tenin[$7E]),GetUnitLoc(udg_Bansho_Tenin[$7E]),(udg_Angle[912]+18.))
call UnitApplyTimedLifeBJ(1.1,'BTLF',bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'u00D',GetOwningPlayer(udg_Bansho_Tenin[$7E]),GetUnitLoc(udg_Bansho_Tenin[$7E]),(udg_Angle[912]-18.))
call UnitApplyTimedLifeBJ(1.1,'BTLF',bj_lastCreatedUnit)
call EnableTrigger(gg_trg_KATONUCHIHA_Move)
call TriggerSleepAction(.85)
call DisableTrigger(gg_trg_KATONUCHIHA_Move)
set udg_Bansho_Tenin[$7E]=null
set udg_Bansho_Tenin[$7F]=null
endfunction
function InitTrig_KATONUCHIHA takes nothing returns nothing
set gg_trg_KATONUCHIHA=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_KATONUCHIHA,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_KATONUCHIHA,Condition(function Trig_KATONUCHIHA_Conditions))
call TriggerAddAction(gg_trg_KATONUCHIHA,function Trig_KATONUCHIHA_Actions)
endfunction
function Trig_KATONUCHIHA_Move_Func001Func001Func005A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_KATONUCHIHA_Move_Func001Func001Func006001003 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Bansho_Tenin[$7E])))
endfunction
function Trig_KATONUCHIHA_Move_Func001Func001Func006A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Bansho_Tenin[$7F],GetEnumUnit(),57.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endfunction
function Trig_KATONUCHIHA_Move_Func001Func001C takes nothing returns boolean
return(GetOwningPlayer(GetEnumUnit())==GetOwningPlayer(udg_Bansho_Tenin[$7E]))
endfunction
function Trig_KATONUCHIHA_Move_Func001A takes nothing returns nothing
if(Trig_KATONUCHIHA_Move_Func001Func001C())then
set udg_Bansho_Tenin[$7F]=GetEnumUnit()
call SetUnitPositionLoc(GetEnumUnit(),PolarProjectionBJ(GetUnitLoc(GetEnumUnit()),74.,GetUnitFacing(GetEnumUnit())))
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnumUnit()),"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call EnumDestructablesInCircleBJ(300.,GetUnitLoc(GetEnumUnit()),function Trig_KATONUCHIHA_Move_Func001Func001Func005A)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.,GetUnitLoc(GetEnumUnit()),Condition(function Trig_KATONUCHIHA_Move_Func001Func001Func006001003)),function Trig_KATONUCHIHA_Move_Func001Func001Func006A)
endif
endfunction
function Trig_KATONUCHIHA_Move_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsOfTypeIdAll('u00D'),function Trig_KATONUCHIHA_Move_Func001A)
endfunction
function InitTrig_KATONUCHIHA_Move takes nothing returns nothing
set gg_trg_KATONUCHIHA_Move=CreateTrigger()
call DisableTrigger(gg_trg_KATONUCHIHA_Move)
call TriggerRegisterTimerEventPeriodic(gg_trg_KATONUCHIHA_Move,.05)
call TriggerAddAction(gg_trg_KATONUCHIHA_Move,function Trig_KATONUCHIHA_Move_Actions)
endfunction
function Trig_TSUKIOMYMADARA_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A06D')
endfunction
function Trig_TSUKIOMYMADARA_Func005001003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_TSUKIOMYMADARA_Func005001003002001 takes nothing returns boolean
return(GetFilterUnit()!=gg_unit_h00E_0087)
endfunction
function Trig_TSUKIOMYMADARA_Func005001003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Bansho_Tenin[$80])))
endfunction
function Trig_TSUKIOMYMADARA_Func005001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_TSUKIOMYMADARA_Func005001003002001(),Trig_TSUKIOMYMADARA_Func005001003002002())
endfunction
function Trig_TSUKIOMYMADARA_Func005001003 takes nothing returns boolean
return GetBooleanAnd(Trig_TSUKIOMYMADARA_Func005001003001(),Trig_TSUKIOMYMADARA_Func005001003002())
endfunction
function Trig_TSUKIOMYMADARA_Func005A takes nothing returns nothing
call PauseUnit(GetEnumUnit(),true)
call EnableTrigger(gg_trg_TSUKIOMYMADARA_damage)
endfunction
function Trig_TSUKIOMYMADARA_Func007001003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_TSUKIOMYMADARA_Func007001003002001 takes nothing returns boolean
return(GetFilterUnit()!=gg_unit_h00E_0087)
endfunction
function Trig_TSUKIOMYMADARA_Func007001003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Bansho_Tenin[$80])))
endfunction
function Trig_TSUKIOMYMADARA_Func007001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_TSUKIOMYMADARA_Func007001003002001(),Trig_TSUKIOMYMADARA_Func007001003002002())
endfunction
function Trig_TSUKIOMYMADARA_Func007001003 takes nothing returns boolean
return GetBooleanAnd(Trig_TSUKIOMYMADARA_Func007001003001(),Trig_TSUKIOMYMADARA_Func007001003002())
endfunction
function Trig_TSUKIOMYMADARA_Func007Func002001 takes nothing returns boolean
return(IsUnitPaused(GetEnumUnit()))
endfunction
function Trig_TSUKIOMYMADARA_Func007A takes nothing returns nothing
call PauseUnit(GetEnumUnit(),false)
if(Trig_TSUKIOMYMADARA_Func007Func002001())then
call PauseUnit(GetEnumUnit(),false)
endif
call DisableTrigger(gg_trg_TSUKIOMYMADARA_damage)
set udg_Bansho_Tenin[$80]=null
set udg_Bansho_Tenin[$82]=null
endfunction
function Trig_TSUKIOMYMADARA_Actions takes nothing returns nothing
set udg_Bansho_Tenin[$80]=GetSpellAbilityUnit()
call CreateNUnitsAtLoc(1,'u00C',GetOwningPlayer(udg_Bansho_Tenin[$80]),GetSpellTargetLoc(),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(6.2,'BTLF',bj_lastCreatedUnit)
set udg_Bansho_Tenin[$82]=bj_lastCreatedUnit
call ForGroupBJ(GetUnitsInRangeOfLocMatching(600.,GetSpellTargetLoc(),Condition(function Trig_TSUKIOMYMADARA_Func005001003)),function Trig_TSUKIOMYMADARA_Func005A)
call TriggerSleepAction(6.)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(600.,GetUnitLoc(udg_Bansho_Tenin[$82]),Condition(function Trig_TSUKIOMYMADARA_Func007001003)),function Trig_TSUKIOMYMADARA_Func007A)
endfunction
function InitTrig_TSUKIOMYMADARA takes nothing returns nothing
set gg_trg_TSUKIOMYMADARA=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_TSUKIOMYMADARA,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_TSUKIOMYMADARA,Condition(function Trig_TSUKIOMYMADARA_Conditions))
call TriggerAddAction(gg_trg_TSUKIOMYMADARA,function Trig_TSUKIOMYMADARA_Actions)
endfunction
function Trig_TSUKIOMYMADARA_damage_Func001001003001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_TSUKIOMYMADARA_damage_Func001001003002001 takes nothing returns boolean
return(GetFilterUnit()!=gg_unit_h00E_0087)
endfunction
function Trig_TSUKIOMYMADARA_damage_Func001001003002002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Bansho_Tenin[$80])))
endfunction
function Trig_TSUKIOMYMADARA_damage_Func001001003002 takes nothing returns boolean
return GetBooleanAnd(Trig_TSUKIOMYMADARA_damage_Func001001003002001(),Trig_TSUKIOMYMADARA_damage_Func001001003002002())
endfunction
function Trig_TSUKIOMYMADARA_damage_Func001001003 takes nothing returns boolean
return GetBooleanAnd(Trig_TSUKIOMYMADARA_damage_Func001001003001(),Trig_TSUKIOMYMADARA_damage_Func001001003002())
endfunction
function Trig_TSUKIOMYMADARA_damage_Func001A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Bansho_Tenin[$80],GetEnumUnit(),110.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
call AddSpecialEffectLocBJ(GetUnitLoc(GetEnumUnit()),"Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl")
call DestroyEffect(bj_lastCreatedEffect)
endfunction
function Trig_TSUKIOMYMADARA_damage_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRangeOfLocMatching(600.,GetUnitLoc(udg_Bansho_Tenin[$82]),Condition(function Trig_TSUKIOMYMADARA_damage_Func001001003)),function Trig_TSUKIOMYMADARA_damage_Func001A)
endfunction
function InitTrig_TSUKIOMYMADARA_damage takes nothing returns nothing
set gg_trg_TSUKIOMYMADARA_damage=CreateTrigger()
call DisableTrigger(gg_trg_TSUKIOMYMADARA_damage)
call TriggerRegisterTimerEventPeriodic(gg_trg_TSUKIOMYMADARA_damage,.6)
call TriggerAddAction(gg_trg_TSUKIOMYMADARA_damage,function Trig_TSUKIOMYMADARA_damage_Actions)
endfunction
function Trig_MADARACLONES_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A06K')
endfunction
function Trig_MADARACLONES_Actions takes nothing returns nothing
set udg_Bansho_Tenin[$89]=GetSpellAbilityUnit()
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(udg_Bansho_Tenin[$89]),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.5,'BTLF',bj_lastCreatedUnit)
call UnitAddItemByIdSwapped('I02M',bj_lastCreatedUnit)
call UnitUseItemTarget(bj_lastCreatedUnit,bj_lastCreatedItem,udg_Bansho_Tenin[$89])
call UnitUseItemTarget(bj_lastCreatedUnit,bj_lastCreatedItem,udg_Bansho_Tenin[$89])
call UnitUseItemTarget(bj_lastCreatedUnit,bj_lastCreatedItem,udg_Bansho_Tenin[$89])
call UnitUseItemTarget(bj_lastCreatedUnit,bj_lastCreatedItem,udg_Bansho_Tenin[$89])
call UnitUseItemTarget(bj_lastCreatedUnit,bj_lastCreatedItem,udg_Bansho_Tenin[$89])
call UnitUseItemTarget(bj_lastCreatedUnit,bj_lastCreatedItem,udg_Bansho_Tenin[$89])
call UnitUseItemTarget(bj_lastCreatedUnit,bj_lastCreatedItem,udg_Bansho_Tenin[$89])
call UnitUseItemTarget(bj_lastCreatedUnit,bj_lastCreatedItem,udg_Bansho_Tenin[$89])
call UnitUseItemTarget(bj_lastCreatedUnit,bj_lastCreatedItem,udg_Bansho_Tenin[$89])
call UnitUseItemTarget(bj_lastCreatedUnit,bj_lastCreatedItem,udg_Bansho_Tenin[$89])
call RemoveItem(bj_lastCreatedItem)
set udg_Bansho_Tenin[$8A]=GetSpellAbilityUnit()
endfunction
function InitTrig_MADARACLONES takes nothing returns nothing
set gg_trg_MADARACLONES=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_MADARACLONES,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_MADARACLONES,Condition(function Trig_MADARACLONES_Conditions))
call TriggerAddAction(gg_trg_MADARACLONES,function Trig_MADARACLONES_Actions)
endfunction
function Trig_MOVE_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A06I')
endfunction
function Trig_MOVE_Func010A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_MOVE_Func011001003 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))
endfunction
function Trig_MOVE_Func011A takes nothing returns nothing
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),300.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endfunction
function Trig_MOVE_Actions takes nothing returns nothing
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"war3mapImported\\explosion.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call SetUnitPositionLoc(GetTriggerUnit(),GetSpellTargetLoc())
call CreateNUnitsAtLoc(1,'h03P',Player($F),GetUnitLoc(GetTriggerUnit()),GetUnitFacing(GetTriggerUnit()))
call UnitApplyTimedLifeBJ(1.,'BTLF',bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'h03R',Player($F),GetUnitLoc(GetTriggerUnit()),GetUnitFacing(GetTriggerUnit()))
call UnitApplyTimedLifeBJ(1.,'BTLF',bj_lastCreatedUnit)
call EnumDestructablesInCircleBJ(300.,GetUnitLoc(GetTriggerUnit()),function Trig_MOVE_Func010A)
call ForGroupBJ(GetUnitsInRangeOfLocMatching(412.,GetUnitLoc(GetTriggerUnit()),Condition(function Trig_MOVE_Func011001003)),function Trig_MOVE_Func011A)
endfunction
function InitTrig_MOVE takes nothing returns nothing
set gg_trg_MOVE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_MOVE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_MOVE,Condition(function Trig_MOVE_Conditions))
call TriggerAddAction(gg_trg_MOVE,function Trig_MOVE_Actions)
endfunction
function Trig_WOODSTYLE_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A06N')
endfunction
function Trig_WOODSTYLE_Actions takes nothing returns nothing
set udg_Bansho_Tenin[$83]=GetSpellAbilityUnit()
call CreateNUnitsAtLoc(1,'u00F',GetOwningPlayer(udg_Bansho_Tenin[$83]),GetUnitLoc(udg_Bansho_Tenin[$83]),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(7.,'BTLF',bj_lastCreatedUnit)
set udg_Bansho_Tenin[$84]=bj_lastCreatedUnit
call CreateNUnitsAtLoc(1,'u00G',GetOwningPlayer(udg_Bansho_Tenin[$83]),GetUnitLoc(udg_Bansho_Tenin[$83]),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(3.,'BTLF',bj_lastCreatedUnit)
set udg_Bansho_Tenin[$85]=bj_lastCreatedUnit
call EnableTrigger(gg_trg_WOODSTYLE_move)
call TriggerSleepAction(4.)
call DisableTrigger(gg_trg_WOODSTYLE_move)
set udg_Bansho_Tenin[$84]=null
set udg_Bansho_Tenin[$85]=null
endfunction
function InitTrig_WOODSTYLE takes nothing returns nothing
set gg_trg_WOODSTYLE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_WOODSTYLE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_WOODSTYLE,Condition(function Trig_WOODSTYLE_Conditions))
call TriggerAddAction(gg_trg_WOODSTYLE,function Trig_WOODSTYLE_Actions)
endfunction
function Trig_WOODSTYLE_move_Func001Func007C takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function Trig_WOODSTYLE_move_Func001C takes nothing returns boolean
return(IsUnitAliveBJ(udg_Bansho_Tenin[$84]))
endfunction
function Trig_WOODSTYLE_move_Func002Func007C takes nothing returns boolean
return(GetRandomInt(1,3)==1)
endfunction
function Trig_WOODSTYLE_move_Func002C takes nothing returns boolean
return(IsUnitAliveBJ(udg_Bansho_Tenin[$85]))
endfunction
function Trig_WOODSTYLE_move_Actions takes nothing returns nothing
if(Trig_WOODSTYLE_move_Func001C())then
call SetUnitPositionLoc(udg_Bansho_Tenin[$84],PolarProjectionBJ(GetUnitLoc(udg_Bansho_Tenin[$84]),300.,GetRandomReal(0,360)))
call CreateNUnitsAtLoc(1,'u00F',GetOwningPlayer(udg_Bansho_Tenin[$84]),GetUnitLoc(udg_Bansho_Tenin[$84]),GetRandomReal(0,360))
call SetUnitTimeScalePercent(bj_lastCreatedUnit,180.)
call SetUnitAnimation(bj_lastCreatedUnit,"birth")
call UnitApplyTimedLifeBJ(GetRandomReal(4.,6.),'BTLF',bj_lastCreatedUnit)
if(Trig_WOODSTYLE_move_Func001Func007C())then
call CreateNUnitsAtLoc(1,'u00G',GetOwningPlayer(udg_Bansho_Tenin[$84]),GetUnitLoc(udg_Bansho_Tenin[$84]),GetRandomReal(0,360))
call SetUnitTimeScalePercent(bj_lastCreatedUnit,180.)
call SetUnitAnimation(bj_lastCreatedUnit,"birth")
call UnitApplyTimedLifeBJ(GetRandomReal(4.,6.),'BTLF',bj_lastCreatedUnit)
endif
call SetTerrainTypeBJ(GetUnitLoc(bj_lastCreatedUnit),'Avin',-1,2,0)
endif
if(Trig_WOODSTYLE_move_Func002C())then
call SetUnitPositionLoc(udg_Bansho_Tenin[$85],PolarProjectionBJ(GetUnitLoc(udg_Bansho_Tenin[$85]),290.,GetRandomReal(0,360)))
call CreateNUnitsAtLoc(1,'u00F',GetOwningPlayer(udg_Bansho_Tenin[$85]),GetUnitLoc(udg_Bansho_Tenin[$85]),GetRandomReal(0,360))
call SetUnitTimeScalePercent(bj_lastCreatedUnit,180.)
call SetUnitAnimation(bj_lastCreatedUnit,"birth")
call UnitApplyTimedLifeBJ(GetRandomReal(4.,6.),'BTLF',bj_lastCreatedUnit)
if(Trig_WOODSTYLE_move_Func002Func007C())then
call CreateNUnitsAtLoc(1,'u00G',GetOwningPlayer(udg_Bansho_Tenin[$85]),GetUnitLoc(udg_Bansho_Tenin[$85]),GetRandomReal(0,360))
call SetUnitTimeScalePercent(bj_lastCreatedUnit,20.)
call SetUnitAnimation(bj_lastCreatedUnit,"birth")
call UnitApplyTimedLifeBJ(GetRandomReal(4.,6.),'BTLF',bj_lastCreatedUnit)
endif
call SetTerrainTypeBJ(GetUnitLoc(bj_lastCreatedUnit),'Avin',-1,2,0)
endif
endfunction
function InitTrig_WOODSTYLE_move takes nothing returns nothing
set gg_trg_WOODSTYLE_move=CreateTrigger()
call DisableTrigger(gg_trg_WOODSTYLE_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_WOODSTYLE_move,.14)
call TriggerAddAction(gg_trg_WOODSTYLE_move,function Trig_WOODSTYLE_move_Actions)
endfunction
function Trig_WOODSTYLE_Dead_Func001C takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='u00F')or(GetUnitTypeId(GetDyingUnit())=='u00G')
endfunction
function Trig_WOODSTYLE_Dead_Conditions takes nothing returns boolean
return(Trig_WOODSTYLE_Dead_Func001C())
endfunction
function Trig_WOODSTYLE_Dead_Func002001003 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetDyingUnit())))
endfunction
function Trig_WOODSTYLE_Dead_Func002A takes nothing returns nothing
call UnitDamageTargetBJ(GetDyingUnit(),GetEnumUnit(),576.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
endfunction
function Trig_WOODSTYLE_Dead_Func007A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_WOODSTYLE_Dead_Actions takes nothing returns nothing
call ForGroupBJ(GetUnitsInRangeOfLocMatching(320.,GetUnitLoc(GetDyingUnit()),Condition(function Trig_WOODSTYLE_Dead_Func002001003)),function Trig_WOODSTYLE_Dead_Func002A)
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(GetUnitLoc(GetTriggerUnit()),"explosion.mdx")
call DestroyEffect(bj_lastCreatedEffect)
call EnumDestructablesInCircleBJ(300.,GetUnitLoc(GetTriggerUnit()),function Trig_WOODSTYLE_Dead_Func007A)
call SetTerrainTypeBJ(GetUnitLoc(GetDyingUnit()),'Osmb',-1,2,0)
endfunction
function InitTrig_WOODSTYLE_Dead takes nothing returns nothing
set gg_trg_WOODSTYLE_Dead=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_WOODSTYLE_Dead,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_WOODSTYLE_Dead,Condition(function Trig_WOODSTYLE_Dead_Conditions))
call TriggerAddAction(gg_trg_WOODSTYLE_Dead,function Trig_WOODSTYLE_Dead_Actions)
endfunction
function Trig_GREENDRAGON_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A06O')
endfunction
function Trig_GREENDRAGON_Actions takes nothing returns nothing
set udg_Bansho_Tenin[$8F]=GetSpellAbilityUnit()
set udg_Pointhero[$78B]=GetSpellTargetLoc()
set udg_PeinReal[$C0]=.0
call CreateNUnitsAtLoc(1,'h03U',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(GetTriggerUnit()),AngleBetweenPoints(GetUnitLoc(GetTriggerUnit()),udg_Pointhero[$78B]))
call AddSpecialEffectLocBJ(GetUnitLoc(bj_lastCreatedUnit),"Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set udg_Bansho_Tenin[$90]=bj_lastCreatedUnit
call EnableTrigger(gg_trg_GREENDRAGON_move)
endfunction
function InitTrig_GREENDRAGON takes nothing returns nothing
set gg_trg_GREENDRAGON=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_GREENDRAGON,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_GREENDRAGON,Condition(function Trig_GREENDRAGON_Conditions))
call TriggerAddAction(gg_trg_GREENDRAGON,function Trig_GREENDRAGON_Actions)
endfunction
function Trig_GREENDRAGON_move_Func003001003001 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Bansho_Tenin[$8F])))
endfunction
function Trig_GREENDRAGON_move_Func003001003002 takes nothing returns boolean
return(UnitHasBuffBJ(GetFilterUnit(),'B00N')==false)
endfunction
function Trig_GREENDRAGON_move_Func003001003 takes nothing returns boolean
return GetBooleanAnd(Trig_GREENDRAGON_move_Func003001003001(),Trig_GREENDRAGON_move_Func003001003002())
endfunction
function Trig_GREENDRAGON_move_Func003A takes nothing returns nothing
call SetUnitPositionLoc(GetEnumUnit(),PolarProjectionBJ(GetUnitLoc(GetEnumUnit()),70.,AngleBetweenPoints(GetUnitLoc(GetEnumUnit()),GetUnitLoc(udg_Bansho_Tenin[$90]))))
endfunction
function Trig_GREENDRAGON_move_Func006Func004002003 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(udg_Bansho_Tenin[$8F])))
endfunction
function Trig_GREENDRAGON_move_Func006Func008A takes nothing returns nothing
call PauseUnit(GetEnumUnit(),true)
endfunction
function Trig_GREENDRAGON_move_Func006Func026A takes nothing returns nothing
call UnitDamageTargetBJ(udg_Bansho_Tenin[$8F],GetEnumUnit(),7500.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC)
call PauseUnit(GetEnumUnit(),false)
endfunction
function Trig_GREENDRAGON_move_Func006C takes nothing returns boolean
return(DistanceBetweenPoints(GetUnitLoc(udg_Bansho_Tenin[$90]),udg_Pointhero[$78B])<=60.)
endfunction
function Trig_GREENDRAGON_move_Actions takes nothing returns nothing
call SetUnitPositionLoc(udg_Bansho_Tenin[$90],PolarProjectionBJ(GetUnitLoc(udg_Bansho_Tenin[$90]),80.,AngleBetweenPoints(GetUnitLoc(udg_Bansho_Tenin[$90]),udg_Pointhero[$78B])))
call SetUnitAnimation(udg_Bansho_Tenin[$90],"walk")
call ForGroupBJ(GetUnitsInRangeOfLocMatching(300.,GetUnitLoc(udg_Bansho_Tenin[$90]),Condition(function Trig_GREENDRAGON_move_Func003001003)),function Trig_GREENDRAGON_move_Func003A)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Bansho_Tenin[$90]),"Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl")
call DestroyEffect(bj_lastCreatedEffect)
if(Trig_GREENDRAGON_move_Func006C())then
call DisableTrigger(GetTriggeringTrigger())
call CreateNUnitsAtLoc(1,'h03V',Player($F),OffsetLocation(GetUnitLoc(udg_Bansho_Tenin[$90]),80.,135.),GetRandomReal(0,360))
set udg_Bansho_Tenin[$91]=bj_lastCreatedUnit
set udg_UnitGroups[$C5]=GetUnitsInRangeOfLocMatching(700.,GetUnitLoc(bj_lastCreatedUnit),Condition(function Trig_GREENDRAGON_move_Func006Func004002003))
call SetUnitAnimation(bj_lastCreatedUnit,"birth")
call UnitApplyTimedLifeBJ(6.,'BTLF',bj_lastCreatedUnit)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=8
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLoc(1,'u00F',Player($F),PolarProjectionBJ(GetUnitLoc(udg_Bansho_Tenin[$90]),350.,(I2R(bj_forLoopAIndex)*50.)),GetRandomReal(0,360))
call SetUnitAnimation(bj_lastCreatedUnit,"birth")
call UnitApplyTimedLifeBJ(6.,'BTLF',bj_lastCreatedUnit)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call ForGroupBJ(udg_UnitGroups[$C5],function Trig_GREENDRAGON_move_Func006Func008A)
call EnableTrigger(gg_trg_GREENDRAGON_time)
call CreateNUnitsAtLoc(1,'u00F',Player($F),GetUnitLoc(udg_Bansho_Tenin[$90]),GetRandomReal(0,360))
call SetUnitScalePercent(bj_lastCreatedUnit,400.,400.,400.)
call SetUnitAnimation(bj_lastCreatedUnit,"birth")
call UnitApplyTimedLifeBJ(6.,'BTLF',bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'u00G',Player($F),GetUnitLoc(udg_Bansho_Tenin[$90]),GetRandomReal(0,360))
call SetUnitScalePercent(bj_lastCreatedUnit,1000.,1000.,1000.)
call SetUnitAnimation(bj_lastCreatedUnit,"birth")
call UnitApplyTimedLifeBJ(6.,'BTLF',bj_lastCreatedUnit)
call RemoveUnit(udg_Bansho_Tenin[$90])
call TriggerSleepAction(2)
call DisableTrigger(gg_trg_GREENDRAGON_time)
call TriggerSleepAction(4.)
call CreateNUnitsAtLoc(1,'h03S',GetOwningPlayer(udg_Bansho_Tenin[$8F]),udg_Pointhero[$78B],bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(5.,'BTLF',bj_lastCreatedUnit)
call SetUnitScalePercent(bj_lastCreatedUnit,70.,70.,70.)
call SetUnitFlyHeight(bj_lastCreatedUnit,-150.,999999.)
call ForGroupBJ(udg_UnitGroups[$C5],function Trig_GREENDRAGON_move_Func006Func026A)
set udg_Bansho_Tenin[$90]=null
set udg_Bansho_Tenin[$8F]=null
set udg_Bansho_Tenin[$91]=null
call RemoveLocation(udg_Pointhero[$78B])
set udg_Pointhero[$78B]=null
call DestroyGroup(udg_UnitGroups[$C5])
set udg_UnitGroups[$C5]=null
endif
endfunction
function InitTrig_GREENDRAGON_move takes nothing returns nothing
set gg_trg_GREENDRAGON_move=CreateTrigger()
call DisableTrigger(gg_trg_GREENDRAGON_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_GREENDRAGON_move,.08)
call TriggerAddAction(gg_trg_GREENDRAGON_move,function Trig_GREENDRAGON_move_Actions)
endfunction
function Trig_GREENDRAGON_time_Actions takes nothing returns nothing
set udg_PeinReal[$C0]=(udg_PeinReal[$C0]+1.)
call SetUnitScalePercent(udg_Bansho_Tenin[$91],udg_PeinReal[$C0],udg_PeinReal[$C0],udg_PeinReal[$C0])
endfunction
function InitTrig_GREENDRAGON_time takes nothing returns nothing
set gg_trg_GREENDRAGON_time=CreateTrigger()
call DisableTrigger(gg_trg_GREENDRAGON_time)
call TriggerRegisterTimerEventPeriodic(gg_trg_GREENDRAGON_time,.03)
call TriggerAddAction(gg_trg_GREENDRAGON_time,function Trig_GREENDRAGON_time_Actions)
endfunction
function Trig_ABSORPTION_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A06G')
endfunction
function Trig_ABSORPTION_Actions takes nothing returns nothing
set udg_Bansho_Tenin[$94]=GetSpellAbilityUnit()
call PauseUnit(udg_Bansho_Tenin[$94],true)
call UnitAddAbility(udg_Bansho_Tenin[$94],'A05Q')
call UnitAddAbility(udg_Bansho_Tenin[$94],'A06H')
call EnableTrigger(gg_trg_ABSORPTION_end)
call TriggerSleepAction(10.)
call DisableTrigger(gg_trg_ABSORPTION_end)
call UnitRemoveBuffsBJ(1,udg_Bansho_Tenin[$94])
call PauseUnit(udg_Bansho_Tenin[$94],false)
call UnitRemoveAbility(udg_Bansho_Tenin[$94],'A05Q')
call UnitRemoveAbility(udg_Bansho_Tenin[$94],'A06H')
set udg_Bansho_Tenin[$94]=null
endfunction
function InitTrig_ABSORPTION takes nothing returns nothing
set gg_trg_ABSORPTION=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ABSORPTION,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_ABSORPTION,Condition(function Trig_ABSORPTION_Conditions))
call TriggerAddAction(gg_trg_ABSORPTION,function Trig_ABSORPTION_Actions)
endfunction
function Trig_ABSORPTION_end_Conditions takes nothing returns boolean
return(GetTriggerUnit()==udg_Bansho_Tenin[$94])
endfunction
function Trig_ABSORPTION_end_Actions takes nothing returns nothing
call UnitRemoveBuffsBJ(1,udg_Bansho_Tenin[$94])
call PauseUnit(udg_Bansho_Tenin[$94],false)
call UnitRemoveAbility(udg_Bansho_Tenin[$94],'A05Q')
call UnitRemoveAbility(udg_Bansho_Tenin[$94],'A06H')
call TriggerSleepAction(.02)
set udg_Bansho_Tenin[$94]=null
endfunction
function InitTrig_ABSORPTION_end takes nothing returns nothing
set gg_trg_ABSORPTION_end=CreateTrigger()
call DisableTrigger(gg_trg_ABSORPTION_end)
call TriggerRegisterAnyUnitEventBJ(gg_trg_ABSORPTION_end,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_ABSORPTION_end,Condition(function Trig_ABSORPTION_end_Conditions))
call TriggerAddAction(gg_trg_ABSORPTION_end,function Trig_ABSORPTION_end_Actions)
endfunction
function Trig_SUSANNO_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A06A')
endfunction
function Trig_SUSANNO_Func012C takes nothing returns boolean
return(GetOwningPlayer(udg_Bansho_Tenin[$92])==Player($F))
endfunction
function Trig_SUSANNO_Actions takes nothing returns nothing
set udg_Bansho_Tenin[$92]=GetSpellAbilityUnit()
call UnitAddAbility(udg_Bansho_Tenin[$92],'A02C')
call CreateNUnitsAtLoc(1,'u00B',GetOwningPlayer(udg_Bansho_Tenin[$92]),GetUnitLoc(udg_Bansho_Tenin[$92]),GetUnitFacing(udg_Bansho_Tenin[$92]))
set udg_Bansho_Tenin[$93]=bj_lastCreatedUnit
call SetUnitVertexColorBJ(bj_lastCreatedUnit,'d','d','d',30.)
call AddSpecialEffectLocBJ(GetUnitLoc(udg_Bansho_Tenin[$92]),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call EnableTrigger(gg_trg_SUSANNO_move)
call EnableTrigger(gg_trg_SUSANNO_attack)
call EnableTrigger(gg_trg_SUSANNO_die)
call TriggerSleepAction(30.)
if(Trig_SUSANNO_Func012C())then
else
call DisableTrigger(gg_trg_SUSANNO_move)
call DisableTrigger(gg_trg_SUSANNO_attack)
call DisableTrigger(gg_trg_SUSANNO_die)
call RemoveUnit(udg_Bansho_Tenin[$93])
call UnitRemoveAbility(udg_Bansho_Tenin[$92],'A02C')
set udg_Bansho_Tenin[$92]=null
set udg_Bansho_Tenin[$93]=null
endif
endfunction
function InitTrig_SUSANNO takes nothing returns nothing
set gg_trg_SUSANNO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_SUSANNO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_SUSANNO,Condition(function Trig_SUSANNO_Conditions))
call TriggerAddAction(gg_trg_SUSANNO,function Trig_SUSANNO_Actions)
endfunction
function Trig_SUSANNO_move_Func002A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_SUSANNO_move_Actions takes nothing returns nothing
call SetUnitPositionLocFacingBJ(udg_Bansho_Tenin[$93],GetUnitLoc(udg_Bansho_Tenin[$92]),GetUnitFacing(udg_Bansho_Tenin[$92]))
call EnumDestructablesInCircleBJ(400.,GetUnitLoc(udg_Bansho_Tenin[$92]),function Trig_SUSANNO_move_Func002A)
endfunction
function InitTrig_SUSANNO_move takes nothing returns nothing
set gg_trg_SUSANNO_move=CreateTrigger()
call DisableTrigger(gg_trg_SUSANNO_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_SUSANNO_move,.01)
call TriggerAddAction(gg_trg_SUSANNO_move,function Trig_SUSANNO_move_Actions)
endfunction
function Trig_SUSANNO_attack_Conditions takes nothing returns boolean
return(GetAttacker()==udg_Bansho_Tenin[$92])
endfunction
function Trig_SUSANNO_attack_Actions takes nothing returns nothing
call SetUnitAnimation(udg_Bansho_Tenin[$93],"attack")
call SetUnitAnimation(udg_Bansho_Tenin[$92],"stand")
call TriggerSleepAction(.23)
call SetUnitAnimation(udg_Bansho_Tenin[$93],"stand")
endfunction
function InitTrig_SUSANNO_attack takes nothing returns nothing
set gg_trg_SUSANNO_attack=CreateTrigger()
call DisableTrigger(gg_trg_SUSANNO_attack)
call TriggerRegisterAnyUnitEventBJ(gg_trg_SUSANNO_attack,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_SUSANNO_attack,Condition(function Trig_SUSANNO_attack_Conditions))
call TriggerAddAction(gg_trg_SUSANNO_attack,function Trig_SUSANNO_attack_Actions)
endfunction
function Trig_SUSANNO_die_Conditions takes nothing returns boolean
return(GetDyingUnit()==udg_Bansho_Tenin[$92])
endfunction
function Trig_SUSANNO_die_Actions takes nothing returns nothing
call DisableTrigger(gg_trg_SUSANNO_move)
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_SUSANNO_attack)
call RemoveUnit(udg_Bansho_Tenin[$93])
call UnitRemoveAbility(udg_Bansho_Tenin[$92],'A02C')
set udg_Bansho_Tenin[$92]=null
set udg_Bansho_Tenin[$93]=null
endfunction
function InitTrig_SUSANNO_die takes nothing returns nothing
set gg_trg_SUSANNO_die=CreateTrigger()
call DisableTrigger(gg_trg_SUSANNO_die)
call TriggerRegisterAnyUnitEventBJ(gg_trg_SUSANNO_die,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_SUSANNO_die,Condition(function Trig_SUSANNO_die_Conditions))
call TriggerAddAction(gg_trg_SUSANNO_die,function Trig_SUSANNO_die_Actions)
endfunction
function Trig_SUSANNO2_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A06M')
endfunction
function Trig_SUSANNO2_Actions takes nothing returns nothing
call DisableTrigger(gg_trg_SUSANNO_move)
call DisableTrigger(gg_trg_SUSANNO_attack)
call DisableTrigger(gg_trg_SUSANNO_die)
call RemoveUnit(udg_Bansho_Tenin[$93])
call UnitRemoveAbility(udg_Bansho_Tenin[$92],'A02C')
set udg_Bansho_Tenin[$92]=null
set udg_Bansho_Tenin[$93]=null
set udg_Bansho_Tenin[$92]=GetSpellAbilityUnit()
call SetUnitInvulnerable(udg_Bansho_Tenin[$92],true)
call UnitAddAbility(udg_Bansho_Tenin[$92],'Arav')
call ShowUnitHide(udg_Bansho_Tenin[$92])
call CreateNUnitsAtLoc(1,'H00T',GetOwningPlayer(udg_Bansho_Tenin[$92]),GetUnitLoc(udg_Bansho_Tenin[$92]),GetUnitFacing(udg_Bansho_Tenin[$92]))
set udg_Bansho_Tenin[$93]=bj_lastCreatedUnit
call SetHeroLevelBJ(udg_Bansho_Tenin[$93],30,false)
call SetUnitOwner(udg_Bansho_Tenin[$92],Player($F),true)
call ResetUnitAnimation(udg_Bansho_Tenin[$92])
call SetUnitFlyHeight(udg_Bansho_Tenin[$92],600.,1400.)
call PauseUnit(udg_Bansho_Tenin[$93],true)
call EnableTrigger(gg_trg_SUSANNO2_move)
call EnableTrigger(gg_trg_SUSANNO2_die)
call CreateNUnitsAtLoc(1,'h03P',Player($F),GetUnitLoc(udg_Bansho_Tenin[$93]),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.5,'BTLF',bj_lastCreatedUnit)
call SetUnitVertexColorBJ(udg_Bansho_Tenin[$93],'d','d','d',86.)
call CreateTextTagUnitBJ("20%",udg_Bansho_Tenin[$93],0,20.,'d',30.,30.,0)
set udg_Text[1]=bj_lastCreatedTextTag
call TriggerSleepAction(.05)
call CreateNUnitsAtLoc(1,'h03P',Player($F),GetUnitLoc(udg_Bansho_Tenin[$93]),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.5,'BTLF',bj_lastCreatedUnit)
call SetUnitVertexColorBJ(udg_Bansho_Tenin[$93],'d','d','d',76.)
call DestroyTextTag(udg_Text[1])
call CreateTextTagUnitBJ("40%",udg_Bansho_Tenin[$93],0,20.,'d',30.,30.,0)
set udg_Text[1]=bj_lastCreatedTextTag
call TriggerSleepAction(.05)
call CreateNUnitsAtLoc(1,'h03P',Player($F),GetUnitLoc(udg_Bansho_Tenin[$93]),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.5,'BTLF',bj_lastCreatedUnit)
call SetUnitVertexColorBJ(udg_Bansho_Tenin[$93],'d','d','d',67.)
call DestroyTextTag(udg_Text[1])
call CreateTextTagUnitBJ("60%",udg_Bansho_Tenin[$93],0,60.,'d',30.,30.,0)
set udg_Text[1]=bj_lastCreatedTextTag
call TriggerSleepAction(.05)
call CreateNUnitsAtLoc(1,'h03P',Player($F),GetUnitLoc(udg_Bansho_Tenin[$93]),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.5,'BTLF',bj_lastCreatedUnit)
call SetUnitVertexColorBJ(udg_Bansho_Tenin[$93],'d','d','d',48.)
call DestroyTextTag(udg_Text[1])
call CreateTextTagUnitBJ("80%",udg_Bansho_Tenin[$93],0,60.,'d',30.,30.,0)
set udg_Text[1]=bj_lastCreatedTextTag
call TriggerSleepAction(.05)
call CreateNUnitsAtLoc(1,'h03P',Player($F),GetUnitLoc(udg_Bansho_Tenin[$93]),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.5,'BTLF',bj_lastCreatedUnit)
call SetUnitVertexColorBJ(udg_Bansho_Tenin[$93],'d','d','d',27.)
call DestroyTextTag(udg_Text[1])
call CreateTextTagUnitBJ("100%",udg_Bansho_Tenin[$93],0,60.,'d',30.,30.,0)
set udg_Text[1]=bj_lastCreatedTextTag
call TriggerSleepAction(.05)
call DestroyTextTag(udg_Text[1])
call PauseUnit(udg_Bansho_Tenin[$93],false)
call SelectUnitForPlayerSingle(udg_Bansho_Tenin[$93],GetOwningPlayer(udg_Bansho_Tenin[$93]))
call TriggerSleepAction(100.)
call SetUnitFlyHeight(udg_Bansho_Tenin[$92],.0,1400.)
call TriggerSleepAction(1.)
call CreateNUnitsAtLoc(1,'h03P',Player($F),GetUnitLoc(udg_Bansho_Tenin[$93]),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.5,'BTLF',bj_lastCreatedUnit)
call UnitRemoveAbility(udg_Bansho_Tenin[$92],'Arav')
call SelectUnitForPlayerSingle(udg_Bansho_Tenin[$93],GetOwningPlayer(udg_Bansho_Tenin[$92]))
call SetUnitOwner(udg_Bansho_Tenin[$92],GetOwningPlayer(udg_Bansho_Tenin[$93]),true)
call RemoveUnit(udg_Bansho_Tenin[$93])
call SetUnitInvulnerable(udg_Bansho_Tenin[$92],false)
call DisableTrigger(gg_trg_SUSANNO2_move)
call DisableTrigger(gg_trg_SUSANNO2_die)
call ShowUnitShow(udg_Bansho_Tenin[$92])
set udg_Bansho_Tenin[$92]=null
set udg_Bansho_Tenin[$93]=null
endfunction
function InitTrig_SUSANNO2 takes nothing returns nothing
set gg_trg_SUSANNO2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_SUSANNO2,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_SUSANNO2,Condition(function Trig_SUSANNO2_Conditions))
call TriggerAddAction(gg_trg_SUSANNO2,function Trig_SUSANNO2_Actions)
endfunction
function Trig_SUSANNO2_move_Func002A takes nothing returns nothing
call KillDestructable(GetEnumDestructable())
endfunction
function Trig_SUSANNO2_move_Actions takes nothing returns nothing
call SetUnitPositionLocFacingBJ(udg_Bansho_Tenin[$92],GetUnitLoc(udg_Bansho_Tenin[$93]),GetUnitFacing(udg_Bansho_Tenin[$93]))
call EnumDestructablesInCircleBJ(400.,GetUnitLoc(udg_Bansho_Tenin[$93]),function Trig_SUSANNO2_move_Func002A)
endfunction
function InitTrig_SUSANNO2_move takes nothing returns nothing
set gg_trg_SUSANNO2_move=CreateTrigger()
call DisableTrigger(gg_trg_SUSANNO2_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_SUSANNO2_move,.01)
call TriggerAddAction(gg_trg_SUSANNO2_move,function Trig_SUSANNO2_move_Actions)
endfunction
function Trig_SUSANNO2_die_Conditions takes nothing returns boolean
return(GetDyingUnit()==udg_Bansho_Tenin[$93])
endfunction
function Trig_SUSANNO2_die_Actions takes nothing returns nothing
call SetUnitFlyHeight(udg_Bansho_Tenin[$92],.0,1400.)
call UnitRemoveAbility(udg_Bansho_Tenin[$92],'Arav')
call SelectUnitForPlayerSingle(udg_Bansho_Tenin[$93],GetOwningPlayer(udg_Bansho_Tenin[$92]))
call SetUnitOwner(udg_Bansho_Tenin[$92],GetOwningPlayer(udg_Bansho_Tenin[$93]),true)
call RemoveUnit(udg_Bansho_Tenin[$93])
call SetUnitInvulnerable(udg_Bansho_Tenin[$92],false)
call DisableTrigger(gg_trg_SUSANNO2_move)
call ShowUnitShow(udg_Bansho_Tenin[$92])
set udg_Bansho_Tenin[$92]=null
set udg_Bansho_Tenin[$93]=null
endfunction
function InitTrig_SUSANNO2_die takes nothing returns nothing
set gg_trg_SUSANNO2_die=CreateTrigger()
call DisableTrigger(gg_trg_SUSANNO2_die)
call TriggerRegisterAnyUnitEventBJ(gg_trg_SUSANNO2_die,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_SUSANNO2_die,Condition(function Trig_SUSANNO2_die_Conditions))
call TriggerAddAction(gg_trg_SUSANNO2_die,function Trig_SUSANNO2_die_Actions)
endfunction
function Meteor_Act takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
local unit b=LoadUnitHandle(hash,GetHandleId(t),2)
local unit n
local group g
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(a),'h03C',GetUnitX(b),GetUnitY(b),GetUnitFacing(a)),'BTLF',1)
set g=CreateGroup()
call GroupEnumUnitsInRange(g,GetUnitX(b),GetUnitY(b),400,null)
loop
set n=FirstOfGroup(g)
exitwhen n==null
if IsUnitEnemy(n,GetOwningPlayer(a)) then
call UnitDamageTarget(a,n,'d',false,false,null,null,null)
call PauseUnit(n,true)
endif
call GroupRemoveUnit(g,n)
endloop
call DestroyGroup(g)
set a=null
set b=null
set n=null
set g=null
set t=null
endfunction
function Meteor takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local timer t=CreateTimer()
local unit b
local real cound=0
local unit n
local group g
call PauseUnit(a,true)
call SetUnitAnimation(udg_Bansho_Tenin[$93],"Spell")
call TriggerSleepAction(1)
set b=CreateUnit(GetOwningPlayer(a),'h039',x,y,GetUnitFacing(a))
call SetUnitTimeScale(b,27*.01)
call TriggerSleepAction(1.55)
call SetUnitTimeScale(b,2*.01)
call SaveUnitHandle(hash,GetHandleId(t),1,a)
call SaveUnitHandle(hash,GetHandleId(t),2,b)
call TimerStart(t,.1,true,function Meteor_Act)
call TriggerSleepAction(1.6)
call PauseTimer(t)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(a),'h03B',GetUnitX(b),GetUnitY(b),GetUnitFacing(a)),'BTLF',3)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(a),'h03A',GetUnitX(b),GetUnitY(b),GetUnitFacing(a)),'BTLF',3)
call SetUnitTimeScale(b,27*.01)
call TriggerSleepAction(3.75)
loop
exitwhen cound==30
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(a),'h03B',x+'d'*Cos((cound*$C)*bj_DEGTORAD),y+'d'*Sin((cound*$C)*bj_DEGTORAD),GetUnitFacing(a)),'BTLF',3)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(a),'h03B',x+$C8*Cos((cound*$C)*bj_DEGTORAD),y+$C8*Sin((cound*$C)*bj_DEGTORAD),GetUnitFacing(a)),'BTLF',3)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(a),'h03B',x+400*Cos((cound*$C)*bj_DEGTORAD),y+400*Sin((cound*$C)*bj_DEGTORAD),GetUnitFacing(a)),'BTLF',3)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(a),'h03B',x+600*Cos((cound*$C)*bj_DEGTORAD),y+600*Sin((cound*$C)*bj_DEGTORAD),GetUnitFacing(a)),'BTLF',3)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(a),'h03A',x+'d'*Cos((cound*$C)*bj_DEGTORAD),y+'d'*Sin((cound*$C)*bj_DEGTORAD),GetUnitFacing(a)),'BTLF',3)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(a),'h03A',x+$C8*Cos((cound*$C)*bj_DEGTORAD),y+$C8*Sin((cound*$C)*bj_DEGTORAD),GetUnitFacing(a)),'BTLF',3)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(a),'h03A',x+400*Cos((cound*$C)*bj_DEGTORAD),y+400*Sin((cound*$C)*bj_DEGTORAD),GetUnitFacing(a)),'BTLF',3)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(a),'h03A',x+600*Cos((cound*$C)*bj_DEGTORAD),y+600*Sin((cound*$C)*bj_DEGTORAD),GetUnitFacing(a)),'BTLF',3)
set cound=cound+2.5
endloop
set g=CreateGroup()
call GroupEnumUnitsInRange(g,x,y,780,null)
loop
set n=FirstOfGroup(g)
exitwhen n==null
if IsUnitEnemy(n,GetOwningPlayer(a)) then
call UnitDamageTarget(a,n,$3E8,false,false,null,null,null)
call PauseUnit(n,false)
endif
call GroupRemoveUnit(g,n)
endloop
call DestroyGroup(g)
call PauseUnit(a,false)
call RemoveUnit(b)
call SetUnitAnimation(udg_Bansho_Tenin[$93],"stand")
set a=null
set b=null
set t=null
set n=null
set g=null
endfunction
function Meteor_Cond takes nothing returns boolean
return GetSpellAbilityId()=='A04N'
endfunction
function InitTrig_Meteor takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==$E
endloop
call TriggerAddCondition(t,Condition(function Meteor_Cond))
call TriggerAddAction(t,function Meteor)
set t=null
endfunction
function remove_Cond takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())=='h03C' or GetUnitTypeId(GetDyingUnit())=='h03B' or GetUnitTypeId(GetDyingUnit())=='h03A'
endfunction
function remove takes nothing returns nothing
local unit a=GetDyingUnit()
call RemoveUnit(a)
set a=null
endfunction
function InitTrig_remove takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==$E
endloop
call TriggerAddCondition(t,Condition(function remove_Cond))
call TriggerAddAction(t,function remove)
set t=null
endfunction
function Trig_RicudoMadaraLighting_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A07R'
endfunction
function Trig_RicudoMadaraLighting_Actions takes nothing returns nothing
local unit u=GetTriggerUnit()
local real x=GetWidgetX(u)+'d'*Cos(GetUnitFacing(u)*bj_DEGTORAD)
local real y=GetWidgetY(u)+'d'*Sin(GetUnitFacing(u)*bj_DEGTORAD)
local integer i=0
local integer i2=0
local group g=CreateGroup()
local unit tg
call TriggerSleepAction(.05)
call SetUnitTimeScale(u,20*.01)
call PauseUnit(u,true)
call SetUnitInvulnerable(u,true)
call UnitApplyTimedLife(CreateUnit(Player($C),'h03Z',x,y,GetUnitFacing(u)),1,3)
set i=1
set i2=3
loop
exitwhen i>i2
set x=GetWidgetX(u)+400*Cos(GetUnitFacing(u)*bj_DEGTORAD)
set y=GetWidgetY(u)+400*Sin(GetUnitFacing(u)*bj_DEGTORAD)
call GroupEnumUnitsInRange(g,x,y,400,null)
loop
set tg=FirstOfGroup(g)
exitwhen tg==null
if(IsUnitEnemy(tg,GetOwningPlayer(u))and not IsUnitType(tg,UNIT_TYPE_DEAD)and not IsUnitType(tg,UNIT_TYPE_STRUCTURE))then
call UnitDamageTarget(u,tg,$9C4,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(g,tg)
endloop
set x=GetWidgetX(u)+800*Cos(GetUnitFacing(u)*bj_DEGTORAD)
set y=GetWidgetY(u)+800*Sin(GetUnitFacing(u)*bj_DEGTORAD)
call TriggerSleepAction(.5)
call GroupEnumUnitsInRange(g,x,y,800,null)
loop
set tg=FirstOfGroup(g)
exitwhen tg==null
if(IsUnitEnemy(tg,GetOwningPlayer(u))and not IsUnitType(tg,UNIT_TYPE_DEAD)and not IsUnitType(tg,UNIT_TYPE_STRUCTURE))then
call UnitDamageTarget(u,tg,$9C4,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(g,tg)
endloop
call TriggerSleepAction(.5)
set i=i+1
endloop
call DestroyGroup(g)
call PauseUnit(u,false)
call SetUnitInvulnerable(u,false)
call SetUnitTimeScale(u,'d'*.01)
call SetUnitAnimation(u,"stand ready")
set u=null
set g=null
set tg=null
endfunction
function InitTrig_RicudoMadaraLighting takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_RicudoMadaraLighting_Conditions))
call TriggerAddAction(t,function Trig_RicudoMadaraLighting_Actions)
set t=null
endfunction
function Trig_RicudoMadaraMeteor_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A07N'
endfunction
function Trig_RicudoMadaraMeteor_Actions takes nothing returns nothing
local unit u=GetTriggerUnit()
local real x=GetSpellTargetX()
local real y=GetSpellTargetY()
local group g=CreateGroup()
local unit tg
local integer i=0
local integer i2=0
set i=1
set i2=9
loop
exitwhen i>i2
set x=GetWidgetX(u)+(GetRandomReal(-800,800))
set y=GetWidgetY(u)+(GetRandomReal(-800,800))
call UnitApplyTimedLife(CreateUnit(Player($C),'h00H',x,y,GetUnitFacing(u)),1,.8)
call TriggerSleepAction(.5)
call UnitApplyTimedLife(CreateUnit(Player($C),'h043',x,y,GetUnitFacing(u)),1,3)
call UnitApplyTimedLife(CreateUnit(Player($C),'h043',x,y,GetUnitFacing(u)),1,3)
call UnitApplyTimedLife(CreateUnit(Player($C),'h043',x,y,GetUnitFacing(u)),1,3)
call GroupEnumUnitsInRange(g,x,y,800,null)
loop
set tg=FirstOfGroup(g)
exitwhen tg==null
if(IsUnitEnemy(tg,GetOwningPlayer(u))and not IsUnitType(tg,UNIT_TYPE_DEAD)and not IsUnitType(tg,UNIT_TYPE_STRUCTURE))then
call UnitDamageTarget(u,tg,$3A98,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
endif
call GroupRemoveUnit(g,tg)
endloop
set i=i+1
endloop
call DestroyGroup(g)
set g=null
set tg=null
set u=null
endfunction
function InitTrig_RicudoMadaraMeteor takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_RicudoMadaraMeteor_Conditions))
call TriggerAddAction(t,function Trig_RicudoMadaraMeteor_Actions)
set t=null
endfunction
function Rashoumon_Hash_Cond takes nothing returns boolean
return GetSpellAbilityId()=='A0CG'
endfunction
function Rashoumon_Hash_Act takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local unit b
local unit b2
local unit b3
local unit b4
local unit b5
call PauseUnit(a,true)
call SetUnitAnimation(a,"spell two")
call UnitAddAbility(a,'A09T')
set b=CreateUnit(GetOwningPlayer(a),'o001',GetUnitX(a)+$C8*Cos(GetUnitFacing(a)*bj_DEGTORAD),GetUnitY(a)+$C8*Sin(GetUnitFacing(a)*bj_DEGTORAD),GetUnitFacing(a))
call SetUnitAnimation(b,"spell slam")
call UnitApplyTimedLife(b,'BTLF',$A)
set b2=CreateUnit(GetOwningPlayer(a),'o001',GetUnitX(b)+300*Cos(GetUnitFacing(a)*bj_DEGTORAD),GetUnitY(b)+300*Sin(GetUnitFacing(a)*bj_DEGTORAD),GetUnitFacing(a))
call SetUnitAnimation(b2,"spell one")
call UnitApplyTimedLife(b2,'BTLF',$A)
set b3=CreateUnit(GetOwningPlayer(a),'o001',GetUnitX(b2)+300*Cos(GetUnitFacing(a)*bj_DEGTORAD),GetUnitY(b2)+300*Sin(GetUnitFacing(a)*bj_DEGTORAD),GetUnitFacing(a))
call SetUnitAnimation(b3,"stand")
call UnitApplyTimedLife(b3,'BTLF',$A)
set b4=CreateUnit(GetOwningPlayer(a),'o001',GetUnitX(b3)+300*Cos(GetUnitFacing(a)*bj_DEGTORAD),GetUnitY(b3)+300*Sin(GetUnitFacing(a)*bj_DEGTORAD),GetUnitFacing(a))
call SetUnitAnimation(b4,"spell gold")
call UnitApplyTimedLife(b4,'BTLF',$A)
set b5=CreateUnit(GetOwningPlayer(a),'o001',GetUnitX(b4)+300*Cos(GetUnitFacing(a)*bj_DEGTORAD),GetUnitY(b4)+300*Sin(GetUnitFacing(a)*bj_DEGTORAD),GetUnitFacing(a))
call SetUnitAnimation(b5,"spell throw")
call UnitApplyTimedLife(b5,'BTLF',$A)
call TriggerSleepAction(1)
call PauseUnit(a,false)
set a=null
set b=null
set b2=null
set b3=null
set b4=null
set b5=null
endfunction
function InitTrig_Rashoumon_Hash takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Rashoumon_Hash_Cond))
call TriggerAddAction(t,function Rashoumon_Hash_Act)
set t=null
endfunction
function Rashoumon_Hash_remove_Cond takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())=='o001'
endfunction
function Rashoumon_Hash_remove takes nothing returns nothing
local unit a=GetDyingUnit()
call UnitRemoveAbility(a,'A09T')
call RemoveUnit(a)
set a=null
endfunction
function InitTrig_Rashoumon_Hash_remove takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==$E
endloop
call TriggerAddCondition(t,Condition(function Rashoumon_Hash_remove_Cond))
call TriggerAddAction(t,function Rashoumon_Hash_remove)
set t=null
endfunction
function MokutonJukaiKotan_Cond2 takes nothing returns boolean
return GetSpellAbilityId()=='A09G'
endfunction
function MokutonJukaiKotan_Act2 takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local real d=bj_RADTODEG*Atan2(GetSpellTargetY()-GetUnitY(a),GetSpellTargetX()-GetUnitX(a))
local unit b=CreateUnit(GetOwningPlayer(a),'h04Q',GetUnitX(a),GetUnitY(a),d)
call SetUnitAnimation(b,"birth")
call UnitDamageTarget(a,b,$3E8,true,false,null,null,null)
call TriggerSleepAction(.25)
call RemoveUnit(b)
set a=null
set b=null
endfunction
function InitTrig_MokutonJukaiKotan takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function MokutonJukaiKotan_Cond2))
call TriggerAddAction(t,function MokutonJukaiKotan_Act2)
set t=null
endfunction
function Trig_Remove_Mokoton_Func002C takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='h05T')or(GetUnitTypeId(GetDyingUnit())=='h05U')or(GetUnitTypeId(GetDyingUnit())=='h05W')or(GetUnitTypeId(GetDyingUnit())=='h05V')or(GetUnitTypeId(GetDyingUnit())=='h05X')or(GetUnitTypeId(GetDyingUnit())=='h05Z')or(GetUnitTypeId(GetDyingUnit())=='h05Y')
endfunction
function Trig_Remove_Mokoton_Conditions takes nothing returns boolean
return(Trig_Remove_Mokoton_Func002C())
endfunction
function Trig_Remove_Mokoton_Actions takes nothing returns nothing
call RemoveUnit(GetDyingUnit())
endfunction
function InitTrig_Remove_Mokoton takes nothing returns nothing
set gg_trg_Remove_Mokoton=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Remove_Mokoton,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Remove_Mokoton,Condition(function Trig_Remove_Mokoton_Conditions))
call TriggerAddAction(gg_trg_Remove_Mokoton,function Trig_Remove_Mokoton_Actions)
endfunction
function Trig_Mokuton_jukai_Koutan_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A0CD')
endfunction
function Trig_Mokuton_jukai_Koutan_Actions takes nothing returns nothing
set udg_UchihaMadara[6]=GetTriggerUnit()
set udg_UchihaMadaraPoint[$B]=GetUnitLoc(udg_UchihaMadara[6])
set udg_MadaraSusanoo_Player=GetOwningPlayer(udg_UchihaMadara[6])
set udg_UchihaMadaraPoint[$C]=GetSpellTargetLoc()
set udg_UchihaMadaraReal[2]=AngleBetweenPoints(udg_UchihaMadaraPoint[$B],udg_UchihaMadaraPoint[$C])
set udg_UchihaMadaraInteger[1]=0
set udg_UchihaMadaraReal[3]=(I2R(GetHeroStatBJ(0,udg_UchihaMadara[6],true))*10.)
set udg_UchihaMadaraReal[4]=200.
call PauseUnit(udg_UchihaMadara[6],true)
set udg_UchihaMadaraGroup[5]=CreateGroup()
call EnableTrigger(gg_trg_Mokuton_Jukai_Koutan_Loop)
endfunction
function InitTrig_Mokuton_jukai_Koutan takes nothing returns nothing
set gg_trg_Mokuton_jukai_Koutan=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Mokuton_jukai_Koutan,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Mokuton_jukai_Koutan,Condition(function Trig_Mokuton_jukai_Koutan_Conditions))
call TriggerAddAction(gg_trg_Mokuton_jukai_Koutan,function Trig_Mokuton_jukai_Koutan_Actions)
endfunction
function Trig_Mokuton_Jukai_Koutan_Loop_Func003Func001C takes nothing returns boolean
return(udg_UchihaMadaraInteger[1]==1)
endfunction
function Trig_Mokuton_Jukai_Koutan_Loop_Func003Func002Func007C takes nothing returns boolean
return(udg_UchihaMadaraInteger[1]==6)
endfunction
function Trig_Mokuton_Jukai_Koutan_Loop_Func003Func002Func008Func003002003001001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Mokuton_Jukai_Koutan_Loop_Func003Func002Func008Func003002003001002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),udg_MadaraSusanoo_Player))
endfunction
function Trig_Mokuton_Jukai_Koutan_Loop_Func003Func002Func008Func003002003001 takes nothing returns boolean
return GetBooleanAnd(Trig_Mokuton_Jukai_Koutan_Loop_Func003Func002Func008Func003002003001001(),Trig_Mokuton_Jukai_Koutan_Loop_Func003Func002Func008Func003002003001002())
endfunction
function Trig_Mokuton_Jukai_Koutan_Loop_Func003Func002Func008Func003002003002 takes nothing returns boolean
return(IsUnitPaused(GetFilterUnit())==false)
endfunction
function Trig_Mokuton_Jukai_Koutan_Loop_Func003Func002Func008Func003002003 takes nothing returns boolean
return GetBooleanAnd(Trig_Mokuton_Jukai_Koutan_Loop_Func003Func002Func008Func003002003001(),Trig_Mokuton_Jukai_Koutan_Loop_Func003Func002Func008Func003002003002())
endfunction
function Trig_Mokuton_Jukai_Koutan_Loop_Func003Func002Func008Func005A takes nothing returns nothing
set udg_UchihaMadaraPoint[19]=GetUnitLoc(GetEnumUnit())
call UnitDamageTargetBJ(udg_UchihaMadara[6],GetEnumUnit(),udg_UchihaMadaraReal[3],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_PLANT)
call CreateNUnitsAtLoc(1,'h05T',udg_MadaraSusanoo_Player,udg_UchihaMadaraPoint[19],bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,'A0CE')
call IssueTargetOrderById(bj_lastCreatedUnit,$D00CB,GetEnumUnit())
call UnitApplyTimedLifeBJ(.5,'BTLF',bj_lastCreatedUnit)
call RemoveLocation(udg_UchihaMadaraPoint[19])
endfunction
function Trig_Mokuton_Jukai_Koutan_Loop_Func003Func002Func008Func006C takes nothing returns boolean
return(udg_UchihaMadaraInteger[1]>7)
endfunction
function Trig_Mokuton_Jukai_Koutan_Loop_Func003Func002Func008Func007C takes nothing returns boolean
return(udg_UchihaMadaraInteger[1]==$F)
endfunction
function Trig_Mokuton_Jukai_Koutan_Loop_Func003Func002Func008A takes nothing returns nothing
set udg_UchihaMadaraPoint[17]=GetUnitLoc(GetEnumUnit())
set udg_UchihaMadaraPoint[18]=PolarProjectionBJ(udg_UchihaMadaraPoint[17],udg_UchihaMadaraReal[4],udg_UchihaMadaraReal[2])
set udg_UchihaMadaraGroup[7]=GetUnitsInRangeOfLocMatching(150.,udg_UchihaMadaraPoint[17],Condition(function Trig_Mokuton_Jukai_Koutan_Loop_Func003Func002Func008Func003002003))
call SetUnitPositionLoc(GetEnumUnit(),udg_UchihaMadaraPoint[18])
call ForGroupBJ(udg_UchihaMadaraGroup[7],function Trig_Mokuton_Jukai_Koutan_Loop_Func003Func002Func008Func005A)
if(Trig_Mokuton_Jukai_Koutan_Loop_Func003Func002Func008Func006C())then
call CreateNUnitsAtLoc(1,'h05W',udg_MadaraSusanoo_Player,udg_UchihaMadaraPoint[17],GetRandomReal(0,360))
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
call SetUnitAnimation(bj_lastCreatedUnit,"Stand")
call SetUnitTimeScalePercent(bj_lastCreatedUnit,60.)
call CreateNUnitsAtLoc(1,'h05V',udg_MadaraSusanoo_Player,udg_UchihaMadaraPoint[17],(udg_UchihaMadaraReal[2]+GetRandomReal(-30.,30.)))
call UnitApplyTimedLifeBJ(10.,'BTLF',bj_lastCreatedUnit)
call SetUnitScalePercent(bj_lastCreatedUnit,200.,200.,200.)
call SetUnitAnimation(bj_lastCreatedUnit,"Spell one")
call CreateNUnitsAtLoc(1,'h05X',udg_MadaraSusanoo_Player,udg_UchihaMadaraPoint[17],GetRandomReal(0,360))
call UnitApplyTimedLifeBJ(10.,'BTLF',bj_lastCreatedUnit)
call SetUnitAnimation(bj_lastCreatedUnit,"birth")
endif
if(Trig_Mokuton_Jukai_Koutan_Loop_Func003Func002Func008Func007C())then
call CreateNUnitsAtLoc(1,'h05Z',udg_MadaraSusanoo_Player,udg_UchihaMadaraPoint[17],udg_UchihaMadaraReal[2])
call UnitApplyTimedLifeBJ(10.,'BTLF',bj_lastCreatedUnit)
call SetUnitAnimation(bj_lastCreatedUnit,"birth")
endif
call RemoveLocation(udg_UchihaMadaraPoint[17])
call RemoveLocation(udg_UchihaMadaraPoint[18])
call DestroyGroup(udg_UchihaMadaraGroup[7])
endfunction
function Trig_Mokuton_Jukai_Koutan_Loop_Func003Func002C takes nothing returns boolean
return(udg_UchihaMadaraInteger[1]>5)and(udg_UchihaMadaraInteger[1]<=$F)
endfunction
function Trig_Mokuton_Jukai_Koutan_Loop_Func003Func003C takes nothing returns boolean
return(udg_UchihaMadaraInteger[1]==16)
endfunction
function Trig_Mokuton_Jukai_Koutan_Loop_Func003C takes nothing returns boolean
return(udg_UchihaMadaraInteger[1]>=1)
endfunction
function Trig_Mokuton_Jukai_Koutan_Loop_Actions takes nothing returns nothing
set udg_UchihaMadaraInteger[1]=(udg_UchihaMadaraInteger[1]+1)
if(Trig_Mokuton_Jukai_Koutan_Loop_Func003C())then
if(Trig_Mokuton_Jukai_Koutan_Loop_Func003Func001C())then
call SetUnitAnimation(udg_UchihaMadara[6],"Spell Five")
endif
if(Trig_Mokuton_Jukai_Koutan_Loop_Func003Func002C())then
set udg_UchihaMadaraPoint[$D]=PolarProjectionBJ(udg_UchihaMadaraPoint[$B],200.,(udg_UchihaMadaraReal[2]+90.))
set udg_UchihaMadaraPoint[$E]=PolarProjectionBJ(udg_UchihaMadaraPoint[$B],400.,(udg_UchihaMadaraReal[2]+90.))
set udg_UchihaMadaraPoint[$F]=PolarProjectionBJ(udg_UchihaMadaraPoint[$B],400.,(udg_UchihaMadaraReal[2]-90.))
set udg_UchihaMadaraPoint[16]=PolarProjectionBJ(udg_UchihaMadaraPoint[$B],200.,(udg_UchihaMadaraReal[2]-90.))
if(Trig_Mokuton_Jukai_Koutan_Loop_Func003Func002Func007C())then
call PauseUnit(udg_UchihaMadara[6],false)
call CreateNUnitsAtLoc(1,'h05T',udg_MadaraSusanoo_Player,udg_UchihaMadaraPoint[$D],(udg_UchihaMadaraReal[2]-5.))
call GroupAddUnit(udg_UchihaMadaraGroup[5],bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'h05T',udg_MadaraSusanoo_Player,udg_UchihaMadaraPoint[$E],(udg_UchihaMadaraReal[2]-.0))
call GroupAddUnit(udg_UchihaMadaraGroup[5],bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'h05T',udg_MadaraSusanoo_Player,udg_UchihaMadaraPoint[$F],(udg_UchihaMadaraReal[2]-.0))
call GroupAddUnit(udg_UchihaMadaraGroup[5],bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'h05T',udg_MadaraSusanoo_Player,udg_UchihaMadaraPoint[16],(udg_UchihaMadaraReal[2]-.0))
call GroupAddUnit(udg_UchihaMadaraGroup[5],bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'h05V',udg_MadaraSusanoo_Player,udg_UchihaMadaraPoint[$D],(udg_UchihaMadaraReal[2]-5.))
call UnitApplyTimedLifeBJ(10.,'BTLF',bj_lastCreatedUnit)
call SetUnitAnimation(bj_lastCreatedUnit,"Spell Four")
call CreateNUnitsAtLoc(1,'h05V',udg_MadaraSusanoo_Player,udg_UchihaMadaraPoint[$E],(udg_UchihaMadaraReal[2]-.0))
call UnitApplyTimedLifeBJ(10.,'BTLF',bj_lastCreatedUnit)
call SetUnitAnimation(bj_lastCreatedUnit,"Spell Four")
call CreateNUnitsAtLoc(1,'h05V',udg_MadaraSusanoo_Player,udg_UchihaMadaraPoint[$F],(udg_UchihaMadaraReal[2]+.0))
call UnitApplyTimedLifeBJ(10.,'BTLF',bj_lastCreatedUnit)
call SetUnitAnimation(bj_lastCreatedUnit,"Spell Four")
call CreateNUnitsAtLoc(1,'h05V',udg_MadaraSusanoo_Player,udg_UchihaMadaraPoint[16],(udg_UchihaMadaraReal[2]+5.))
call UnitApplyTimedLifeBJ(10.,'BTLF',bj_lastCreatedUnit)
call SetUnitAnimation(bj_lastCreatedUnit,"Spell Four")
endif
call ForGroupBJ(udg_UchihaMadaraGroup[5],function Trig_Mokuton_Jukai_Koutan_Loop_Func003Func002Func008A)
call RemoveLocation(udg_UchihaMadaraPoint[$D])
call RemoveLocation(udg_UchihaMadaraPoint[$E])
call RemoveLocation(udg_UchihaMadaraPoint[$F])
call RemoveLocation(udg_UchihaMadaraPoint[16])
endif
if(Trig_Mokuton_Jukai_Koutan_Loop_Func003Func003C())then
call PauseUnit(udg_UchihaMadara[6],false)
call DestroyGroup(udg_UchihaMadaraGroup[5])
call DisableTrigger(GetTriggeringTrigger())
endif
endif
endfunction
function InitTrig_Mokuton_Jukai_Koutan_Loop takes nothing returns nothing
set gg_trg_Mokuton_Jukai_Koutan_Loop=CreateTrigger()
call DisableTrigger(gg_trg_Mokuton_Jukai_Koutan_Loop)
call TriggerRegisterTimerEventPeriodic(gg_trg_Mokuton_Jukai_Koutan_Loop,.2)
call TriggerAddAction(gg_trg_Mokuton_Jukai_Koutan_Loop,function Trig_Mokuton_Jukai_Koutan_Loop_Actions)
endfunction
function Trig_Mokuton_kajukai_Kourin_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A0C9')
endfunction
function Trig_Mokuton_kajukai_Kourin_Func007C takes nothing returns boolean
return(GetUnitAbilityLevelSwapped('A0C9',udg_UchihaMadara[$C])==0)and(GetUnitTypeId(udg_UchihaMadara[$C])=='E00Y')
endfunction
function Trig_Mokuton_kajukai_Kourin_Actions takes nothing returns nothing
set udg_UchihaMadara[$C]=GetTriggerUnit()
set udg_UchihaMadaraPoint[30]=GetUnitLoc(udg_UchihaMadara[$C])
set udg_MadaraSusanoo_Player=GetOwningPlayer(udg_UchihaMadara[$C])
set udg_UchihaMadaraPoint[31]=GetSpellTargetLoc()
set udg_UchihaMadaraInteger[5]=0
set udg_UchihaMadaraReal[18]=(I2R(GetHeroStatBJ(0,udg_UchihaMadara[$C],false))*15.)
if(Trig_Mokuton_kajukai_Kourin_Func007C())then
endif
call EnableTrigger(gg_trg_Mokuton_Kajukai_Kourin_Loop)
endfunction
function InitTrig_Mokuton_kajukai_Kourin takes nothing returns nothing
set gg_trg_Mokuton_kajukai_Kourin=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Mokuton_kajukai_Kourin,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Mokuton_kajukai_Kourin,Condition(function Trig_Mokuton_kajukai_Kourin_Conditions))
call TriggerAddAction(gg_trg_Mokuton_kajukai_Kourin,function Trig_Mokuton_kajukai_Kourin_Actions)
endfunction
function Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func001C takes nothing returns boolean
return(udg_UchihaMadaraInteger[5]==1)
endfunction
function Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func002Func001002003001001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func002Func001002003001002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),udg_MadaraSusanoo_Player))
endfunction
function Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func002Func001002003001 takes nothing returns boolean
return GetBooleanAnd(Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func002Func001002003001001(),Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func002Func001002003001002())
endfunction
function Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func002Func001002003002 takes nothing returns boolean
return(IsUnitPaused(GetFilterUnit())==false)
endfunction
function Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func002Func001002003 takes nothing returns boolean
return GetBooleanAnd(Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func002Func001002003001(),Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func002Func001002003002())
endfunction
function Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func002Func005A takes nothing returns nothing
call UnitDamageTargetBJ(udg_UchihaMadara[$C],GetEnumUnit(),udg_UchihaMadaraReal[18],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_PLANT)
endfunction
function Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func002C takes nothing returns boolean
return(udg_UchihaMadaraInteger[5]==5)
endfunction
function Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func003C takes nothing returns boolean
return(udg_UchihaMadaraInteger[5]==$A)
endfunction
function Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func004Func001002003001001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=null
endfunction
function Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func004Func001002003001002 takes nothing returns boolean
return(IsUnitEnemy(GetFilterUnit(),udg_MadaraSusanoo_Player))
endfunction
function Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func004Func001002003001 takes nothing returns boolean
return GetBooleanAnd(Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func004Func001002003001001(),Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func004Func001002003001002())
endfunction
function Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func004Func001002003002 takes nothing returns boolean
return(IsUnitPaused(GetFilterUnit())==false)
endfunction
function Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func004Func001002003 takes nothing returns boolean
return GetBooleanAnd(Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func004Func001002003001(),Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func004Func001002003002())
endfunction
function Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func004Func004A takes nothing returns nothing
set udg_UchihaMadaraPoint[32]=GetUnitLoc(GetEnumUnit())
call CreateNUnitsAtLoc(1,'h05T',udg_MadaraSusanoo_Player,udg_UchihaMadaraPoint[32],GetRandomReal(0,360))
call UnitAddAbility(bj_lastCreatedUnit,'A0CA')
call IssueTargetOrderById(bj_lastCreatedUnit,$D02BC,GetEnumUnit())
call UnitApplyTimedLifeBJ(.5,'BTLF',bj_lastCreatedUnit)
call RemoveLocation(udg_UchihaMadaraPoint[32])
endfunction
function Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func004C takes nothing returns boolean
return(udg_UchihaMadaraInteger[5]==60)
endfunction
function Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func005Func003A takes nothing returns nothing
call UnitApplyTimedLifeBJ(4.,'BTLF',GetEnumUnit())
endfunction
function Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func005C takes nothing returns boolean
return(udg_UchihaMadaraInteger[5]==300)
endfunction
function Trig_Mokuton_Kajukai_Kourin_Loop_Func002C takes nothing returns boolean
return(udg_UchihaMadaraInteger[5]>=1)
endfunction
function Trig_Mokuton_Kajukai_Kourin_Loop_Actions takes nothing returns nothing
set udg_UchihaMadaraInteger[5]=(udg_UchihaMadaraInteger[5]+1)
if(Trig_Mokuton_Kajukai_Kourin_Loop_Func002C())then
if(Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func001C())then
call SetUnitAnimation(udg_UchihaMadara[$C],"Spell two")
set udg_UchihaMadaraGroup[$C]=CreateGroup()
endif
if(Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func002C())then
set udg_UchihaMadaraGroup[$D]=GetUnitsInRangeOfLocMatching(1000.,udg_UchihaMadaraPoint[31],Condition(function Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func002Func001002003))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=18
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_UchihaMadaraPoint[32]=PolarProjectionBJ(udg_UchihaMadaraPoint[31],1000.,(20.*I2R(bj_forLoopAIndex)))
set udg_UchihaMadaraPoint[33]=PolarProjectionBJ(udg_UchihaMadaraPoint[31],600.,(20.*I2R(bj_forLoopAIndex)))
call CreateNUnitsAtLoc(1,'h05U',udg_MadaraSusanoo_Player,udg_UchihaMadaraPoint[32],GetRandomReal(0,360))
call SetUnitScalePercent(bj_lastCreatedUnit,600.,600.,600.)
call GroupAddUnit(udg_UchihaMadaraGroup[$C],bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'h05V',udg_MadaraSusanoo_Player,udg_UchihaMadaraPoint[33],GetRandomReal(0,360))
call SetUnitAnimation(bj_lastCreatedUnit,"spell One")
call SetUnitScalePercent(bj_lastCreatedUnit,300.,300.,300.)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,70.)
call GroupAddUnit(udg_UchihaMadaraGroup[$C],bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'h05W',udg_MadaraSusanoo_Player,udg_UchihaMadaraPoint[33],GetRandomReal(0,360))
call SetUnitAnimation(bj_lastCreatedUnit,"Death")
call UnitApplyTimedLifeBJ(8.,'BTLF',bj_lastCreatedUnit)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,70.)
call CreateNUnitsAtLoc(1,'h05X',udg_MadaraSusanoo_Player,udg_UchihaMadaraPoint[32],GetRandomReal(0,360))
call SetUnitAnimation(bj_lastCreatedUnit,"birth")
call GroupAddUnit(udg_UchihaMadaraGroup[$C],bj_lastCreatedUnit)
call CreateNUnitsAtLoc(1,'h05U',udg_MadaraSusanoo_Player,udg_UchihaMadaraPoint[33],GetRandomReal(0,360))
call SetUnitScalePercent(bj_lastCreatedUnit,600.,600.,600.)
call SetUnitAnimation(bj_lastCreatedUnit,"spell slam")
call GroupAddUnit(udg_UchihaMadaraGroup[$C],bj_lastCreatedUnit)
call RemoveLocation(udg_UchihaMadaraPoint[32])
call RemoveLocation(udg_UchihaMadaraPoint[33])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=50
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_UchihaMadaraPoint[32]=PolarProjectionBJ(udg_UchihaMadaraPoint[31],1000.,(7.2*I2R(bj_forLoopAIndex)))
call CreateDestructableLoc('YTlb',udg_UchihaMadaraPoint[32],GetRandomReal(0,360),50.,0)
set udg_WoodBlockGroup[bj_forLoopAIndex]=bj_lastCreatedDestructable
call RemoveLocation(udg_UchihaMadaraPoint[32])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call ForGroupBJ(udg_UchihaMadaraGroup[$D],function Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func002Func005A)
call DestroyGroup(udg_UchihaMadaraGroup[$D])
endif
if(Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func003C())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_UchihaMadaraPoint[32]=PolarProjectionBJ(udg_UchihaMadaraPoint[31],500.,(90.*I2R(bj_forLoopAIndex)))
call CreateNUnitsAtLoc(1,'h05U',udg_MadaraSusanoo_Player,udg_UchihaMadaraPoint[32],GetRandomReal(0,360))
call SetUnitAnimation(bj_lastCreatedUnit,"Attack")
call SetUnitScalePercent(bj_lastCreatedUnit,400.,400.,400.)
call SetUnitFlyHeight(bj_lastCreatedUnit,-400.,.0)
call GroupAddUnit(udg_UchihaMadaraGroup[$C],bj_lastCreatedUnit)
call RemoveLocation(udg_UchihaMadaraPoint[32])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
if(Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func004C())then
set udg_UchihaMadaraGroup[$D]=GetUnitsInRangeOfLocMatching(1000.,udg_UchihaMadaraPoint[31],Condition(function Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func004Func001002003))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=$C
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_UchihaMadaraPoint[32]=PolarProjectionBJ(udg_UchihaMadaraPoint[31],500.,(30.*I2R(bj_forLoopAIndex)))
call CreateNUnitsAtLoc(1,'h05Y',udg_MadaraSusanoo_Player,udg_UchihaMadaraPoint[32],GetRandomReal(0,360))
call SetUnitScalePercent(bj_lastCreatedUnit,500.,500.,500.)
call SetUnitVertexColorBJ(bj_lastCreatedUnit,'d','d',.0,0)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,40.)
call UnitApplyTimedLifeBJ(5.,'BTLF',bj_lastCreatedUnit)
call GroupAddUnit(udg_UchihaMadaraGroup[$C],bj_lastCreatedUnit)
call RemoveLocation(udg_UchihaMadaraPoint[32])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call ForGroupBJ(udg_UchihaMadaraGroup[$D],function Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func004Func004A)
call RemoveLocation(udg_UchihaMadaraPoint[31])
call DestroyGroup(udg_UchihaMadaraGroup[$D])
endif
if(Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func005C())then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=50
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call RemoveDestructable(udg_WoodBlockGroup[bj_forLoopAIndex])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call ForGroupBJ(udg_UchihaMadaraGroup[$C],function Trig_Mokuton_Kajukai_Kourin_Loop_Func002Func005Func003A)
call DestroyGroup(udg_UchihaMadaraGroup[$C])
call DisableTrigger(GetTriggeringTrigger())
endif
endif
endfunction
function InitTrig_Mokuton_Kajukai_Kourin_Loop takes nothing returns nothing
set gg_trg_Mokuton_Kajukai_Kourin_Loop=CreateTrigger()
call DisableTrigger(gg_trg_Mokuton_Kajukai_Kourin_Loop)
call TriggerRegisterTimerEventPeriodic(gg_trg_Mokuton_Kajukai_Kourin_Loop,.05)
call TriggerAddAction(gg_trg_Mokuton_Kajukai_Kourin_Loop,function Trig_Mokuton_Kajukai_Kourin_Loop_Actions)
endfunction
function Trig_Shinsuusenju_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A0CF')
endfunction
function Trig_Shinsuusenju_Actions takes nothing returns nothing
set udg_SSJ_Tick=.0
set udg_SSJ_Caster=GetTriggerUnit()
set udg_SSJ_Caster_Point=GetUnitLoc(udg_SSJ_Caster)
set udg_SSJ_Target_Point=GetSpellTargetLoc()
call PauseUnit(udg_SSJ_Caster,true)
call CreateNUnitsAtLocFacingLocBJ(1,'h060',GetOwningPlayer(udg_SSJ_Caster),PolarProjectionBJ(udg_SSJ_Caster_Point,-200.,GetUnitFacing(udg_SSJ_Caster)),udg_SSJ_Target_Point)
set udg_SSJ_Buddha=bj_lastCreatedUnit
call CreateNUnitsAtLocFacingLocBJ(1,'h05T',GetOwningPlayer(udg_SSJ_Caster),PolarProjectionBJ(udg_SSJ_Caster_Point,-200.,GetUnitFacing(udg_SSJ_Caster)),udg_SSJ_Target_Point)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,50.)
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CreateNUnitsAtLocFacingLocBJ(1,'h061',GetOwningPlayer(udg_SSJ_Caster),PolarProjectionBJ(udg_SSJ_Caster_Point,(-250.-(50.*I2R(bj_forLoopAIndex))),GetUnitFacing(udg_SSJ_Caster)),udg_SSJ_Target_Point)
call SetUnitScalePercent(bj_lastCreatedUnit,(100.+(20.*I2R(bj_forLoopAIndex))),(100.+(20.*I2R(bj_forLoopAIndex))),(100.+(20.*I2R(bj_forLoopAIndex))))
call GroupAddUnit(udg_SSJ_HandGroup,bj_lastCreatedUnit)
call CreateNUnitsAtLocFacingLocBJ(1,'h05T',GetOwningPlayer(udg_SSJ_Caster),PolarProjectionBJ(udg_SSJ_Caster_Point,(-250.-(50.*I2R(bj_forLoopAIndex))),GetUnitFacing(udg_SSJ_Caster)),udg_SSJ_Target_Point)
call SetUnitTimeScalePercent(bj_lastCreatedUnit,50.)
call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call CreateNUnitsAtLocFacingLocBJ(1,'h062',GetOwningPlayer(udg_SSJ_Caster),PolarProjectionBJ(udg_SSJ_Caster_Point,-150.,GetUnitFacing(udg_SSJ_Caster)),udg_SSJ_Target_Point)
set udg_SSJ_HandPunch=bj_lastCreatedUnit
call TriggerSleepAction(1.)
call SetUnitAnimation(udg_SSJ_Buddha,"Spell")
call TriggerSleepAction(.3)
call EnableTrigger(gg_trg_Shinsuusenju_Punch)
call SetUnitAnimation(udg_SSJ_HandPunch,"Spell")
endfunction
function InitTrig_Shinsuusenju takes nothing returns nothing
set gg_trg_Shinsuusenju=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Shinsuusenju,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Shinsuusenju,Condition(function Trig_Shinsuusenju_Conditions))
call TriggerAddAction(gg_trg_Shinsuusenju,function Trig_Shinsuusenju_Actions)
endfunction
function Trig_Shinsuusenju_Punch_Func002Func004Func001C takes nothing returns boolean
return(IsUnitAliveBJ(GetEnumUnit()))and(IsPlayerEnemy(GetOwningPlayer(GetEnumUnit()),GetOwningPlayer(udg_SSJ_Caster)))
endfunction
function Trig_Shinsuusenju_Punch_Func002Func004A takes nothing returns nothing
if(Trig_Shinsuusenju_Punch_Func002Func004Func001C())then
call UnitDamageTargetBJ(udg_SSJ_Caster,GetEnumUnit(),(200.*I2R(GetUnitAbilityLevelSwapped('A0CF',udg_SSJ_Caster))),ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL)
endif
endfunction
function Trig_Shinsuusenju_Punch_Func002Func005A takes nothing returns nothing
call KillUnit(GetEnumUnit())
endfunction
function Trig_Shinsuusenju_Punch_Func002C takes nothing returns boolean
return(udg_SSJ_Tick>=(10.*I2R(GetUnitAbilityLevelSwapped('A0CF',udg_SSJ_Caster))))
endfunction
function Trig_Shinsuusenju_Punch_Actions takes nothing returns nothing
set udg_SSJ_Tick=(udg_SSJ_Tick+1.)
if(Trig_Shinsuusenju_Punch_Func002C())then
call PauseUnit(udg_SSJ_Caster,false)
call KillUnit(udg_SSJ_Buddha)
call ForGroupBJ(udg_SSJ_HandGroup,function Trig_Shinsuusenju_Punch_Func002Func005A)
call RemoveUnit(udg_SSJ_HandPunch)
call GroupClear(udg_SSJ_HandGroup)
call RemoveLocation(udg_SSJ_Caster_Point)
call RemoveLocation(udg_SSJ_Target_Point)
call DisableTrigger(GetTriggeringTrigger())
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call AddSpecialEffectLocBJ(PolarProjectionBJ(udg_SSJ_Target_Point,GetRandomReal(.0,500.),GetRandomReal(0,360)),"Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(PolarProjectionBJ(udg_SSJ_Target_Point,GetRandomReal(0,500.),GetRandomReal(0,360)),"Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call ForGroupBJ(GetUnitsInRangeOfLocAll(500.,udg_SSJ_Target_Point),function Trig_Shinsuusenju_Punch_Func002Func004A)
endif
endfunction
function InitTrig_Shinsuusenju_Punch takes nothing returns nothing
set gg_trg_Shinsuusenju_Punch=CreateTrigger()
call DisableTrigger(gg_trg_Shinsuusenju_Punch)
call TriggerRegisterTimerEventPeriodic(gg_trg_Shinsuusenju_Punch,.2)
call TriggerAddAction(gg_trg_Shinsuusenju_Punch,function Trig_Shinsuusenju_Punch_Actions)
endfunction
function Golem_Hash_Cond takes nothing returns boolean
return GetSpellAbilityId()=='A0CH'
endfunction
function Golem_Hash_Act takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local real d
local unit b
call PauseUnit(a,true)
call TriggerSleepAction(1)
call SetUnitAnimation(a,"Spell two")
set d=bj_RADTODEG*Atan2(GetSpellTargetY()-GetUnitY(a),GetSpellTargetX()-GetUnitX(a))
set b=CreateUnit(GetOwningPlayer(a),'h054',GetUnitX(a),GetUnitY(a),d)
call ShowUnit(a,false)
call TriggerSleepAction(60.)
call SetUnitPosition(a,GetUnitX(b),GetUnitY(b))
call ShowUnit(a,true)
call PauseUnit(a,false)
call RemoveUnit(b)
set a=null
set b=null
endfunction
function InitTrig_Golem_Hash takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Golem_Hash_Cond))
call TriggerAddAction(t,function Golem_Hash_Act)
set t=null
endfunction
function T_Kunai_Act takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
local unit b=LoadUnitHandle(hash,GetHandleId(t),2)
local group g
local unit n
call SetUnitPosition(b,GetUnitX(b)+$E*Cos(GetUnitFacing(b)*bj_DEGTORAD),GetUnitY(b)+$E*Sin(GetUnitFacing(b)*bj_DEGTORAD))
set g=CreateGroup()
call GroupEnumUnitsInRange(g,GetUnitX(b),GetUnitY(b),'d',null)
loop
set n=FirstOfGroup(g)
exitwhen n==null
if IsUnitEnemy(n,GetOwningPlayer(a)) and GetUnitState(n,UNIT_STATE_LIFE)>0 then
call SetUnitPosition(a,GetUnitX(n),GetUnitY(n))
call RemoveUnit(b)
call PauseTimer(t)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
endif
call GroupRemoveUnit(g,n)
endloop
call DestroyGroup(g)
set a=null
set b=null
set n=null
set g=null
set t=null
endfunction
function Tobirama_Kunai_Cond takes nothing returns boolean
return GetSpellAbilityId()=='A0BQ'
endfunction
function Tobirama_Kunai_Act takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local real r=bj_RADTODEG*Atan2(GetSpellTargetY()-GetUnitY(a),GetSpellTargetX()-GetUnitX(a))
local unit b
local timer t
call PauseUnit(a,true)
call TriggerSleepAction(.2)
call PauseUnit(a,false)
set b=CreateUnit(GetOwningPlayer(a),'h05M',GetUnitX(a)+$A*Cos(GetUnitFacing(a)*bj_DEGTORAD),GetUnitY(a)+$A*Sin(GetUnitFacing(a)*bj_DEGTORAD),r)
set t=CreateTimer()
call SaveUnitHandle(hash,GetHandleId(t),1,a)
call SaveUnitHandle(hash,GetHandleId(t),2,b)
call TimerStart(t,.02,true,function T_Kunai_Act)
call TriggerSleepAction(1)
if GetUnitState(b,UNIT_STATE_LIFE)>0 then
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(a),'h05J',GetUnitX(b),GetUnitY(b),0),'BTFL',60)
endif
call RemoveUnit(b)
call PauseTimer(t)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
set a=null
set t=null
set b=null
set r=0
endfunction
function InitTrig_Tobirama_Kunai takes nothing returns nothing
local trigger Kunai=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(Kunai,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(Kunai,Condition(function Tobirama_Kunai_Cond))
call TriggerAddAction(Kunai,function Tobirama_Kunai_Act)
set Kunai=null
endfunction
function Pechat_Tobirama_Cond takes nothing returns boolean
return GetSpellAbilityId()=='A0BS' and GetUnitAbilityLevel(GetSpellTargetUnit(),'B01V')>0
endfunction
function Pechat_Tobirama_Act takes nothing returns nothing
call SetUnitPositionLoc(GetSpellAbilityUnit(),GetUnitLoc(GetSpellTargetUnit()))
endfunction
function InitTrig_Pechat_Tobirama takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Pechat_Tobirama_Cond))
call TriggerAddAction(t,function Pechat_Tobirama_Act)
set t=null
endfunction
function Kunai_Move_Tobirama_Cond takes nothing returns boolean
return GetSpellAbilityId()=='A0BS' and GetUnitTypeId(GetSpellTargetUnit())=='h05J'
endfunction
function Kunai_Move_Tobirama_Act takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local unit b=GetSpellTargetUnit()
call SetUnitPosition(a,GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()))
set b=null
set a=null
endfunction
function InitTrig_Kunai_Move_Tobirama takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Kunai_Move_Tobirama_Cond))
call TriggerAddAction(t,function Kunai_Move_Tobirama_Act)
set t=null
endfunction
function Trig_Kage_bun_Tobirama_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A0BT'
endfunction
function Trig_Kage_bun_Tobirama_Actions takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
call CreateNUnitsAtLoc(1,'u00E',GetOwningPlayer(GetTriggerUnit()),GetUnitLoc(a),bj_UNIT_FACING)
call UnitApplyTimedLifeBJ(.5,'BTLF',bj_lastCreatedUnit)
call UnitAddItemByIdSwapped('I02M',bj_lastCreatedUnit)
call UnitUseItemTarget(bj_lastCreatedUnit,bj_lastCreatedItem,a)
call UnitUseItemTarget(bj_lastCreatedUnit,bj_lastCreatedItem,a)
call RemoveItem(bj_lastCreatedItem)
set a=null
endfunction
function InitTrig_Kage_bun_Tobirama takes nothing returns nothing
set gg_trg_Kage_bun_Tobirama=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kage_bun_Tobirama,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Kage_bun_Tobirama,Condition(function Trig_Kage_bun_Tobirama_Conditions))
call TriggerAddAction(gg_trg_Kage_bun_Tobirama,function Trig_Kage_bun_Tobirama_Actions)
endfunction
function Water_Tobirami_Cond takes nothing returns boolean
return GetSpellAbilityId()=='A0BU'
endfunction
function Water_Tobirami_Timer takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit u=LoadUnitHandle(hash,h,0)
local unit j=LoadUnitHandle(hash,h,1)
local integer time=LoadInteger(hash,h,2)
local real dmg=LoadReal(hash,h,3)
local group gm=LoadGroupHandle(hash,h,4)
local real a=LoadReal(hash,h,5)
local unit dummy=LoadUnitHandle(hash,h,6)
local real x=GetWidgetX(j)
local real y=GetWidgetY(j)
local group g=CreateGroup()
local unit tg
if time<28 then
call GroupEnumUnitsInRange(g,x,y,$FA,null)
loop
set tg=FirstOfGroup(g)
exitwhen tg==null
if(IsUnitEnemy(tg,GetOwningPlayer(u))and not IsUnitType(tg,UNIT_TYPE_DEAD)and not IsUnitType(tg,UNIT_TYPE_STRUCTURE)and IsUnitInGroup(tg,gm)==false)then
call UnitDamageTarget(u,tg,dmg,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)
call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",tg,"chest"))
call IssueTargetOrderById(dummy,$D006B,tg)
call GroupAddUnit(gm,tg)
endif
call GroupRemoveUnit(g,tg)
endloop
call SetUnitPosition(j,x+30*Cos(a*bj_DEGTORAD),y+30*Sin(a*bj_DEGTORAD))
call SaveInteger(hash,h,2,time+1)
call SaveGroupHandle(hash,h,4,gm)
else
call RemoveUnit(j)
call RemoveUnit(dummy)
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(hash,h)
call GroupClear(gm)
call DestroyGroup(gm)
endif
call DestroyGroup(g)
set g=null
set dummy=null
set tg=null
set u=null
set j=null
set t=null
set gm=null
endfunction
function Water_Tobirami_Act takes nothing returns nothing
local timer t=CreateTimer()
local integer h=GetHandleId(t)
local unit u=GetTriggerUnit()
local unit j
local unit dummy
local real x=GetWidgetX(u)
local real y=GetWidgetY(u)
local real x1=GetSpellTargetX()
local real y1=GetSpellTargetY()
local real a=bj_RADTODEG*Atan2(y1-y,x1-x)
local real dmg
local group gm=CreateGroup()
if(GetUnitAbilityLevel(u,'A0BU')==1)then
set dmg=$BB8+GetHeroInt(u,false)*2
endif
set dummy=CreateUnit(GetOwningPlayer(u),'u00E',x,y,bj_UNIT_FACING)
call UnitAddAbility(dummy,'A09D')
set j=CreateUnit(GetOwningPlayer(u),'h05N',x+80*Cos(a*bj_DEGTORAD),y+80*Sin(a*bj_DEGTORAD),a)
call SetUnitVertexColor(bj_lastCreatedUnit,$F0,$F0,$F0,$8C)
call UnitApplyTimedLife(bj_lastCreatedUnit,1,1)
call SetUnitTimeScale(bj_lastCreatedUnit,$96*.01)
call SaveAgentHandle(hash,h,0,u)
call SaveAgentHandle(hash,h,1,j)
call SaveReal(hash,h,3,dmg)
call SaveAgentHandle(hash,h,4,gm)
call SaveReal(hash,h,5,a)
call SaveAgentHandle(hash,h,6,dummy)
call TimerStart(t,.02,true,function Water_Tobirami_Timer)
set u=null
set dummy=null
set j=null
set gm=null
set t=null
endfunction
function InitTrig_Water_Tobirami takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Water_Tobirami_Cond))
call TriggerAddAction(t,function Water_Tobirami_Act)
set t=null
endfunction
function Trig_Remove_Dummy_Func002C takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='h063')or(GetUnitTypeId(GetDyingUnit())=='h05H')
endfunction
function Trig_Remove_Dummy_Conditions takes nothing returns boolean
return(Trig_Remove_Dummy_Func002C())
endfunction
function Trig_Remove_Dummy_Actions takes nothing returns nothing
call RemoveUnit(GetDyingUnit())
endfunction
function InitTrig_Remove_Dummy takes nothing returns nothing
set gg_trg_Remove_Dummy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Remove_Dummy,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Remove_Dummy,Condition(function Trig_Remove_Dummy_Conditions))
call TriggerAddAction(gg_trg_Remove_Dummy,function Trig_Remove_Dummy_Actions)
endfunction
function Trig_Shuriken_Kagebunshin_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A0CM')
endfunction
function Trig_Shuriken_Kagebunshin_Actions takes nothing returns nothing
set udg_ST_SK_Caster=GetTriggerUnit()
set udg_ST_SK_Point[1]=GetUnitLoc(udg_ST_SK_Caster)
set udg_ST_SK_Point[2]=GetSpellTargetLoc()
set udg_ST_SK_Real=.0
call EnableTrigger(gg_trg_Shuriken_Create)
endfunction
function InitTrig_Shuriken_Kagebunshin takes nothing returns nothing
set gg_trg_Shuriken_Kagebunshin=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Shuriken_Kagebunshin,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Shuriken_Kagebunshin,Condition(function Trig_Shuriken_Kagebunshin_Conditions))
call TriggerAddAction(gg_trg_Shuriken_Kagebunshin,function Trig_Shuriken_Kagebunshin_Actions)
endfunction
function Trig_Shuriken_Create_Func011C takes nothing returns boolean
return(udg_ST_SK_Real==25.)
endfunction
function Trig_Shuriken_Create_Actions takes nothing returns nothing
set udg_ST_SK_Real=(udg_ST_SK_Real+1)
set udg_ST_SK_Point[3]=PolarProjectionBJ(udg_ST_SK_Point[1],GetRandomReal(0,300.),GetRandomReal(0,360))
call CreateNUnitsAtLocFacingLocBJ(1,'h063',GetOwningPlayer(udg_ST_SK_Caster),udg_ST_SK_Point[1],udg_ST_SK_Point[2])
set udg_ST_SK_Point[4]=GetUnitLoc(bj_lastCreatedUnit)
call GroupAddUnit(udg_ST_SK_MoveGroup,bj_lastCreatedUnit)
call SetUnitPositionLoc(bj_lastCreatedUnit,udg_ST_SK_Point[3])
call AddSpecialEffectLocBJ(udg_ST_SK_Point[4],"Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(udg_ST_SK_Point[3])
call RemoveLocation(udg_ST_SK_Point[4])
if(Trig_Shuriken_Create_Func011C())then
call EnableTrigger(gg_trg_Shuriken_Move)
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function InitTrig_Shuriken_Create takes nothing returns nothing
set gg_trg_Shuriken_Create=CreateTrigger()
call DisableTrigger(gg_trg_Shuriken_Create)
call TriggerRegisterTimerEventPeriodic(gg_trg_Shuriken_Create,.05)
call TriggerAddAction(gg_trg_Shuriken_Create,function Trig_Shuriken_Create_Actions)
endfunction
function Trig_Shuriken_Move_Func002Func005Func001C takes nothing returns boolean
return(IsUnitDeadBJ(GetEnumUnit())==false)and(IsUnitEnemy(GetEnumUnit(),GetOwningPlayer(udg_ST_SK_Caster)))
endfunction
function Trig_Shuriken_Move_Func002Func005A takes nothing returns nothing
if(Trig_Shuriken_Move_Func002Func005Func001C())then
set udg_ST_SK_Point[7]=GetUnitLoc(GetEnumUnit())
call UnitDamageTargetBJ(udg_ST_SK_Caster,GetEnumUnit(),(100.*I2R(GetUnitAbilityLevelSwapped('A0CM',udg_ST_SK_Caster))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call AddSpecialEffectLocBJ(udg_ST_SK_Point[7],"Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call RemoveLocation(udg_ST_SK_Point[7])
endif
endfunction
function Trig_Shuriken_Move_Func002A takes nothing returns nothing
set udg_ST_SK_Point[5]=GetUnitLoc(GetEnumUnit())
set udg_ST_SK_Point[6]=PolarProjectionBJ(udg_ST_SK_Point[5],50.,GetUnitFacing(GetEnumUnit()))
call SetUnitPositionLoc(GetEnumUnit(),udg_ST_SK_Point[6])
set bj_wantDestroyGroup=true
call ForGroupBJ(GetUnitsInRangeOfLocAll(50.,udg_ST_SK_Point[5]),function Trig_Shuriken_Move_Func002Func005A)
call RemoveLocation(udg_ST_SK_Point[5])
call RemoveLocation(udg_ST_SK_Point[6])
endfunction
function Trig_Shuriken_Move_Func003Func001A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig_Shuriken_Move_Func003C takes nothing returns boolean
return(udg_ST_SK_Real>=60.)
endfunction
function Trig_Shuriken_Move_Actions takes nothing returns nothing
set udg_ST_SK_Real=(udg_ST_SK_Real+1.)
call ForGroupBJ(udg_ST_SK_MoveGroup,function Trig_Shuriken_Move_Func002A)
if(Trig_Shuriken_Move_Func003C())then
call ForGroupBJ(udg_ST_SK_MoveGroup,function Trig_Shuriken_Move_Func003Func001A)
call GroupClear(udg_ST_SK_MoveGroup)
call RemoveLocation(udg_ST_SK_Point[1])
call RemoveLocation(udg_ST_SK_Point[2])
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function InitTrig_Shuriken_Move takes nothing returns nothing
set gg_trg_Shuriken_Move=CreateTrigger()
call DisableTrigger(gg_trg_Shuriken_Move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Shuriken_Move,.05)
call TriggerAddAction(gg_trg_Shuriken_Move,function Trig_Shuriken_Move_Actions)
endfunction
function Trig_Shiki_Fuujin_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A0CO')
endfunction
function Trig_Shiki_Fuujin_Actions takes nothing returns nothing
set udg_ST_SF_Caster=GetTriggerUnit()
set udg_ST_SF_Target=GetSpellTargetUnit()
set udg_ST_SF_Real=.0
set udg_ST_SF_Point[1]=GetUnitLoc(udg_ST_SF_Caster)
set udg_ST_SF_Point[2]=GetUnitLoc(udg_ST_SF_Target)
set udg_ST_SF_Point[3]=PolarProjectionBJ(udg_ST_SF_Point[1],150.,(AngleBetweenPoints(udg_ST_SF_Point[1],udg_ST_SF_Point[2])+180.))
call CreateNUnitsAtLocFacingLocBJ(1,'h05H',GetOwningPlayer(udg_ST_SF_Caster),udg_ST_SF_Point[3],udg_ST_SF_Point[1])
set udg_Minato_Units[4]=bj_lastCreatedUnit
call SetUnitFacingToFaceLocTimed(udg_ST_SF_Target,udg_ST_SF_Point[1],0)
call PauseUnit(udg_ST_SF_Caster,true)
call PauseUnit(udg_ST_SF_Target,true)
call EnableTrigger(gg_trg_Shiki_Fuujin_Damage)
endfunction
function InitTrig_Shiki_Fuujin takes nothing returns nothing
set gg_trg_Shiki_Fuujin=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Shiki_Fuujin,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Shiki_Fuujin,Condition(function Trig_Shiki_Fuujin_Conditions))
call TriggerAddAction(gg_trg_Shiki_Fuujin,function Trig_Shiki_Fuujin_Actions)
endfunction
function Trig_Shiki_Fuujin_Damage_Func008Func011C takes nothing returns boolean
return(udg_ST_SF_Real>=5.)or(IsUnitDeadBJ(udg_ST_SF_Caster))or(IsUnitDeadBJ(udg_ST_SF_Target))
endfunction
function Trig_Shiki_Fuujin_Damage_Func008C takes nothing returns boolean
return(Trig_Shiki_Fuujin_Damage_Func008Func011C())
endfunction
function Trig_Shiki_Fuujin_Damage_Actions takes nothing returns nothing
set udg_ST_SF_Real=(udg_ST_SF_Real+1)
call UnitDamageTargetBJ(udg_ST_SF_Caster,udg_ST_SF_Caster,(50.+(50.*I2R(GetUnitAbilityLevelSwapped('A0CO',udg_ST_SF_Caster)))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call UnitDamageTargetBJ(udg_ST_SF_Caster,udg_ST_SF_Target,(250.+(250.*I2R(GetUnitAbilityLevelSwapped('A0CO',udg_ST_SF_Caster)))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call AddSpecialEffectLocBJ(udg_ST_SF_Point[1],"Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(udg_ST_SF_Point[2],"Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl")
call DestroyEffect(bj_lastCreatedEffect)
if(Trig_Shiki_Fuujin_Damage_Func008C())then
call PauseUnit(udg_ST_SF_Caster,false)
call PauseUnit(udg_ST_SF_Target,false)
call RemoveUnit(udg_Minato_Units[4])
set udg_Minato_Units[4]=null
set udg_ST_SF_Caster=null
set udg_ST_SF_Target=null
call RemoveLocation(udg_ST_SF_Point[1])
call RemoveLocation(udg_ST_SF_Point[2])
call RemoveLocation(udg_ST_SF_Point[3])
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function InitTrig_Shiki_Fuujin_Damage takes nothing returns nothing
set gg_trg_Shiki_Fuujin_Damage=CreateTrigger()
call DisableTrigger(gg_trg_Shiki_Fuujin_Damage)
call TriggerRegisterTimerEventPeriodic(gg_trg_Shiki_Fuujin_Damage,1.)
call TriggerAddAction(gg_trg_Shiki_Fuujin_Damage,function Trig_Shiki_Fuujin_Damage_Actions)
endfunction
function RasenganAct takes nothing returns nothing
local trigger rss=GetTriggeringTrigger()
local unit a=LoadUnitHandle(hash,GetHandleId(rss),1)
local group g1
local unit n1
call DestroyEffect(AddSpecialEffect("canying.mdx",GetUnitX(a),GetUnitY(a)))
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(a),'h05C',GetUnitX(udg_Kunai_target),GetUnitY(udg_Kunai_target),0),'BTFL',1)
call TriggerSleepAction(.07)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.mdl",GetUnitX(udg_Kunai_target),GetUnitY(udg_Kunai_target)))
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(a),'h05I',GetUnitX(udg_Kunai_target),GetUnitY(udg_Kunai_target),0),'BTFL',1)
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(a),'h05B',GetUnitX(udg_Kunai_target),GetUnitY(udg_Kunai_target),0),'BTFL',1)
set g1=CreateGroup()
call GroupEnumUnitsInRange(g1,GetUnitX(udg_Kunai_target),GetUnitY(udg_Kunai_target),350,null)
loop
set n1=FirstOfGroup(g1)
exitwhen n1==null
if IsUnitEnemy(n1,GetOwningPlayer(a)) and GetUnitState(n1,UNIT_STATE_LIFE)>0 then
call UnitDamageTarget(a,n1,$7D0,false,false,null,null,null)
endif
call GroupRemoveUnit(g1,n1)
endloop
call DestroyGroup(g1)
set g1=null
set n1=null
call SetUnitPosition(a,GetUnitX(udg_Kunai_target),GetUnitY(udg_Kunai_target))
call DestroyEffect(AddSpecialEffect("canying.mdx",GetUnitX(a),GetUnitY(a)))
call UnitRemoveAbility(a,'B01R')
call RemoveUnit(udg_Kunai_target)
call TriggerSleepAction(1)
call ShowUnit(a,true)
set a=null
set udg_Kunai_target=null
set rss=null
endfunction
function Kunai_Act takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
local unit b=LoadUnitHandle(hash,GetHandleId(t),2)
local group g
local unit n
call SetUnitPosition(b,GetUnitX(b)+$F*Cos(GetUnitFacing(b)*bj_DEGTORAD),GetUnitY(b)+$F*Sin(GetUnitFacing(b)*bj_DEGTORAD))
set g=CreateGroup()
call GroupEnumUnitsInRange(g,GetUnitX(b),GetUnitY(b),'d',null)
loop
set n=FirstOfGroup(g)
exitwhen n==null
if IsUnitEnemy(n,GetOwningPlayer(a)) and GetUnitState(n,UNIT_STATE_LIFE)>0 then
if(GetUnitAbilityLevel(a,'B01R')>0)then
set udg_Kunai_target=CreateUnit(GetOwningPlayer(a),'h05K',GetUnitX(b),GetUnitY(b),0)
call RemoveUnit(b)
call PauseTimer(t)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
call ShowUnit(a,false)
else
call SetUnitPosition(a,GetUnitX(n),GetUnitY(n))
call RemoveUnit(b)
call PauseTimer(t)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
endif
endif
call GroupRemoveUnit(g,n)
endloop
call DestroyGroup(g)
call ShowUnit(a,true)
set a=null
set b=null
set n=null
set g=null
set t=null
endfunction
function Trig_Kunai_Actions takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local real r=bj_RADTODEG*Atan2(GetSpellTargetY()-GetUnitY(a),GetSpellTargetX()-GetUnitX(a))
local unit b
local timer t
local trigger cjlocgn_00000000
call PauseUnit(a,true)
call TriggerSleepAction(.2)
call PauseUnit(a,false)
set b=CreateUnit(GetOwningPlayer(a),'h05L',GetUnitX(a)+$A*Cos(GetUnitFacing(a)*bj_DEGTORAD),GetUnitY(a)+$A*Sin(GetUnitFacing(a)*bj_DEGTORAD),r)
set t=CreateTimer()
call SaveUnitHandle(hash,GetHandleId(t),1,a)
call SaveUnitHandle(hash,GetHandleId(t),2,b)
call TimerStart(t,.02,true,function Kunai_Act)
call TriggerSleepAction(.8)
if GetUnitState(b,UNIT_STATE_LIFE)>0 then
call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(a),'h05G',GetUnitX(b),GetUnitY(b),0),'BTFL',60)
else
if(GetUnitAbilityLevel(a,'B01R')>0)then
set cjlocgn_00000000=CreateTrigger()
call SaveUnitHandle(hash,GetHandleId(cjlocgn_00000000),1,a)
call TriggerRegisterTimerEvent(cjlocgn_00000000,.01,false)
call TriggerAddAction(cjlocgn_00000000,function RasenganAct)
call TriggerSleepAction(.2)
call FlushChildHashtable(hash,GetHandleId(cjlocgn_00000000))
call DestroyTrigger(cjlocgn_00000000)
set cjlocgn_00000000=null
endif
endif
call RemoveUnit(b)
call PauseTimer(t)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
set a=null
set t=null
set b=null
set r=0
endfunction
function Trig_Kunai_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A0BG'
endfunction
function InitTrig_Kunai takes nothing returns nothing
local trigger Kunai=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(Kunai,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(Kunai,Condition(function Trig_Kunai_Conditions))
call TriggerAddAction(Kunai,function Trig_Kunai_Actions)
set Kunai=null
endfunction
function Remove_CM takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())=='h05C'
endfunction
function RemoveDM takes nothing returns nothing
local unit l=GetDyingUnit()
call RemoveUnit(l)
set l=null
endfunction
function InitTrig_Remove_M takes nothing returns nothing
local trigger d=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(d,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(d,Condition(function Remove_CM))
call TriggerAddAction(d,function RemoveDM)
set d=null
endfunction
function Pechat_Minato_Cond takes nothing returns boolean
return GetSpellAbilityId()=='A0BL' and GetUnitAbilityLevel(GetSpellTargetUnit(),'B01U')>0
endfunction
function Pechat_Minato_Act takes nothing returns nothing
call SetUnitPositionLoc(GetSpellAbilityUnit(),GetUnitLoc(GetSpellTargetUnit()))
endfunction
function InitTrig_Pechat takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Pechat_Minato_Cond))
call TriggerAddAction(t,function Pechat_Minato_Act)
set t=null
endfunction
function Kunai_Move_Minato_Cond takes nothing returns boolean
return GetSpellAbilityId()=='A0BL' and GetUnitTypeId(GetSpellTargetUnit())=='h05G'
endfunction
function Kunai_Move_Minato_Act takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local unit b=GetSpellTargetUnit()
call SetUnitPosition(a,GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()))
set b=null
set a=null
endfunction
function InitTrig_Kunai_Move_Minato takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Kunai_Move_Minato_Cond))
call TriggerAddAction(t,function Kunai_Move_Minato_Act)
set t=null
endfunction
function Trig_R_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A0BE'
endfunction
function Trig_R_Actions takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local unit b
call PauseUnit(a,true)
set b=CreateUnit(GetOwningPlayer(a),'h05D',GetUnitX(a)+'d'*Cos((GetUnitFacing(a)-70)*bj_DEGTORAD),GetUnitY(a)+'d'*Sin((GetUnitFacing(a)-70)*bj_DEGTORAD),GetUnitFacing(a)-70)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageDeathCaster.mdl",GetUnitX(b),GetUnitY(b)))
call IssueTargetOrderById(b,$D0062,a)
call TriggerSleepAction(.7)
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageDeathCaster.mdl",GetUnitX(b),GetUnitY(b)))
call PauseUnit(a,false)
call RemoveUnit(b)
set a=null
set b=null
endfunction
function InitTrig_R takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==$E
endloop
call TriggerAddCondition(t,Condition(function Trig_R_Conditions))
call TriggerAddAction(t,function Trig_R_Actions)
set t=null
endfunction
function Rasengan_Act takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(t),$B)
local unit b=LoadUnitHandle(hash,GetHandleId(t),$C)
local real d=LoadReal(hash,GetHandleId(t),$D)
local unit c
call SetUnitX(b,GetUnitX(b)+40*Cos(d*bj_DEGTORAD))
call SetUnitY(b,GetUnitY(b)+40*Sin(d*bj_DEGTORAD))
call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\GlaiveMissile\\GlaiveMissileTarget.mdl",GetUnitX(b),GetUnitY(b)))
set c=CreateUnit(GetOwningPlayer(a),'h05E',GetUnitX(b),GetUnitY(b),d-$B4)
call UnitApplyTimedLife(c,'BTLF',1.5)
call SetUnitVertexColor(c,$FF,$FF,$FF,60)
set t=null
set a=null
set c=null
set b=null
endfunction
function Trig_R_Attack_Actions takes nothing returns nothing
local unit a=GetAttacker()
local unit b=GetTriggerUnit()
local real d
local timer t
local unit c
call SetUnitPathing(b,false)
set d=bj_RADTODEG*Atan2(GetUnitY(b)-GetUnitY(a),GetUnitX(b)-GetUnitX(a))
set t=CreateTimer()
call SetUnitAnimation(a,"Spell throw")
call UnitRemoveAbility(a,'B01R')
call SaveUnitHandle(hash,GetHandleId(t),$B,a)
call SaveUnitHandle(hash,GetHandleId(t),$C,b)
call SaveReal(hash,GetHandleId(t),$D,d)
call TimerStart(t,.03,true,function Rasengan_Act)
call SetUnitPathing(b,true)
call TriggerSleepAction(.3)
call FlushChildHashtable(hash,GetHandleId(t))
call PauseTimer(t)
call DestroyTimer(t)
set c=CreateUnit(GetOwningPlayer(a),'h05F',GetUnitX(b),GetUnitY(b),0)
call DestroyEffect(AddSpecialEffect("EarthShock.mdx",GetUnitX(b),GetUnitY(b)))
call UnitDamageTarget(a,b,$5DC,false,false,null,null,null)
set a=null
set b=null
set t=null
call TriggerSleepAction(.1)
call RemoveUnit(c)
set c=null
endfunction
function Trig_R_Attack_Conditions takes nothing returns boolean
return(GetUnitAbilityLevel(GetAttacker(),'B01R')>0)
endfunction
function InitTrig_R_Attack takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_ATTACKED,null)
set index=index+1
exitwhen index==$F
endloop
call TriggerAddCondition(t,Condition(function Trig_R_Attack_Conditions))
call TriggerAddAction(t,function Trig_R_Attack_Actions)
set t=null
endfunction
function Trig_ss_Conditions takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())=='h006'
endfunction
function Trig_ss_Actions takes nothing returns nothing
call RemoveUnit(GetDyingUnit())
endfunction
function InitTrig_RW_Remove takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==$E
endloop
call TriggerAddCondition(t,Condition(function Trig_ss_Conditions))
call TriggerAddAction(t,function Trig_ss_Actions)
set t=null
endfunction
function Sage_Act takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
if GetUnitAbilityLevel(a,'B01T')>0 then
call UnitAddAbility(a,'A0CV')
call UnitAddAbility(a,'A0BN')
call UnitAddAbility(a,'A0CW')
call UnitAddAbility(a,'AId4')
call UnitAddAbility(a,'A0CX')
call UnitAddAbility(a,'A0BO')
else
call PauseTimer(t)
call FlushChildHashtable(hash,GetHandleId(t))
call DestroyTimer(t)
call UnitRemoveAbility(a,'A0CV')
call UnitRemoveAbility(a,'A0BN')
call UnitRemoveAbility(a,'A0CW')
call UnitRemoveAbility(a,'AId4')
call UnitRemoveAbility(a,'A0CX')
call UnitRemoveAbility(a,'A0BO')
set a=null
set t=null
endif
set a=null
set t=null
endfunction
function Sage takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local timer t=CreateTimer()
call SaveUnitHandle(hash,GetHandleId(t),1,a)
call TimerStart(t,.01,true,function Sage_Act)
set t=null
set a=null
endfunction
function Sage_Cond takes nothing returns boolean
return GetSpellAbilityId()=='A0BM'
endfunction
function InitTrig_SageM takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index=0
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==$E
endloop
call TriggerAddCondition(t,Condition(function Sage_Cond))
call TriggerAddAction(t,function Sage)
set t=null
endfunction
function Trig_Shiki_Fuujin_M_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A0BI')
endfunction
function Trig_Shiki_Fuujin_M_Actions takes nothing returns nothing
set udg_Minato_Units[1]=GetTriggerUnit()
set udg_Minato_Units[$C]=GetSpellTargetUnit()
set udg_Minato_Real[4]=.0
set udg_Minato_Points[$D]=GetUnitLoc(udg_Minato_Units[1])
set udg_Minato_Points[$E]=GetUnitLoc(udg_Minato_Units[$C])
set udg_Minato_Points[$F]=PolarProjectionBJ(udg_Minato_Points[$D],150.,(AngleBetweenPoints(udg_Minato_Points[$D],udg_Minato_Points[$E])+180.))
call CreateNUnitsAtLocFacingLocBJ(1,'h05H',GetOwningPlayer(udg_Minato_Units[1]),udg_Minato_Points[$F],udg_Minato_Points[$D])
set udg_Minato_Units[$D]=bj_lastCreatedUnit
call SetUnitFacingToFaceLocTimed(udg_Minato_Units[$C],udg_Minato_Points[$D],0)
call PauseUnit(udg_Minato_Units[1],true)
call PauseUnit(udg_Minato_Units[$C],true)
call EnableTrigger(gg_trg_Shiki_Fuujin_Damage_M)
endfunction
function InitTrig_Shiki_Fuujin_M takes nothing returns nothing
set gg_trg_Shiki_Fuujin_M=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Shiki_Fuujin_M,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Shiki_Fuujin_M,Condition(function Trig_Shiki_Fuujin_M_Conditions))
call TriggerAddAction(gg_trg_Shiki_Fuujin_M,function Trig_Shiki_Fuujin_M_Actions)
endfunction
function Trig_Shiki_Fuujin_Damage_M_Func008Func011C takes nothing returns boolean
return(udg_Minato_Real[4]>=5.)or(IsUnitDeadBJ(udg_Minato_Units[1]))or(IsUnitDeadBJ(udg_Minato_Units[$C]))
endfunction
function Trig_Shiki_Fuujin_Damage_M_Func008C takes nothing returns boolean
return(Trig_Shiki_Fuujin_Damage_M_Func008Func011C())
endfunction
function Trig_Shiki_Fuujin_Damage_M_Actions takes nothing returns nothing
set udg_Minato_Real[4]=(udg_Minato_Real[4]+1)
call UnitDamageTargetBJ(udg_Minato_Units[1],udg_Minato_Units[1],(100.+(100.*I2R(GetUnitAbilityLevelSwapped('A0BI',udg_Minato_Units[1])))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call UnitDamageTargetBJ(udg_Minato_Units[1],udg_Minato_Units[$C],(250.+(250.*I2R(GetUnitAbilityLevelSwapped('A0BI',udg_Minato_Units[1])))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
call AddSpecialEffectLocBJ(udg_Minato_Points[$D],"Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectLocBJ(udg_Minato_Points[$E],"Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl")
call DestroyEffect(bj_lastCreatedEffect)
if(Trig_Shiki_Fuujin_Damage_M_Func008C())then
call PauseUnit(udg_Minato_Units[1],false)
call PauseUnit(udg_Minato_Units[$C],false)
call RemoveUnit(udg_Minato_Units[$D])
set udg_Minato_Units[$D]=null
set udg_Minato_Units[1]=null
set udg_Minato_Units[$C]=null
call RemoveLocation(udg_Minato_Points[$D])
call RemoveLocation(udg_Minato_Points[$E])
call RemoveLocation(udg_Minato_Points[$F])
call DisableTrigger(GetTriggeringTrigger())
endif
endfunction
function InitTrig_Shiki_Fuujin_Damage_M takes nothing returns nothing
set gg_trg_Shiki_Fuujin_Damage_M=CreateTrigger()
call DisableTrigger(gg_trg_Shiki_Fuujin_Damage_M)
call TriggerRegisterTimerEventPeriodic(gg_trg_Shiki_Fuujin_Damage_M,1.)
call TriggerAddAction(gg_trg_Shiki_Fuujin_Damage_M,function Trig_Shiki_Fuujin_Damage_M_Actions)
endfunction
function Susano_Act takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit a=LoadUnitHandle(hash,GetHandleId(t),1)
local unit b=LoadUnitHandle(hash,GetHandleId(t),2)
call SetUnitX(b,GetUnitX(a))
call SetUnitY(b,GetUnitY(a))
call SetUnitFacing(b,GetUnitFacing(a))
if GetUnitState(a,UNIT_STATE_LIFE)<=0 then
call UnitRemoveAbility(a,'A001')
call UnitRemoveAbility(a,'A002')
call FlushChildHashtable(hash,GetHandleId(t))
call FlushChildHashtable(hash,GetHandleId(a))
call PauseTimer(t)
call DestroyTimer(t)
call RemoveUnit(b)
endif
set t=null
set b=null
set a=null
endfunction
function Susano takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local timer t=CreateTimer()
local unit b=CreateUnit(GetOwningPlayer(a),'h04B',GetUnitX(a),GetUnitY(a),GetUnitFacing(a))
call SetUnitTimeScale(b,2.5)
call UnitAddAbility(a,'A088')
call UnitAddAbility(a,'A03C')
call SaveUnitHandle(hash,GetHandleId(t),1,a)
call SaveUnitHandle(hash,GetHandleId(t),2,b)
call SaveUnitHandle(hash,GetHandleId(a),StringHash("susano"),b)
call SaveUnitHandle(hash,GetHandleId(a),StringHash("susano2"),a)
call TimerStart(t,.01,true,function Susano_Act)
call TriggerSleepAction($F)
call UnitRemoveAbility(a,'A088')
call UnitRemoveAbility(a,'A03C')
call FlushChildHashtable(hash,GetHandleId(t))
call FlushChildHashtable(hash,GetHandleId(a))
call PauseTimer(t)
call DestroyTimer(t)
call RemoveUnit(b)
set t=null
set b=null
set a=null
endfunction
function Susano_Cond takes nothing returns boolean
return GetSpellAbilityId()=='A07O'
endfunction
function InitTrig_Susano takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index=0
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==$F
endloop
call TriggerAddCondition(t,Condition(function Susano_Cond))
call TriggerAddAction(t,function Susano)
set t=null
endfunction
function Trig_Susano_Attack_Conditions takes nothing returns boolean
return(GetUnitAbilityLevel(GetAttacker(),'A07O')>0)
endfunction
function Trig_Susano_Attack_Actions takes nothing returns nothing
local unit a=GetAttacker()
local unit b=LoadUnitHandle(hash,GetHandleId(GetAttacker()),StringHash("susano"))
local unit a2=LoadUnitHandle(hash,GetHandleId(GetAttacker()),StringHash("susano2"))
call SetUnitAnimation(a2,"stand")
call SetUnitAnimation(b,"attack")
call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))
call QueueUnitAnimation(b,"stand")
set a=null
set b=null
set a2=null
endfunction
function InitTrig_Susano_Attack takes nothing returns nothing
local integer index
set gg_trg_Susano_Attack=CreateTrigger()
set index=0
loop
call TriggerRegisterPlayerUnitEvent(gg_trg_Susano_Attack,Player(index),EVENT_PLAYER_UNIT_ATTACKED,null)
set index=index+1
exitwhen index==$F
endloop
call TriggerAddCondition(gg_trg_Susano_Attack,Condition(function Trig_Susano_Attack_Conditions))
call TriggerAddAction(gg_trg_Susano_Attack,function Trig_Susano_Attack_Actions)
endfunction
function Trig_Edo_Hokage_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A0D1')
endfunction
function Trig_Edo_Hokage_Actions takes nothing returns nothing
set udg_Caster_Edo_Tensei1=GetSpellAbilityUnit()
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_Caster_Edo_Tensei1,'I02X'))
call SetUnitAnimation(udg_Caster_Edo_Tensei1,"Spell")
set udg_Real_Edo_Tensei2=AngleBetweenPoints(GetUnitLoc(udg_Caster_Edo_Tensei1),GetSpellTargetLoc())
call PauseUnit(udg_Caster_Edo_Tensei1,true)
call SetUnitFacingTimed(udg_Caster_Edo_Tensei1,udg_Real_Edo_Tensei2,0)
call PolledWait(0)
call CreateNUnitsAtLoc(1,'h01Y',GetOwningPlayer(udg_Caster_Edo_Tensei1),PolarProjectionBJ(GetUnitLoc(udg_Caster_Edo_Tensei1),405.,(udg_Real_Edo_Tensei2+45.)),udg_Real_Edo_Tensei2)
set udg_Dummy_Edo_Tensei2[1]=bj_lastCreatedUnit
call SetUnitPathing(udg_Dummy_Edo_Tensei2[1],false)
call CreateNUnitsAtLoc(1,'h01Y',GetOwningPlayer(udg_Caster_Edo_Tensei1),PolarProjectionBJ(GetUnitLoc(udg_Caster_Edo_Tensei1),300.,(udg_Real_Edo_Tensei2+20.)),udg_Real_Edo_Tensei2)
set udg_Dummy_Edo_Tensei2[2]=bj_lastCreatedUnit
call SetUnitPathing(udg_Dummy_Edo_Tensei2[2],false)
call CreateNUnitsAtLoc(1,'h01Y',GetOwningPlayer(udg_Caster_Edo_Tensei1),PolarProjectionBJ(GetUnitLoc(udg_Caster_Edo_Tensei1),300.,(udg_Real_Edo_Tensei2-20.)),udg_Real_Edo_Tensei2)
set udg_Dummy_Edo_Tensei2[3]=bj_lastCreatedUnit
call SetUnitPathing(udg_Dummy_Edo_Tensei2[3],false)
call CreateNUnitsAtLoc(1,'h01Y',GetOwningPlayer(udg_Caster_Edo_Tensei1),PolarProjectionBJ(GetUnitLoc(udg_Caster_Edo_Tensei1),405.,(udg_Real_Edo_Tensei2-45.)),udg_Real_Edo_Tensei2)
set udg_Dummy_Edo_Tensei2[4]=bj_lastCreatedUnit
call SetUnitPathing(udg_Dummy_Edo_Tensei2[4],false)
call SetUnitAnimation(udg_Dummy_Edo_Tensei2[1],"Spell two")
call SetUnitAnimation(udg_Dummy_Edo_Tensei2[2],"Spell two")
call SetUnitAnimation(udg_Dummy_Edo_Tensei2[3],"Spell two")
call SetUnitAnimation(udg_Dummy_Edo_Tensei2[4],"Spell two")
call PolledWait(0)
call SetUnitAnimation(udg_Dummy_Edo_Tensei2[1],"Spell")
call SetUnitAnimation(udg_Dummy_Edo_Tensei2[2],"Spell")
call SetUnitAnimation(udg_Dummy_Edo_Tensei2[3],"Spell")
call SetUnitAnimation(udg_Dummy_Edo_Tensei2[4],"Spell")
call PolledWait(1)
call CreateNUnitsAtLoc(1,'E00Y',Player($F),PolarProjectionBJ(GetUnitLoc(udg_Caster_Edo_Tensei1),410.,(udg_Real_Edo_Tensei2-50.)),udg_Real_Edo_Tensei2)
set udg_Dummy_Edo_Tensei2[5]=bj_lastCreatedUnit
call SetHeroLevelBJ(udg_Dummy_Edo_Tensei2[5],30,false)
call CreateNUnitsAtLoc(1,'E00X',Player($F),PolarProjectionBJ(GetUnitLoc(udg_Caster_Edo_Tensei1),305.,(udg_Real_Edo_Tensei2-25.)),udg_Real_Edo_Tensei2)
set udg_Dummy_Edo_Tensei2[6]=bj_lastCreatedUnit
call SetHeroLevelBJ(udg_Dummy_Edo_Tensei2[6],30,false)
call CreateNUnitsAtLoc(1,'E00Z',Player($F),PolarProjectionBJ(GetUnitLoc(udg_Caster_Edo_Tensei1),290.,(udg_Real_Edo_Tensei2+17.)),udg_Real_Edo_Tensei2)
set udg_Dummy_Edo_Tensei2[7]=bj_lastCreatedUnit
call SetHeroLevelBJ(udg_Dummy_Edo_Tensei2[7],30,false)
call CreateNUnitsAtLoc(1,'E00W',Player($F),PolarProjectionBJ(GetUnitLoc(udg_Caster_Edo_Tensei1),410.,(udg_Real_Edo_Tensei2+42.)),udg_Real_Edo_Tensei2)
set udg_Dummy_Edo_Tensei2[8]=bj_lastCreatedUnit
call SetHeroLevelBJ(udg_Dummy_Edo_Tensei2[8],30,false)
call TriggerSleepAction(1.)
call SetUnitAnimation(udg_Dummy_Edo_Tensei2[5],"Stand")
call SetUnitAnimation(udg_Dummy_Edo_Tensei2[6],"Stand")
call SetUnitAnimation(udg_Dummy_Edo_Tensei2[7],"Stand")
call SetUnitAnimation(udg_Dummy_Edo_Tensei2[8],"Stand")
call TriggerSleepAction(.2)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[1],'d','d','d',10.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[2],'d','d','d',10.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[3],'d','d','d',10.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[4],'d','d','d',10.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[1],'d','d','d',20.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[2],'d','d','d',20.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[3],'d','d','d',20.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[4],'d','d','d',20.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[1],'d','d','d',30.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[2],'d','d','d',30.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[3],'d','d','d',30.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[4],'d','d','d',30.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[1],'d','d','d',40.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[2],'d','d','d',40.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[3],'d','d','d',40.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[4],'d','d','d',40.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[1],'d','d','d',50.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[2],'d','d','d',50.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[3],'d','d','d',50.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[4],'d','d','d',50.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[1],'d','d','d',60.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[2],'d','d','d',60.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[3],'d','d','d',60.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[4],'d','d','d',60.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[1],'d','d','d',70.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[2],'d','d','d',70.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[3],'d','d','d',70.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[4],'d','d','d',70.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[1],'d','d','d',80.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[2],'d','d','d',80.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[3],'d','d','d',80.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[4],'d','d','d',80.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[1],'d','d','d',90.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[2],'d','d','d',90.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[3],'d','d','d',90.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[4],'d','d','d',90.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[1],'d','d','d',100.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[3],'d','d','d',100.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[3],'d','d','d',100.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei2[4],'d','d','d',100.)
call TriggerSleepAction(.01)
call RemoveUnit(udg_Dummy_Edo_Tensei2[1])
call RemoveUnit(udg_Dummy_Edo_Tensei2[2])
call RemoveUnit(udg_Dummy_Edo_Tensei2[3])
call RemoveUnit(udg_Dummy_Edo_Tensei2[4])
call TriggerSleepAction(.2)
call SetUnitOwner(udg_Dummy_Edo_Tensei2[5],GetOwningPlayer(udg_Caster_Edo_Tensei1),true)
call SetUnitOwner(udg_Dummy_Edo_Tensei2[6],GetOwningPlayer(udg_Caster_Edo_Tensei1),true)
call SetUnitOwner(udg_Dummy_Edo_Tensei2[7],GetOwningPlayer(udg_Caster_Edo_Tensei1),true)
call SetUnitOwner(udg_Dummy_Edo_Tensei2[8],GetOwningPlayer(udg_Caster_Edo_Tensei1),true)
call PauseUnit(udg_Caster_Edo_Tensei1,false)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Hero2[9])),udg_Hero2[9],"Живой Мадара",null,"Новое задание убить Хашираму!",0,1.,true)
set udg_Caster_Edo_Tensei1=null
set udg_Dummy_Edo_Tensei2[1]=null
set udg_Dummy_Edo_Tensei2[2]=null
set udg_Dummy_Edo_Tensei2[3]=null
set udg_Dummy_Edo_Tensei2[4]=null
endfunction
function InitTrig_Edo_Hokage takes nothing returns nothing
set gg_trg_Edo_Hokage=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Edo_Hokage,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Edo_Hokage,Condition(function Trig_Edo_Hokage_Conditions))
call TriggerAddAction(gg_trg_Edo_Hokage,function Trig_Edo_Hokage_Actions)
endfunction
function Edo_Hokage_Deathe_Cond takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())=='E00Y' or GetUnitTypeId(GetDyingUnit())=='E00X' or GetUnitTypeId(GetDyingUnit())=='E00Z' or GetUnitTypeId(GetDyingUnit())=='E00W'
endfunction
function Edo_Hokage_Deathe_Act takes nothing returns nothing
local unit a=GetDyingUnit()
call TriggerSleepAction($F)
call ReviveHeroLoc(GetDyingUnit(),GetUnitLoc(GetDyingUnit()),true)
set a=null
endfunction
function InitTrig_Edo_Hokage_Deathe takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Edo_Hokage_Deathe_Cond))
call TriggerAddAction(t,function Edo_Hokage_Deathe_Act)
set t=null
endfunction
function Trig_Edo_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A0D2')
endfunction
function Trig_Edo_Actions takes nothing returns nothing
set udg_Caster_Edo_Tensei=GetSpellAbilityUnit()
call SetUnitAnimation(udg_Caster_Edo_Tensei,"Spell")
set udg_Real_Edo_Tensei=AngleBetweenPoints(GetUnitLoc(udg_Caster_Edo_Tensei),GetSpellTargetLoc())
call PauseUnit(udg_Caster_Edo_Tensei,true)
call SetUnitFacingTimed(udg_Caster_Edo_Tensei,udg_Real_Edo_Tensei,0)
call PolledWait(1)
call CreateNUnitsAtLoc(1,'h01Y',GetOwningPlayer(udg_Caster_Edo_Tensei),PolarProjectionBJ(GetUnitLoc(udg_Caster_Edo_Tensei),405.,(udg_Real_Edo_Tensei+45.)),udg_Real_Edo_Tensei)
set udg_Dummy_Edo_Tensei[1]=bj_lastCreatedUnit
call SetUnitPathing(udg_Dummy_Edo_Tensei[1],false)
call CreateNUnitsAtLoc(1,'h01Y',GetOwningPlayer(udg_Caster_Edo_Tensei),PolarProjectionBJ(GetUnitLoc(udg_Caster_Edo_Tensei),300.,(udg_Real_Edo_Tensei+20.)),udg_Real_Edo_Tensei)
set udg_Dummy_Edo_Tensei[2]=bj_lastCreatedUnit
call SetUnitPathing(udg_Dummy_Edo_Tensei[2],false)
call CreateNUnitsAtLoc(1,'h01Y',GetOwningPlayer(udg_Caster_Edo_Tensei),PolarProjectionBJ(GetUnitLoc(udg_Caster_Edo_Tensei),300.,(udg_Real_Edo_Tensei-20.)),udg_Real_Edo_Tensei)
set udg_Dummy_Edo_Tensei[3]=bj_lastCreatedUnit
call SetUnitPathing(udg_Dummy_Edo_Tensei[3],false)
call CreateNUnitsAtLoc(1,'h01Y',GetOwningPlayer(udg_Caster_Edo_Tensei),PolarProjectionBJ(GetUnitLoc(udg_Caster_Edo_Tensei),405.,(udg_Real_Edo_Tensei-45.)),udg_Real_Edo_Tensei)
set udg_Dummy_Edo_Tensei[4]=bj_lastCreatedUnit
call SetUnitPathing(udg_Dummy_Edo_Tensei[4],false)
call SetUnitAnimation(udg_Dummy_Edo_Tensei[1],"Spell two")
call SetUnitAnimation(udg_Dummy_Edo_Tensei[2],"Spell two")
call SetUnitAnimation(udg_Dummy_Edo_Tensei[3],"Spell two")
call SetUnitAnimation(udg_Dummy_Edo_Tensei[4],"Spell two")
call PolledWait(1)
call SetUnitAnimation(udg_Dummy_Edo_Tensei[1],"Spell")
call SetUnitAnimation(udg_Dummy_Edo_Tensei[2],"Spell")
call SetUnitAnimation(udg_Dummy_Edo_Tensei[3],"Spell")
call SetUnitAnimation(udg_Dummy_Edo_Tensei[4],"Spell")
call PolledWait(2)
call CreateNUnitsAtLoc(1,'E00T',Player($F),PolarProjectionBJ(GetUnitLoc(udg_Caster_Edo_Tensei),410.,(udg_Real_Edo_Tensei-50.)),udg_Real_Edo_Tensei)
set udg_Dummy_Edo_Tensei[5]=bj_lastCreatedUnit
call SetHeroLevelBJ(udg_Dummy_Edo_Tensei[5],30,false)
call CreateNUnitsAtLoc(1,'E00V',Player($F),PolarProjectionBJ(GetUnitLoc(udg_Caster_Edo_Tensei),305.,(udg_Real_Edo_Tensei-25.)),udg_Real_Edo_Tensei)
set udg_Dummy_Edo_Tensei[6]=bj_lastCreatedUnit
call SetHeroLevelBJ(udg_Dummy_Edo_Tensei[6],30,false)
call CreateNUnitsAtLoc(1,'E00S',Player($F),PolarProjectionBJ(GetUnitLoc(udg_Caster_Edo_Tensei),290.,(udg_Real_Edo_Tensei+17.)),udg_Real_Edo_Tensei)
set udg_Dummy_Edo_Tensei[7]=bj_lastCreatedUnit
call SetHeroLevelBJ(udg_Dummy_Edo_Tensei[7],30,false)
call CreateNUnitsAtLoc(1,'E00U',Player($F),PolarProjectionBJ(GetUnitLoc(udg_Caster_Edo_Tensei),410.,(udg_Real_Edo_Tensei+42.)),udg_Real_Edo_Tensei)
set udg_Dummy_Edo_Tensei[8]=bj_lastCreatedUnit
call SetHeroLevelBJ(udg_Dummy_Edo_Tensei[8],30,false)
call TriggerSleepAction(1.)
call SetUnitAnimation(udg_Dummy_Edo_Tensei[5],"Stand")
call SetUnitAnimation(udg_Dummy_Edo_Tensei[6],"Stand")
call SetUnitAnimation(udg_Dummy_Edo_Tensei[7],"Stand")
call SetUnitAnimation(udg_Dummy_Edo_Tensei[8],"Stand")
call TriggerSleepAction(.2)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[1],'d','d','d',10.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[2],'d','d','d',10.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[3],'d','d','d',10.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[4],'d','d','d',10.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[1],'d','d','d',20.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[2],'d','d','d',20.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[3],'d','d','d',20.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[4],'d','d','d',20.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[1],'d','d','d',30.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[2],'d','d','d',30.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[3],'d','d','d',30.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[4],'d','d','d',30.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[1],'d','d','d',40.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[2],'d','d','d',40.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[3],'d','d','d',40.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[4],'d','d','d',40.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[1],'d','d','d',50.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[2],'d','d','d',50.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[3],'d','d','d',50.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[4],'d','d','d',50.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[1],'d','d','d',60.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[2],'d','d','d',60.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[3],'d','d','d',60.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[4],'d','d','d',60.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[1],'d','d','d',70.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[2],'d','d','d',70.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[3],'d','d','d',70.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[4],'d','d','d',70.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[1],'d','d','d',80.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[2],'d','d','d',80.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[3],'d','d','d',80.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[4],'d','d','d',80.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[1],'d','d','d',90.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[2],'d','d','d',90.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[3],'d','d','d',90.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[4],'d','d','d',90.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[1],'d','d','d',100.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[2],'d','d','d',100.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[3],'d','d','d',100.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[4],'d','d','d',100.)
call TriggerSleepAction(.01)
call RemoveUnit(udg_Dummy_Edo_Tensei[1])
call RemoveUnit(udg_Dummy_Edo_Tensei[2])
call RemoveUnit(udg_Dummy_Edo_Tensei[3])
call RemoveUnit(udg_Dummy_Edo_Tensei[4])
call TriggerSleepAction(.2)
call SetUnitOwner(udg_Dummy_Edo_Tensei[5],GetOwningPlayer(udg_Caster_Edo_Tensei),true)
call SetUnitOwner(udg_Dummy_Edo_Tensei[6],GetOwningPlayer(udg_Caster_Edo_Tensei),true)
call SetUnitOwner(udg_Dummy_Edo_Tensei[7],GetOwningPlayer(udg_Caster_Edo_Tensei),true)
call SetUnitOwner(udg_Dummy_Edo_Tensei[8],GetOwningPlayer(udg_Caster_Edo_Tensei),true)
call PauseUnit(udg_Caster_Edo_Tensei,false)
call StartTimerBJ(udg_Timer_Edo_Tensei[1],false,60.)
set udg_Dummy_Edo_Tensei[1]=null
set udg_Dummy_Edo_Tensei[2]=null
set udg_Dummy_Edo_Tensei[3]=null
set udg_Dummy_Edo_Tensei[4]=null
endfunction
function InitTrig_Edo takes nothing returns nothing
set gg_trg_Edo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Edo,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Edo,Condition(function Trig_Edo_Conditions))
call TriggerAddAction(gg_trg_Edo,function Trig_Edo_Actions)
endfunction
function Trig_Edo_2_Actions takes nothing returns nothing
call SetUnitAnimation(udg_Dummy_Edo_Tensei[5],"Stand")
call IssueImmediateOrderById(udg_Dummy_Edo_Tensei[5],$D0004)
call SetUnitOwner(udg_Dummy_Edo_Tensei[5],Player($F),true)
call SetUnitPathing(udg_Dummy_Edo_Tensei[5],false)
call SetUnitAnimation(udg_Dummy_Edo_Tensei[6],"Stand")
call IssueImmediateOrderById(udg_Dummy_Edo_Tensei[6],$D0004)
call SetUnitOwner(udg_Dummy_Edo_Tensei[6],Player($F),true)
call SetUnitPathing(udg_Dummy_Edo_Tensei[6],false)
call SetUnitAnimation(udg_Dummy_Edo_Tensei[7],"Stand")
call IssueImmediateOrderById(udg_Dummy_Edo_Tensei[7],$D0004)
call SetUnitOwner(udg_Dummy_Edo_Tensei[7],Player($F),true)
call SetUnitPathing(udg_Dummy_Edo_Tensei[7],false)
call SetUnitAnimation(udg_Dummy_Edo_Tensei[8],"Stand")
call IssueImmediateOrderById(udg_Dummy_Edo_Tensei[8],$D0004)
call SetUnitOwner(udg_Dummy_Edo_Tensei[8],Player($F),true)
call SetUnitPathing(udg_Dummy_Edo_Tensei[8],false)
call TriggerSleepAction(.2)
call CreateNUnitsAtLoc(1,'h01Y',GetOwningPlayer(udg_Dummy_Edo_Tensei[5]),GetUnitLoc(udg_Dummy_Edo_Tensei[5]),GetUnitFacing(udg_Dummy_Edo_Tensei[5]))
set udg_Dummy_Edo_Tensei[9]=bj_lastCreatedUnit
call SetUnitTimeScalePercent(udg_Dummy_Edo_Tensei[9],(.0-25.))
call SetUnitAnimation(udg_Dummy_Edo_Tensei[9],"Spell")
call SetUnitPathing(udg_Dummy_Edo_Tensei[9],false)
call CreateNUnitsAtLoc(1,'h01Y',GetOwningPlayer(udg_Dummy_Edo_Tensei[6]),GetUnitLoc(udg_Dummy_Edo_Tensei[6]),GetUnitFacing(udg_Dummy_Edo_Tensei[6]))
set udg_Dummy_Edo_Tensei[$A]=bj_lastCreatedUnit
call SetUnitTimeScalePercent(udg_Dummy_Edo_Tensei[$A],(.0-25.))
call SetUnitAnimation(udg_Dummy_Edo_Tensei[$A],"Spell")
call SetUnitPathing(udg_Dummy_Edo_Tensei[$A],false)
call CreateNUnitsAtLoc(1,'h01Y',GetOwningPlayer(udg_Dummy_Edo_Tensei[7]),GetUnitLoc(udg_Dummy_Edo_Tensei[7]),GetUnitFacing(udg_Dummy_Edo_Tensei[7]))
set udg_Dummy_Edo_Tensei[$B]=bj_lastCreatedUnit
call SetUnitTimeScalePercent(udg_Dummy_Edo_Tensei[$B],(.0-25.))
call SetUnitAnimation(udg_Dummy_Edo_Tensei[$B],"Spell")
call SetUnitPathing(udg_Dummy_Edo_Tensei[$B],false)
call CreateNUnitsAtLoc(1,'h01Y',GetOwningPlayer(udg_Dummy_Edo_Tensei[8]),GetUnitLoc(udg_Dummy_Edo_Tensei[8]),GetUnitFacing(udg_Dummy_Edo_Tensei[8]))
set udg_Dummy_Edo_Tensei[$C]=bj_lastCreatedUnit
call SetUnitTimeScalePercent(udg_Dummy_Edo_Tensei[$C],(.0-25.))
call SetUnitAnimation(udg_Dummy_Edo_Tensei[$C],"Spell")
call SetUnitPathing(udg_Dummy_Edo_Tensei[$C],false)
call RemoveUnit(udg_Dummy_Edo_Tensei[5])
call RemoveUnit(udg_Dummy_Edo_Tensei[6])
call RemoveUnit(udg_Dummy_Edo_Tensei[7])
call RemoveUnit(udg_Dummy_Edo_Tensei[8])
call TriggerSleepAction(.2)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[9],'d','d','d',10.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$A],'d','d','d',10.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$B],'d','d','d',10.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$C],'d','d','d',10.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[9],'d','d','d',20.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$A],'d','d','d',20.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$B],'d','d','d',20.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$C],'d','d','d',20.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[9],'d','d','d',30.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$A],'d','d','d',30.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$B],'d','d','d',30.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$C],'d','d','d',30.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[9],'d','d','d',40.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$A],'d','d','d',40.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$B],'d','d','d',40.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$C],'d','d','d',40.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[9],'d','d','d',50.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$A],'d','d','d',50.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$B],'d','d','d',50.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$C],'d','d','d',50.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[9],'d','d','d',60.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$A],'d','d','d',60.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$B],'d','d','d',60.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$C],'d','d','d',60.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[9],'d','d','d',70.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$A],'d','d','d',70.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$B],'d','d','d',70.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$C],'d','d','d',70.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[9],'d','d','d',80.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$A],'d','d','d',80.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$B],'d','d','d',80.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$C],'d','d','d',80.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[9],'d','d','d',90.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$A],'d','d','d',90.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$B],'d','d','d',90.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$C],'d','d','d',90.)
call TriggerSleepAction(.01)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[9],'d','d','d',100.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$A],'d','d','d',100.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$B],'d','d','d',100.)
call SetUnitVertexColorBJ(udg_Dummy_Edo_Tensei[$C],'d','d','d',100.)
call TriggerSleepAction(.2)
call RemoveUnit(udg_Dummy_Edo_Tensei[9])
call RemoveUnit(udg_Dummy_Edo_Tensei[$A])
call RemoveUnit(udg_Dummy_Edo_Tensei[$B])
call RemoveUnit(udg_Dummy_Edo_Tensei[$C])
set udg_Caster_Edo_Tensei=null
set udg_Dummy_Edo_Tensei[5]=null
set udg_Dummy_Edo_Tensei[6]=null
set udg_Dummy_Edo_Tensei[7]=null
set udg_Dummy_Edo_Tensei[8]=null
set udg_Dummy_Edo_Tensei[9]=null
set udg_Dummy_Edo_Tensei[$A]=null
set udg_Dummy_Edo_Tensei[$B]=null
set udg_Dummy_Edo_Tensei[$C]=null
endfunction
function InitTrig_Edo_2 takes nothing returns nothing
set gg_trg_Edo_2=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_Edo_2,udg_Timer_Edo_Tensei[1])
call TriggerAddAction(gg_trg_Edo_2,function Trig_Edo_2_Actions)
endfunction
function Trig_podmena_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A01K'
endfunction
function Trig_podmena_Actions takes nothing returns nothing
local unit a=GetSpellAbilityUnit()
local unit b
call TriggerSleepAction(.01)
set b=CreateUnit(GetOwningPlayer(a),'h01L',GetUnitX(a),GetUnitY(a),0)
call SetUnitAnimation(b,"birth")
call DestroyEffect(AddSpecialEffect("shadowclone.mdx",GetUnitX(b),GetUnitY(b)))
call TriggerSleepAction(3.)
call RemoveUnit(b)
set a=null
set b=null
endfunction
function InitTrig_podmena takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==$F
endloop
call TriggerAddCondition(t,Condition(function Trig_podmena_Conditions))
call TriggerAddAction(t,function Trig_podmena_Actions)
set t=null
endfunction
function Trig_Illusion_Conditions takes nothing returns boolean
return GetSpellAbilityId()=='A01I'
endfunction
function Trig_Illusion_Actions takes nothing returns nothing
local unit Caster=GetSpellAbilityUnit()
local unit Dummy
local item b
call TriggerSleepAction(.01)
set Dummy=CreateUnit(GetOwningPlayer(Caster),'h01K',GetUnitX(Caster),GetUnitY(Caster),0)
set b=CreateItem('I00A',GetUnitX(Dummy),GetUnitY(Dummy))
call UnitAddItem(Dummy,b)
call UnitUseItemTarget(Dummy,b,Caster)
call RemoveItem(b)
set Caster=null
set b=null
call TriggerSleepAction(3.)
call RemoveUnit(Dummy)
set Dummy=null
endfunction
function InitTrig_Illusion takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==$F
endloop
call TriggerAddCondition(t,Condition(function Trig_Illusion_Conditions))
call TriggerAddAction(t,function Trig_Illusion_Actions)
set t=null
endfunction
function Trig_BlackZetsu_Conditions takes nothing returns boolean
return(GetTriggerUnit()==udg_DarkZetsu)
endfunction
function Trig_BlackZetsu_Actions takes nothing returns nothing
call IssuePointOrderByIdLoc(udg_DarkZetsu,$D0012,GetRandomLocInRect(gg_rct_World))
endfunction
function InitTrig_BlackZetsu takes nothing returns nothing
set gg_trg_BlackZetsu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_BlackZetsu,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_BlackZetsu,Condition(function Trig_BlackZetsu_Conditions))
call TriggerAddAction(gg_trg_BlackZetsu,function Trig_BlackZetsu_Actions)
endfunction
function Trig_BlackZetsu2_Actions takes nothing returns nothing
call SetUnitPositionLoc(udg_DarkZetsu,GetRandomLocInRect(gg_rct_World))
endfunction
function InitTrig_BlackZetsu2 takes nothing returns nothing
set gg_trg_BlackZetsu2=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_BlackZetsu2,200.)
call TriggerAddAction(gg_trg_BlackZetsu2,function Trig_BlackZetsu2_Actions)
endfunction
function Trig_BlackZetsuMove_Actions takes nothing returns nothing
call IssueTargetOrderById(udg_DarkZetsu,$D0012,udg_TobiM)
endfunction
function InitTrig_BlackZetsuMove takes nothing returns nothing
set gg_trg_BlackZetsuMove=CreateTrigger()
call DisableTrigger(gg_trg_BlackZetsuMove)
call TriggerRegisterTimerEventPeriodic(gg_trg_BlackZetsuMove,5.)
call TriggerAddAction(gg_trg_BlackZetsuMove,function Trig_BlackZetsuMove_Actions)
endfunction
function Trig_BlackZetsuMove_2_Actions takes nothing returns nothing
call IssueTargetOrderById(udg_TobiM,$D0012,udg_Hero2[9])
endfunction
function InitTrig_BlackZetsuMove_2 takes nothing returns nothing
set gg_trg_BlackZetsuMove_2=CreateTrigger()
call DisableTrigger(gg_trg_BlackZetsuMove_2)
call TriggerRegisterTimerEventPeriodic(gg_trg_BlackZetsuMove_2,1.)
call TriggerAddAction(gg_trg_BlackZetsuMove_2,function Trig_BlackZetsuMove_2_Actions)
endfunction
function Trig_BlackZetsu3_Conditions takes nothing returns boolean
return(GetEnteringUnit()==udg_DarkZetsu)
endfunction
function Trig_BlackZetsu3_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_BlackZetsuDie)
call DisableTrigger(gg_trg_BlackZetsuMove)
call RemoveUnit(udg_DarkZetsu)
set udg_DarkZetsu=null
call PauseUnit(udg_TobiM,true)
call TriggerSleepAction(1.)
call CreateNUnitsAtLoc(1,'halt',Player($F),PolarProjectionBJ(GetUnitLoc(udg_TobiM),270.,(GetUnitFacing(udg_TobiM)-.0)),GetUnitFacing(udg_TobiM))
set udg_Hero2[$A]=bj_lastCreatedUnit
call SetUnitScalePercent(bj_lastCreatedUnit,200.,200.,200.)
call SetUnitAnimation(bj_lastCreatedUnit,"spell three")
call TriggerSleepAction(3.)
call PauseUnit(udg_TobiM,false)
call ReplaceUnitBJ(udg_TobiM,'H04G',3)
set udg_TobiM=bj_lastReplacedUnit
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call ReplaceUnitBJ(udg_Hero2[87],'H04I',1)
set udg_Hero2[9]=bj_lastReplacedUnit
call RemoveUnit(udg_Hero2[$A])
set udg_Hero2[$A]=null
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(gg_unit_Hant_0028)),gg_unit_Hant_0028,"|c00E1C4FFОрочимару|r",null,"Пора помочь союзу чтобы закончит войну.",0,2.,false)
call EnableTrigger(gg_trg_Monoment_3)
endfunction
function InitTrig_BlackZetsu3 takes nothing returns nothing
set gg_trg_BlackZetsu3=CreateTrigger()
call DisableTrigger(gg_trg_BlackZetsu3)
call TriggerAddCondition(gg_trg_BlackZetsu3,Condition(function Trig_BlackZetsu3_Conditions))
call TriggerAddAction(gg_trg_BlackZetsu3,function Trig_BlackZetsu3_Actions)
endfunction
function Trig_Madara_vs_Hashirama_Conditions takes nothing returns boolean
return(GetTriggerUnit()==udg_Dummy_Edo_Tensei2[5])and(GetAttacker()==udg_Hero2[9])
endfunction
function Trig_Madara_vs_Hashirama_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ReplaceUnitBJ(udg_Hero2[9],'H01B',1)
set udg_Hero2[9]=bj_lastReplacedUnit
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Hero2[9])),udg_Hero2[9],"Живой Мадара",null,"Я думал будет сложней одалеть тебя, эх как же я ошибался!",0,0,true)
endfunction
function InitTrig_Madara_vs_Hashirama takes nothing returns nothing
set gg_trg_Madara_vs_Hashirama=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Madara_vs_Hashirama,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Madara_vs_Hashirama,Condition(function Trig_Madara_vs_Hashirama_Conditions))
call TriggerAddAction(gg_trg_Madara_vs_Hashirama,function Trig_Madara_vs_Hashirama_Actions)
endfunction
function Trig_BlackZetsu3_2_Conditions takes nothing returns boolean
return(GetEnteringUnit()==udg_TobiM)
endfunction
function Trig_BlackZetsu3_2_Func014001002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false)!=null
endfunction
function Trig_BlackZetsu3_2_Func014A takes nothing returns nothing
call SetUnitOwner(GetEnumUnit(),Player($C),true)
endfunction
function Trig_BlackZetsu3_2_Func015001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_BlackZetsu3_2_Func015001002002 takes nothing returns boolean
return(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)
endfunction
function Trig_BlackZetsu3_2_Func015001002 takes nothing returns boolean
return GetBooleanAnd(Trig_BlackZetsu3_2_Func015001002001(),Trig_BlackZetsu3_2_Func015001002002())
endfunction
function Trig_BlackZetsu3_2_Func015A takes nothing returns nothing
call SetUnitOwner(GetEnumUnit(),Player($C),true)
endfunction
function Trig_BlackZetsu3_2_Func042A takes nothing returns nothing
call CameraSetEQNoiseForPlayer(GetEnumPlayer(),12.)
endfunction
function Trig_BlackZetsu3_2_Actions takes nothing returns nothing
call SetUnitInvulnerable(udg_TobiM,true)
call SetUnitInvulnerable(udg_Hero2[9],true)
call PauseUnit(udg_Hero2[9],true)
call PauseUnit(udg_TobiM,true)
call TransmissionFromUnitWithNameBJ(bj_FORCE_ALL_PLAYERS,udg_Hero2[9],"Мадара",null,"Ты что творишь...",0,.0,true)
call TransmissionFromUnitWithNameBJ(bj_FORCE_ALL_PLAYERS,udg_TobiM,"Зетсу",null,"Я не твоя ВОЛЯ... Я воля... КАГУИ!!!",0,5.,false)
call AddSpecialEffectTargetUnitBJ("origin",udg_Hero2[9],"Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectTargetUnitBJ("origin",udg_Hero2[9],"Objects\\Spawnmodels\\NightElf\\NightElfLargeDeathExplode\\NightElfLargeDeathExplode.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call TriggerSleepAction(1.)
call AddSpecialEffectTargetUnitBJ("origin",udg_Hero2[9],"Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call AddSpecialEffectTargetUnitBJ("origin",udg_Hero2[9],"Objects\\Spawnmodels\\NightElf\\NightElfLargeDeathExplode\\NightElfLargeDeathExplode.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call ShowUnitHide(udg_Hero2[9])
call ForGroupBJ(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_BlackZetsu3_2_Func014001002)),function Trig_BlackZetsu3_2_Func014A)
call ForGroupBJ(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_BlackZetsu3_2_Func015001002)),function Trig_BlackZetsu3_2_Func015A)
call SetUnitOwner(gg_unit_nfoh_0194,Player($F),true)
call SetUnitOwner(gg_unit_nfoh_0184,Player($F),true)
call SetUnitOwner(gg_unit_nfoh_0195,Player($F),true)
call SetUnitOwner(gg_unit_nbfl_0198,Player($F),true)
call SetUnitOwner(gg_unit_nbfl_0199,Player($F),true)
call PauseUnit(udg_TobiM,false)
call PauseUnit(udg_Hero2[9],false)
call SetUnitInvulnerable(udg_TobiM,false)
call CreateNUnitsAtLoc(1,'H03D',Player($C),GetUnitLoc(udg_Hero2[9]),GetUnitFacing(udg_Hero2[9]))
set udg_Kaguya=bj_lastCreatedUnit
call SetHeroLevelBJ(udg_Kaguya,30,false)
call SetUnitManaPercentBJ(udg_Kaguya,'d')
call ReplaceUnitBJ(udg_TobiM,'H04H',3)
set udg_TobiM=bj_lastReplacedUnit
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call ForForce(bj_FORCE_ALL_PLAYERS,function Trig_BlackZetsu3_2_Func042A)
call AddWeatherEffectSaveLast(gg_rct_World,'WNcw')
call EnableWeatherEffect(bj_lastCreatedWeatherEffect,true)
set udg_Apocalypsis2=bj_lastCreatedWeatherEffect
call AddWeatherEffectSaveLast(gg_rct_VisibleMap,'SNbs')
call EnableWeatherEffect(bj_lastCreatedWeatherEffect,true)
set udg_Apocalypsis2snow=bj_lastCreatedWeatherEffect
call AddSpecialEffectTargetUnitBJ("origin",udg_Kaguya,"Objects\\Spawnmodels\\Undead\\UDeathMedium\\UDeath.mdl")
call DestroyEffect(bj_lastCreatedEffect)
call EnableTrigger(gg_trg_KagyaDie)
call EnableTrigger(gg_trg_Apocalypsis)
call EnableTrigger(gg_trg_KagyaSpellCast1)
call EnableTrigger(gg_trg_KagyaSpellCast2)
call EnableTrigger(gg_trg_KagyaSpellCast3)
call TriggerRegisterUnitInRangeSimple(gg_trg_KagyaSpellCast3,256.,udg_Kaguya)
call EnableTrigger(gg_trg_KagyaSpellCast4)
call TriggerRegisterUnitInRangeSimple(gg_trg_KagyaSpellCast4,400.,udg_Kaguya)
call EnableTrigger(gg_trg_KagyaSpellCast5)
set udg_TobiM=null
endfunction
function InitTrig_BlackZetsu3_2 takes nothing returns nothing
set gg_trg_BlackZetsu3_2=CreateTrigger()
call DisableTrigger(gg_trg_BlackZetsu3_2)
call TriggerAddCondition(gg_trg_BlackZetsu3_2,Condition(function Trig_BlackZetsu3_2_Conditions))
call TriggerAddAction(gg_trg_BlackZetsu3_2,function Trig_BlackZetsu3_2_Actions)
endfunction
function Trig_Apocalypsis_Actions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=20
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call AddSpecialEffectLocBJ(GetRandomLocInRect(gg_rct_VisibleMap),"Units\\Demon\\Infernal\\InfernalBirth.mdl")
call DestroyEffect(bj_lastCreatedEffect)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function InitTrig_Apocalypsis takes nothing returns nothing
set gg_trg_Apocalypsis=CreateTrigger()
call DisableTrigger(gg_trg_Apocalypsis)
call TriggerRegisterTimerEventPeriodic(gg_trg_Apocalypsis,1.)
call TriggerAddAction(gg_trg_Apocalypsis,function Trig_Apocalypsis_Actions)
endfunction
function Trig_KagyaSpellCast1_Conditions takes nothing returns boolean
return(GetTriggerUnit()==udg_Kaguya)
endfunction
function Trig_KagyaSpellCast1_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call IssueImmediateOrderById(GetTriggerUnit(),$D0080)
call TriggerSleepAction(40.)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_KagyaSpellCast1 takes nothing returns nothing
set gg_trg_KagyaSpellCast1=CreateTrigger()
call DisableTrigger(gg_trg_KagyaSpellCast1)
call TriggerRegisterAnyUnitEventBJ(gg_trg_KagyaSpellCast1,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_KagyaSpellCast1,Condition(function Trig_KagyaSpellCast1_Conditions))
call TriggerAddAction(gg_trg_KagyaSpellCast1,function Trig_KagyaSpellCast1_Actions)
endfunction
function Trig_KagyaSpellCast2_Conditions takes nothing returns boolean
return(GetTriggerUnit()==udg_Kaguya)
endfunction
function Trig_KagyaSpellCast2_Func002C takes nothing returns boolean
return(GetRandomInt(1,20)==$A)
endfunction
function Trig_KagyaSpellCast2_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if(Trig_KagyaSpellCast2_Func002C())then
call IssueImmediateOrderById(GetTriggerUnit(),$D026C)
endif
call TriggerSleepAction(40.)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_KagyaSpellCast2 takes nothing returns nothing
set gg_trg_KagyaSpellCast2=CreateTrigger()
call DisableTrigger(gg_trg_KagyaSpellCast2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_KagyaSpellCast2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_KagyaSpellCast2,Condition(function Trig_KagyaSpellCast2_Conditions))
call TriggerAddAction(gg_trg_KagyaSpellCast2,function Trig_KagyaSpellCast2_Actions)
endfunction
function Trig_KagyaSpellCast3_Conditions takes nothing returns boolean
return(IsUnitEnemy(GetEnteringUnit(),GetOwningPlayer(udg_Kaguya)))
endfunction
function Trig_KagyaSpellCast3_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call IssuePointOrderByIdLoc(udg_Kaguya,$D0278,GetUnitLoc(GetEnteringUnit()))
call TriggerSleepAction(35.)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_KagyaSpellCast3 takes nothing returns nothing
set gg_trg_KagyaSpellCast3=CreateTrigger()
call DisableTrigger(gg_trg_KagyaSpellCast3)
call TriggerAddCondition(gg_trg_KagyaSpellCast3,Condition(function Trig_KagyaSpellCast3_Conditions))
call TriggerAddAction(gg_trg_KagyaSpellCast3,function Trig_KagyaSpellCast3_Actions)
endfunction
function Trig_KagyaSpellCast4_Conditions takes nothing returns boolean
return(IsUnitEnemy(GetEnteringUnit(),GetOwningPlayer(udg_Kaguya)))
endfunction
function Trig_KagyaSpellCast4_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call IssuePointOrderByIdLoc(udg_Kaguya,$D00FA,GetUnitLoc(GetEnteringUnit()))
call TriggerSleepAction(12.)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_KagyaSpellCast4 takes nothing returns nothing
set gg_trg_KagyaSpellCast4=CreateTrigger()
call DisableTrigger(gg_trg_KagyaSpellCast4)
call TriggerAddCondition(gg_trg_KagyaSpellCast4,Condition(function Trig_KagyaSpellCast4_Conditions))
call TriggerAddAction(gg_trg_KagyaSpellCast4,function Trig_KagyaSpellCast4_Actions)
endfunction
function Trig_KagyaSpellCast5_Conditions takes nothing returns boolean
return(GetTriggerUnit()==udg_Kaguya)
endfunction
function Trig_KagyaSpellCast5_Func002C takes nothing returns boolean
return(GetRandomInt(1,$C)==6)
endfunction
function Trig_KagyaSpellCast5_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if(Trig_KagyaSpellCast5_Func002C())then
call IssueImmediateOrderById(GetTriggerUnit(),$D00D7)
endif
call TriggerSleepAction(40.)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_KagyaSpellCast5 takes nothing returns nothing
set gg_trg_KagyaSpellCast5=CreateTrigger()
call DisableTrigger(gg_trg_KagyaSpellCast5)
call TriggerRegisterAnyUnitEventBJ(gg_trg_KagyaSpellCast5,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_KagyaSpellCast5,Condition(function Trig_KagyaSpellCast5_Conditions))
call TriggerAddAction(gg_trg_KagyaSpellCast5,function Trig_KagyaSpellCast5_Actions)
endfunction
function Trig_KagyaDie_Conditions takes nothing returns boolean
return(GetDyingUnit()==udg_Kaguya)
endfunction
function Trig_KagyaDie_Func016A takes nothing returns nothing
call CameraClearNoiseForPlayer(GetEnumPlayer())
endfunction
function Trig_KagyaDie_Func020001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_KagyaDie_Func020001002002 takes nothing returns boolean
return(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)
endfunction
function Trig_KagyaDie_Func020001002 takes nothing returns boolean
return GetBooleanAnd(Trig_KagyaDie_Func020001002001(),Trig_KagyaDie_Func020001002002())
endfunction
function Trig_KagyaDie_Func020A takes nothing returns nothing
call SetUnitOwner(GetEnumUnit(),Player(4),true)
endfunction
function Trig_KagyaDie_Func027A takes nothing returns nothing
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,(GetPlayerName(GetOwningPlayer(GetKillingUnit()))+" заслужил Истинная Победа!"))
call CustomVictoryBJ(GetEnumPlayer(),true,true)
endfunction
function Trig_KagyaDie_Actions takes nothing returns nothing
call UnitAddItemByIdSwapped('I008',GetDyingUnit())
call DisableTrigger(GetTriggeringTrigger())
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"Через 60 секунд закончится игра поздравляю вы все победители.")
call DisableTrigger(gg_trg_Apocalypsis)
call DisableTrigger(gg_trg_KagyaSpellCast1)
call DisableTrigger(gg_trg_KagyaSpellCast2)
call DisableTrigger(gg_trg_KagyaSpellCast3)
call DisableTrigger(gg_trg_KagyaSpellCast4)
call DisableTrigger(gg_trg_KagyaSpellCast5)
call ShowUnitShow(udg_Hero2[9])
call SetUnitInvulnerable(udg_Hero2[9],false)
call PauseUnit(udg_Hero2[9],false)
call RemoveUnit(udg_Hero2[9])
call RemoveWeatherEffect(udg_Apocalypsis2)
call RemoveWeatherEffect(udg_Apocalypsis2snow)
call ForForce(bj_FORCE_ALL_PLAYERS,function Trig_KagyaDie_Func016A)
call TransmissionFromUnitWithNameBJ(bj_FORCE_ALL_PLAYERS,udg_Kaguya,"Кагуя",null,"ААААААААААА$@%##^$*&(*#&$",0,2.,false)
set udg_Kaguya=null
call DisplayCineFilter(false)
call ForGroupBJ(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_KagyaDie_Func020001002)),function Trig_KagyaDie_Func020A)
call SetUnitOwner(gg_unit_nfoh_0194,Player($F),true)
call SetUnitOwner(gg_unit_nfoh_0184,Player($F),true)
call SetUnitOwner(gg_unit_nfoh_0204,Player($F),true)
call SetUnitOwner(gg_unit_nbfl_0198,Player($F),true)
call SetUnitOwner(gg_unit_nbfl_0199,Player($F),true)
call TriggerSleepAction(10.)
call ForForce(bj_FORCE_ALL_PLAYERS,function Trig_KagyaDie_Func027A)
endfunction
function InitTrig_KagyaDie takes nothing returns nothing
set gg_trg_KagyaDie=CreateTrigger()
call DisableTrigger(gg_trg_KagyaDie)
call TriggerRegisterAnyUnitEventBJ(gg_trg_KagyaDie,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_KagyaDie,Condition(function Trig_KagyaDie_Conditions))
call TriggerAddAction(gg_trg_KagyaDie,function Trig_KagyaDie_Actions)
endfunction
function Trig_BlackZetsuDie_Conditions takes nothing returns boolean
return(GetDyingUnit()==udg_DarkZetsu)
endfunction
function Trig_BlackZetsuDie_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_BlackZetsu)
call DisableTrigger(gg_trg_BlackZetsu2)
set udg_DarkZetsu=null
endfunction
function InitTrig_BlackZetsuDie takes nothing returns nothing
set gg_trg_BlackZetsuDie=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_BlackZetsuDie,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_BlackZetsuDie,Condition(function Trig_BlackZetsuDie_Conditions))
call TriggerAddAction(gg_trg_BlackZetsuDie,function Trig_BlackZetsuDie_Actions)
endfunction
function Trig_Raiga_Ranmaru_Conditions takes nothing returns boolean
return((IsUnitAliveBJ(gg_unit_Hvsh_0206))and(IsUnitType(GetEnteringUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER))!=null
endfunction
function Trig_Raiga_Ranmaru_Func001Func008Func004Func004Func006C takes nothing returns boolean
return(GetOwningPlayer(GetEnteringUnit())==Player(8))or(GetOwningPlayer(GetEnteringUnit())==Player(9))or(GetOwningPlayer(GetEnteringUnit())==Player($A))
endfunction
function Trig_Raiga_Ranmaru_Func001Func008Func004Func004C takes nothing returns boolean
return(Trig_Raiga_Ranmaru_Func001Func008Func004Func004Func006C())
endfunction
function Trig_Raiga_Ranmaru_Func001Func008Func004Func005C takes nothing returns boolean
return(GetOwningPlayer(GetEnteringUnit())==Player(3))or(GetOwningPlayer(GetEnteringUnit())==Player(5))or(GetOwningPlayer(GetEnteringUnit())==Player(6))
endfunction
function Trig_Raiga_Ranmaru_Func001Func008Func004C takes nothing returns boolean
return(Trig_Raiga_Ranmaru_Func001Func008Func004Func005C())
endfunction
function Trig_Raiga_Ranmaru_Func001Func008Func005C takes nothing returns boolean
return(GetOwningPlayer(GetEnteringUnit())==Player(0))or(GetOwningPlayer(GetEnteringUnit())==Player(1))or(GetOwningPlayer(GetEnteringUnit())==Player(2))
endfunction
function Trig_Raiga_Ranmaru_Func001Func008C takes nothing returns boolean
return(Trig_Raiga_Ranmaru_Func001Func008Func005C())
endfunction
function Trig_Raiga_Ranmaru_Func001C takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetEnteringUnit(),'I003'))
endfunction
function Trig_Raiga_Ranmaru_Actions takes nothing returns nothing
if(Trig_Raiga_Ranmaru_Func001C())then
call DisableTrigger(gg_trg_Raiga)
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(GetItemOfTypeFromUnitBJ(GetEnteringUnit(),'I003'))
call UnitAddItemByIdSwapped('I003',gg_unit_Hvsh_0206)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetEnteringUnit())),gg_unit_Hvsh_0206,"Райга",null,"Ранмару!",0,-4.,true)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetEnteringUnit())),gg_unit_Hvsh_0206,"Райга",null,"Я ОХРАНЯЮ ВАШУ БАЗУ!",0,-4.,true)
if(Trig_Raiga_Ranmaru_Func001Func008C())then
call SetUnitOwner(gg_unit_Hvsh_0206,Player(4),true)
call IssuePointOrderByIdLoc(gg_unit_Hvsh_0206,$D0012,GetRectCenter(gg_rct_tele10))
call EnableTrigger(gg_trg_Raiga_Ranmaru_K)
else
if(Trig_Raiga_Ranmaru_Func001Func008Func004C())then
call SetUnitOwner(gg_unit_Hvsh_0206,Player(7),true)
call IssuePointOrderByIdLoc(gg_unit_Hvsh_0206,$D0012,GetRectCenter(gg_rct_teleorochbase))
call EnableTrigger(gg_trg_Raiga_Ranmaru_S)
else
if(Trig_Raiga_Ranmaru_Func001Func008Func004Func004C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetEnteringUnit())),gg_unit_Hvsh_0206,"Райга",null,"Открой дверь пещеру! что-бы я смог защитить вашу базу.",0,-4.,true)
call SetUnitOwner(gg_unit_Hvsh_0206,Player($B),true)
call IssuePointOrderByIdLoc(gg_unit_Hvsh_0206,$D0012,GetRectCenter(gg_rct_Gedo))
call EnableTrigger(gg_trg_Raiga_Ranmaru_A)
endif
endif
endif
endif
endfunction
function InitTrig_Raiga_Ranmaru takes nothing returns nothing
set gg_trg_Raiga_Ranmaru=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Raiga_Ranmaru,300.,gg_unit_Hvsh_0206)
call TriggerAddCondition(gg_trg_Raiga_Ranmaru,Condition(function Trig_Raiga_Ranmaru_Conditions))
call TriggerAddAction(gg_trg_Raiga_Ranmaru,function Trig_Raiga_Ranmaru_Actions)
endfunction
function Trig_Raiga_Ranmaru_K_Func001C takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_Hvsh_0206))
endfunction
function Trig_Raiga_Ranmaru_K_Actions takes nothing returns nothing
if(Trig_Raiga_Ranmaru_K_Func001C())then
call DisableTrigger(GetTriggeringTrigger())
else
call IssuePointOrderByIdLoc(gg_unit_Hvsh_0206,$D0012,GetRectCenter(gg_rct_tele10))
endif
endfunction
function InitTrig_Raiga_Ranmaru_K takes nothing returns nothing
set gg_trg_Raiga_Ranmaru_K=CreateTrigger()
call DisableTrigger(gg_trg_Raiga_Ranmaru_K)
call TriggerRegisterTimerEventPeriodic(gg_trg_Raiga_Ranmaru_K,80.)
call TriggerAddAction(gg_trg_Raiga_Ranmaru_K,function Trig_Raiga_Ranmaru_K_Actions)
endfunction
function Trig_Raiga_Ranmaru_S_Func001C takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_Hvsh_0206))
endfunction
function Trig_Raiga_Ranmaru_S_Actions takes nothing returns nothing
if(Trig_Raiga_Ranmaru_S_Func001C())then
call DisableTrigger(GetTriggeringTrigger())
else
call IssuePointOrderByIdLoc(gg_unit_Hvsh_0206,$D0012,GetRectCenter(gg_rct_Base_Orochimaru2))
endif
endfunction
function InitTrig_Raiga_Ranmaru_S takes nothing returns nothing
set gg_trg_Raiga_Ranmaru_S=CreateTrigger()
call DisableTrigger(gg_trg_Raiga_Ranmaru_S)
call TriggerRegisterTimerEventPeriodic(gg_trg_Raiga_Ranmaru_S,80.)
call TriggerAddAction(gg_trg_Raiga_Ranmaru_S,function Trig_Raiga_Ranmaru_S_Actions)
endfunction
function Trig_Raiga_Ranmaru_A_Func001C takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_Hvsh_0206))
endfunction
function Trig_Raiga_Ranmaru_A_Actions takes nothing returns nothing
if(Trig_Raiga_Ranmaru_A_Func001C())then
call DisableTrigger(GetTriggeringTrigger())
else
call IssuePointOrderByIdLoc(gg_unit_Hvsh_0206,$D0012,GetRectCenter(gg_rct_Gedo))
endif
endfunction
function InitTrig_Raiga_Ranmaru_A takes nothing returns nothing
set gg_trg_Raiga_Ranmaru_A=CreateTrigger()
call DisableTrigger(gg_trg_Raiga_Ranmaru_A)
call TriggerRegisterTimerEventPeriodic(gg_trg_Raiga_Ranmaru_A,80.)
call TriggerAddAction(gg_trg_Raiga_Ranmaru_A,function Trig_Raiga_Ranmaru_A_Actions)
endfunction
function Trig_Mifune_Conditions takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_H027_0113))and(IsUnitAlly(GetEnteringUnit(),Player(4)))
endfunction
function Trig_Mifune_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetEnteringUnit())),gg_unit_H027_0113,"Мифуне",null,"Вот, это может победить мадару.Возьмите это.",0,4.,true)
call UnitAddItemByIdSwapped('I00B',GetEnteringUnit())
call RemoveItem(GetItemOfTypeFromUnitBJ(gg_unit_H027_0113,'I00B'))
endfunction
function InitTrig_Mifune takes nothing returns nothing
set gg_trg_Mifune=CreateTrigger()
call DisableTrigger(gg_trg_Mifune)
call TriggerRegisterUnitInRangeSimple(gg_trg_Mifune,256,gg_unit_H027_0113)
call TriggerAddCondition(gg_trg_Mifune,Condition(function Trig_Mifune_Conditions))
call TriggerAddAction(gg_trg_Mifune,function Trig_Mifune_Actions)
endfunction
function Trig_Mifune1_Conditions takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_H027_0113))and(IsUnitAlly(GetEnteringUnit(),Player(4)))
endfunction
function Trig_Mifune1_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetEnteringUnit())),gg_unit_H027_0113,"Мифуне",null,"Я знаю как остановить Мадару... беспокоится нечем, он мертв... Если восскресится дам одну вещ.",0,10.,true)
endfunction
function InitTrig_Mifune1 takes nothing returns nothing
set gg_trg_Mifune1=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Mifune1,256,gg_unit_H027_0113)
call TriggerAddCondition(gg_trg_Mifune1,Condition(function Trig_Mifune1_Conditions))
call TriggerAddAction(gg_trg_Mifune1,function Trig_Mifune1_Actions)
endfunction
function Trig_Hashirama_Conditions takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetEnteringUnit(),'I01G'))
endfunction
function Trig_Hashirama_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(GetItemOfTypeFromUnitBJ(GetEnteringUnit(),'I01G'))
call CreateItemLoc('I02S',GetUnitLoc(GetEnteringUnit()))
endfunction
function InitTrig_Hashirama takes nothing returns nothing
set gg_trg_Hashirama=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Hashirama,gg_rct_Secret_Orochimaru)
call TriggerAddCondition(gg_trg_Hashirama,Condition(function Trig_Hashirama_Conditions))
call TriggerAddAction(gg_trg_Hashirama,function Trig_Hashirama_Actions)
endfunction
function Trig_Danzo_2_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='Udre')and(GetHeroLevel(GetTriggerUnit())==30)and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00W'))
endfunction
function Trig_Danzo_2_Actions takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00W'))
call UnitRemoveAbility(GetTriggerUnit(),'B008')
call UnitAddAbility(GetTriggerUnit(),'A07D')
call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Danzo_2 takes nothing returns nothing
set gg_trg_Danzo_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Danzo_2,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_Danzo_2,Condition(function Trig_Danzo_2_Conditions))
call TriggerAddAction(gg_trg_Danzo_2,function Trig_Danzo_2_Actions)
endfunction
function Trig_Naruto_N_Conditions takes nothing returns boolean
return(GetHeroLevel(gg_unit_Hpal_0034)==30)
endfunction
function Trig_Naruto_N_Func002C takes nothing returns boolean
return(GetPlayerController(GetOwningPlayer(gg_unit_Hpal_0034))!=MAP_CONTROL_COMPUTER)
endfunction
function Trig_Naruto_N_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if(Trig_Naruto_N_Func002C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(gg_unit_Hpal_0034)),gg_unit_Ekgg_0119,"Killer (B)",null,"Чтобы получит Режим Кьюби.Ты должен пойти на водопаде истине там ты должен очистить себя.",0,2.,false)
call CreateNUnitsAtLoc(1,'H00F',Player($C),GetRectCenter(gg_rct_New_Naruto),315.)
call SetHeroLevelBJ(bj_lastCreatedUnit,30,false)
call ModifyHeroStat(0,bj_lastCreatedUnit,0,'d')
call ModifyHeroStat(1,bj_lastCreatedUnit,0,'d')
call ModifyHeroStat(2,bj_lastCreatedUnit,0,'d')
call EnableTrigger(gg_trg_Naruto_Ne)
call DestroyTrigger(GetTriggeringTrigger())
endif
endfunction
function InitTrig_Naruto_N takes nothing returns nothing
set gg_trg_Naruto_N=CreateTrigger()
call TriggerRegisterUnitEvent(gg_trg_Naruto_N,gg_unit_Hpal_0034,EVENT_UNIT_HERO_LEVEL)
call TriggerAddCondition(gg_trg_Naruto_N,Condition(function Trig_Naruto_N_Conditions))
call TriggerAddAction(gg_trg_Naruto_N,function Trig_Naruto_N_Actions)
endfunction
function Trig_Naruto_Ne_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='H00F')
endfunction
function Trig_Naruto_Ne_Actions takes nothing returns nothing
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(gg_unit_Hpal_0034)),GroupPickRandomUnit(GetUnitsOfTypeIdAll('H00F')),"Тёмный Наруто",null,"Почему ты хочешь всем помочь, они же нас с детства ненавидели и призирали смотрели как на чудовиже.",0,1.,true)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(gg_unit_Hpal_0034)),gg_unit_Hpal_0034,"Наруто",null,"Да ты прав, но у меня много друзей я не могу подвести всех.",0,1.,true)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(gg_unit_Hpal_0034)),GroupPickRandomUnit(GetUnitsOfTypeIdAll('H00F')),"Тёмный Наруто",null,"И чё мне теперь делать?",0,1.,true)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(gg_unit_Hpal_0034)),gg_unit_Hpal_0034,"Наруто",null,"Это просто, будь похожи как я.",0,1.,true)
call AddSpecialEffectLocBJ(GetRectCenter(gg_rct_New_Naruto),"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl")
set udg_Naruto_Portal=bj_lastCreatedEffect
call RemoveItem(GetItemOfTypeFromUnitBJ(gg_unit_Hpal_0034,'I03M'))
call EnableTrigger(gg_trg_Naruto_N1)
call EnableTrigger(gg_trg_Naruto_N2)
call EnableTrigger(gg_trg_Naruto_NEnd)
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Naruto_Ne takes nothing returns nothing
set gg_trg_Naruto_Ne=CreateTrigger()
call DisableTrigger(gg_trg_Naruto_Ne)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Naruto_Ne,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Naruto_Ne,Condition(function Trig_Naruto_Ne_Conditions))
call TriggerAddAction(gg_trg_Naruto_Ne,function Trig_Naruto_Ne_Actions)
endfunction
function Trig_Naruto_N1_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())=='Hpal')
endfunction
function Trig_Naruto_N1_Actions takes nothing returns nothing
call SetUnitPositionLoc(GetTriggerUnit(),GetRectCenter(gg_rct_Nar_D))
endfunction
function InitTrig_Naruto_N1 takes nothing returns nothing
set gg_trg_Naruto_N1=CreateTrigger()
call DisableTrigger(gg_trg_Naruto_N1)
call TriggerRegisterEnterRectSimple(gg_trg_Naruto_N1,gg_rct_New_Naruto)
call TriggerAddCondition(gg_trg_Naruto_N1,Condition(function Trig_Naruto_N1_Conditions))
call TriggerAddAction(gg_trg_Naruto_N1,function Trig_Naruto_N1_Actions)
endfunction
function Trig_Naruto_N2_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetEnteringUnit())=='Hpal')
endfunction
function Trig_Naruto_N2_Actions takes nothing returns nothing
call CreateNUnitsAtLoc(1,'u017',Player($C),GetRectCenter(gg_rct_D),180.)
call SetUnitLifePercentBJ(bj_lastCreatedUnit,75.)
call SetPlayerAbilityAvailableBJ(false,'A067',GetOwningPlayer(bj_lastCreatedUnit))
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Naruto_N2 takes nothing returns nothing
set gg_trg_Naruto_N2=CreateTrigger()
call DisableTrigger(gg_trg_Naruto_N2)
call TriggerRegisterEnterRectSimple(gg_trg_Naruto_N2,gg_rct_New_Naruto)
call TriggerAddCondition(gg_trg_Naruto_N2,Condition(function Trig_Naruto_N2_Conditions))
call TriggerAddAction(gg_trg_Naruto_N2,function Trig_Naruto_N2_Actions)
endfunction
function Trig_Naruto_NEnd_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='u017')
endfunction
function Trig_Naruto_NEnd_Actions takes nothing returns nothing
call RemoveItem(RandomItemInRectSimpleBJ(gg_rct_R2D2))
call SetPlayerAbilityAvailableBJ(true,'A067',GetOwningPlayer(GetDyingUnit()))
call PauseUnit(gg_unit_Hpal_0034,true)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(gg_unit_Hpal_0034)),GroupPickRandomUnit(GetUnitsOfTypeIdAll('u017')),"|c00EA5800Девятихвостый|r",null,"Я тебя не прощу Наруто.",0,1.,true)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(gg_unit_Hpal_0034)),gg_unit_Hpal_0034,"Наруто",null,"Прости меня |c00EA5800Девятихвостый|r",0,1.,true)
call PauseUnit(gg_unit_Hpal_0034,false)
call ReplaceUnitBJ(gg_unit_Hpal_0034,'H03E',3)
call UnitAddItemByIdSwapped('I00P',bj_lastReplacedUnit)
call SelectHeroSkill(bj_lastReplacedUnit,'A00G')
call SelectHeroSkill(bj_lastReplacedUnit,'A00G')
call SelectHeroSkill(bj_lastReplacedUnit,'A00G')
call SelectHeroSkill(bj_lastReplacedUnit,'A00G')
call SelectHeroSkill(bj_lastReplacedUnit,'A00L')
call SelectHeroSkill(bj_lastReplacedUnit,'A00L')
call SelectHeroSkill(bj_lastReplacedUnit,'A00L')
call SelectHeroSkill(bj_lastReplacedUnit,'A00L')
call SelectHeroSkill(bj_lastReplacedUnit,'A0C1')
call SelectHeroSkill(bj_lastReplacedUnit,'A0C0')
call SelectHeroSkill(bj_lastReplacedUnit,'A0C0')
call SelectHeroSkill(bj_lastReplacedUnit,'A0C0')
call SelectHeroSkill(bj_lastReplacedUnit,'A0CY')
call SetUnitPositionLoc(bj_lastReplacedUnit,GetRectCenter(gg_rct_Team_7))
call DestroyEffect(udg_Naruto_Portal)
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Naruto_NEnd takes nothing returns nothing
set gg_trg_Naruto_NEnd=CreateTrigger()
call DisableTrigger(gg_trg_Naruto_NEnd)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Naruto_NEnd,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Naruto_NEnd,Condition(function Trig_Naruto_NEnd_Conditions))
call TriggerAddAction(gg_trg_Naruto_NEnd,function Trig_Naruto_NEnd_Actions)
endfunction
function Trig_Naruto_Zetsu_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='n000')
endfunction
function Trig_Naruto_Zetsu_Func001C takes nothing returns boolean
return(GetUnitTypeId(GetKillingUnit())=='H03E')
endfunction
function Trig_Naruto_Zetsu_Actions takes nothing returns nothing
if(Trig_Naruto_Zetsu_Func001C())then
call AddSpecialEffectLocBJ(GetUnitLoc(GetDyingUnit()),"war3mapImported\\holytree.mdl")
call TriggerSleepAction(5.)
call DestroyEffect(bj_lastCreatedEffect)
endif
endfunction
function InitTrig_Naruto_Zetsu takes nothing returns nothing
set gg_trg_Naruto_Zetsu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Naruto_Zetsu,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Naruto_Zetsu,Condition(function Trig_Naruto_Zetsu_Conditions))
call TriggerAddAction(gg_trg_Naruto_Zetsu,function Trig_Naruto_Zetsu_Actions)
endfunction
function Trig_Katana_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
set udg_Tp_hero=GetTriggerUnit()
call DialogSetMessage(udg_Tp_dialog,"TRIGSTR_2402")
call DialogAddButtonBJ(udg_Tp_dialog,"Да")
set udg_Tp_button[1]=bj_lastCreatedButton
call DialogAddButtonBJ(udg_Tp_dialog,"Нет")
set udg_Tp_button[2]=bj_lastCreatedButton
call DialogDisplayBJ(true,udg_Tp_dialog,GetOwningPlayer(udg_Tp_hero))
endfunction
function InitTrig_Katana takes nothing returns nothing
set gg_trg_Katana=CreateTrigger()
call DisableTrigger(gg_trg_Katana)
call TriggerRegisterUnitEvent(gg_trg_Katana,gg_unit_Edem_0023,EVENT_UNIT_SELECTED)
call TriggerAddAction(gg_trg_Katana,function Trig_Katana_Actions)
endfunction
function Trig_Katana_1_Func001C takes nothing returns boolean
return(GetClickedButton()==udg_Tp_button[1])
endfunction
function Trig_Katana_1_Func002C takes nothing returns boolean
return(GetClickedButton()==udg_Tp_button[2])
endfunction
function Trig_Katana_1_Actions takes nothing returns nothing
if(Trig_Katana_1_Func001C())then
call EnableTrigger(gg_trg_Katana_2)
call DisableTrigger(GetTriggeringTrigger())
endif
if(Trig_Katana_1_Func002C())then
call DisableTrigger(GetTriggeringTrigger())
endif
set udg_Tp_hero=null
call DialogClear(udg_Tp_dialog)
endfunction
function InitTrig_Katana_1 takes nothing returns nothing
set gg_trg_Katana_1=CreateTrigger()
call TriggerRegisterDialogEvent(gg_trg_Katana_1,udg_Tp_dialog)
call TriggerAddAction(gg_trg_Katana_1,function Trig_Katana_1_Actions)
endfunction
function Trig_Katana_2_Conditions takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnit())==GetOwningPlayer(gg_unit_Edem_0023))and(GetUnitTypeId(GetDyingUnit())=='nzom')
endfunction
function Trig_Katana_2_Func003C takes nothing returns boolean
return(udg_Questnumerals[1]=='d')
endfunction
function Trig_Katana_2_Actions takes nothing returns nothing
set udg_Questnumerals[1]=(udg_Questnumerals[1]+1)
if(Trig_Katana_2_Func003C())then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(gg_unit_Edem_0023)),"Всё хватит.")
call UnitAddItemByIdSwapped('I015',gg_unit_Edem_0023)
call DisableTrigger(GetTriggeringTrigger())
else
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(gg_unit_Edem_0023)),(I2S(udg_Questnumerals[1])+" зомби убито."))
endif
endfunction
function InitTrig_Katana_2 takes nothing returns nothing
set gg_trg_Katana_2=CreateTrigger()
call DisableTrigger(gg_trg_Katana_2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Katana_2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Katana_2,Condition(function Trig_Katana_2_Conditions))
call TriggerAddAction(gg_trg_Katana_2,function Trig_Katana_2_Actions)
endfunction
function Sasuke_16lvl_Cond takes nothing returns boolean
return GetUnitLevel(gg_unit_Edem_0023)>=$F
endfunction
function Sasuke_16lvl_Act takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Zombi_respawn)
call EnableTrigger(gg_trg_Sasuke_16lvl_2)
endfunction
function InitTrig_Sasuke_16lvl takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_HERO_LEVEL,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Sasuke_16lvl_Cond))
call TriggerAddAction(t,function Sasuke_16lvl_Act)
set t=null
endfunction
function Trig_Sasuke_16lvl_2_Conditions takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())=='nzom'
endfunction
function Trig_Sasuke_16lvl_2_Actions takes nothing returns nothing
call TriggerSleepAction(5.)
call RemoveUnit(GetDyingUnit())
endfunction
function InitTrig_Sasuke_16lvl_2 takes nothing returns nothing
local trigger t=CreateTrigger()
local integer index
call DisableTrigger(gg_trg_Sasuke_16lvl_2)
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_DEATH,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Trig_Sasuke_16lvl_2_Conditions))
call TriggerAddAction(t,function Trig_Sasuke_16lvl_2_Actions)
set t=null
endfunction
function Trig_SasukeShOro_Func006C takes nothing returns boolean
return(GetKillingUnit()==gg_unit_Hant_0028)or(GetUnitTypeId(GetKillingUnit())=='H025')
endfunction
function Trig_SasukeShOro_Conditions takes nothing returns boolean
return(GetDyingUnit()==gg_unit_Edem_0023)and(GetHeroLevel(gg_unit_Edem_0023)==30)and(Trig_SasukeShOro_Func006C())
endfunction
function Trig_SasukeShOro_Actions takes nothing returns nothing
call UnitAddItemByIdSwapped('I00D',GetDyingUnit())
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_SasukeShOro takes nothing returns nothing
set gg_trg_SasukeShOro=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_SasukeShOro,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_SasukeShOro,Condition(function Trig_SasukeShOro_Conditions))
call TriggerAddAction(gg_trg_SasukeShOro,function Trig_SasukeShOro_Actions)
endfunction
function Trig_Sasuke_30lvl_Conditions takes nothing returns boolean
return(GetHeroLevel(gg_unit_Edem_0023)==30)
endfunction
function Trig_Sasuke_30lvl_Func002C takes nothing returns boolean
return(GetPlayerController(GetOwningPlayer(gg_unit_Edem_0023))!=MAP_CONTROL_COMPUTER)
endfunction
function Trig_Sasuke_30lvl_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if(Trig_Sasuke_30lvl_Func002C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(gg_unit_Edem_0023)),gg_unit_Edem_0023,"|c008000FFСаске|r",null,"Пора найти этого ублюдка и прикончить его!",0,2.,false)
call DisableTrigger(gg_trg_Sasuke_Itachi_kv)
call DisableTrigger(gg_trg_Sasuke_Itachi_kv1)
call EnableTrigger(gg_trg_Sasuke_Itachi)
endif
endfunction
function InitTrig_Sasuke_30lvl takes nothing returns nothing
set gg_trg_Sasuke_30lvl=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sasuke_30lvl,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(gg_trg_Sasuke_30lvl,Condition(function Trig_Sasuke_30lvl_Conditions))
call TriggerAddAction(gg_trg_Sasuke_30lvl,function Trig_Sasuke_30lvl_Actions)
endfunction
function Trig_Sasuke_Itachi_Conditions takes nothing returns boolean
return(GetEnteringUnit()==gg_unit_Edem_0023)
endfunction
function Trig_Sasuke_Itachi_Func005002001 takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='Edem')
endfunction
function Trig_Sasuke_Itachi_Func006002001 takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='Hblm')
endfunction
function Trig_Sasuke_Itachi_Func016002001 takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='Edem')
endfunction
function Trig_Sasuke_Itachi_Func017002001 takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='Hblm')
endfunction
function Trig_Sasuke_Itachi_Func024C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_Hblm_0025)==Player($B))
endfunction
function Trig_Sasuke_Itachi_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call PauseUnit(gg_unit_Hblm_0025,true)
call PauseUnit(gg_unit_Edem_0023,true)
call ForceCinematicSubtitles(false)
call CinematicModeBJ(true,GetPlayersMatching(Condition(function Trig_Sasuke_Itachi_Func005002001)))
call CinematicModeBJ(true,GetPlayersMatching(Condition(function Trig_Sasuke_Itachi_Func006002001)))
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(gg_unit_Edem_0023)),gg_unit_Hblm_0025,"|c00CA0000Итачи|r",null,"Вот и снова встретились...",0,2.,false)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(gg_unit_Hblm_0025)),gg_unit_Hblm_0025,"|c00CA0000Итачи|r",null,"Вот и снова встретились...",0,2.,false)
call TriggerSleepAction(1.75)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(gg_unit_Edem_0023)),gg_unit_Edem_0023,"|c008000FFСаске|r",null,"Умри!",0,1.,false)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(gg_unit_Hblm_0025)),gg_unit_Edem_0023,"|c008000FFСаске|r",null,"Умри!",0,1.,false)
call TriggerSleepAction(1.)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(gg_unit_Edem_0023)),gg_unit_Hblm_0025,"|c00CA0000Итачи|r",null,"Приходи в убежище учиха, там мы всё решим...",0,2.,false)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(gg_unit_Hblm_0025)),gg_unit_Hblm_0025,"|c00CA0000Итачи|r",null,"Приходи в убежище учиха, там мы всё решим...",0,2.,false)
call CinematicModeBJ(false,GetPlayersMatching(Condition(function Trig_Sasuke_Itachi_Func016002001)))
call CinematicModeBJ(false,GetPlayersMatching(Condition(function Trig_Sasuke_Itachi_Func017002001)))
call SetUnitPositionLocFacingLocBJ(gg_unit_Hblm_0025,GetRectCenter(gg_rct_Itachi_cinematic),GetRectCenter(gg_rct_Sasuke_cinematic))
call PauseUnit(gg_unit_Hblm_0025,false)
call PauseUnit(gg_unit_Edem_0023,false)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(gg_unit_Hblm_0025)),"Дождитесь Саске..")
call SetUnitManaPercentBJ(gg_unit_Hblm_0025,'d')
call SetUnitLifePercentBJ(gg_unit_Hblm_0025,'d')
if(Trig_Sasuke_Itachi_Func024C())then
call DisableTrigger(gg_trg_Itachi_move)
endif
call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(gg_unit_Hblm_0025),gg_rct_Uchiha)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(gg_unit_Hblm_0025),GetRectCenter(gg_rct_Itachi_cinematic),0)
call PingMinimapLocForForce(GetForceOfPlayer(GetOwningPlayer(gg_unit_Edem_0023)),GetRectCenter(gg_rct_Sasuke_Itachi),30.)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(gg_unit_Edem_0023)),"Иди туда.")
call EnableTrigger(gg_trg_Sasuke_Itachi_2)
endfunction
function InitTrig_Sasuke_Itachi takes nothing returns nothing
set gg_trg_Sasuke_Itachi=CreateTrigger()
call DisableTrigger(gg_trg_Sasuke_Itachi)
call TriggerRegisterUnitInRangeSimple(gg_trg_Sasuke_Itachi,500.,gg_unit_Hblm_0025)
call TriggerAddCondition(gg_trg_Sasuke_Itachi,Condition(function Trig_Sasuke_Itachi_Conditions))
call TriggerAddAction(gg_trg_Sasuke_Itachi,function Trig_Sasuke_Itachi_Actions)
endfunction
function Trig_Sasuke_Itachi_2_Conditions takes nothing returns boolean
return(GetEnteringUnit()==gg_unit_Edem_0023)
endfunction
function Trig_Sasuke_Itachi_2_Actions takes nothing returns nothing
call CreateFogModifierRectBJ(true,GetOwningPlayer(gg_unit_Hblm_0025),FOG_OF_WAR_VISIBLE,gg_rct_Uchiha)
call CreateFogModifierRectBJ(true,GetOwningPlayer(gg_unit_Edem_0023),FOG_OF_WAR_VISIBLE,gg_rct_Uchiha)
call SetUnitPositionLocFacingLocBJ(GetEnteringUnit(),GetRectCenter(gg_rct_Sasuke_cinematic),GetRectCenter(gg_rct_Itachi_cinematic))
call SetCameraBoundsToRectForPlayerBJ(GetOwningPlayer(GetEnteringUnit()),gg_rct_Uchiha)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),GetRectCenter(gg_rct_Sasuke_cinematic),0)
call EnableTrigger(gg_trg_Sasuke_Itachi_3)
endfunction
function InitTrig_Sasuke_Itachi_2 takes nothing returns nothing
set gg_trg_Sasuke_Itachi_2=CreateTrigger()
call DisableTrigger(gg_trg_Sasuke_Itachi_2)
call TriggerRegisterEnterRectSimple(gg_trg_Sasuke_Itachi_2,gg_rct_Sasuke_Itachi)
call TriggerAddCondition(gg_trg_Sasuke_Itachi_2,Condition(function Trig_Sasuke_Itachi_2_Conditions))
call TriggerAddAction(gg_trg_Sasuke_Itachi_2,function Trig_Sasuke_Itachi_2_Actions)
endfunction
function Trig_Sasuke_Itachi_3_Func016002 takes nothing returns nothing
call SetUnitOwner(GetEnumUnit(),GetOwningPlayer(gg_unit_Edem_0023),true)
endfunction
function Trig_Sasuke_Itachi_3_Func045C takes nothing returns boolean
return(GetOwningPlayer(gg_unit_Hblm_0025)==Player($B))
endfunction
function Trig_Sasuke_Itachi_3_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Sasuke_Itachi_2)
call DisableTrigger(gg_trg_SasukeMSH_move)
call EnableTrigger(gg_trg_Sasuke_Itachi_4)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(gg_unit_Edem_0023)),gg_unit_Hblm_0025,"|c00CA0000Итачи|r",null,"Вот и всё.. Саске...",0,3.,false)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(gg_unit_Hblm_0025)),gg_unit_Hblm_0025,"|c00CA0000Итачи|r",null,"Вот и всё.. Саске...",0,2.,false)
call AddWeatherEffectSaveLast(gg_rct_Uchiha,'RAhr')
call EnableWeatherEffect(bj_lastCreatedWeatherEffect,true)
call AddWeatherEffectSaveLast(gg_rct_Uchiha,'WOlw')
call EnableWeatherEffect(bj_lastCreatedWeatherEffect,true)
call SetUnitFacingToFaceUnitTimed(gg_unit_Edem_0023,gg_unit_Hblm_0025,1.)
call PauseUnit(gg_unit_Edem_0023,true)
call TriggerSleepAction(5.)
call SetUnitAnimation(gg_unit_Edem_0023,"death")
call TriggerSleepAction(15.)
call ForGroupBJ(GetUnitsInRectOfPlayer(gg_rct_Base_Orochimaru_second,Player(7)),function Trig_Sasuke_Itachi_3_Func016002)
call CreateNUnitsAtLoc(1,'E005',GetOwningPlayer(gg_unit_Edem_0023),GetRectCenter(gg_rct_Taka_Sasuke),180.)
set udg_Hero2['h']=bj_lastCreatedUnit
call SetHeroLevelBJ(bj_lastCreatedUnit,30,false)
call ModifyHeroStat(0,bj_lastReplacedUnit,2,GetHeroStatBJ(0,udg_Hero2['h'],true))
call ModifyHeroStat(1,bj_lastReplacedUnit,2,GetHeroStatBJ(1,udg_Hero2['h'],true))
call ModifyHeroStat(2,bj_lastReplacedUnit,2,GetHeroStatBJ(2,udg_Hero2['h'],true))
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Edem_0023,1)),bj_lastCreatedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Edem_0023,2)),bj_lastCreatedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Edem_0023,3)),bj_lastCreatedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Edem_0023,4)),bj_lastCreatedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Edem_0023,5)),bj_lastCreatedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Edem_0023,6)),bj_lastCreatedUnit)
call SelectHeroSkill(bj_lastCreatedUnit,'A02R')
call SelectHeroSkill(bj_lastCreatedUnit,'A02R')
call SelectHeroSkill(bj_lastCreatedUnit,'A02R')
call SelectHeroSkill(bj_lastCreatedUnit,'A02R')
call SelectHeroSkill(bj_lastCreatedUnit,'A00J')
call SelectHeroSkill(bj_lastCreatedUnit,'A00J')
call SelectHeroSkill(bj_lastCreatedUnit,'A00J')
call SelectHeroSkill(bj_lastCreatedUnit,'A00J')
call SelectHeroSkill(bj_lastCreatedUnit,'A00P')
call SelectHeroSkill(bj_lastCreatedUnit,'A00P')
call SelectHeroSkill(bj_lastCreatedUnit,'A00P')
call SelectHeroSkill(bj_lastCreatedUnit,'A00P')
call SelectHeroSkill(bj_lastCreatedUnit,'A00Z')
call RemoveUnit(gg_unit_Edem_0023)
call CreateFogModifierRectBJ(true,GetOwningPlayer(udg_Hero2['h']),FOG_OF_WAR_VISIBLE,gg_rct_Base_Orochimaru_second)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Hero2['h'])),udg_Hero2['h'],"Саске",null,"Новое задание убить Данзо!",0,0,true)
if(Trig_Sasuke_Itachi_3_Func045C())then
call EnableTrigger(gg_trg_Itachi_move)
endif
endfunction
function InitTrig_Sasuke_Itachi_3 takes nothing returns nothing
set gg_trg_Sasuke_Itachi_3=CreateTrigger()
call DisableTrigger(gg_trg_Sasuke_Itachi_3)
call TriggerRegisterUnitEvent(gg_trg_Sasuke_Itachi_3,gg_unit_Hblm_0025,EVENT_UNIT_DEATH)
call TriggerAddAction(gg_trg_Sasuke_Itachi_3,function Trig_Sasuke_Itachi_3_Actions)
endfunction
function Trig_Sasuke_Itachi_4_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='Udre')and(GetUnitTypeId(GetKillingUnit())=='E005')
endfunction
function Trig_Sasuke_Itachi_4_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitRemoveAbility(udg_Hero2['h'],'A00Z')
call SetPlayerAbilityAvailableBJ(false,'A00Z',GetOwningPlayer(udg_Hero2['h']))
call UnitAddAbility(udg_Hero2['h'],'A015')
call SelectHeroSkill(udg_Hero2['h'],'A015')
call StartTimerBJ(udg_SasukeTime,false,900.)
call CreateTimerDialogBJ(udg_SasukeTime,"Мангёки Шаринган")
set udg_TheSaske=bj_lastCreatedTimerDialog
endfunction
function InitTrig_Sasuke_Itachi_4 takes nothing returns nothing
set gg_trg_Sasuke_Itachi_4=CreateTrigger()
call DisableTrigger(gg_trg_Sasuke_Itachi_4)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sasuke_Itachi_4,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Sasuke_Itachi_4,Condition(function Trig_Sasuke_Itachi_4_Conditions))
call TriggerAddAction(gg_trg_Sasuke_Itachi_4,function Trig_Sasuke_Itachi_4_Actions)
endfunction
function Trig_Sasuke_Itachi_5_Actions takes nothing returns nothing
call EnableTrigger(gg_trg_itachi_give_me_eyes)
call DestroyTimerDialog(udg_TheSaske)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Hero2['h'])),udg_Hero2['h'],"Саске",null,"Чёрт! эти глаза теряют свет.",0,0,true)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Hero2['h'])),"Вы можете забрать газа Итачи и получить вечный Мангюку. Для этого напишите -eternal light(сначала отключите Мангюку Шаринган).")
endfunction
function InitTrig_Sasuke_Itachi_5 takes nothing returns nothing
set gg_trg_Sasuke_Itachi_5=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_Sasuke_Itachi_5,udg_SasukeTime)
call TriggerAddAction(gg_trg_Sasuke_Itachi_5,function Trig_Sasuke_Itachi_5_Actions)
endfunction
function Trig_itachi_give_me_eyes_Conditions takes nothing returns boolean
return(UnitHasBuffBJ(udg_Hero2['h'],'B00A')==false)and(IsUnitPaused(udg_Hero2['h'])==false)
endfunction
function Trig_itachi_give_me_eyes_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call PauseUnit(udg_Hero2['h'],true)
call SetUnitInvulnerable(udg_Hero2['h'],true)
call TriggerSleepAction(2.)
call CreateNUnitsAtLoc(1,'E00B',GetOwningPlayer(udg_Hero2['h']),GetRectCenter(gg_rct_Taka_Sasuke),180.)
call SetHeroLevelBJ(bj_lastCreatedUnit,30,false)
call UnitAddItem(bj_lastCreatedUnit,UnitItemInSlotBJ(udg_Hero2['h'],1))
call UnitAddItem(bj_lastCreatedUnit,UnitItemInSlotBJ(udg_Hero2['h'],2))
call UnitAddItem(bj_lastCreatedUnit,UnitItemInSlotBJ(udg_Hero2['h'],3))
call UnitAddItem(bj_lastCreatedUnit,UnitItemInSlotBJ(udg_Hero2['h'],4))
call UnitAddItem(bj_lastCreatedUnit,UnitItemInSlotBJ(udg_Hero2['h'],5))
call UnitAddItem(bj_lastCreatedUnit,UnitItemInSlotBJ(udg_Hero2['h'],6))
call SelectHeroSkill(bj_lastReplacedUnit,'A02R')
call SelectHeroSkill(bj_lastReplacedUnit,'A02R')
call SelectHeroSkill(bj_lastReplacedUnit,'A02R')
call SelectHeroSkill(bj_lastReplacedUnit,'A02R')
call SelectHeroSkill(bj_lastReplacedUnit,'A00P')
call SelectHeroSkill(bj_lastReplacedUnit,'A00P')
call SelectHeroSkill(bj_lastReplacedUnit,'A00P')
call SelectHeroSkill(bj_lastReplacedUnit,'A00P')
call SelectHeroSkill(bj_lastReplacedUnit,'A00J')
call SelectHeroSkill(bj_lastReplacedUnit,'A00J')
call SelectHeroSkill(bj_lastReplacedUnit,'A00J')
call SelectHeroSkill(bj_lastReplacedUnit,'A00J')
call SelectHeroSkill(bj_lastCreatedUnit,'A010')
call ModifyHeroStat(0,bj_lastReplacedUnit,2,GetHeroStatBJ(0,udg_Hero2['h'],true))
call ModifyHeroStat(1,bj_lastReplacedUnit,2,GetHeroStatBJ(1,udg_Hero2['h'],true))
call ModifyHeroStat(2,bj_lastReplacedUnit,2,GetHeroStatBJ(2,udg_Hero2['h'],true))
call RemoveUnit(udg_Hero2['h'])
set udg_Hero2['h']=null
set udg_Hero2['h']=bj_lastCreatedUnit
call TransmissionFromUnitWithNameBJ(bj_FORCE_ALL_PLAYERS,udg_Hero2['h'],"Саске",null,"Я чувствую как сила переполняет меня.",0,0,true)
endfunction
function InitTrig_itachi_give_me_eyes takes nothing returns nothing
set gg_trg_itachi_give_me_eyes=CreateTrigger()
call DisableTrigger(gg_trg_itachi_give_me_eyes)
call TriggerRegisterPlayerChatEvent(gg_trg_itachi_give_me_eyes,Player(3),"-eternal light",true)
call TriggerRegisterPlayerChatEvent(gg_trg_itachi_give_me_eyes,Player(5),"-eternal light",true)
call TriggerRegisterPlayerChatEvent(gg_trg_itachi_give_me_eyes,Player(6),"-eternal light",true)
call TriggerAddCondition(gg_trg_itachi_give_me_eyes,Condition(function Trig_itachi_give_me_eyes_Conditions))
call TriggerAddAction(gg_trg_itachi_give_me_eyes,function Trig_itachi_give_me_eyes_Actions)
endfunction
function Trig_Hozuki_Suygetsu_Conditions takes nothing returns boolean
return(UnitHasItemOfTypeBJ(gg_unit_Ofar_0013,'I02Z'))
endfunction
function Trig_Hozuki_Suygetsu_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(GetItemOfTypeFromUnitBJ(gg_unit_Ofar_0013,'I02Z'))
call UnitRemoveAbility(gg_unit_Ofar_0013,'AOcr')
call UnitAddAbility(gg_unit_Ofar_0013,'A0AS')
call ModifyHeroStat(0,gg_unit_Ofar_0013,0,'d')
call ModifyHeroStat(1,gg_unit_Ofar_0013,0,'d')
call ModifyHeroStat(2,gg_unit_Ofar_0013,0,'d')
endfunction
function InitTrig_Hozuki_Suygetsu takes nothing returns nothing
set gg_trg_Hozuki_Suygetsu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hozuki_Suygetsu,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_Hozuki_Suygetsu,Condition(function Trig_Hozuki_Suygetsu_Conditions))
call TriggerAddAction(gg_trg_Hozuki_Suygetsu,function Trig_Hozuki_Suygetsu_Actions)
endfunction
function Trig_Kabuto1_Conditions takes nothing returns boolean
return(IsUnitDeadBJ(gg_unit_Hant_0028))and(GetEnteringUnit()==gg_unit_Hgam_0030)and(GetHeroLevel(gg_unit_Hgam_0030)==30)
endfunction
function Trig_Kabuto1_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(gg_trg_Kabuto2)
call ReplaceUnitBJ(gg_unit_Hgam_0030,'H042',1)
set udg_KabutoStadiya=bj_lastReplacedUnit
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Hgam_0030,1)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Hgam_0030,2)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Hgam_0030,3)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Hgam_0030,4)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Hgam_0030,5)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Hgam_0030,6)),bj_lastReplacedUnit)
call SelectHeroSkill(bj_lastReplacedUnit,'A060')
call SelectHeroSkill(bj_lastReplacedUnit,'A060')
call SelectHeroSkill(bj_lastReplacedUnit,'A060')
call SelectHeroSkill(bj_lastReplacedUnit,'A060')
call SelectHeroSkill(bj_lastReplacedUnit,'A01H')
call SelectHeroSkill(bj_lastReplacedUnit,'A01H')
call SelectHeroSkill(bj_lastReplacedUnit,'A01H')
call SelectHeroSkill(bj_lastReplacedUnit,'A01H')
call SelectHeroSkill(bj_lastReplacedUnit,'A064')
call SelectHeroSkill(bj_lastReplacedUnit,'A064')
call SelectHeroSkill(bj_lastReplacedUnit,'A064')
call SelectHeroSkill(bj_lastReplacedUnit,'A064')
call SelectHeroSkill(bj_lastReplacedUnit,'A07H')
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(gg_unit_Hgam_0030)),"DNA Орочимару получено.")
call StartTimerBJ(udg_KabutoTime,false,12.)
call CreateTimerDialogBJ(udg_KabutoTime,"DNA Орочимару")
set udg_TheDNA=bj_lastCreatedTimerDialog
endfunction
function InitTrig_Kabuto1 takes nothing returns nothing
set gg_trg_Kabuto1=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Kabuto1,100.,gg_unit_Hant_0028)
call TriggerAddCondition(gg_trg_Kabuto1,Condition(function Trig_Kabuto1_Conditions))
call TriggerAddAction(gg_trg_Kabuto1,function Trig_Kabuto1_Actions)
endfunction
function Trig_Kabuto2_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DestroyTimerDialog(udg_TheDNA)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(gg_unit_Hgam_0030)),"Кабуто полностью освоил DNA Орочимару.")
call ReplaceUnitBJ(udg_KabutoStadiya,'H025',3)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(udg_KabutoStadiya,1)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(udg_KabutoStadiya,2)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(udg_KabutoStadiya,3)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(udg_KabutoStadiya,4)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(udg_KabutoStadiya,5)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(udg_KabutoStadiya,6)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped('I02K',bj_lastReplacedUnit)
call SelectHeroSkill(bj_lastReplacedUnit,'A060')
call SelectHeroSkill(bj_lastReplacedUnit,'A060')
call SelectHeroSkill(bj_lastReplacedUnit,'A060')
call SelectHeroSkill(bj_lastReplacedUnit,'A060')
call SelectHeroSkill(bj_lastReplacedUnit,'A01H')
call SelectHeroSkill(bj_lastReplacedUnit,'A01H')
call SelectHeroSkill(bj_lastReplacedUnit,'A01H')
call SelectHeroSkill(bj_lastReplacedUnit,'A01H')
call SelectHeroSkill(bj_lastReplacedUnit,'A064')
call SelectHeroSkill(bj_lastReplacedUnit,'A064')
call SelectHeroSkill(bj_lastReplacedUnit,'A064')
call SelectHeroSkill(bj_lastReplacedUnit,'A064')
call SelectHeroSkill(bj_lastReplacedUnit,'A07H')
set udg_KabutoStadiya=null
endfunction
function InitTrig_Kabuto2 takes nothing returns nothing
set gg_trg_Kabuto2=CreateTrigger()
call DisableTrigger(gg_trg_Kabuto2)
call TriggerRegisterTimerExpireEvent(gg_trg_Kabuto2,udg_KabutoTime)
call TriggerAddAction(gg_trg_Kabuto2,function Trig_Kabuto2_Actions)
endfunction
function Trig_Kabuto_Edo_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A01V')and(GetUnitTypeId(GetSpellAbilityUnit())=='H025')
endfunction
function Trig_Kabuto_Edo_Func001C takes nothing returns boolean
return(GetSpellTargetUnit()==gg_unit_Oshd_0117)
endfunction
function Trig_Kabuto_Edo_Actions takes nothing returns nothing
if(Trig_Kabuto_Edo_Func001C())then
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetSpellAbilityUnit())),gg_unit_Oshd_0117,"Анко",null,"Кабуто а ты изминился",0,2.,false)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetSpellAbilityUnit())),GetSpellAbilityUnit(),"Псевдо Орочимару",null,"А ты нет хех,,,",0,2.,false)
call UnitRemoveAbility(GetSpellAbilityUnit(),'A081')
call UnitAddAbility(GetSpellAbilityUnit(),'A01U')
call RemoveUnit(gg_unit_Oshd_0117)
call EnableTrigger(gg_trg_Kabuto_Edo_2)
call DestroyTrigger(GetTriggeringTrigger())
endif
endfunction
function InitTrig_Kabuto_Edo takes nothing returns nothing
set gg_trg_Kabuto_Edo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kabuto_Edo,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Kabuto_Edo,Condition(function Trig_Kabuto_Edo_Conditions))
call TriggerAddAction(gg_trg_Kabuto_Edo,function Trig_Kabuto_Edo_Actions)
endfunction
function Trig_Kabuto_Edo_2_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetAttacker())=='H025')and(GetUnitTypeId(GetTriggerUnit())=='H018')
endfunction
function Trig_Kabuto_Edo_2_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveUnit(GetTriggerUnit())
call EnableTrigger(gg_trg_Edo_Tensei_Kabuto)
endfunction
function InitTrig_Kabuto_Edo_2 takes nothing returns nothing
set gg_trg_Kabuto_Edo_2=CreateTrigger()
call DisableTrigger(gg_trg_Kabuto_Edo_2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kabuto_Edo_2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Kabuto_Edo_2,Condition(function Trig_Kabuto_Edo_2_Conditions))
call TriggerAddAction(gg_trg_Kabuto_Edo_2,function Trig_Kabuto_Edo_2_Actions)
endfunction
function Trig_Edo_Tensei_Kabuto_Conditions takes nothing returns boolean
return(GetSpellAbilityId()=='A01T')
endfunction
function Trig_Edo_Tensei_Kabuto_Actions takes nothing returns nothing
set udg_CastEdoTensei=GetSpellAbilityUnit()
call PauseUnit(udg_CastEdoTensei,true)
call SetUnitAnimation(udg_CastEdoTensei,"Spell")
call TriggerSleepAction(.45)
call CreateNUnitsAtLoc(1,'hmtt',Player($F),PolarProjectionBJ(GetUnitLoc(udg_CastEdoTensei),270.,(GetUnitFacing(udg_CastEdoTensei)-.0)),GetUnitFacing(udg_CastEdoTensei))
set udg_Grob[0]=bj_lastCreatedUnit
call SetUnitAnimation(udg_Grob[0],"birth")
call SetUnitAnimation(udg_CastEdoTensei,"Spell")
call TriggerSleepAction(1.25)
call CreateNUnitsAtLoc(1,'H018',GetOwningPlayer(udg_CastEdoTensei),PolarProjectionBJ(GetUnitLoc(udg_Grob[0]),.0,GetUnitFacing(udg_Grob[0])),GetUnitFacing(udg_Grob[0]))
call SetHeroLevelBJ(bj_lastCreatedUnit,30,false)
set udg_Hero2[87]=bj_lastCreatedUnit
call TriggerSleepAction(.4)
call KillUnit(udg_Grob[0])
call RemoveUnit(udg_Grob[0])
call PauseUnit(udg_CastEdoTensei,false)
call EnableTrigger(gg_trg_Edo_Tensei_Kabuto_2)
call EnableTrigger(gg_trg_Kabuto_Sage)
call EnableTrigger(gg_trg_Mifune)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Edo_Tensei_Kabuto takes nothing returns nothing
set gg_trg_Edo_Tensei_Kabuto=CreateTrigger()
call DisableTrigger(gg_trg_Edo_Tensei_Kabuto)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Edo_Tensei_Kabuto,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Edo_Tensei_Kabuto,Condition(function Trig_Edo_Tensei_Kabuto_Conditions))
call TriggerAddAction(gg_trg_Edo_Tensei_Kabuto,function Trig_Edo_Tensei_Kabuto_Actions)
endfunction
function Trig_Edo_Tensei_Kabuto_2_Conditions takes nothing returns boolean
return(GetDyingUnit()==udg_Hero2[87])
endfunction
function Trig_Edo_Tensei_Kabuto_2_Actions takes nothing returns nothing
call EnableTrigger(gg_trg_Edo_Tensei_Kabuto)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Edo_Tensei_Kabuto_2 takes nothing returns nothing
set gg_trg_Edo_Tensei_Kabuto_2=CreateTrigger()
call DisableTrigger(gg_trg_Edo_Tensei_Kabuto_2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Edo_Tensei_Kabuto_2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Edo_Tensei_Kabuto_2,Condition(function Trig_Edo_Tensei_Kabuto_2_Conditions))
call TriggerAddAction(gg_trg_Edo_Tensei_Kabuto_2,function Trig_Edo_Tensei_Kabuto_2_Actions)
endfunction
function Trig_Kabuto_Sage_Conditions takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02H'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02J'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02F'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02I'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I02G'))
endfunction
function Trig_Kabuto_Sage_Actions takes nothing returns nothing
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02H'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02J'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02F'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02I'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I02G'))
call EnableTrigger(gg_trg_Kabuto_Sage_end)
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Kabuto_Sage takes nothing returns nothing
set gg_trg_Kabuto_Sage=CreateTrigger()
call DisableTrigger(gg_trg_Kabuto_Sage)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kabuto_Sage,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_Kabuto_Sage,Condition(function Trig_Kabuto_Sage_Conditions))
call TriggerAddAction(gg_trg_Kabuto_Sage,function Trig_Kabuto_Sage_Actions)
endfunction
function Trig_Kabuto_Sage_end_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H025')
endfunction
function Trig_Kabuto_Sage_end_Actions takes nothing returns nothing
call DestroyTrigger(GetTriggeringTrigger())
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(GetTriggerUnit())),"Кабуто полностью освоил Режим Отшельника.")
call ReplaceUnitBJ(GetTriggerUnit(),'H01W',3)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),1)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),2)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),3)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),4)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),5)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(GetTriggerUnit(),6)),bj_lastReplacedUnit)
call SelectHeroSkill(bj_lastReplacedUnit,'A060')
call SelectHeroSkill(bj_lastReplacedUnit,'A060')
call SelectHeroSkill(bj_lastReplacedUnit,'A060')
call SelectHeroSkill(bj_lastReplacedUnit,'A060')
call SelectHeroSkill(bj_lastReplacedUnit,'A01H')
call SelectHeroSkill(bj_lastReplacedUnit,'A01H')
call SelectHeroSkill(bj_lastReplacedUnit,'A01H')
call SelectHeroSkill(bj_lastReplacedUnit,'A01H')
call SelectHeroSkill(bj_lastReplacedUnit,'A064')
call SelectHeroSkill(bj_lastReplacedUnit,'A064')
call SelectHeroSkill(bj_lastReplacedUnit,'A064')
call SelectHeroSkill(bj_lastReplacedUnit,'A064')
call SelectHeroSkill(bj_lastReplacedUnit,'A07H')
call SelectHeroSkill(bj_lastReplacedUnit,'A099')
endfunction
function InitTrig_Kabuto_Sage_end takes nothing returns nothing
set gg_trg_Kabuto_Sage_end=CreateTrigger()
call DisableTrigger(gg_trg_Kabuto_Sage_end)
call TriggerRegisterEnterRectSimple(gg_trg_Kabuto_Sage_end,gg_rct_CaveKabuto)
call TriggerAddCondition(gg_trg_Kabuto_Sage_end,Condition(function Trig_Kabuto_Sage_end_Conditions))
call TriggerAddAction(gg_trg_Kabuto_Sage_end,function Trig_Kabuto_Sage_end_Actions)
endfunction
function Trig_Tobi_madara_Conditions takes nothing returns boolean
return(GetHeroLevel(GetTriggerUnit())==30)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)
endfunction
function Trig_Tobi_madara_Actions takes nothing returns nothing
call ReplaceUnitBJ(gg_unit_Huth_0018,'H008',1)
set udg_TobiM=bj_lastReplacedUnit
call ModifyHeroStat(2,udg_TobiM,2,GetHeroStatBJ(2,gg_unit_Huth_0018,false))
call ModifyHeroStat(1,udg_TobiM,2,GetHeroStatBJ(1,gg_unit_Huth_0018,false))
call ModifyHeroStat(0,udg_TobiM,2,GetHeroStatBJ(0,gg_unit_Huth_0018,false))
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Huth_0018,1)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Huth_0018,2)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Huth_0018,3)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Huth_0018,4)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Huth_0018,5)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(gg_unit_Huth_0018,6)),bj_lastReplacedUnit)
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call SelectHeroSkill(bj_lastReplacedUnit,'A05S')
call SelectHeroSkill(bj_lastReplacedUnit,'A05S')
call SelectHeroSkill(bj_lastReplacedUnit,'A05S')
call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(gg_unit_Huth_0018))
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_TobiM)),udg_TobiM,"Мадара",null,"Моё терпение на исходе.",0,0,true)
call TriggerRegisterUnitInRangeSimple(gg_trg_TobiRinnegan2,256,gg_unit_Hhkl_0021)
call EnableTrigger(gg_trg_TobiRinnegan)
call DisableTrigger(gg_trg_TobiRinnegan_kv)
call DisableTrigger(gg_trg_TobiRinnegan_kv1)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_Tobi_madara takes nothing returns nothing
set gg_trg_Tobi_madara=CreateTrigger()
call TriggerRegisterUnitEvent(gg_trg_Tobi_madara,gg_unit_Huth_0018,EVENT_UNIT_HERO_LEVEL)
call TriggerAddCondition(gg_trg_Tobi_madara,Condition(function Trig_Tobi_madara_Conditions))
call TriggerAddAction(gg_trg_Tobi_madara,function Trig_Tobi_madara_Actions)
endfunction
function Trig_TobiRinnegan_Conditions takes nothing returns boolean
return(GetDyingUnit()==udg_Hero2[2])and(GetOwningPlayer(GetKillingUnit())==GetOwningPlayer(udg_TobiM))
endfunction
function Trig_TobiRinnegan_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_TobiM)),udg_TobiM,"Мадара",null,"Теперь... дай, то поправу моё.",0,0,true)
call UnitAddItemByIdSwapped('I00C',GetDyingUnit())
endfunction
function InitTrig_TobiRinnegan takes nothing returns nothing
set gg_trg_TobiRinnegan=CreateTrigger()
call DisableTrigger(gg_trg_TobiRinnegan)
call TriggerRegisterAnyUnitEventBJ(gg_trg_TobiRinnegan,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_TobiRinnegan,Condition(function Trig_TobiRinnegan_Conditions))
call TriggerAddAction(gg_trg_TobiRinnegan,function Trig_TobiRinnegan_Actions)
endfunction
function Trig_TobiRinnegan2_Conditions takes nothing returns boolean
return(GetEnteringUnit()==udg_TobiM)and(IsUnitAliveBJ(gg_unit_Hhkl_0021))and(IsUnitAliveBJ(udg_TobiM))and(udg_Queston[(1+GetPlayerId(GetOwningPlayer(udg_TobiM)))]==false)and(udg_Queston[(1+GetPlayerId(GetOwningPlayer(gg_unit_Hhkl_0021)))]==false)and(IsPlayerEnemy(GetOwningPlayer(gg_unit_Hhkl_0021),Player($B)))
endfunction
function Trig_TobiRinnegan2_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_TobiM)),udg_TobiM,"Мадара",null,"Предателей ждёт одна судьба!",0,0,true)
endfunction
function InitTrig_TobiRinnegan2 takes nothing returns nothing
set gg_trg_TobiRinnegan2=CreateTrigger()
call TriggerAddCondition(gg_trg_TobiRinnegan2,Condition(function Trig_TobiRinnegan2_Conditions))
call TriggerAddAction(gg_trg_TobiRinnegan2,function Trig_TobiRinnegan2_Actions)
endfunction
function Trig_TobiRinnegan3_Conditions takes nothing returns boolean
return(GetManipulatingUnit()==udg_TobiM)and(UnitHasItemOfTypeBJ(GetManipulatingUnit(),'I00C'))
endfunction
function Trig_TobiRinnegan3_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_TobiM)),udg_TobiM,"Мадара",null,"Немножко испорчено, но это неважно. Надо возвращатся и надеть \"Риннеган\".",0,0,true)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_TobiM)),"Что-бы имплантировать глаз, отправтесь в секретном комнате и воидите в круг.")
endfunction
function InitTrig_TobiRinnegan3 takes nothing returns nothing
set gg_trg_TobiRinnegan3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_TobiRinnegan3,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_TobiRinnegan3,Condition(function Trig_TobiRinnegan3_Conditions))
call TriggerAddAction(gg_trg_TobiRinnegan3,function Trig_TobiRinnegan3_Actions)
endfunction
function Trig_TobiRinnegan4_Func035C takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetEnteringUnit(),'I00C'))and(GetUnitTypeId(GetEnteringUnit())=='H008')
endfunction
function Trig_TobiRinnegan4_Conditions takes nothing returns boolean
return(Trig_TobiRinnegan4_Func035C())
endfunction
function Trig_TobiRinnegan4_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(gg_trg_TobiRinnegan5)
call DisableTrigger(gg_trg_TobiRin_move)
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_TobiM,'I00C'))
call ReplaceUnitBJ(udg_TobiM,'H01F',1)
call ModifyHeroStat(0,bj_lastReplacedUnit,2,GetHeroStatBJ(0,udg_TobiM,false))
call ModifyHeroStat(1,bj_lastReplacedUnit,2,GetHeroStatBJ(1,udg_TobiM,false))
call ModifyHeroStat(2,bj_lastReplacedUnit,2,GetHeroStatBJ(2,udg_TobiM,false))
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(udg_TobiM,1)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(udg_TobiM,2)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(udg_TobiM,3)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(udg_TobiM,4)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(udg_TobiM,5)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(udg_TobiM,6)),bj_lastReplacedUnit)
set udg_TobiM=null
set udg_TobiM=bj_lastReplacedUnit
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call SelectHeroSkill(bj_lastReplacedUnit,'A05S')
call SelectHeroSkill(bj_lastReplacedUnit,'A05S')
call SelectHeroSkill(bj_lastReplacedUnit,'A05S')
call SelectHeroSkill(bj_lastReplacedUnit,'A05T')
call SelectUnitForPlayerSingle(bj_lastReplacedUnit,GetOwningPlayer(udg_TobiM))
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_TobiM)),udg_TobiM,"Мадара",null,"Мой новый глаз жаждит битвы!",0,0,true)
endfunction
function InitTrig_TobiRinnegan4 takes nothing returns nothing
set gg_trg_TobiRinnegan4=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_TobiRinnegan4,gg_rct_Madara_revive)
call TriggerAddCondition(gg_trg_TobiRinnegan4,Condition(function Trig_TobiRinnegan4_Conditions))
call TriggerAddAction(gg_trg_TobiRinnegan4,function Trig_TobiRinnegan4_Actions)
endfunction
function Trig_TobiRinnegan5_Conditions takes nothing returns boolean
return(GetDyingUnit()==udg_TobiM)and(GetRandomInt(1,6)==3)
endfunction
function Trig_TobiRinnegan5_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call TriggerSleepAction(10.2)
call ReplaceUnitBJ(udg_TobiM,'H01U',1)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(udg_TobiM,1)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(udg_TobiM,2)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(udg_TobiM,3)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(udg_TobiM,4)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(udg_TobiM,5)),bj_lastReplacedUnit)
call UnitAddItemByIdSwapped(GetItemTypeId(UnitItemInSlotBJ(udg_TobiM,6)),bj_lastReplacedUnit)
call ModifyHeroStat(0,bj_lastReplacedUnit,2,GetHeroStatBJ(0,udg_TobiM,false))
call ModifyHeroStat(1,bj_lastReplacedUnit,2,GetHeroStatBJ(1,udg_TobiM,false))
call ModifyHeroStat(2,bj_lastReplacedUnit,2,GetHeroStatBJ(2,udg_TobiM,false))
set udg_TobiM=null
set udg_TobiM=bj_lastReplacedUnit
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call SelectHeroSkill(bj_lastReplacedUnit,'A05S')
call SelectHeroSkill(bj_lastReplacedUnit,'A05S')
call SelectHeroSkill(bj_lastReplacedUnit,'A05S')
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"Маска Тоби сломано!")
endfunction
function InitTrig_TobiRinnegan5 takes nothing returns nothing
set gg_trg_TobiRinnegan5=CreateTrigger()
call DisableTrigger(gg_trg_TobiRinnegan5)
call TriggerRegisterAnyUnitEventBJ(gg_trg_TobiRinnegan5,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_TobiRinnegan5,Condition(function Trig_TobiRinnegan5_Conditions))
call TriggerAddAction(gg_trg_TobiRinnegan5,function Trig_TobiRinnegan5_Actions)
endfunction
function Trig_Obito_Rikudo_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H01U')and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00Q'))
endfunction
function Trig_Obito_Rikudo_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00Q'))
call ReplaceUnitBJ(GetTriggerUnit(),'H03G',3)
set udg_TobiM=bj_lastReplacedUnit
call ModifyHeroStat(0,udg_TobiM,0,50)
call ModifyHeroStat(2,udg_TobiM,0,50)
call ModifyHeroStat(1,udg_TobiM,0,50)
endfunction
function InitTrig_Obito_Rikudo takes nothing returns nothing
set gg_trg_Obito_Rikudo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Obito_Rikudo,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_Obito_Rikudo,Condition(function Trig_Obito_Rikudo_Conditions))
call TriggerAddAction(gg_trg_Obito_Rikudo,function Trig_Obito_Rikudo_Actions)
endfunction
function Trig_Obito_Rikudo_Kill_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='H03G')
endfunction
function Trig_Obito_Rikudo_Kill_Func029Func001C takes nothing returns boolean
return(IsUnitAliveBJ(udg_DarkZetsu))
endfunction
function Trig_Obito_Rikudo_Kill_Func029C takes nothing returns boolean
return(Trig_Obito_Rikudo_Kill_Func029Func001C())
endfunction
function Trig_Obito_Rikudo_Kill_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ReplaceUnitBJ(GetDyingUnit(),'H04H',3)
set udg_TobiM=bj_lastReplacedUnit
call ModifyHeroStat(0,udg_TobiM,1,50)
call ModifyHeroStat(1,udg_TobiM,1,50)
call ModifyHeroStat(2,udg_TobiM,1,50)
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05R')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A05L')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call SelectHeroSkill(bj_lastReplacedUnit,'A00E')
call CreateNUnitsAtLoc(1,'u00Q',Player(4),GetRectCenter(gg_rct_Kazekage),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'u00R',Player(4),GetRandomLocInRect(gg_rct_Nibi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'u00V',Player(4),GetRectCenter(gg_rct_sanbi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'u00S',Player(4),GetRectCenter(gg_rct_Roushin),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'u00T',Player(4),GetRectCenter(gg_rct_gobi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'u00W',Player(4),GetRectCenter(gg_rct_Utaka),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'u00U',Player(4),GetRectCenter(gg_rct_sichibi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'u00X',Player(4),GetRectCenter(gg_rct_hashibi),bj_UNIT_FACING)
call CreateNUnitsAtLoc(1,'u017',Player(4),GetRectCenter(gg_rct_kyubi),bj_UNIT_FACING)
if(Trig_Obito_Rikudo_Kill_Func029C())then
call DisableTrigger(gg_trg_BlackZetsu)
call DisableTrigger(gg_trg_BlackZetsu2)
call EnableTrigger(gg_trg_BlackZetsu3)
call EnableTrigger(gg_trg_BlackZetsuMove)
call EnableTrigger(gg_trg_Hv10)
call TriggerRegisterUnitInRangeSimple(gg_trg_BlackZetsu3,256.,udg_TobiM)
call IssueTargetOrderById(udg_DarkZetsu,$D0012,udg_TobiM)
endif
endfunction
function InitTrig_Obito_Rikudo_Kill takes nothing returns nothing
set gg_trg_Obito_Rikudo_Kill=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Obito_Rikudo_Kill,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Obito_Rikudo_Kill,Condition(function Trig_Obito_Rikudo_Kill_Conditions))
call TriggerAddAction(gg_trg_Obito_Rikudo_Kill,function Trig_Obito_Rikudo_Kill_Actions)
endfunction
function Trig_Hv10_Conditions takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00I'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00J'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00A'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00K'))
endfunction
function Trig_Hv10_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call EnableTrigger(gg_trg_Hv10_2)
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00I'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00J'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00A'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00K'))
endfunction
function InitTrig_Hv10 takes nothing returns nothing
set gg_trg_Hv10=CreateTrigger()
call DisableTrigger(gg_trg_Hv10)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hv10,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_Hv10,Condition(function Trig_Hv10_Conditions))
call TriggerAddAction(gg_trg_Hv10,function Trig_Hv10_Actions)
endfunction
function Trig_Hv10_2_Conditions takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00L'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00M'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00N'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00O'))and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I03M'))
endfunction
function Trig_Hv10_2_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00L'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00M'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00N'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I00O'))
call RemoveItem(GetItemOfTypeFromUnitBJ(GetTriggerUnit(),'I03M'))
call UnitAddItemByIdSwapped('I00Q',GetTriggerUnit())
endfunction
function InitTrig_Hv10_2 takes nothing returns nothing
set gg_trg_Hv10_2=CreateTrigger()
call DisableTrigger(gg_trg_Hv10_2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hv10_2,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_Hv10_2,Condition(function Trig_Hv10_2_Conditions))
call TriggerAddAction(gg_trg_Hv10_2,function Trig_Hv10_2_Actions)
endfunction
function Trig_Madara_Rikudo_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetTriggerUnit())=='H01B')and(UnitHasItemOfTypeBJ(GetTriggerUnit(),'I00Q'))
endfunction
function Trig_Madara_Rikudo_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call ReplaceUnitBJ(GetTriggerUnit(),'H03H',3)
set udg_Hero2[9]=bj_lastReplacedUnit
endfunction
function InitTrig_Madara_Rikudo takes nothing returns nothing
set gg_trg_Madara_Rikudo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Madara_Rikudo,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_Madara_Rikudo,Condition(function Trig_Madara_Rikudo_Conditions))
call TriggerAddAction(gg_trg_Madara_Rikudo,function Trig_Madara_Rikudo_Actions)
endfunction
function Trig_Madara_Rikudo_Kill_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='H03H')
endfunction
function Trig_Madara_Rikudo_Kill_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call RemoveUnit(GetDyingUnit())
endfunction
function InitTrig_Madara_Rikudo_Kill takes nothing returns nothing
set gg_trg_Madara_Rikudo_Kill=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Madara_Rikudo_Kill,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Madara_Rikudo_Kill,Condition(function Trig_Madara_Rikudo_Kill_Conditions))
call TriggerAddAction(gg_trg_Madara_Rikudo_Kill,function Trig_Madara_Rikudo_Kill_Actions)
endfunction
function Trig_TheRedMoonActivated_Conditions takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I00Q')
endfunction
function Trig_TheRedMoonActivated_Func002Func007C takes nothing returns boolean
return(GetUnitTypeId(GetManipulatingUnit())=='H03G')or(GetUnitTypeId(GetManipulatingUnit())=='H03H')
endfunction
function Trig_TheRedMoonActivated_Func002C takes nothing returns boolean
return(Trig_TheRedMoonActivated_Func002Func007C())
endfunction
function Trig_TheRedMoonActivated_Actions takes nothing returns nothing
if(Trig_TheRedMoonActivated_Func002C())then
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"Проект \"|c00800000Лунный глаз|r\" ЗАПУЩЕН.")
call StartTimerBJ(udg_TimeMoon,false,600.)
call CreateTimerDialogBJ(udg_TimeMoon,"TRIGSTR_365")
call TimerDialogSetTitleColorBJ(bj_lastCreatedTimerDialog,60.,.0,.0,0)
set udg_TheRedmoon=bj_lastCreatedTimerDialog
set udg_Redmoon=GetTriggerUnit()
endif
endfunction
function InitTrig_TheRedMoonActivated takes nothing returns nothing
set gg_trg_TheRedMoonActivated=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_TheRedMoonActivated,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_TheRedMoonActivated,Condition(function Trig_TheRedMoonActivated_Conditions))
call TriggerAddAction(gg_trg_TheRedMoonActivated,function Trig_TheRedMoonActivated_Actions)
endfunction
function Trig_TheRedMoonDeActivated_Func002C takes nothing returns boolean
return(GetItemTypeId(GetManipulatedItem())=='I00Q')and(IsUnitIllusion(GetManipulatingUnit())==false)
endfunction
function Trig_TheRedMoonDeActivated_Conditions takes nothing returns boolean
return(Trig_TheRedMoonDeActivated_Func002C())
endfunction
function Trig_TheRedMoonDeActivated_Func001Func006C takes nothing returns boolean
return(GetUnitTypeId(GetManipulatingUnit())=='H03G')or(GetUnitTypeId(GetManipulatingUnit())=='H03H')
endfunction
function Trig_TheRedMoonDeActivated_Func001C takes nothing returns boolean
return(Trig_TheRedMoonDeActivated_Func001Func006C())
endfunction
function Trig_TheRedMoonDeActivated_Actions takes nothing returns nothing
if(Trig_TheRedMoonDeActivated_Func001C())then
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"Проект \"|c00800000Лунный глаз|r\" ОТМЕНЁН.")
call PauseTimerBJ(true,udg_TimeMoon)
call DestroyTimerDialog(udg_TheRedmoon)
call SetUnitVertexColorBJ(udg_Redmoon,90.,90.,90.,0)
set udg_Redmoon=null
endif
endfunction
function InitTrig_TheRedMoonDeActivated takes nothing returns nothing
set gg_trg_TheRedMoonDeActivated=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_TheRedMoonDeActivated,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_TheRedMoonDeActivated,Condition(function Trig_TheRedMoonDeActivated_Conditions))
call TriggerAddAction(gg_trg_TheRedMoonDeActivated,function Trig_TheRedMoonDeActivated_Actions)
endfunction
function Trig_TheRedMoonActivated_2_Func007001002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false)!=null
endfunction
function Trig_TheRedMoonActivated_2_Func007A takes nothing returns nothing
call SetUnitOwner(GetEnumUnit(),GetOwningPlayer(udg_Redmoon),true)
endfunction
function Trig_TheRedMoonActivated_2_Func008001002001 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=null
endfunction
function Trig_TheRedMoonActivated_2_Func008001002002 takes nothing returns boolean
return(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)
endfunction
function Trig_TheRedMoonActivated_2_Func008001002 takes nothing returns boolean
return GetBooleanAnd(Trig_TheRedMoonActivated_2_Func008001002001(),Trig_TheRedMoonActivated_2_Func008001002002())
endfunction
function Trig_TheRedMoonActivated_2_Func008A takes nothing returns nothing
call SetUnitOwner(GetEnumUnit(),Player($B),true)
endfunction
function Trig_TheRedMoonActivated_2_Actions takes nothing returns nothing
call PauseTimerBJ(true,udg_TimeMoon)
call DestroyTimerDialog(udg_TheRedmoon)
call CinematicFilterGenericBJ(2,BLEND_MODE_ADDITIVE,"ReplaceableTextures\\CameraMasks\\DreamFilter_Mask.blp",.0,.0,100.,68.,.0,0,100.,0)
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"\"|c00800000НАЧИНАЕТСЯ!! МИР ИЛЛЮЗИЯ ВО ЛЖИ!!|r\"")
call UnitAddAbility(udg_Redmoon,'A009')
call ForGroupBJ(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_TheRedMoonActivated_2_Func007001002)),function Trig_TheRedMoonActivated_2_Func007A)
call ForGroupBJ(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_TheRedMoonActivated_2_Func008001002)),function Trig_TheRedMoonActivated_2_Func008A)
call SetUnitOwner(gg_unit_nfoh_0194,Player($F),true)
call SetUnitOwner(gg_unit_nfoh_0184,Player($F),true)
call SetUnitOwner(gg_unit_nfoh_0204,Player($F),true)
call SetUnitOwner(gg_unit_nbfl_0198,Player($F),true)
call SetUnitOwner(gg_unit_nbfl_0199,Player($F),true)
call EnableTrigger(gg_trg_TheRedMoonDeActivated_2)
call DisableTrigger(gg_trg_TheRedMoonDeActivated)
call EnableTrigger(gg_trg_BlackZetsuMove_2)
call EnableTrigger(gg_trg_BlackZetsu3_2)
call TriggerRegisterUnitInRangeSimple(gg_trg_BlackZetsu3_2,256.,udg_Hero2[9])
call IssueTargetOrderById(udg_TobiM,$D0012,udg_Hero2[9])
endfunction
function InitTrig_TheRedMoonActivated_2 takes nothing returns nothing
set gg_trg_TheRedMoonActivated_2=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_TheRedMoonActivated_2,udg_TimeMoon)
call TriggerAddAction(gg_trg_TheRedMoonActivated_2,function Trig_TheRedMoonActivated_2_Actions)
endfunction
function Trig_TheRedMoonDeActivated_2_Conditions takes nothing returns boolean
return(GetDyingUnit()==udg_Redmoon)
endfunction
function Trig_TheRedMoonDeActivated_2_Func006001002 takes nothing returns boolean
return(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false)!=null
endfunction
function Trig_TheRedMoonDeActivated_2_Func006A takes nothing returns nothing
call SetUnitOwner(GetEnumUnit(),Player($C),true)
endfunction
function Trig_TheRedMoonDeActivated_2_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,"Проект \"|c00800000Лунный глаз|r\" ОТМЕНЁН.")
call UnitRemoveAbility(udg_Redmoon,'A009')
call SetUnitVertexColorBJ(udg_Redmoon,90.,90.,90.,0)
call DisplayCineFilter(false)
call ForGroupBJ(GetUnitsInRectMatching(GetWorldBounds(),Condition(function Trig_TheRedMoonDeActivated_2_Func006001002)),function Trig_TheRedMoonDeActivated_2_Func006A)
call SetUnitOwner(gg_unit_nfoh_0194,Player(4),true)
call SetUnitOwner(gg_unit_nfoh_0184,Player(4),true)
call SetUnitOwner(gg_unit_nfoh_0204,Player(4),true)
call SetUnitOwner(gg_unit_nbfl_0198,Player(7),true)
call SetUnitOwner(gg_unit_nbfl_0199,Player(7),true)
set udg_Redmoon=null
call EnableTrigger(gg_trg_TheRedMoonDeActivated)
endfunction
function InitTrig_TheRedMoonDeActivated_2 takes nothing returns nothing
set gg_trg_TheRedMoonDeActivated_2=CreateTrigger()
call DisableTrigger(gg_trg_TheRedMoonDeActivated_2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_TheRedMoonDeActivated_2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_TheRedMoonDeActivated_2,Condition(function Trig_TheRedMoonDeActivated_2_Conditions))
call TriggerAddAction(gg_trg_TheRedMoonDeActivated_2,function Trig_TheRedMoonDeActivated_2_Actions)
endfunction
function Trig_Wolf_Conditions takes nothing returns boolean
return((udg_Queston[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)and(GetUnitTypeId(GetEnteringUnit())!='H00T')and(GetUnitTypeId(GetEnteringUnit())!='n00K')and(GetUnitTypeId(GetEnteringUnit())!='H006')and(GetUnitTypeId(GetEnteringUnit())!='H018')and(GetUnitTypeId(GetEnteringUnit())!='E003')and(IsUnitIllusion(GetEnteringUnit())==false)and(IsUnitType(GetEnteringUnit(),UNIT_TYPE_HERO))and(GetUnitUserData(gg_unit_hrif_0187)==0))!=null
endfunction
function Trig_Wolf_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitUserData(gg_unit_hrif_0187,'}')
set udg_Questunit[1]=GetEnteringUnit()
set udg_Queston[(1+GetPlayerId(GetOwningPlayer(udg_Questunit[1])))]=true
call PauseUnit(udg_Questunit[1],true)
call SetUnitFacingToFaceUnitTimed(gg_unit_hrif_0187,udg_Questunit[1],0)
call SetUnitFacingToFaceUnitTimed(udg_Questunit[1],gg_unit_hrif_0187,0)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[1])),gg_unit_hrif_0187,"Пастух",null,"Волки совсем распоясались! а... как раз, я искал таких как ты. Хочешь помочь? а взамен я помогу тебе финансовым трудностям.",0,2.,false)
call TriggerSleepAction(2.)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[1])),gg_unit_hrif_0187,"Пастух",null,"Убей волков!",0,2.,false)
call TriggerSleepAction(2.)
call DestroyEffect(udg_Questeffects[1])
call AddSpecialEffectTargetUnitBJ("overhead",gg_unit_hrif_0187,"Objects\\RandomObject\\RandomObject.mdl")
set udg_Questeffects[1]=bj_lastCreatedEffect
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[1])),"Quest-Волки: убей 1-го волка.")
call EnableTrigger(gg_trg_Wolf2)
call EnableTrigger(gg_trg_WolfQ)
call PauseUnit(udg_Questunit[1],false)
call SetUnitUserData(gg_unit_hrif_0187,0)
endfunction
function InitTrig_Wolf takes nothing returns nothing
set gg_trg_Wolf=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Wolf,150.,gg_unit_hrif_0187)
call TriggerAddCondition(gg_trg_Wolf,Condition(function Trig_Wolf_Conditions))
call TriggerAddAction(gg_trg_Wolf,function Trig_Wolf_Actions)
endfunction
function Trig_Wolf2_Func002C takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnit())==GetOwningPlayer(udg_Questunit[1]))and(GetUnitTypeId(GetDyingUnit())=='nwld')
endfunction
function Trig_Wolf2_Conditions takes nothing returns boolean
return(Trig_Wolf2_Func002C())
endfunction
function Trig_Wolf2_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[1])),"Волк убит.")
call DisableTrigger(gg_trg_WolfQ)
call EnableTrigger(gg_trg_WolfEnd)
endfunction
function InitTrig_Wolf2 takes nothing returns nothing
set gg_trg_Wolf2=CreateTrigger()
call DisableTrigger(gg_trg_Wolf2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Wolf2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Wolf2,Condition(function Trig_Wolf2_Conditions))
call TriggerAddAction(gg_trg_Wolf2,function Trig_Wolf2_Actions)
endfunction
function Trig_WolfQ_Conditions takes nothing returns boolean
return(GetEnteringUnit()==udg_Questunit[1])
endfunction
function Trig_WolfQ_Actions takes nothing returns nothing
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[1])),"Quest-Волки: убей 1-го волка.")
endfunction
function InitTrig_WolfQ takes nothing returns nothing
set gg_trg_WolfQ=CreateTrigger()
call DisableTrigger(gg_trg_WolfQ)
call TriggerRegisterUnitInRangeSimple(gg_trg_WolfQ,190.,gg_unit_hrif_0187)
call TriggerAddCondition(gg_trg_WolfQ,Condition(function Trig_WolfQ_Conditions))
call TriggerAddAction(gg_trg_WolfQ,function Trig_WolfQ_Actions)
endfunction
function Trig_WolfEnd_Conditions takes nothing returns boolean
return(GetEnteringUnit()==udg_Questunit[1])and(GetUnitUserData(gg_unit_hrif_0187)==0)
endfunction
function Trig_WolfEnd_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitUserData(gg_unit_hrif_0187,'}')
call PauseUnit(udg_Questunit[1],true)
call SetUnitFacingToFaceUnitTimed(gg_unit_hrif_0187,udg_Questunit[1],0)
call SetUnitFacingToFaceUnitTimed(udg_Questunit[1],gg_unit_hrif_0187,0)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[1])),gg_unit_hrif_0187,"Пастух",null,"Ну мои овцы... вы будете спать спокойно. Забыл! я соврал про деньги.",0,1.,false)
call TriggerSleepAction(1.)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[1])),"Quest-волки: выполнено = получено 500 золото.")
call AdjustPlayerStateBJ(500,GetOwningPlayer(udg_Questunit[1]),PLAYER_STATE_RESOURCE_GOLD)
call PauseUnit(udg_Questunit[1],false)
set udg_Queston[(1+GetPlayerId(GetOwningPlayer(udg_Questunit[1])))]=false
set udg_Questunit[1]=null
call DestroyEffect(udg_Questeffects[1])
call SetUnitUserData(gg_unit_hrif_0187,0)
endfunction
function InitTrig_WolfEnd takes nothing returns nothing
set gg_trg_WolfEnd=CreateTrigger()
call DisableTrigger(gg_trg_WolfEnd)
call TriggerRegisterUnitInRangeSimple(gg_trg_WolfEnd,150.,gg_unit_hrif_0187)
call TriggerAddCondition(gg_trg_WolfEnd,Condition(function Trig_WolfEnd_Conditions))
call TriggerAddAction(gg_trg_WolfEnd,function Trig_WolfEnd_Actions)
endfunction
function Trig_Barah_must_die_Conditions takes nothing returns boolean
return((udg_Queston[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)and(GetUnitTypeId(GetEnteringUnit())!='H00T')and(GetUnitTypeId(GetEnteringUnit())!='n00K')and(GetUnitTypeId(GetEnteringUnit())!='H006')and(GetUnitTypeId(GetEnteringUnit())!='H018')and(GetUnitTypeId(GetEnteringUnit())!='E003')and(IsUnitIllusion(GetEnteringUnit())==false)and(IsUnitType(GetEnteringUnit(),UNIT_TYPE_HERO))and(GetUnitUserData(gg_unit_n00I_0237)==0))!=null
endfunction
function Trig_Barah_must_die_Func003C takes nothing returns boolean
return(IsUnitAliveBJ(udg_Hero2[86]))
endfunction
function Trig_Barah_must_die_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitUserData(gg_unit_n00I_0237,'}')
if(Trig_Barah_must_die_Func003C())then
set udg_Questunit[2]=GetEnteringUnit()
set udg_Queston[(1+GetPlayerId(GetOwningPlayer(udg_Questunit[2])))]=true
call PauseUnit(udg_Questunit[2],true)
call SetUnitFacingToFaceUnitTimed(gg_unit_n00I_0237,udg_Questunit[2],0)
call SetUnitFacingToFaceUnitTimed(udg_Questunit[2],gg_unit_n00I_0237,0)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[2])),gg_unit_n00I_0237,"Крестянин",null,"Пожалуйста, помоги мне! главарь разбойников \"Барах\", он угрожает, он уже ищет мнея. Мне конец. Еслиб кто-то мог хотябы остановить его.",0,2.,false)
call TriggerSleepAction(2.)
call DestroyEffect(udg_Questeffects[2])
call AddSpecialEffectTargetUnitBJ("overhead",gg_unit_n00I_0237,"Objects\\RandomObject\\RandomObject.mdl")
set udg_Questeffects[2]=bj_lastCreatedEffect
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[2])),"Quest-Барах: убей главаря банды по имени Барах.")
call EnableTrigger(gg_trg_Barah_must_die2)
call EnableTrigger(gg_trg_Barah_must_dieQ)
call PauseUnit(udg_Questunit[2],false)
else
call DestroyEffect(udg_Questeffects[2])
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetEnteringUnit())),gg_unit_n00I_0237,"Крестянин",null,"Ухх... Барах мёртв.",0,2.,false)
call SetUnitInvulnerable(gg_unit_n00I_0237,false)
endif
call SetUnitUserData(gg_unit_n00I_0237,0)
endfunction
function InitTrig_Barah_must_die takes nothing returns nothing
set gg_trg_Barah_must_die=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Barah_must_die,150.,gg_unit_n00I_0237)
call TriggerAddCondition(gg_trg_Barah_must_die,Condition(function Trig_Barah_must_die_Conditions))
call TriggerAddAction(gg_trg_Barah_must_die,function Trig_Barah_must_die_Actions)
endfunction
function Trig_Barah_must_die2_Conditions takes nothing returns boolean
return(GetUnitTypeId(GetDyingUnit())=='nogl')
endfunction
function Trig_Barah_must_die2_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[2])),"Барах убит.")
call DisableTrigger(gg_trg_Barah_must_dieQ)
call EnableTrigger(gg_trg_Barah_must_dieEnd)
endfunction
function InitTrig_Barah_must_die2 takes nothing returns nothing
set gg_trg_Barah_must_die2=CreateTrigger()
call DisableTrigger(gg_trg_Barah_must_die2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Barah_must_die2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Barah_must_die2,Condition(function Trig_Barah_must_die2_Conditions))
call TriggerAddAction(gg_trg_Barah_must_die2,function Trig_Barah_must_die2_Actions)
endfunction
function Trig_Barah_must_dieQ_Conditions takes nothing returns boolean
return(GetEnteringUnit()==udg_Questunit[2])
endfunction
function Trig_Barah_must_dieQ_Actions takes nothing returns nothing
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[2])),"Quest-Барах: убей главаря банды по имени Барах.")
endfunction
function InitTrig_Barah_must_dieQ takes nothing returns nothing
set gg_trg_Barah_must_dieQ=CreateTrigger()
call DisableTrigger(gg_trg_Barah_must_dieQ)
call TriggerRegisterUnitInRangeSimple(gg_trg_Barah_must_dieQ,190.,gg_unit_n00I_0237)
call TriggerAddCondition(gg_trg_Barah_must_dieQ,Condition(function Trig_Barah_must_dieQ_Conditions))
call TriggerAddAction(gg_trg_Barah_must_dieQ,function Trig_Barah_must_dieQ_Actions)
endfunction
function Trig_Barah_must_dieEnd_Conditions takes nothing returns boolean
return(GetEnteringUnit()==udg_Questunit[2])and(GetUnitUserData(gg_unit_n00I_0237)==0)
endfunction
function Trig_Barah_must_dieEnd_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitUserData(gg_unit_n00I_0237,'}')
call PauseUnit(udg_Questunit[2],true)
call SetUnitFacingToFaceUnitTimed(gg_unit_n00I_0237,udg_Questunit[2],0)
call SetUnitFacingToFaceUnitTimed(udg_Questunit[2],gg_unit_n00I_0237,0)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[2])),gg_unit_n00I_0237,"Крестянин",null,"Ухх... Спасибо тебе огромное.",0,2.,false)
call TriggerSleepAction(2.)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[2])),"Quest-Барах: выполнено = получено Рамен.")
call UnitAddItemByIdSwapped('I005',udg_Questunit[2])
call UnitAddItemByIdSwapped('I005',udg_Questunit[2])
call UnitAddItemByIdSwapped('I005',udg_Questunit[2])
call PauseUnit(udg_Questunit[2],false)
set udg_Queston[(1+GetPlayerId(GetOwningPlayer(udg_Questunit[2])))]=false
set udg_Questunit[2]=null
call DestroyEffect(udg_Questeffects[2])
call SetUnitInvulnerable(gg_unit_n00I_0237,false)
call SetUnitUserData(gg_unit_n00I_0237,0)
endfunction
function InitTrig_Barah_must_dieEnd takes nothing returns nothing
set gg_trg_Barah_must_dieEnd=CreateTrigger()
call DisableTrigger(gg_trg_Barah_must_dieEnd)
call TriggerRegisterUnitInRangeSimple(gg_trg_Barah_must_dieEnd,150.,gg_unit_n00I_0237)
call TriggerAddCondition(gg_trg_Barah_must_dieEnd,Condition(function Trig_Barah_must_dieEnd_Conditions))
call TriggerAddAction(gg_trg_Barah_must_dieEnd,function Trig_Barah_must_dieEnd_Actions)
endfunction
function Trig_Amedato_Conditions takes nothing returns boolean
return((udg_Queston[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)and(GetUnitTypeId(GetEnteringUnit())!='H00T')and(GetUnitTypeId(GetEnteringUnit())!='n00K')and(GetUnitTypeId(GetEnteringUnit())!='H006')and(GetUnitTypeId(GetEnteringUnit())!='H018')and(GetUnitTypeId(GetEnteringUnit())!='E003')and(IsUnitIllusion(GetEnteringUnit())==false)and(IsUnitType(GetEnteringUnit(),UNIT_TYPE_HERO))and(GetUnitUserData(gg_unit_h00C_0141)==0))!=null
endfunction
function Trig_Amedato_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitUserData(gg_unit_h00C_0141,'}')
set udg_Questunit[3]=GetEnteringUnit()
set udg_Queston[(1+GetPlayerId(GetOwningPlayer(udg_Questunit[3])))]=true
call PauseUnit(udg_Questunit[3],true)
call SetUnitFacingToFaceUnitTimed(gg_unit_h00C_0141,udg_Questunit[3],0)
call SetUnitFacingToFaceUnitTimed(udg_Questunit[3],gg_unit_h00C_0141,0)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[3])),gg_unit_h00C_0141,"Джоунин дождя",null,"Убей отступников дождя, которые шляются поблизости. Потом поговорим.",0,2.,false)
call TriggerSleepAction(2.)
call DestroyEffect(udg_Questeffects[3])
call AddSpecialEffectTargetUnitBJ("overhead",gg_unit_h00C_0141,"Objects\\RandomObject\\RandomObject.mdl")
set udg_Questeffects[3]=bj_lastCreatedEffect
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[3])),"Quest-Отступники: убей 10 Чунины отступников дождя.")
call EnableTrigger(gg_trg_Amedato2)
call EnableTrigger(gg_trg_AmedatoQ)
call PauseUnit(udg_Questunit[3],false)
call SetUnitUserData(gg_unit_h00C_0141,0)
endfunction
function InitTrig_Amedato takes nothing returns nothing
set gg_trg_Amedato=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Amedato,150.,gg_unit_h00C_0141)
call TriggerAddCondition(gg_trg_Amedato,Condition(function Trig_Amedato_Conditions))
call TriggerAddAction(gg_trg_Amedato,function Trig_Amedato_Actions)
endfunction
function Trig_Amedato2_Func001C takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnit())==GetOwningPlayer(udg_Questunit[3]))and(GetUnitTypeId(GetDyingUnit())=='h002')
endfunction
function Trig_Amedato2_Conditions takes nothing returns boolean
return(Trig_Amedato2_Func001C())
endfunction
function Trig_Amedato2_Func003C takes nothing returns boolean
return(udg_Questnumerals[2]==$A)
endfunction
function Trig_Amedato2_Actions takes nothing returns nothing
set udg_Questnumerals[2]=(udg_Questnumerals[2]+1)
if(Trig_Amedato2_Func003C())then
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[3])),"Всё отступники убиты.")
call DisableTrigger(gg_trg_AmedatoQ)
call EnableTrigger(gg_trg_AmedatoEnd)
call DisableTrigger(GetTriggeringTrigger())
else
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[3])),(I2S(udg_Questnumerals[2])+" отступников убито."))
endif
endfunction
function InitTrig_Amedato2 takes nothing returns nothing
set gg_trg_Amedato2=CreateTrigger()
call DisableTrigger(gg_trg_Amedato2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Amedato2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Amedato2,Condition(function Trig_Amedato2_Conditions))
call TriggerAddAction(gg_trg_Amedato2,function Trig_Amedato2_Actions)
endfunction
function Trig_AmedatoQ_Conditions takes nothing returns boolean
return(GetEnteringUnit()==udg_Questunit[3])
endfunction
function Trig_AmedatoQ_Actions takes nothing returns nothing
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[3])),"Quest-Отступники: убей 10 Чунины отступников дождя.")
endfunction
function InitTrig_AmedatoQ takes nothing returns nothing
set gg_trg_AmedatoQ=CreateTrigger()
call DisableTrigger(gg_trg_AmedatoQ)
call TriggerRegisterUnitInRangeSimple(gg_trg_AmedatoQ,190.,gg_unit_h00C_0141)
call TriggerAddCondition(gg_trg_AmedatoQ,Condition(function Trig_AmedatoQ_Conditions))
call TriggerAddAction(gg_trg_AmedatoQ,function Trig_AmedatoQ_Actions)
endfunction
function Trig_AmedatoEnd_Conditions takes nothing returns boolean
return(GetEnteringUnit()==udg_Questunit[3])and(GetUnitUserData(gg_unit_h00C_0141)==0)
endfunction
function Trig_AmedatoEnd_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitUserData(gg_unit_h00C_0141,'}')
call PauseUnit(udg_Questunit[3],true)
call SetUnitFacingToFaceUnitTimed(gg_unit_h00C_0141,udg_Questunit[3],0)
call SetUnitFacingToFaceUnitTimed(udg_Questunit[3],gg_unit_h00C_0141,0)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[3])),gg_unit_h00C_0141,"Джоунин дождя",null,"Отлично! но у меня нет времени на разговоры. Держи, ты заслужил.",0,2.,false)
call TriggerSleepAction(2.)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[3])),"Quest-отступники: выполнено = получено 900 золота")
call AdjustPlayerStateBJ(900,GetOwningPlayer(udg_Questunit[3]),PLAYER_STATE_RESOURCE_GOLD)
call PauseUnit(udg_Questunit[3],false)
set udg_Queston[(1+GetPlayerId(GetOwningPlayer(udg_Questunit[3])))]=false
set udg_Questnumerals[2]=0
set udg_Questunit[3]=null
call DestroyEffect(udg_Questeffects[3])
call SetUnitUserData(gg_unit_h00C_0141,0)
endfunction
function InitTrig_AmedatoEnd takes nothing returns nothing
set gg_trg_AmedatoEnd=CreateTrigger()
call DisableTrigger(gg_trg_AmedatoEnd)
call TriggerRegisterUnitInRangeSimple(gg_trg_AmedatoEnd,156.,gg_unit_h00C_0141)
call TriggerAddCondition(gg_trg_AmedatoEnd,Condition(function Trig_AmedatoEnd_Conditions))
call TriggerAddAction(gg_trg_AmedatoEnd,function Trig_AmedatoEnd_Actions)
endfunction
function Trig_Kel_Conditions takes nothing returns boolean
return((udg_Queston[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)and(GetUnitTypeId(GetEnteringUnit())!='H00T')and(GetUnitTypeId(GetEnteringUnit())!='n00K')and(GetUnitTypeId(GetEnteringUnit())!='H006')and(GetUnitTypeId(GetEnteringUnit())!='H018')and(GetUnitTypeId(GetEnteringUnit())!='E003')and(IsUnitIllusion(GetEnteringUnit())==false)and(IsUnitType(GetEnteringUnit(),UNIT_TYPE_HERO))and(GetUnitUserData(gg_unit_uktn_0235)==0))!=null
endfunction
function Trig_Kel_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitUserData(gg_unit_uktn_0235,'}')
set udg_Questunit[4]=GetEnteringUnit()
set udg_Queston[(1+GetPlayerId(GetOwningPlayer(udg_Questunit[4])))]=true
call PauseUnit(udg_Questunit[4],true)
call SetUnitFacingToFaceUnitTimed(gg_unit_uktn_0235,udg_Questunit[4],0)
call SetUnitFacingToFaceUnitTimed(udg_Questunit[4],gg_unit_uktn_0235,0)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[4])),gg_unit_uktn_0235,"Кел-Тузану",null,"Срочно!Абуза украл мою \"Вечный генератор энергии\".Пожалуйста,верни его.",0,2.,false)
call SetUnitOwner(gg_unit_nchg_0225,Player($C),true)
call SetUnitInvulnerable(gg_unit_nchg_0225,false)
call TriggerSleepAction(2.)
call DestroyEffect(udg_Questeffects[4])
call AddSpecialEffectTargetUnitBJ("overhead",gg_unit_uktn_0235,"Objects\\RandomObject\\RandomObject.mdl")
set udg_Questeffects[4]=bj_lastCreatedEffect
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[4])),"Quest-Вечная Энергия: принеси Кел-Тузану <Вечный генератор энергии>.")
call EnableTrigger(gg_trg_Kel2)
call EnableTrigger(gg_trg_KelQ)
call PauseUnit(udg_Questunit[4],false)
call SetUnitUserData(gg_unit_uktn_0235,0)
endfunction
function InitTrig_Kel takes nothing returns nothing
set gg_trg_Kel=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Kel,150.,gg_unit_uktn_0235)
call TriggerAddCondition(gg_trg_Kel,Condition(function Trig_Kel_Conditions))
call TriggerAddAction(gg_trg_Kel,function Trig_Kel_Actions)
endfunction
function Trig_Kel2_Func005C takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnit())==GetOwningPlayer(udg_Questunit[4]))and(GetUnitTypeId(GetDyingUnit())=='nchg')
endfunction
function Trig_Kel2_Conditions takes nothing returns boolean
return(Trig_Kel2_Func005C())
endfunction
function Trig_Kel2_Actions takes nothing returns nothing
call UnitAddItemByIdSwapped('I004',udg_Questunit[4])
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_KelQ)
call EnableTrigger(gg_trg_KelEND)
endfunction
function InitTrig_Kel2 takes nothing returns nothing
set gg_trg_Kel2=CreateTrigger()
call DisableTrigger(gg_trg_Kel2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kel2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Kel2,Condition(function Trig_Kel2_Conditions))
call TriggerAddAction(gg_trg_Kel2,function Trig_Kel2_Actions)
endfunction
function Trig_KelQ_Conditions takes nothing returns boolean
return(GetEnteringUnit()==udg_Questunit[4])
endfunction
function Trig_KelQ_Actions takes nothing returns nothing
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[4])),"Quest-Вечная Энергия: принеси Кел-Тузану <Вечный генератор энергии>.")
endfunction
function InitTrig_KelQ takes nothing returns nothing
set gg_trg_KelQ=CreateTrigger()
call DisableTrigger(gg_trg_KelQ)
call TriggerRegisterUnitInRangeSimple(gg_trg_KelQ,190.,gg_unit_uktn_0235)
call TriggerAddCondition(gg_trg_KelQ,Condition(function Trig_KelQ_Conditions))
call TriggerAddAction(gg_trg_KelQ,function Trig_KelQ_Actions)
endfunction
function Trig_KelEND_Conditions takes nothing returns boolean
return(GetEnteringUnit()==udg_Questunit[4])and(UnitHasItemOfTypeBJ(udg_Questunit[4],'I004'))and(GetUnitUserData(gg_unit_uktn_0235)==0)
endfunction
function Trig_KelEND_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitUserData(gg_unit_uktn_0235,'}')
call DisableTrigger(gg_trg_KelQ)
call PauseUnit(udg_Questunit[4],true)
call SetUnitFacingToFaceUnitTimed(gg_unit_uktn_0235,udg_Questunit[4],0)
call SetUnitFacingToFaceUnitTimed(udg_Questunit[4],gg_unit_uktn_0235,0)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[4])),gg_unit_uktn_0235,"Кел-Тузан",null,"Благодарю.",0,2.,false)
call TriggerSleepAction(2.)
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_Questunit[4],'I004'))
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[4])),"Quest-Вечная Энергия: выполнено = получено 2500 золото.")
call AdjustPlayerStateBJ($9C4,GetOwningPlayer(udg_Questunit[4]),PLAYER_STATE_RESOURCE_GOLD)
call DestroyEffect(udg_Questeffects[4])
call PauseUnit(udg_Questunit[4],false)
set udg_Questunit[4]=null
set udg_Queston[(1+GetPlayerId(GetOwningPlayer(udg_Questunit[4])))]=false
call SetUnitUserData(gg_unit_uktn_0235,0)
endfunction
function InitTrig_KelEND takes nothing returns nothing
set gg_trg_KelEND=CreateTrigger()
call DisableTrigger(gg_trg_KelEND)
call TriggerRegisterUnitInRangeSimple(gg_trg_KelEND,150.,gg_unit_uktn_0235)
call TriggerAddCondition(gg_trg_KelEND,Condition(function Trig_KelEND_Conditions))
call TriggerAddAction(gg_trg_KelEND,function Trig_KelEND_Actions)
endfunction
function Trig_Sound1_Conditions takes nothing returns boolean
return((udg_Queston[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(IsUnitAlly(GetEnteringUnit(),Player(7)))and(GetEnteringUnit()!=gg_unit_Hant_0028)and(GetUnitTypeId(GetEnteringUnit())!='H00T')and(GetUnitTypeId(GetEnteringUnit())!='n00K')and(GetUnitTypeId(GetEnteringUnit())!='H006')and(GetUnitTypeId(GetEnteringUnit())!='H018')and(GetUnitTypeId(GetEnteringUnit())!='E003')and(GetUnitUserData(gg_unit_nkob_0232)==0)and(IsUnitIllusion(GetEnteringUnit())==false)and(IsUnitType(GetEnteringUnit(),UNIT_TYPE_HERO)))!=null
endfunction
function Trig_Sound1_Func001Func001C takes nothing returns boolean
return(IsUnitAliveBJ(gg_unit_u00V_0231))
endfunction
function Trig_Sound1_Func001C takes nothing returns boolean
return(GetHeroLevel(GetEnteringUnit())==20)
endfunction
function Trig_Sound1_Actions takes nothing returns nothing
if(Trig_Sound1_Func001C())then
if(Trig_Sound1_Func001Func001C())then
call DisableTrigger(GetTriggeringTrigger())
call SetUnitUserData(gg_unit_nkob_0232,'}')
set udg_Questunit[5]=GetEnteringUnit()
set udg_Queston[(1+GetPlayerId(GetOwningPlayer(udg_Questunit[5])))]=true
call PauseUnit(udg_Questunit[5],true)
call SetUnitFacingToFaceUnitTimed(gg_unit_nkob_0232,udg_Questunit[5],0)
call SetUnitFacingToFaceUnitTimed(udg_Questunit[5],gg_unit_nkob_0232,0)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[5])),gg_unit_nkob_0232,"Ниндзя звука",null,"Орочимару-сама велел мне поймать Трёххвостого. И ты мне поможешь. Поймай чакру Трёхвостого, для Орочимару-сама и он отблагодорит меня и... в том числе тебя тоже, удачи",0,2.,false)
call TriggerSleepAction(2.)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[5])),"Quest-Трёхвостый: убей Трёхвостого и отдай чакру Орочимару.")
call DestroyEffect(udg_Questeffects[5])
call AddSpecialEffectTargetUnitBJ("overhead",gg_unit_nkob_0232,"Objects\\RandomObject\\RandomObject.mdl")
set udg_Questeffects[5]=bj_lastCreatedEffect
call PauseUnit(udg_Questunit[5],false)
call EnableTrigger(gg_trg_Sound1Q)
call EnableTrigger(gg_trg_Sound2)
call EnableTrigger(gg_trg_SoundDefeat)
call SetUnitUserData(gg_unit_nkob_0232,0)
else
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetEnteringUnit())),gg_unit_nkob_0232,"Ниндзя звука",null,"Опоздал! ну надо же... если б ты бы не опоздал, ааа пошёл проч.",0,2.,false)
endif
else
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(GetEnteringUnit())),gg_unit_nkob_0232,"Ниндзя звука",null,"Эй, для того чтобы выполнить мою просьбу, твой уровень должен выше более 20-ти уровня. Так-что проваливай. Орочимару-сама велел мне... неважно проваливай!",0,2.,false)
endif
endfunction
function InitTrig_Sound1 takes nothing returns nothing
set gg_trg_Sound1=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Sound1,150.,gg_unit_nkob_0232)
call TriggerAddCondition(gg_trg_Sound1,Condition(function Trig_Sound1_Conditions))
call TriggerAddAction(gg_trg_Sound1,function Trig_Sound1_Actions)
endfunction
function Trig_Sound1Q_Conditions takes nothing returns boolean
return(GetEnteringUnit()==udg_Questunit[5])
endfunction
function Trig_Sound1Q_Actions takes nothing returns nothing
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[5])),"Quest-Трёххвостый: убей Трёххвостого и отдай чакру Орочимару.")
endfunction
function InitTrig_Sound1Q takes nothing returns nothing
set gg_trg_Sound1Q=CreateTrigger()
call DisableTrigger(gg_trg_Sound1Q)
call TriggerRegisterUnitInRangeSimple(gg_trg_Sound1Q,256,gg_unit_nkob_0232)
call TriggerAddCondition(gg_trg_Sound1Q,Condition(function Trig_Sound1Q_Conditions))
call TriggerAddAction(gg_trg_Sound1Q,function Trig_Sound1Q_Actions)
endfunction
function Trig_Sound2_Func014C takes nothing returns boolean
return(UnitHasItemOfTypeBJ(udg_Questunit[5],'I60C'))or(UnitHasItemOfTypeBJ(gg_unit_nkob_0232,'I60C'))
endfunction
function Trig_Sound2_Conditions takes nothing returns boolean
return(GetEnteringUnit()==udg_Questunit[2])and(IsUnitDeadBJ(gg_unit_u00V_0231)==false)and(IsUnitHidden(gg_unit_u00V_0231)==false)and(IsUnitPaused(gg_unit_u00V_0231)==false)and(GetUnitUserData(gg_unit_nkob_0232)==0)and(Trig_Sound2_Func014C())
endfunction
function Trig_Sound2_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[5])),gg_unit_nkob_0232,"Орочимару",null,"Отличная работа.",0,3.,false)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(gg_unit_nkob_0232)),gg_unit_nkob_0232,"Орочимару",null,"Отличная работа.",0,3.,false)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[5])),"ВНИМАНИЯ: ЧакраТрёхвостого перенесена на базу Орочимару.")
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(gg_unit_nkob_0232)),"ВНИМАНИЯ: ЧакраТрёхвостого перенесена на базу Орочимару.")
call SetItemPositionLoc(GetItemOfTypeFromUnitBJ(udg_Questunit[5],'I60C'),GetRectCenter(gg_rct_Revive_Orochimaru))
call EnableTrigger(gg_trg_SoundEND)
call DisableTrigger(gg_trg_Sound1Q)
endfunction
function InitTrig_Sound2 takes nothing returns nothing
set gg_trg_Sound2=CreateTrigger()
call DisableTrigger(gg_trg_Sound2)
call TriggerRegisterUnitInRangeSimple(gg_trg_Sound2,256,gg_unit_nkob_0232)
call TriggerAddCondition(gg_trg_Sound2,Condition(function Trig_Sound2_Conditions))
call TriggerAddAction(gg_trg_Sound2,function Trig_Sound2_Actions)
endfunction
function Trig_SoundEND_Conditions takes nothing returns boolean
return(GetEnteringUnit()==udg_Questunit[5])and(GetUnitUserData(gg_unit_nkob_0232)==0)
endfunction
function Trig_SoundEND_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitUserData(gg_unit_nkob_0232,'}')
call PauseUnit(udg_Questunit[5],true)
call SetUnitFacingToFaceUnitTimed(gg_unit_nkob_0232,udg_Questunit[5],0)
call SetUnitFacingToFaceUnitTimed(udg_Questunit[5],gg_unit_nkob_0232,0)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[2])),gg_unit_nkob_0232,"Ниндзя звука",null,"Молодца!  Орочимару-сама, он очень доволен. Твоя награда, чувак.",0,2.,false)
call TriggerSleepAction(2.)
call PauseUnit(udg_Questunit[5],false)
call AdjustPlayerStateBJ(7500,GetOwningPlayer(udg_Questunit[5]),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[5])),"Quest-Трёххвостый: выполнено = получено 7500 золота.")
set udg_Queston[(1+GetPlayerId(GetOwningPlayer(udg_Questunit[5])))]=false
set udg_Questunit[5]=null
call DestroyEffect(udg_Questeffects[5])
call DisableTrigger(gg_trg_SoundDefeat)
call SetUnitUserData(gg_unit_nkob_0232,0)
endfunction
function InitTrig_SoundEND takes nothing returns nothing
set gg_trg_SoundEND=CreateTrigger()
call DisableTrigger(gg_trg_SoundEND)
call TriggerRegisterUnitInRangeSimple(gg_trg_SoundEND,156.,gg_unit_nkob_0232)
call TriggerAddCondition(gg_trg_SoundEND,Condition(function Trig_SoundEND_Conditions))
call TriggerAddAction(gg_trg_SoundEND,function Trig_SoundEND_Actions)
endfunction
function Trig_SoundDefeat_Conditions takes nothing returns boolean
return(UnitHasItemOfTypeBJ(GetEnteringUnit(),'I60C'))
endfunction
function Trig_SoundDefeat_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[5])),"Quest-Трёххвостый: провалено.")
set udg_Queston[(1+GetPlayerId(GetOwningPlayer(udg_Questunit[5])))]=false
set udg_Questunit[5]=null
call DestroyEffect(udg_Questeffects[5])
call DisableTrigger(gg_trg_Sound1Q)
call DisableTrigger(gg_trg_Sound2)
call DisableTrigger(gg_trg_SoundEND)
endfunction
function InitTrig_SoundDefeat takes nothing returns nothing
set gg_trg_SoundDefeat=CreateTrigger()
call DisableTrigger(gg_trg_SoundDefeat)
call TriggerRegisterEnterRectSimple(gg_trg_SoundDefeat,gg_rct_Gedo)
call TriggerAddCondition(gg_trg_SoundDefeat,Condition(function Trig_SoundDefeat_Conditions))
call TriggerAddAction(gg_trg_SoundDefeat,function Trig_SoundDefeat_Actions)
endfunction
function Trig_Girgito_Conditions takes nothing returns boolean
return((udg_Queston[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)and(GetUnitTypeId(GetEnteringUnit())!='H00T')and(GetUnitTypeId(GetEnteringUnit())!='n00K')and(GetUnitTypeId(GetEnteringUnit())!='H006')and(GetUnitTypeId(GetEnteringUnit())!='H018')and(GetUnitTypeId(GetEnteringUnit())!='E003')and(IsUnitIllusion(GetEnteringUnit())==false)and(IsUnitType(GetEnteringUnit(),UNIT_TYPE_HERO))and(GetUnitUserData(gg_unit_nsgh_0222)==0))!=null
endfunction
function Trig_Girgito_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitUserData(gg_unit_nsgh_0222,'}')
set udg_Questunit[6]=GetEnteringUnit()
set udg_Queston[(1+GetPlayerId(GetOwningPlayer(udg_Questunit[6])))]=true
call PauseUnit(udg_Questunit[6],true)
call SetUnitFacingToFaceUnitTimed(gg_unit_nsgh_0222,udg_Questunit[6],0)
call SetUnitFacingToFaceUnitTimed(udg_Questunit[6],gg_unit_nsgh_0222,0)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[6])),gg_unit_nsgh_0222,"Гиргито",null,"(Ты мне не нравишься... Чё лыбишся!?) ",0,2.,false)
call TriggerSleepAction(2.)
call DestroyEffect(udg_Questeffects[6])
call SetUnitInvulnerable(gg_unit_nsgh_0222,false)
call SetUnitOwner(gg_unit_nsgh_0222,Player($C),true)
call PauseUnit(udg_Questunit[6],false)
set udg_Queston[(1+GetPlayerId(GetOwningPlayer(udg_Questunit[6])))]=false
set udg_Questunit[6]=null
call SetUnitUserData(gg_unit_nsgh_0222,0)
endfunction
function InitTrig_Girgito takes nothing returns nothing
set gg_trg_Girgito=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Girgito,150.,gg_unit_nsgh_0222)
call TriggerAddCondition(gg_trg_Girgito,Condition(function Trig_Girgito_Conditions))
call TriggerAddAction(gg_trg_Girgito,function Trig_Girgito_Actions)
endfunction
function Trig_Sosedi_Conditions takes nothing returns boolean
return((udg_Queston[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)and(GetUnitTypeId(GetEnteringUnit())!='H00T')and(GetUnitTypeId(GetEnteringUnit())!='n00K')and(GetUnitTypeId(GetEnteringUnit())!='H006')and(GetUnitTypeId(GetEnteringUnit())!='H018')and(GetUnitTypeId(GetEnteringUnit())!='E003')and(IsUnitIllusion(GetEnteringUnit())==false)and(IsUnitType(GetEnteringUnit(),UNIT_TYPE_HERO))and(GetUnitUserData(gg_unit_nsrw_0223)==0))!=null
endfunction
function Trig_Sosedi_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Sosedi_L)
call SetUnitUserData(gg_unit_nsrw_0223,'}')
set udg_Questunit[7]=GetEnteringUnit()
set udg_Queston[(1+GetPlayerId(GetOwningPlayer(udg_Questunit[7])))]=true
call PauseUnit(udg_Questunit[7],true)
call SetUnitFacingToFaceUnitTimed(gg_unit_nsrw_0223,udg_Questunit[7],0)
call SetUnitFacingToFaceUnitTimed(udg_Questunit[7],gg_unit_nsrw_0223,0)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[7])),gg_unit_nsrw_0223,"Джуманджи",null,"Хочешь золота!Оно вкусное.Но для этого, я хочу что-бы ты уложил этого Мукучу...",0,2.,false)
call TriggerSleepAction(2.)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[7])),gg_unit_ndrd_0224,"Лорде",null,"Я всё слышу!Сам ты Мукучу!Я Мокумучи Лорде! Слабаков на меня натравить вздумал?",0,2.,false)
call TriggerSleepAction(2.)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[7])),gg_unit_nsrw_0223,"Джуманджи",null,"Заткнись!Я не с тобой разговариваю... Ступай!не вернись пока не уложишь его.",0,2.,false)
call DestroyEffect(udg_Questeffects[7])
call AddSpecialEffectTargetUnitBJ("overhead",gg_unit_nsrw_0223,"Objects\\RandomObject\\RandomObject.mdl")
set udg_Questeffects[7]=bj_lastCreatedEffect
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[7])),"Quest-Враждующие соседи: Убей Мокумучи Лорде.")
call SetUnitOwner(gg_unit_ndrd_0224,Player($C),true)
call SetUnitInvulnerable(gg_unit_ndrd_0224,false)
call DestroyEffect(udg_Questeffects[8])
call EnableTrigger(gg_trg_Sosedi2)
call EnableTrigger(gg_trg_SosediQ)
call PauseUnit(udg_Questunit[7],false)
call SetUnitUserData(gg_unit_nsrw_0223,0)
endfunction
function InitTrig_Sosedi takes nothing returns nothing
set gg_trg_Sosedi=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Sosedi,150.,gg_unit_nsrw_0223)
call TriggerAddCondition(gg_trg_Sosedi,Condition(function Trig_Sosedi_Conditions))
call TriggerAddAction(gg_trg_Sosedi,function Trig_Sosedi_Actions)
endfunction
function Trig_Sosedi2_Func002C takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnit())==GetOwningPlayer(udg_Questunit[7]))and(GetUnitTypeId(GetDyingUnit())=='ndrd')
endfunction
function Trig_Sosedi2_Conditions takes nothing returns boolean
return(Trig_Sosedi2_Func002C())
endfunction
function Trig_Sosedi2_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[7])),"Мокумучи Лорде убит.")
call DisableTrigger(gg_trg_SosediQ)
call EnableTrigger(gg_trg_SosediEnd)
endfunction
function InitTrig_Sosedi2 takes nothing returns nothing
set gg_trg_Sosedi2=CreateTrigger()
call DisableTrigger(gg_trg_Sosedi2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sosedi2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Sosedi2,Condition(function Trig_Sosedi2_Conditions))
call TriggerAddAction(gg_trg_Sosedi2,function Trig_Sosedi2_Actions)
endfunction
function Trig_SosediQ_Conditions takes nothing returns boolean
return(GetEnteringUnit()==udg_Questunit[7])
endfunction
function Trig_SosediQ_Actions takes nothing returns nothing
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[7])),"Quest-Враждующие соседи: Убей Мокумучи Лорде.")
endfunction
function InitTrig_SosediQ takes nothing returns nothing
set gg_trg_SosediQ=CreateTrigger()
call DisableTrigger(gg_trg_SosediQ)
call TriggerRegisterUnitInRangeSimple(gg_trg_SosediQ,190.,gg_unit_nsrw_0223)
call TriggerAddCondition(gg_trg_SosediQ,Condition(function Trig_SosediQ_Conditions))
call TriggerAddAction(gg_trg_SosediQ,function Trig_SosediQ_Actions)
endfunction
function Trig_SosediEnd_Conditions takes nothing returns boolean
return(GetEnteringUnit()==udg_Questunit[7])and(GetUnitUserData(gg_unit_nsrw_0223)==0)
endfunction
function Trig_SosediEnd_Actions takes nothing returns nothing
call EnableTrigger(gg_trg_Brat)
call AddSpecialEffectTargetUnitBJ("overhead",gg_unit_ndrh_0236,"Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl")
set udg_Questeffects[$B]=bj_lastCreatedEffect
call DisableTrigger(GetTriggeringTrigger())
call SetUnitUserData(gg_unit_nsrw_0223,'}')
call PauseUnit(udg_Questunit[7],true)
call SetUnitFacingToFaceUnitTimed(gg_unit_nsrw_0223,udg_Questunit[7],0)
call SetUnitFacingToFaceUnitTimed(udg_Questunit[7],gg_unit_nsrw_0223,0)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[7])),gg_unit_nsrw_0223,"Джуманджи",null,"Держи своё вкусное золото.",0,2.,false)
call TriggerSleepAction(2.)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[7])),"Quest-Враждующие соседи: выполнено = получено 2500 золота.")
call AdjustPlayerStateBJ($9C4,GetOwningPlayer(udg_Questunit[7]),PLAYER_STATE_RESOURCE_GOLD)
call PauseUnit(udg_Questunit[7],false)
set udg_Queston[(1+GetPlayerId(GetOwningPlayer(udg_Questunit[7])))]=false
set udg_Questunit[7]=null
call DestroyEffect(udg_Questeffects[7])
call SetUnitUserData(gg_unit_nsrw_0223,0)
endfunction
function InitTrig_SosediEnd takes nothing returns nothing
set gg_trg_SosediEnd=CreateTrigger()
call DisableTrigger(gg_trg_SosediEnd)
call TriggerRegisterUnitInRangeSimple(gg_trg_SosediEnd,150.,gg_unit_nsrw_0223)
call TriggerAddCondition(gg_trg_SosediEnd,Condition(function Trig_SosediEnd_Conditions))
call TriggerAddAction(gg_trg_SosediEnd,function Trig_SosediEnd_Actions)
endfunction
function Trig_Sosedi_L_Conditions takes nothing returns boolean
return((udg_Queston[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)and(GetUnitTypeId(GetEnteringUnit())!='H00T')and(GetUnitTypeId(GetEnteringUnit())!='n00K')and(GetUnitTypeId(GetEnteringUnit())!='H006')and(GetUnitTypeId(GetEnteringUnit())!='H018')and(GetUnitTypeId(GetEnteringUnit())!='E003')and(IsUnitIllusion(GetEnteringUnit())==false)and(IsUnitType(GetEnteringUnit(),UNIT_TYPE_HERO))and(GetUnitUserData(gg_unit_ndrd_0224)==0))!=null
endfunction
function Trig_Sosedi_L_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisableTrigger(gg_trg_Sosedi)
call SetUnitUserData(gg_unit_ndrd_0224,'}')
set udg_Questunit[8]=GetEnteringUnit()
set udg_Queston[(1+GetPlayerId(GetOwningPlayer(udg_Questunit[8])))]=true
call PauseUnit(udg_Questunit[8],true)
call SetUnitFacingToFaceUnitTimed(gg_unit_ndrd_0224,udg_Questunit[8],0)
call SetUnitFacingToFaceUnitTimed(udg_Questunit[8],gg_unit_ndrd_0224,0)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[8])),gg_unit_ndrd_0224,"Мокумучи Лорде",null,"По ту сторону Стены сидит Джуманджи.Убери его!",0,2.,false)
call TriggerSleepAction(2.)
call DestroyEffect(udg_Questeffects[8])
call AddSpecialEffectTargetUnitBJ("overhead",gg_unit_ndrd_0224,"Objects\\RandomObject\\RandomObject.mdl")
set udg_Questeffects[8]=bj_lastCreatedEffect
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[8])),"Quest-Враждующие соседи: Убей Джуманджи.")
call SetUnitOwner(gg_unit_nsrw_0223,Player($C),true)
call SetUnitInvulnerable(gg_unit_nsrw_0223,false)
call DestroyEffect(udg_Questeffects[7])
call EnableTrigger(gg_trg_Sosedi2_L)
call EnableTrigger(gg_trg_SosediQ_L)
call PauseUnit(udg_Questunit[8],false)
call SetUnitUserData(gg_unit_ndrd_0224,0)
endfunction
function InitTrig_Sosedi_L takes nothing returns nothing
set gg_trg_Sosedi_L=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Sosedi_L,150.,gg_unit_ndrd_0224)
call TriggerAddCondition(gg_trg_Sosedi_L,Condition(function Trig_Sosedi_L_Conditions))
call TriggerAddAction(gg_trg_Sosedi_L,function Trig_Sosedi_L_Actions)
endfunction
function Trig_Sosedi2_L_Func002C takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnit())==GetOwningPlayer(udg_Questunit[8]))and(GetUnitTypeId(GetDyingUnit())=='nsrw')
endfunction
function Trig_Sosedi2_L_Conditions takes nothing returns boolean
return(Trig_Sosedi2_L_Func002C())
endfunction
function Trig_Sosedi2_L_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[8])),"Джуманджи убит.")
call DisableTrigger(gg_trg_SosediQ_L)
call EnableTrigger(gg_trg_SosediEnd_L)
endfunction
function InitTrig_Sosedi2_L takes nothing returns nothing
set gg_trg_Sosedi2_L=CreateTrigger()
call DisableTrigger(gg_trg_Sosedi2_L)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sosedi2_L,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Sosedi2_L,Condition(function Trig_Sosedi2_L_Conditions))
call TriggerAddAction(gg_trg_Sosedi2_L,function Trig_Sosedi2_L_Actions)
endfunction
function Trig_SosediQ_L_Conditions takes nothing returns boolean
return(GetEnteringUnit()==udg_Questunit[8])
endfunction
function Trig_SosediQ_L_Actions takes nothing returns nothing
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[8])),"Quest-Враждующие соседи: Убей Джуманджи.")
endfunction
function InitTrig_SosediQ_L takes nothing returns nothing
set gg_trg_SosediQ_L=CreateTrigger()
call DisableTrigger(gg_trg_SosediQ_L)
call TriggerRegisterUnitInRangeSimple(gg_trg_SosediQ_L,190.,gg_unit_ndrd_0224)
call TriggerAddCondition(gg_trg_SosediQ_L,Condition(function Trig_SosediQ_L_Conditions))
call TriggerAddAction(gg_trg_SosediQ_L,function Trig_SosediQ_L_Actions)
endfunction
function Trig_SosediEnd_L_Conditions takes nothing returns boolean
return(GetEnteringUnit()==udg_Questunit[8])and(GetUnitUserData(gg_unit_ndrd_0224)==0)
endfunction
function Trig_SosediEnd_L_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitUserData(gg_unit_ndrd_0224,'}')
call PauseUnit(udg_Questunit[8],true)
call SetUnitFacingToFaceUnitTimed(gg_unit_ndrd_0224,udg_Questunit[8],0)
call SetUnitFacingToFaceUnitTimed(udg_Questunit[8],gg_unit_ndrd_0224,0)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[8])),gg_unit_ndrd_0224,"Мокумучи Лорде",null,"Награда 4000 золотых.",0,2.,false)
call TriggerSleepAction(2.)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[8])),"Quest-Враждующие соседи: выполнено = получено 4000 золота.")
call AdjustPlayerStateBJ($FA0,GetOwningPlayer(udg_Questunit[8]),PLAYER_STATE_RESOURCE_GOLD)
call PauseUnit(udg_Questunit[8],false)
set udg_Queston[(1+GetPlayerId(GetOwningPlayer(udg_Questunit[8])))]=false
set udg_Questunit[8]=null
call DestroyEffect(udg_Questeffects[8])
call SetUnitUserData(gg_unit_ndrd_0224,0)
endfunction
function InitTrig_SosediEnd_L takes nothing returns nothing
set gg_trg_SosediEnd_L=CreateTrigger()
call DisableTrigger(gg_trg_SosediEnd_L)
call TriggerRegisterUnitInRangeSimple(gg_trg_SosediEnd_L,150.,gg_unit_ndrd_0224)
call TriggerAddCondition(gg_trg_SosediEnd_L,Condition(function Trig_SosediEnd_L_Conditions))
call TriggerAddAction(gg_trg_SosediEnd_L,function Trig_SosediEnd_L_Actions)
endfunction
function Trig_Konoha_suna4_Conditions takes nothing returns boolean
return((udg_Queston[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(IsUnitAlly(GetEnteringUnit(),Player(4)))and(GetUnitTypeId(GetEnteringUnit())!='H00T')and(GetUnitTypeId(GetEnteringUnit())!='n00K')and(GetUnitTypeId(GetEnteringUnit())!='H006')and(GetUnitTypeId(GetEnteringUnit())!='H018')and(GetUnitTypeId(GetEnteringUnit())!='E003')and(IsUnitIllusion(GetEnteringUnit())==false)and(IsUnitType(GetEnteringUnit(),UNIT_TYPE_HERO))and(GetUnitUserData(gg_unit_n006_0208)==0))!=null
endfunction
function Trig_Konoha_suna4_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitUserData(gg_unit_n006_0208,'}')
set udg_Questunit[9]=GetEnteringUnit()
set udg_Queston[(1+GetPlayerId(GetOwningPlayer(udg_Questunit[9])))]=true
call PauseUnit(udg_Questunit[9],true)
call SetUnitFacingToFaceUnitTimed(gg_unit_n006_0208,udg_Questunit[9],0)
call SetUnitFacingToFaceUnitTimed(udg_Questunit[9],gg_unit_n006_0208,0)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[5])),gg_unit_n006_0208,"Нин",null,"Выполните одну мою просьбу пажалуста. Отнесите это письмо к человеку по имени Аоба который живёт в конохе.",0,2.,false)
call TriggerSleepAction(2.)
call UnitAddItemByIdSwapped('I009',udg_Questunit[9])
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[9])),"Quest-Посылка от Песка: доставить письмо на Коноху. Найти человека по имени Аоба.")
call DestroyEffect(udg_Questeffects[9])
call AddSpecialEffectTargetUnitBJ("overhead",gg_unit_n006_0208,"Objects\\RandomObject\\RandomObject.mdl")
set udg_Questeffects[9]=bj_lastCreatedEffect
call PauseUnit(udg_Questunit[9],false)
call EnableTrigger(gg_trg_Konoha_suna4Q)
call EnableTrigger(gg_trg_Konoha_suna5)
call SetUnitUserData(gg_unit_n006_0208,0)
endfunction
function InitTrig_Konoha_suna4 takes nothing returns nothing
set gg_trg_Konoha_suna4=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Konoha_suna4,150.,gg_unit_n006_0208)
call TriggerAddCondition(gg_trg_Konoha_suna4,Condition(function Trig_Konoha_suna4_Conditions))
call TriggerAddAction(gg_trg_Konoha_suna4,function Trig_Konoha_suna4_Actions)
endfunction
function Trig_Konoha_suna4Q_Conditions takes nothing returns boolean
return(GetEnteringUnit()==udg_Questunit[9])
endfunction
function Trig_Konoha_suna4Q_Actions takes nothing returns nothing
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[9])),"Quest-Посылка от Песка: доставить письмо на Коноху. Найти человека по имени Аоба.")
endfunction
function InitTrig_Konoha_suna4Q takes nothing returns nothing
set gg_trg_Konoha_suna4Q=CreateTrigger()
call DisableTrigger(gg_trg_Konoha_suna4Q)
call TriggerRegisterUnitInRangeSimple(gg_trg_Konoha_suna4Q,256,gg_unit_n006_0208)
call TriggerAddCondition(gg_trg_Konoha_suna4Q,Condition(function Trig_Konoha_suna4Q_Conditions))
call TriggerAddAction(gg_trg_Konoha_suna4Q,function Trig_Konoha_suna4Q_Actions)
endfunction
function Trig_Konoha_suna5_Conditions takes nothing returns boolean
return(GetEnteringUnit()==udg_Questunit[9])and(UnitHasItemOfTypeBJ(udg_Questunit[9],'I009'))and(GetUnitUserData(gg_unit_n008_0248)==0)
endfunction
function Trig_Konoha_suna5_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitUserData(gg_unit_n006_0208,'}')
call PauseUnit(udg_Questunit[9],true)
call SetUnitFacingToFaceUnitTimed(gg_unit_n008_0248,udg_Questunit[9],0)
call SetUnitFacingToFaceUnitTimed(udg_Questunit[9],gg_unit_n008_0248,0)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[9])),gg_unit_n008_0248,"Аоба",null,"Что! ну спасибо. ах да бери, пригодится.",0,2.,false)
call TriggerSleepAction(2.)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[9])),"Quest-Посылка от Песка: выполнено = получено Комплект Генина.")
call UnitAddItemByIdSwapped('I01T',udg_Questunit[9])
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_Questunit[9],'I009'))
call PauseUnit(udg_Questunit[9],false)
call DisableTrigger(gg_trg_Konoha_suna4Q)
set udg_Questunit[9]=null
set udg_Queston[(1+GetPlayerId(GetOwningPlayer(udg_Questunit[9])))]=false
call DestroyEffect(udg_Questeffects[9])
call SetUnitUserData(gg_unit_n006_0208,0)
endfunction
function InitTrig_Konoha_suna5 takes nothing returns nothing
set gg_trg_Konoha_suna5=CreateTrigger()
call DisableTrigger(gg_trg_Konoha_suna5)
call TriggerRegisterUnitInRangeSimple(gg_trg_Konoha_suna5,156.,gg_unit_n008_0248)
call TriggerAddCondition(gg_trg_Konoha_suna5,Condition(function Trig_Konoha_suna5_Conditions))
call TriggerAddAction(gg_trg_Konoha_suna5,function Trig_Konoha_suna5_Actions)
endfunction
function Trig_Soldat_Conditions takes nothing returns boolean
return((udg_Queston[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)and(GetUnitTypeId(GetEnteringUnit())!='H00T')and(GetUnitTypeId(GetEnteringUnit())!='n00K')and(GetUnitTypeId(GetEnteringUnit())!='H006')and(GetUnitTypeId(GetEnteringUnit())!='H018')and(GetUnitTypeId(GetEnteringUnit())!='E003')and(IsUnitIllusion(GetEnteringUnit())==false)and(IsUnitType(GetEnteringUnit(),UNIT_TYPE_HERO))and(GetUnitUserData(gg_unit_n007_0207)==0))!=null
endfunction
function Trig_Soldat_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitUserData(gg_unit_n007_0207,'}')
set udg_Questunit[$A]=GetEnteringUnit()
set udg_Queston[(1+GetPlayerId(GetOwningPlayer(udg_Questunit[$A])))]=true
call PauseUnit(udg_Questunit[$A],true)
call SetUnitFacingToFaceUnitTimed(gg_unit_n007_0207,udg_Questunit[$A],0)
call SetUnitFacingToFaceUnitTimed(udg_Questunit[$A],gg_unit_n007_0207,0)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[$A])),gg_unit_n007_0207,"Дауд",null,"Без базара принеси мне \"Синий Гриб\".Я заплачу.",0,2.,false)
call TriggerSleepAction(2.)
call DestroyEffect(udg_Questeffects[$A])
call AddSpecialEffectTargetUnitBJ("overhead",gg_unit_n007_0207,"Objects\\RandomObject\\RandomObject.mdl")
set udg_Questeffects[$A]=bj_lastCreatedEffect
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[$A])),"Quest-Поручения Дауда:принеси Дауду \"Синий Гриб\".")
call EnableTrigger(gg_trg_SoldatEnd)
call EnableTrigger(gg_trg_SildatQ)
call PauseUnit(udg_Questunit[$A],false)
call SetUnitUserData(gg_unit_n007_0207,0)
endfunction
function InitTrig_Soldat takes nothing returns nothing
set gg_trg_Soldat=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Soldat,150.,gg_unit_n007_0207)
call TriggerAddCondition(gg_trg_Soldat,Condition(function Trig_Soldat_Conditions))
call TriggerAddAction(gg_trg_Soldat,function Trig_Soldat_Actions)
endfunction
function Trig_SildatQ_Conditions takes nothing returns boolean
return(GetEnteringUnit()==udg_Questunit[$A])
endfunction
function Trig_SildatQ_Actions takes nothing returns nothing
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[$A])),"Quest-Поручения Дауда:принеси Дауду \"Синий Гриб\".")
endfunction
function InitTrig_SildatQ takes nothing returns nothing
set gg_trg_SildatQ=CreateTrigger()
call DisableTrigger(gg_trg_SildatQ)
call TriggerRegisterUnitInRangeSimple(gg_trg_SildatQ,190.,gg_unit_n007_0207)
call TriggerAddCondition(gg_trg_SildatQ,Condition(function Trig_SildatQ_Conditions))
call TriggerAddAction(gg_trg_SildatQ,function Trig_SildatQ_Actions)
endfunction
function Trig_SoldatEnd_Conditions takes nothing returns boolean
return(GetEnteringUnit()==udg_Questunit[$A])and(UnitHasItemOfTypeBJ(udg_Questunit[$A],'I014'))and(GetUnitUserData(gg_unit_n007_0207)==0)
endfunction
function Trig_SoldatEnd_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitUserData(gg_unit_n007_0207,'}')
call DisableTrigger(gg_trg_KelQ)
call PauseUnit(udg_Questunit[$A],true)
call SetUnitFacingToFaceUnitTimed(gg_unit_n007_0207,udg_Questunit[$A],0)
call SetUnitFacingToFaceUnitTimed(udg_Questunit[$A],gg_unit_n007_0207,0)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[$A])),gg_unit_n007_0207,"Дауд",null,"Респект и уважуха приятель.",0,2.,false)
call TriggerSleepAction(2.)
call RemoveItem(GetItemOfTypeFromUnitBJ(udg_Questunit[$A],'I014'))
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[$A])),"Quest-Поручения Дауда: выполнено = получено 2000 золото.")
call AdjustPlayerStateBJ($7D0,GetOwningPlayer(udg_Questunit[$A]),PLAYER_STATE_RESOURCE_GOLD)
call PauseUnit(udg_Questunit[$A],false)
set udg_Queston[(1+GetPlayerId(GetOwningPlayer(udg_Questunit[$A])))]=false
set udg_Questunit[$A]=null
call DestroyEffect(udg_Questeffects[$A])
call SetUnitUserData(gg_unit_n007_0207,0)
endfunction
function InitTrig_SoldatEnd takes nothing returns nothing
set gg_trg_SoldatEnd=CreateTrigger()
call DisableTrigger(gg_trg_SoldatEnd)
call TriggerRegisterUnitInRangeSimple(gg_trg_SoldatEnd,150.,gg_unit_n007_0207)
call TriggerAddCondition(gg_trg_SoldatEnd,Condition(function Trig_SoldatEnd_Conditions))
call TriggerAddAction(gg_trg_SoldatEnd,function Trig_SoldatEnd_Actions)
endfunction
function Trig_Brat_Conditions takes nothing returns boolean
return((udg_Queston[(1+GetPlayerId(GetOwningPlayer(GetEnteringUnit())))]==false)and(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)and(GetUnitTypeId(GetEnteringUnit())!='H00T')and(GetUnitTypeId(GetEnteringUnit())!='n00K')and(GetUnitTypeId(GetEnteringUnit())!='H006')and(GetUnitTypeId(GetEnteringUnit())!='H018')and(GetUnitTypeId(GetEnteringUnit())!='E003')and(IsUnitIllusion(GetEnteringUnit())==false)and(IsUnitType(GetEnteringUnit(),UNIT_TYPE_HERO))and(GetUnitUserData(gg_unit_ndrh_0236)==0))!=null
endfunction
function Trig_Brat_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitUserData(gg_unit_ndrh_0236,'}')
set udg_Questunit[$B]=GetEnteringUnit()
set udg_Queston[(1+GetPlayerId(GetOwningPlayer(udg_Questunit[$B])))]=true
call PauseUnit(udg_Questunit[$B],true)
call SetUnitFacingToFaceUnitTimed(gg_unit_ndrh_0236,udg_Questunit[$B],0)
call SetUnitFacingToFaceUnitTimed(udg_Questunit[$B],gg_unit_ndrh_0236,0)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[$B])),gg_unit_ndrd_0224,"Игаро",null,"TRIGSTR_1196",0,2.,false)
call TriggerSleepAction(2.)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[$B])),gg_unit_ndrd_0224,"Игаро",null,"Я хочу чтоб ты убил Джуманджи.",0,2.,false)
call DestroyEffect(udg_Questeffects[$B])
call AddSpecialEffectTargetUnitBJ("overhead",gg_unit_ndrh_0236,"Objects\\RandomObject\\RandomObject.mdl")
set udg_Questeffects[$B]=bj_lastCreatedEffect
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[$B])),"Quest-Джуманджи: Убей Джуманджи.")
call SetUnitOwner(gg_unit_nsrw_0223,Player($C),true)
call SetUnitInvulnerable(gg_unit_nsrw_0223,false)
call DestroyEffect(udg_Questeffects[$B])
call EnableTrigger(gg_trg_Brat2)
call EnableTrigger(gg_trg_BratQ)
call PauseUnit(udg_Questunit[$B],false)
call SetUnitUserData(gg_unit_ndrh_0236,0)
endfunction
function InitTrig_Brat takes nothing returns nothing
set gg_trg_Brat=CreateTrigger()
call DisableTrigger(gg_trg_Brat)
call TriggerRegisterUnitInRangeSimple(gg_trg_Brat,150.,gg_unit_ndrh_0236)
call TriggerAddCondition(gg_trg_Brat,Condition(function Trig_Brat_Conditions))
call TriggerAddAction(gg_trg_Brat,function Trig_Brat_Actions)
endfunction
function Trig_Brat2_Func002C takes nothing returns boolean
return(GetOwningPlayer(GetKillingUnit())==GetOwningPlayer(udg_Questunit[$B]))and(GetUnitTypeId(GetDyingUnit())=='nsrw')
endfunction
function Trig_Brat2_Conditions takes nothing returns boolean
return(Trig_Brat2_Func002C())
endfunction
function Trig_Brat2_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[$B])),"Джуманджи убит.")
call DisableTrigger(gg_trg_BratQ)
call EnableTrigger(gg_trg_BratEnd)
endfunction
function InitTrig_Brat2 takes nothing returns nothing
set gg_trg_Brat2=CreateTrigger()
call DisableTrigger(gg_trg_Brat2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Brat2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Brat2,Condition(function Trig_Brat2_Conditions))
call TriggerAddAction(gg_trg_Brat2,function Trig_Brat2_Actions)
endfunction
function Trig_BratQ_Conditions takes nothing returns boolean
return(GetEnteringUnit()==udg_Questunit[$B])
endfunction
function Trig_BratQ_Actions takes nothing returns nothing
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[$B])),"Quest-Джуманджи: Убей Джуманджи.")
endfunction
function InitTrig_BratQ takes nothing returns nothing
set gg_trg_BratQ=CreateTrigger()
call DisableTrigger(gg_trg_BratQ)
call TriggerRegisterUnitInRangeSimple(gg_trg_BratQ,190.,gg_unit_ndrd_0224)
call TriggerAddCondition(gg_trg_BratQ,Condition(function Trig_BratQ_Conditions))
call TriggerAddAction(gg_trg_BratQ,function Trig_BratQ_Actions)
endfunction
function Trig_BratEnd_Conditions takes nothing returns boolean
return(GetEnteringUnit()==udg_Questunit[$B])and(GetUnitUserData(gg_unit_ndrh_0236)==0)
endfunction
function Trig_BratEnd_Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call SetUnitUserData(gg_unit_ndrh_0236,'}')
call PauseUnit(udg_Questunit[$B],true)
call SetUnitFacingToFaceUnitTimed(gg_unit_ndrh_0236,udg_Questunit[$B],0)
call SetUnitFacingToFaceUnitTimed(udg_Questunit[$B],gg_unit_ndrh_0236,0)
call TransmissionFromUnitWithNameBJ(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[$B])),gg_unit_ndrh_0236,"Мокумучи Лорде",null,"Скдш.",0,2.,false)
call TriggerSleepAction(2.)
call DisplayTextToForce(GetForceOfPlayer(GetOwningPlayer(udg_Questunit[$B])),"Quest-Джуманджи: выполнено = получено 2500 золота.")
call AdjustPlayerStateBJ($9C4,GetOwningPlayer(udg_Questunit[$B]),PLAYER_STATE_RESOURCE_GOLD)
call PauseUnit(udg_Questunit[$B],false)
set udg_Queston[(1+GetPlayerId(GetOwningPlayer(udg_Questunit[$B])))]=false
set udg_Questunit[$B]=null
call DestroyEffect(udg_Questeffects[$B])
call SetUnitUserData(gg_unit_ndrh_0236,0)
endfunction
function InitTrig_BratEnd takes nothing returns nothing
set gg_trg_BratEnd=CreateTrigger()
call DisableTrigger(gg_trg_BratEnd)
call TriggerRegisterUnitInRangeSimple(gg_trg_BratEnd,150.,gg_unit_ndrh_0236)
call TriggerAddCondition(gg_trg_BratEnd,Condition(function Trig_BratEnd_Conditions))
call TriggerAddAction(gg_trg_BratEnd,function Trig_BratEnd_Actions)
endfunction
function InitCustomTriggers takes nothing returns nothing
call InitTrig_Monoment()
call InitTrig_Monoment_2()
call InitTrig_Monoment_3()
call InitTrig_init()
call InitTrig_init2()
call InitTrig_Init_ai_3()
call InitTrig_time()
call InitTrig_time2()
call InitTrig_Item_level()
call InitTrig_Board_Refresh()
call InitTrig_Create_Leaderboard()
call InitTrig_Normal_Kill()
call InitTrig_Move_Hunter()
call InitTrig_Move_Sixtail_jinchur()
call InitTrig_Sixtail_jinchur_attack()
call InitTrig_UnitPo()
call InitTrig_Move_Shisui()
call InitTrig_Uchiha_Shisui_attack()
call InitTrig_Yamato_attack()
call InitTrig_Naruto_move()
call InitTrig_Say_move()
call InitTrig_Sakura_move()
call InitTrig_Kakashi_move()
call InitTrig_Ten_move()
call InitTrig_Neji_move()
call InitTrig_Lee_move()
call InitTrig_Gay_move()
call InitTrig_Ray_move()
call InitTrig_Danzo_move()
call InitTrig_Djugo_move()
call InitTrig_Suygetsu_move()
call InitTrig_Karin_move()
call InitTrig_Sasuke_move()
call InitTrig_Sasuke_Itachi_kv()
call InitTrig_Sasuke_Itachi_kv1()
call InitTrig_Sasuke_Itachi_kv2()
call InitTrig_Sasuke_Itachi_kv3()
call InitTrig_SasukeMSH_move()
call InitTrig_Kabuto_move()
call InitTrig_Orachimaru_move()
call InitTrig_Daydara_move()
call InitTrig_Sasori_move()
call InitTrig_Itachi_move()
call InitTrig_Kisame_move()
call InitTrig_Tobi_move()
call InitTrig_TobiRinnegan_kv()
call InitTrig_TobiRinnegan_kv1()
call InitTrig_TobiRinnegan_kv2()
call InitTrig_TobiRinengan_kv3()
call InitTrig_TobiRinengan_kv4()
call InitTrig_TobiRin_move()
call InitTrig_DontAttack()
call InitTrig_DontAttack2()
call InitTrig_DontAttack3()
call InitTrig_player_1ally2()
call InitTrig_player_1unally2()
call InitTrig_player_1ally3()
call InitTrig_player_1unally3()
call InitTrig_player_1ally4()
call InitTrig_player_1unally4()
call InitTrig_player_1ally6()
call InitTrig_player_1unally6()
call InitTrig_player_1ally7()
call InitTrig_player_1unally7()
call InitTrig_player_1ally9()
call InitTrig_player_1unally9()
call InitTrig_player_1ally10()
call InitTrig_player_1unally10()
call InitTrig_player_1ally11()
call InitTrig_player_1unally11()
call InitTrig_player_1allyKonoha()
call InitTrig_player_1unallyKonoha()
call InitTrig_player_2ally1()
call InitTrig_player_2unally1()
call InitTrig_player_2ally3()
call InitTrig_player_2unally3()
call InitTrig_player_2ally4()
call InitTrig_player_2unally4()
call InitTrig_player_2ally6()
call InitTrig_player_2unally6()
call InitTrig_player_2ally7()
call InitTrig_player_2unally7()
call InitTrig_player_2ally9()
call InitTrig_player_2unally9()
call InitTrig_player_2ally10()
call InitTrig_player_2unally10()
call InitTrig_player_2ally11()
call InitTrig_player_2unally11()
call InitTrig_player_2allyKonoha()
call InitTrig_player_2unallyKonoha()
call InitTrig_player_3ally1()
call InitTrig_player_3unally1()
call InitTrig_player_3ally2()
call InitTrig_player_3unally2()
call InitTrig_player_3ally4()
call InitTrig_player_3unally4()
call InitTrig_player_3ally6()
call InitTrig_player_3unally6()
call InitTrig_player_3ally7()
call InitTrig_player_3unally7()
call InitTrig_player_3ally9()
call InitTrig_player_3unally9()
call InitTrig_player_3ally10()
call InitTrig_player_3unally10()
call InitTrig_player_3ally11()
call InitTrig_player_3unally11()
call InitTrig_player_3allyKonoha()
call InitTrig_player_3unallyKonoha()
call InitTrig_player_4ally1()
call InitTrig_player_4unally1()
call InitTrig_player_4ally2()
call InitTrig_player_4unally2()
call InitTrig_player_4ally3()
call InitTrig_player_4unally3()
call InitTrig_player_4ally6()
call InitTrig_player_4unally6()
call InitTrig_player_4ally7()
call InitTrig_player_4unally7()
call InitTrig_player_4ally9()
call InitTrig_player_4unally9()
call InitTrig_player_4ally10()
call InitTrig_player_4unally10()
call InitTrig_player_4ally11()
call InitTrig_player_4unally11()
call InitTrig_player_4allySound()
call InitTrig_player_4unallySound()
call InitTrig_player_6ally1()
call InitTrig_player_6unally1()
call InitTrig_player_6ally2()
call InitTrig_player_6unally2()
call InitTrig_player_6ally3()
call InitTrig_player_6unally3()
call InitTrig_player_6ally4()
call InitTrig_player_6unally4()
call InitTrig_player_6ally7()
call InitTrig_player_6unally7()
call InitTrig_player_6ally9()
call InitTrig_player_6unally9()
call InitTrig_player_6ally10()
call InitTrig_player_6unally10()
call InitTrig_player_6ally11()
call InitTrig_player_6unally11()
call InitTrig_player_6allySound()
call InitTrig_player_6unallySound()
call InitTrig_player_7ally1()
call InitTrig_player_7unally1()
call InitTrig_player_7ally2()
call InitTrig_player_7unally2()
call InitTrig_player_7ally3()
call InitTrig_player_7unally3()
call InitTrig_player_7ally4()
call InitTrig_player_7unally4()
call InitTrig_player_7ally6()
call InitTrig_player_7unally6()
call InitTrig_player_7ally9()
call InitTrig_player_7unally9()
call InitTrig_player_7ally10()
call InitTrig_player_7unally10()
call InitTrig_player_7ally11()
call InitTrig_player_7unally11()
call InitTrig_player_7allySound()
call InitTrig_player_7unallySound()
call InitTrig_player_9ally1()
call InitTrig_player_9unally1()
call InitTrig_player_9ally2()
call InitTrig_player_9unally2()
call InitTrig_player_9ally3()
call InitTrig_player_9unally3()
call InitTrig_player_9ally4()
call InitTrig_player_9unally4()
call InitTrig_player_9ally6()
call InitTrig_player_9unally6()
call InitTrig_player_9ally7()
call InitTrig_player_9unally7()
call InitTrig_player_9ally10()
call InitTrig_player_9unally10()
call InitTrig_player_9ally11()
call InitTrig_player_9unally11()
call InitTrig_player_9allyAkatsuki()
call InitTrig_player_9unallyAkatsuki()
call InitTrig_player_10ally1()
call InitTrig_player_10unally1()
call InitTrig_player_10ally2()
call InitTrig_player_10unally2()
call InitTrig_player_10ally3()
call InitTrig_player_10unally3()
call InitTrig_player_10ally4()
call InitTrig_player_10unally4()
call InitTrig_player_10ally6()
call InitTrig_player_10unally6()
call InitTrig_player_10ally7()
call InitTrig_player_10unally7()
call InitTrig_player_10ally9()
call InitTrig_player_10unally9()
call InitTrig_player_10ally11()
call InitTrig_player_10unally11()
call InitTrig_player_10allyAkatsuki()
call InitTrig_player_10unallyAkatsuki()
call InitTrig_player_11ally1()
call InitTrig_player_11unally1()
call InitTrig_player_11ally2()
call InitTrig_player_11unally2()
call InitTrig_player_11ally3()
call InitTrig_player_11unally3()
call InitTrig_player_11ally4()
call InitTrig_player_11unally4()
call InitTrig_player_11ally6()
call InitTrig_player_11unally6()
call InitTrig_player_11ally7()
call InitTrig_player_11unally7()
call InitTrig_player_11ally9()
call InitTrig_player_11unally9()
call InitTrig_player_11ally10()
call InitTrig_player_11unally10()
call InitTrig_player_11allyAkatsuki()
call InitTrig_player_11unallyAkatsuki()
call InitTrig_Raiga()
call InitTrig_Raiga_Die()
call InitTrig_GK_Enters()
call InitTrig_K()
call InitTrig_KDie_2()
call InitTrig_G()
call InitTrig_GDie_2()
call InitTrig_Gaara()
call InitTrig_Gaara_Enters()
call InitTrig_Gaara_Dying()
call InitTrig_Nibi_Enters()
call InitTrig_Roushin()
call InitTrig_Roushin_Enters()
call InitTrig_Han_Enters()
call InitTrig_Han_Enters_2()
call InitTrig_Bi_Enters()
call InitTrig_Bi_Enters_2()
call InitTrig_Jiraya_Enters()
call InitTrig_Jiraya_Enters_2()
call InitTrig_Jiraya_Dying()
call InitTrig_Barah()
call InitTrig_Barah_Enters()
call InitTrig_Barah_DIe()
call InitTrig_Fire_Lord()
call InitTrig_Fire_Lord_Enters()
call InitTrig_Fire_Lord_Dying()
call InitTrig_Gladiator()
call InitTrig_Abos()
call InitTrig_Abos_Enters()
call InitTrig_Abos_Dying()
call InitTrig_Ninja_Enters()
call InitTrig_Ninja_Dying()
call InitTrig_Samurai_Enters()
call InitTrig_Samurai_Dying()
call InitTrig_Haku_Enters()
call InitTrig_Haku_Dying()
call InitTrig_Dreadlord_Enters()
call InitTrig_Dreadlord_Dying()
call InitTrig_killme()
call InitTrig_killme_2()
call InitTrig_killme_3()
call InitTrig_killme_4()
call InitTrig_killme_5()
call InitTrig_killme_6()
call InitTrig_killme_7()
call InitTrig_killme_8()
call InitTrig_killme_9()
call InitTrig_Matchup()
call InitTrig_greedisgood()
call InitTrig_Movespeed()
call InitTrig_cam()
call InitTrig_Visible()
call InitTrig_clear()
call InitTrig_Open_Cave()
call InitTrig_Close_Cave()
call InitTrig_PeinsDie()
call InitTrig_PeinsRespawn()
call InitTrig_BidjuDecontrol()
call InitTrig_Sexy()
call InitTrig_Madara()
call InitTrig_Madara_Sword()
call InitTrig_Shisuya_Danzo()
call InitTrig_Sennin_item()
call InitTrig_Sennin_item2()
call InitTrig_Veer()
call InitTrig_Veer_2()
call InitTrig_Veer_3()
call InitTrig_Mizukag()
call InitTrig_Wallout()
call InitTrig_KameraPoint()
call InitTrig_HouseAttacked()
call InitTrig_HouseAttacked2()
call InitTrig_HouseAttacked3()
call InitTrig_Suna_vs_Konoha()
call InitTrig_Mist_vs_Konoha()
call InitTrig_Such_vs_Konoha()
call InitTrig_Rai_vs_Konoha()
call InitTrig_Zetsu()
call InitTrig_Leave_Game()
call InitTrig_Madarevive()
call InitTrig_Madarevive_oroch()
call InitTrig_Initialization()
call InitTrig_Player_1_right()
call InitTrig_Player_1_left()
call InitTrig_Player_1_Camera()
call InitTrig_Player_1_Setup()
call InitTrig_Player_2_right()
call InitTrig_Player_2_left()
call InitTrig_Player_2_Camera()
call InitTrig_Player_2_Setup()
call InitTrig_Player_3_right()
call InitTrig_Player_3_left()
call InitTrig_Player_3_Camera()
call InitTrig_Player_3_Setup()
call InitTrig_Player_4_right()
call InitTrig_Player_4_left()
call InitTrig_Player_4_Camera()
call InitTrig_Player_4_Setup()
call InitTrig_Player_5_right()
call InitTrig_Player_5_left()
call InitTrig_Player_5_Camera()
call InitTrig_Player_5_Setup()
call InitTrig_Player_6_right()
call InitTrig_Player_6_left()
call InitTrig_Player_6_Camera()
call InitTrig_Player_6_Setup()
call InitTrig_Player_7_right()
call InitTrig_Player_7_left()
call InitTrig_Player_7_Camera()
call InitTrig_Player_7_Setup()
call InitTrig_Player_8_right()
call InitTrig_Player_8_left()
call InitTrig_Player_8_Camera()
call InitTrig_Player_8_Setup()
call InitTrig_Player_9_right()
call InitTrig_Player_9_left()
call InitTrig_Player_9_Camera()
call InitTrig_Player_9_Setup()
call InitTrig_Other()
call InitTrig_Crep_respawn()
call InitTrig_Zombi_respawn()
call InitTrig_Hanzo_respawn()
call InitTrig_Hanzo_De()
call InitTrig_Crep_remove()
call InitTrig_Remove()
call InitTrig_Dying_Tobi()
call InitTrig_Konoha()
call InitTrig_Sound()
call InitTrig_Hawk()
call InitTrig_Akatsuki()
call InitTrig_E()
call InitTrig_ISS()
call InitTrig_createsets()
call InitTrig_Midare_1()
call InitTrig_Midare_1_click()
call InitTrig_Midare_attack()
call InitTrig_Midare_1_move()
call InitTrig_Midare_1_kill()
call InitTrig_Midare_1_death()
call InitTrig_Midare_2()
call InitTrig_Midare_2_click()
call InitTrig_Midare_attack_2()
call InitTrig_Midare_2_move()
call InitTrig_Midare_2_kill()
call InitTrig_Midare_2_death()
call InitTrig_Shisui()
call InitTrig_spell_cast_Shisuya()
call InitTrig_Lariat()
call InitTrig_Lariat_move()
call InitTrig_Charge_ninetail()
call InitTrig_Charge_ninetail_move()
call InitTrig_Bidju_Stomb()
call InitTrig_Tail_Bomb()
call InitTrig_Tail_Bomb_move()
call InitTrig_Tail_Bomb_2()
call InitTrig_Tail_Bomb_2_move()
call InitTrig_Bidju_Stomb_cast()
call InitTrig_Bidju_Bomb_cast()
call InitTrig_One_tail_chakra()
call InitTrig_Two_tail_chakra()
call InitTrig_Two_tail_chakra_2()
call InitTrig_Nibi_Dying()
call InitTrig_Four__tail_chakra()
call InitTrig_Four__tail_chakra_2()
call InitTrig_Roushin_Dying()
call InitTrig_Five_tail_chakra()
call InitTrig_Five_tail_chakra_2()
call InitTrig_Han_Dying()
call InitTrig_Six_tail_chakra()
call InitTrig_Six_tail_chakra_2()
call InitTrig_Utakata_Dying()
call InitTrig_Seven_tail_chakra()
call InitTrig_Sichibi_Dying()
call InitTrig_Eight_tail_chakra()
call InitTrig_Eight_tail_chakra_2()
call InitTrig_Eight_tail_chakra_3()
call InitTrig_Bi_Dying()
call InitTrig_Nine_tail_chakra()
call InitTrig_Nine_tail_chakra_2()
call InitTrig_Naruto_End()
call InitTrig_Menma()
call InitTrig_Robot()
call InitTrig_Ichibi_bidju_1()
call InitTrig_Ichibi_bidju_2()
call InitTrig_Ichibi_bidju_3()
call InitTrig_Ichibi_bidju_4()
call InitTrig_Ichibi_bidju_5()
call InitTrig_Ichibi_bidju_6()
call InitTrig_Ichibi_bidju_7()
call InitTrig_Ichibi_bidju_8()
call InitTrig_Ichibi_bidju_9()
call InitTrig_Ichibi_bidju_Death()
call InitTrig_Ichibi_bidju()
call InitTrig_Gedo_death()
call InitTrig_Ichibi_bidju_10()
call InitTrig_Shukaku_dead()
call InitTrig_Nibi_dead()
call InitTrig_Sanbi_dead()
call InitTrig_Yonbi_dead()
call InitTrig_Gobi_dead()
call InitTrig_Rokobi_dead()
call InitTrig_Sichibi_dead()
call InitTrig_Hachibi_dead()
call InitTrig_Kurama_dead()
call InitTrig_Tentail_dead()
call InitTrig_Edo_Tensei_Orochimaru()
call InitTrig_Edo_Tensei_Orochimaru_2()
call InitTrig_Revive()
call InitTrig_Kusanagi_sword()
call InitTrig_change_of_Body()
call InitTrig_Rashoumon()
call InitTrig_Rashoumon_remove()
call InitTrig_Snake_spell()
call InitTrig_Wind_wave_of()
call InitTrig_Meat_Hook()
call InitTrig_Periodic_Hook()
call InitTrig_Snake()
call InitTrig_Snake_Move()
call InitTrig_Snake_End()
call InitTrig_Snake_Die()
call InitTrig_move_to_Snake()
call InitTrig_Metamorh()
call InitTrig_Metamorh_2()
call InitTrig_Metamorh_3()
call InitTrig_sleep()
call InitTrig_Hand_Hand()
call InitTrig_Hand_Hand_damage()
call InitTrig_Hand_kinjal()
call InitTrig_Sanin_Kabuto()
call InitTrig_Sanin_Kabuto_Deathe()
call InitTrig_Jirobu()
call InitTrig_Kidomaru()
call InitTrig_Tauy()
call InitTrig_Kimmimaro()
call InitTrig_Dragon()
call InitTrig_Cleaner()
call InitTrig_Sharingan1()
call InitTrig_Sharingan2()
call InitTrig_Sharingan2I()
call InitTrig_Sharingan3()
call InitTrig_Dummy_Sasuke()
call InitTrig_KatonAll()
call InitTrig_KatonAll2()
call InitTrig_KirinStart()
call InitTrig_Chidori_Sasuke()
call InitTrig_Chidori_Sasuke_atack()
call InitTrig_ChidoriNagSen()
call InitTrig_SH_Sasuke()
call InitTrig_MSH_Sasuke()
call InitTrig_EMSH_Sasuke()
call InitTrig_Amaterasu_Off()
call InitTrig_SusanooSasukeAttack1()
call InitTrig_SusanooSasukeDef1()
call InitTrig_SusanooSasukeAttack2()
call InitTrig_SusanooSasukeDef2()
call InitTrig_SusanooTrap()
call InitTrig_SusanooSasukeAttack()
call InitTrig_SusanooSasukeDef()
call InitTrig_EntonKagetsuchi_Cast()
call InitTrig_Sensor()
call InitTrig_Chakra_Karin()
call InitTrig_stomb()
call InitTrig_Overpower()
call InitTrig_Overpower_attack()
call InitTrig_Bazooka()
call InitTrig_Whaaa()
call InitTrig_Whaaa_move()
call InitTrig_Whaaa_move_2()
call InitTrig_Podmena_2()
call InitTrig_Charge()
call InitTrig_Chargei_move()
call InitTrig_Sword()
call InitTrig_Sword_attack()
call InitTrig_Water_wave()
call InitTrig_KrotKakasi()
call InitTrig_KrotKakasi2()
call InitTrig_KrotKakasi3()
call InitTrig_Kakashi_clone()
call InitTrig_Kakashi_clone_2()
call InitTrig_Kakashi_clone_3()
call InitTrig_DogsHold()
call InitTrig_Suitun_suirudon_dragon_1()
call InitTrig_Suitun_suirudon_dragon_2()
call InitTrig_Suitun_suirudon_dragon_3()
call InitTrig_MSH_kakashi()
call InitTrig_MSH_kakashi_Hole()
call InitTrig_Chidori_Kakashi()
call InitTrig_Chidori_Kakashi_atack()
call InitTrig_Rasengan_1()
call InitTrig_Rasengan_2()
call InitTrig_Rasengan_move()
call InitTrig_Rasenrengan_move()
call InitTrig_Kage_bun()
call InitTrig_die()
call InitTrig_sage()
call InitTrig_sage_2()
call InitTrig_sage_dead()
call InitTrig_Rasenshuriken()
call InitTrig_Rasenshuriken_move()
call InitTrig_Rasenshuriken_damage()
call InitTrig_Kagebunshin_no_Jutsu()
call InitTrig_Kagebunshin_no_Jutsu_Check()
call InitTrig_Senpou_Chou_Odama_Rasen_Tarengan()
call InitTrig_Senpou_Chou_Odama_Timer()
call InitTrig_Clear_Dummy()
call InitTrig_Kurama()
call InitTrig_Blow()
call InitTrig_Blow_Move()
call InitTrig_Earth_slam()
call InitTrig_Mana()
call InitTrig_Mana_end()
call InitTrig_Ninpo_Snake_spell()
call InitTrig_Beast_Dies()
call InitTrig_Ninpo_Rat()
call InitTrig_Ninpo_Rat_dead()
call InitTrig_Ninpo_Gigant()
call InitTrig_Ninpo_Dragon()
call InitTrig_Ninpo_Dragon_Move()
call InitTrig_Geppou()
call InitTrig_Gai_Senpu()
call InitTrig_Gai_Senpu_damage()
call InitTrig_Gai_bomb()
call InitTrig_Gai_bomb_damage()
call InitTrig_Bykugan()
call InitTrig_BykuganAttack()
call InitTrig_AirFist()
call InitTrig_Kaiten()
call InitTrig_Ladon()
call InitTrig_Sixtyfour()
call InitTrig_Sixtyfour_2()
call InitTrig_CleanerN()
call InitTrig_Dummy()
call InitTrig_Lee_Senpu()
call InitTrig_Lee_Senpu_damage()
call InitTrig_Front_Lotus()
call InitTrig_FL_move()
call InitTrig_Lee_Taydjutsu()
call InitTrig_Lee_Taydjutsu2()
call InitTrig_Lee_Taydjutsu3()
call InitTrig_Shuriken()
call InitTrig_Shuriken_damage()
call InitTrig_Shuriken_Die()
call InitTrig_Fuuma()
call InitTrig_Fuuma_damage()
call InitTrig_Fuuma_Die()
call InitTrig_Drakon_Bleznesi()
call InitTrig_remove_D()
call InitTrig_Djidanda()
call InitTrig_Gaara_Shield()
call InitTrig_Sabakyuu()
call InitTrig_Yama_pesok()
call InitTrig_Ruuysa_spell()
call InitTrig_Ruuysa_spell_end()
call InitTrig_Shikaku()
call InitTrig_Shikaku_remove()
call InitTrig_Lava()
call InitTrig_Lava_2()
call InitTrig_Lava_end()
call InitTrig_Par()
call InitTrig_Remove_Raykage()
call InitTrig_Elbow()
call InitTrig_E_move()
call InitTrig_E_knockback()
call InitTrig_Guillotine_Drop()
call InitTrig_GD_loop()
call InitTrig_IB_hash()
call InitTrig_IB_cast()
call InitTrig_IB_loop()
call InitTrig_Raigyaku_Suihei()
call InitTrig_RS_loop()
call InitTrig_RS_knockback()
call InitTrig_Kengan_no_Jutsu()
call InitTrig_Oonoki_KnJ_Loop()
call InitTrig_Learn_Genkai_Hakuri_no_Jutsu()
call InitTrig_Genkai_Hakuri_no_Jutsu()
call InitTrig_Mega_Jinton()
call InitTrig_MJ_Loop()
call InitTrig_Wood_health()
call InitTrig_Futon_Shinku_Shuriken()
call InitTrig_Futon_Shinkuha()
call InitTrig_Sh_Danzo()
call InitTrig_USF()
call InitTrig_Baku()
call InitTrig_Baku_Move()
call InitTrig_Izanagi_Int()
call InitTrig_Loop_iz()
call InitTrig_Koto()
call InitTrig_Delete()
call InitTrig_Slashing_blow()
call InitTrig_Katun()
call InitTrig_MSH()
call InitTrig_Clone()
call InitTrig_Clone2()
call InitTrig_Tsukyomi()
call InitTrig_Tsukyomi_damage()
call InitTrig_Tsukyomi_dead()
call InitTrig_Crow_2()
call InitTrig_SusanooItachiAttack()
call InitTrig_SusanooItachiDef()
call InitTrig_Samehada_chakra()
call InitTrig_Samehada_Heal()
call InitTrig_Sphere()
call InitTrig_Suitun_shark()
call InitTrig_Suitun_shark_damage()
call InitTrig_Suitun_surou()
call InitTrig_Suitun_bakeshi_shouha()
call InitTrig_Suitun_bakeshi_shouha_end()
call InitTrig_Samehada()
call InitTrig_Samehada_move()
call InitTrig_Samehada_dead()
call InitTrig_PeinAttack()
call InitTrig_ShieldPole()
call InitTrig_ShieldPole2()
call InitTrig_ShieldPoleEnter()
call InitTrig_Mana_1()
call InitTrig_Mana_end_1()
call InitTrig_bansho_tenin()
call InitTrig_bansho_tenin_move()
call InitTrig_ComeOnHere()
call InitTrig_SpikeofNagato()
call InitTrig_SpikeofNagato_attack()
call InitTrig_RadiusNagatoControl()
call InitTrig_Rinnegan()
call InitTrig_RevivePath()
call InitTrig_PeinShinra()
call InitTrig_PeinShibaku()
call InitTrig_Summon()
call InitTrig_RinneSpawn()
call InitTrig_Asura()
call InitTrig_Kats_C1_mine()
call InitTrig_Kats_C1()
call InitTrig_Kats_C1_dead()
call InitTrig_Metall_Attack()
call InitTrig_Senjusobu()
call InitTrig_Satetsu_Kaiho()
call InitTrig_Circular_Saw_Blade()
call InitTrig_Hiruko_Kachyose()
call InitTrig_Hiruko_Die()
call InitTrig_Unload()
call InitTrig_Hiruko_Tail_Attack()
call InitTrig_Hiruko_Toxic_Bombs()
call InitTrig_Hiruko_Needle_Shot_START()
call InitTrig_Hiruko_Needle_Shot_DIE()
call InitTrig_Hiruko_Needle_Shot_Attack()
call InitTrig_Hiruko_Needle_Shot_END()
call InitTrig_Real_Body()
call InitTrig_Real_Body_Deathe()
call InitTrig_Flamethrower()
call InitTrig_Waterthrower()
call InitTrig_Sasori_Hook()
call InitTrig_Red_Puppets_Attack()
call InitTrig_Kaedjin()
call InitTrig_Earth_teleport()
call InitTrig_Di()
call InitTrig_Di_1()
call InitTrig_Stone()
call InitTrig_MSH_Tobi()
call InitTrig_Kamuy_shuriken()
call InitTrig_Kamuy_shuriken_Move()
call InitTrig_Kamuy_shuriken_Dies()
call InitTrig_Kamuy()
call InitTrig_Kamuy_Black_Hole()
call InitTrig_Kamuy_Black_Hole_2()
call InitTrig_Kamuy_Black_Hole_2_move()
call InitTrig_KamuyWorldLeave()
call InitTrig_Kamuy_Black_Hole_3()
call InitTrig_Gedo_mazo()
call InitTrig_Tobi_Kotun()
call InitTrig_RikudoObitoAttack()
call InitTrig_RikudoObitoBareer()
call InitTrig_RikudoObitoFlower()
call InitTrig_RINNEGAN()
call InitTrig_RINNEGAN_end()
call InitTrig_KATONUCHIHA()
call InitTrig_KATONUCHIHA_Move()
call InitTrig_TSUKIOMYMADARA()
call InitTrig_TSUKIOMYMADARA_damage()
call InitTrig_MADARACLONES()
call InitTrig_MOVE()
call InitTrig_WOODSTYLE()
call InitTrig_WOODSTYLE_move()
call InitTrig_WOODSTYLE_Dead()
call InitTrig_GREENDRAGON()
call InitTrig_GREENDRAGON_move()
call InitTrig_GREENDRAGON_time()
call InitTrig_ABSORPTION()
call InitTrig_ABSORPTION_end()
call InitTrig_SUSANNO()
call InitTrig_SUSANNO_move()
call InitTrig_SUSANNO_attack()
call InitTrig_SUSANNO_die()
call InitTrig_SUSANNO2()
call InitTrig_SUSANNO2_move()
call InitTrig_SUSANNO2_die()
call InitTrig_Meteor()
call InitTrig_remove()
call InitTrig_RicudoMadaraLighting()
call InitTrig_RicudoMadaraMeteor()
call InitTrig_Rashoumon_Hash()
call InitTrig_Rashoumon_Hash_remove()
call InitTrig_MokutonJukaiKotan()
call InitTrig_Remove_Mokoton()
call InitTrig_Mokuton_jukai_Koutan()
call InitTrig_Mokuton_Jukai_Koutan_Loop()
call InitTrig_Mokuton_kajukai_Kourin()
call InitTrig_Mokuton_Kajukai_Kourin_Loop()
call InitTrig_Shinsuusenju()
call InitTrig_Shinsuusenju_Punch()
call InitTrig_Golem_Hash()
call InitTrig_Tobirama_Kunai()
call InitTrig_Pechat_Tobirama()
call InitTrig_Kunai_Move_Tobirama()
call InitTrig_Kage_bun_Tobirama()
call InitTrig_Water_Tobirami()
call InitTrig_Remove_Dummy()
call InitTrig_Shuriken_Kagebunshin()
call InitTrig_Shuriken_Create()
call InitTrig_Shuriken_Move()
call InitTrig_Shiki_Fuujin()
call InitTrig_Shiki_Fuujin_Damage()
call InitTrig_Kunai()
call InitTrig_Remove_M()
call InitTrig_Pechat()
call InitTrig_Kunai_Move_Minato()
call InitTrig_R()
call InitTrig_R_Attack()
call InitTrig_RW_Remove()
call InitTrig_SageM()
call InitTrig_Shiki_Fuujin_M()
call InitTrig_Shiki_Fuujin_Damage_M()
call InitTrig_Susano()
call InitTrig_Susano_Attack()
call InitTrig_Edo_Hokage()
call InitTrig_Edo_Hokage_Deathe()
call InitTrig_Edo()
call InitTrig_Edo_2()
call InitTrig_podmena()
call InitTrig_Illusion()
call InitTrig_BlackZetsu()
call InitTrig_BlackZetsu2()
call InitTrig_BlackZetsuMove()
call InitTrig_BlackZetsuMove_2()
call InitTrig_BlackZetsu3()
call InitTrig_Madara_vs_Hashirama()
call InitTrig_BlackZetsu3_2()
call InitTrig_Apocalypsis()
call InitTrig_KagyaSpellCast1()
call InitTrig_KagyaSpellCast2()
call InitTrig_KagyaSpellCast3()
call InitTrig_KagyaSpellCast4()
call InitTrig_KagyaSpellCast5()
call InitTrig_KagyaDie()
call InitTrig_BlackZetsuDie()
call InitTrig_Raiga_Ranmaru()
call InitTrig_Raiga_Ranmaru_K()
call InitTrig_Raiga_Ranmaru_S()
call InitTrig_Raiga_Ranmaru_A()
call InitTrig_Mifune()
call InitTrig_Mifune1()
call InitTrig_Hashirama()
call InitTrig_Danzo_2()
call InitTrig_Naruto_N()
call InitTrig_Naruto_Ne()
call InitTrig_Naruto_N1()
call InitTrig_Naruto_N2()
call InitTrig_Naruto_NEnd()
call InitTrig_Naruto_Zetsu()
call InitTrig_Katana()
call InitTrig_Katana_1()
call InitTrig_Katana_2()
call InitTrig_Sasuke_16lvl()
call InitTrig_Sasuke_16lvl_2()
call InitTrig_SasukeShOro()
call InitTrig_Sasuke_30lvl()
call InitTrig_Sasuke_Itachi()
call InitTrig_Sasuke_Itachi_2()
call InitTrig_Sasuke_Itachi_3()
call InitTrig_Sasuke_Itachi_4()
call InitTrig_Sasuke_Itachi_5()
call InitTrig_itachi_give_me_eyes()
call InitTrig_Hozuki_Suygetsu()
call InitTrig_Kabuto1()
call InitTrig_Kabuto2()
call InitTrig_Kabuto_Edo()
call InitTrig_Kabuto_Edo_2()
call InitTrig_Edo_Tensei_Kabuto()
call InitTrig_Edo_Tensei_Kabuto_2()
call InitTrig_Kabuto_Sage()
call InitTrig_Kabuto_Sage_end()
call InitTrig_Tobi_madara()
call InitTrig_TobiRinnegan()
call InitTrig_TobiRinnegan2()
call InitTrig_TobiRinnegan3()
call InitTrig_TobiRinnegan4()
call InitTrig_TobiRinnegan5()
call InitTrig_Obito_Rikudo()
call InitTrig_Obito_Rikudo_Kill()
call InitTrig_Hv10()
call InitTrig_Hv10_2()
call InitTrig_Madara_Rikudo()
call InitTrig_Madara_Rikudo_Kill()
call InitTrig_TheRedMoonActivated()
call InitTrig_TheRedMoonDeActivated()
call InitTrig_TheRedMoonActivated_2()
call InitTrig_TheRedMoonDeActivated_2()
call InitTrig_Wolf()
call InitTrig_Wolf2()
call InitTrig_WolfQ()
call InitTrig_WolfEnd()
call InitTrig_Barah_must_die()
call InitTrig_Barah_must_die2()
call InitTrig_Barah_must_dieQ()
call InitTrig_Barah_must_dieEnd()
call InitTrig_Amedato()
call InitTrig_Amedato2()
call InitTrig_AmedatoQ()
call InitTrig_AmedatoEnd()
call InitTrig_Kel()
call InitTrig_Kel2()
call InitTrig_KelQ()
call InitTrig_KelEND()
call InitTrig_Sound1()
call InitTrig_Sound1Q()
call InitTrig_Sound2()
call InitTrig_SoundEND()
call InitTrig_SoundDefeat()
call InitTrig_Girgito()
call InitTrig_Sosedi()
call InitTrig_Sosedi2()
call InitTrig_SosediQ()
call InitTrig_SosediEnd()
call InitTrig_Sosedi_L()
call InitTrig_Sosedi2_L()
call InitTrig_SosediQ_L()
call InitTrig_SosediEnd_L()
call InitTrig_Konoha_suna4()
call InitTrig_Konoha_suna4Q()
call InitTrig_Konoha_suna5()
call InitTrig_Soldat()
call InitTrig_SildatQ()
call InitTrig_SoldatEnd()
call InitTrig_Brat()
call InitTrig_Brat2()
call InitTrig_BratQ()
call InitTrig_BratEnd()
endfunction
function RunInitializationTriggers takes nothing returns nothing
call ConditionalTriggerExecute(gg_trg_init)
call ConditionalTriggerExecute(gg_trg_init2)
call ConditionalTriggerExecute(gg_trg_Initialization)
call ConditionalTriggerExecute(gg_trg_IB_hash)
endfunction
function InitCustomPlayerSlots takes nothing returns nothing
call SetPlayerStartLocation(Player(0),0)
call ForcePlayerStartLocation(Player(0),0)
call SetPlayerColor(Player(0),ConvertPlayerColor(0))
call SetPlayerRacePreference(Player(0),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(0),false)
call SetPlayerController(Player(0),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(1),1)
call ForcePlayerStartLocation(Player(1),1)
call SetPlayerColor(Player(1),ConvertPlayerColor(1))
call SetPlayerRacePreference(Player(1),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(1),false)
call SetPlayerController(Player(1),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(2),2)
call ForcePlayerStartLocation(Player(2),2)
call SetPlayerColor(Player(2),ConvertPlayerColor(2))
call SetPlayerRacePreference(Player(2),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(2),false)
call SetPlayerController(Player(2),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(3),3)
call ForcePlayerStartLocation(Player(3),3)
call SetPlayerColor(Player(3),ConvertPlayerColor(3))
call SetPlayerRacePreference(Player(3),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(3),false)
call SetPlayerController(Player(3),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(4),4)
call ForcePlayerStartLocation(Player(4),4)
call SetPlayerColor(Player(4),ConvertPlayerColor(4))
call SetPlayerRacePreference(Player(4),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(4),false)
call SetPlayerController(Player(4),MAP_CONTROL_COMPUTER)
call SetPlayerStartLocation(Player(5),5)
call ForcePlayerStartLocation(Player(5),5)
call SetPlayerColor(Player(5),ConvertPlayerColor(5))
call SetPlayerRacePreference(Player(5),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(5),false)
call SetPlayerController(Player(5),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(6),6)
call ForcePlayerStartLocation(Player(6),6)
call SetPlayerColor(Player(6),ConvertPlayerColor(6))
call SetPlayerRacePreference(Player(6),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(6),false)
call SetPlayerController(Player(6),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(7),7)
call ForcePlayerStartLocation(Player(7),7)
call SetPlayerColor(Player(7),ConvertPlayerColor(7))
call SetPlayerRacePreference(Player(7),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(7),false)
call SetPlayerController(Player(7),MAP_CONTROL_COMPUTER)
call SetPlayerStartLocation(Player(8),8)
call ForcePlayerStartLocation(Player(8),8)
call SetPlayerColor(Player(8),ConvertPlayerColor(8))
call SetPlayerRacePreference(Player(8),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(8),false)
call SetPlayerController(Player(8),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(9),9)
call ForcePlayerStartLocation(Player(9),9)
call SetPlayerColor(Player(9),ConvertPlayerColor(9))
call SetPlayerRacePreference(Player(9),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(9),false)
call SetPlayerController(Player(9),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player($A),$A)
call ForcePlayerStartLocation(Player($A),$A)
call SetPlayerColor(Player($A),ConvertPlayerColor($A))
call SetPlayerRacePreference(Player($A),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player($A),false)
call SetPlayerController(Player($A),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player($B),$B)
call ForcePlayerStartLocation(Player($B),$B)
call SetPlayerColor(Player($B),ConvertPlayerColor($B))
call SetPlayerRacePreference(Player($B),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player($B),false)
call SetPlayerController(Player($B),MAP_CONTROL_COMPUTER)
endfunction
function InitCustomTeams takes nothing returns nothing
call SetPlayerTeam(Player(0),0)
call SetPlayerState(Player(0),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(1),0)
call SetPlayerState(Player(1),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(2),0)
call SetPlayerState(Player(2),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(4),0)
call SetPlayerState(Player(4),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(2),true)
call SetPlayerTeam(Player(3),1)
call SetPlayerState(Player(3),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(5),1)
call SetPlayerState(Player(5),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(6),1)
call SetPlayerState(Player(6),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(7),1)
call SetPlayerState(Player(7),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(6),true)
call SetPlayerAllianceStateAllyBJ(Player(5),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(6),Player(7),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(5),true)
call SetPlayerAllianceStateAllyBJ(Player(7),Player(6),true)
call SetPlayerTeam(Player(8),2)
call SetPlayerState(Player(8),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(9),2)
call SetPlayerState(Player(9),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player($A),2)
call SetPlayerState(Player($A),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player($B),2)
call SetPlayerState(Player($B),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerAllianceStateAllyBJ(Player(8),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player($A),true)
call SetPlayerAllianceStateAllyBJ(Player(8),Player($B),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player($A),true)
call SetPlayerAllianceStateAllyBJ(Player(9),Player($B),true)
call SetPlayerAllianceStateAllyBJ(Player($A),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player($A),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player($A),Player($B),true)
call SetPlayerAllianceStateAllyBJ(Player($B),Player(8),true)
call SetPlayerAllianceStateAllyBJ(Player($B),Player(9),true)
call SetPlayerAllianceStateAllyBJ(Player($B),Player($A),true)
endfunction
function InitAllyPriorities takes nothing returns nothing
call SetStartLocPrioCount(1,1)
call SetStartLocPrio(1,0,4,MAP_LOC_PRIO_LOW)
call SetStartLocPrioCount(2,1)
call SetStartLocPrio(2,0,4,MAP_LOC_PRIO_LOW)
call SetStartLocPrioCount(4,3)
call SetStartLocPrio(4,0,0,MAP_LOC_PRIO_LOW)
call SetStartLocPrio(4,1,1,MAP_LOC_PRIO_LOW)
call SetStartLocPrio(4,2,2,MAP_LOC_PRIO_LOW)
call SetStartLocPrioCount(5,1)
call SetStartLocPrio(5,0,$B,MAP_LOC_PRIO_LOW)
call SetStartLocPrioCount(7,3)
call SetStartLocPrio(7,0,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,1,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,2,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount($A,1)
call SetStartLocPrio($A,0,$B,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount($B,1)
call SetStartLocPrio($B,0,$A,MAP_LOC_PRIO_HIGH)
endfunction
function main takes nothing returns nothing
local weathereffect we
local destructable d
local trigger t
local real life
local integer itemID
local trigger AmaterasuSasuke
local integer ip
local trigger SusanooSasuke1
local trigger SusanooSasuke2
local trigger SusanooSasuke
local integer index
local integer i
local trigger spells
local trigger SusanooItachi
local trigger dv
local region rectRegion
call SetCameraBounds(-11520.+GetCameraMargin(CAMERA_MARGIN_LEFT),-11776.+GetCameraMargin(CAMERA_MARGIN_BOTTOM),12288.-GetCameraMargin(CAMERA_MARGIN_RIGHT),11264.-GetCameraMargin(CAMERA_MARGIN_TOP),-11520.+GetCameraMargin(CAMERA_MARGIN_LEFT),11264.-GetCameraMargin(CAMERA_MARGIN_TOP),12288.-GetCameraMargin(CAMERA_MARGIN_RIGHT),-11776.+GetCameraMargin(CAMERA_MARGIN_BOTTOM))
call SetDayNightModels("Environment\\DNC\\DNCLordaeron\\DNCLordaeronTerrain\\DNCLordaeronTerrain.mdl","Environment\\DNC\\DNCLordaeron\\DNCLordaeronUnit\\DNCLordaeronUnit.mdl")
call SetWaterBaseColor($80,$80,$FF,$FF)
call NewSoundEnvironment("lake")
call SetAmbientDaySound("LordaeronSummerDay")
call SetAmbientNightSound("LordaeronSummerNight")
call SetMapMusic("Music",true,0)
set gg_rct_Ame=Rect(64.,-6080.,5664.,-352.)
set we=AddWeatherEffect(gg_rct_Ame,'RAhr')
call EnableWeatherEffect(we,true)
set gg_rct_World=Rect(-11552.,-6048.,12224.,11424.)
set gg_rct_Konoha=Rect(-11456.,5696.,-4800.,11008.)
set gg_rct_Itachi_Kisame=Rect(2656.,-4992.,2976.,-4672.)
set gg_rct_Revive_Orochimaru=Rect(-7104.,-8640.,-6848.,-8384.)
set gg_rct_Arena=Rect(4128.,352.,5088.,1248.)
set gg_rct_Roushin=Rect(-5568.,-3616.,-4384.,-2560.)
set gg_rct_Magtheriton=Rect(3168.,10016.,4320.,11104.)
set we=AddWeatherEffect(gg_rct_Magtheriton,'FDgh')
call EnableWeatherEffect(we,true)
set gg_rct_Team_Gai_2=Rect(-6112.,8192.,-5504.,8640.)
set gg_rct_Kazekage=Rect(10880.,10048.,11936.,11200.)
set gg_rct_Gedo_2=Rect(11552.,-2656.,11776.,-2496.)
set gg_rct_Training_Sasuke=Rect(-11296.,-8800.,-10144.,-7424.)
set gg_rct_Sasuke_cinematic=Rect(10592.,-9856.,10784.,-9664.)
set gg_rct_Sasuke_Itachi=Rect(6816.,-2080.,7200.,-1696.)
set gg_rct_Team_Kakashi=Rect(-9248.,6304.,-8736.,7072.)
set gg_rct_Team_Danzo_2=Rect(-11392.,10240.,-10496.,11200.)
set gg_rct_Cave_Gedo=Rect(9568.,-4000.,12160.,-1248.)
set gg_rct_Revive_Akatsuki=Rect(4832.,-1440.,5024.,-1248.)
set gg_rct_Dreadlord=Rect(-1248.,5056.,-992.,5248.)
set gg_rct_NinjaN=Rect(-11456.,608.,-11360.,704.)
set gg_rct_Samuro=Rect(-448.,9184.,-320.,9312.)
set gg_rct_Abos=Rect(3712.,10784.,3968.,10976.)
set gg_rct_Hunter=Rect(-2624.,-5888.,-2432.,-5664.)
set gg_rct_Pain_Respawn=Rect(4960.,-2752.,5088.,-2624.)
set gg_rct_Juugo_respawn=Rect(-11072.,-7776.,-10944.,-7648.)
set gg_rct_Gl=Rect(4512.,704.,4672.,864.)
set gg_rct_Karin_respawn=Rect(-10784.,-7616.,-10656.,-7488.)
set gg_rct_Suigetsu_respawn=Rect(-10592.,-7744.,-10464.,-7616.)
set gg_rct_Snake_crew=Rect(-9024.,-8640.,-8288.,-7872.)
set gg_rct_Sasuke_respawn=Rect(-10848.,-7808.,-10720.,-7680.)
set gg_rct_Team_7=Rect(-9856.,10496.,-9728.,10624.)
set gg_rct_KingakuN=Rect(11552.,-512.,11808.,-320.)
set gg_rct_GinkakuN=Rect(11520.,-768.,11776.,-576.)
set gg_rct_Madara_respawn=Rect(7584.,-10368.,7776.,-10272.)
set gg_rct_Madara_revive=Rect(7616.,-10496.,7744.,-10368.)
set gg_rct_Barah_respawn=Rect(-11360.,-2816.,-11232.,-2688.)
set gg_rct_Gaara_respawn=Rect(11456.,10688.,11584.,10816.)
set gg_rct_Mei_respawn=Rect(-9664.,1216.,-9536.,1344.)
set gg_rct_Suna2=Rect(6784.,6208.,12192.,11360.)
set gg_rct_Rai_respawn=Rect(6080.,-10816.,6208.,-10688.)
set gg_rct_Sunabase=Rect(2720.,4192.,4384.,5408.)
set gg_rct_Rikudo=Rect(-2560.,-11328.,-768.,-10176.)
set gg_rct_Tsunade_respawn=Rect(-2752.,-8512.,-2624.,-8416.)
set gg_rct_Bossshield=Rect(7808.,3936.,9376.,5760.)
set we=AddWeatherEffect(gg_rct_Bossshield,'FDwh')
call EnableWeatherEffect(we,true)
set gg_rct_Utaka=Rect(-11200.,1824.,-11072.,1952.)
set gg_rct_tele1=Rect(-11264.,-6080.,-11136.,-5952.)
set gg_rct_tele2=Rect(-8128.,-5952.,-8000.,-5824.)
set gg_rct_teleorochbase=Rect(-7360.,-7040.,-6976.,-6720.)
set gg_rct_telemadarabase=Rect(8256.,-11520.,8384.,-11392.)
set gg_rct_telegedobase=Rect(12032.,-2048.,12160.,-1920.)
set gg_rct_Base_Orochimaru2=Rect(-10880.,-8704.,-7264.,-7200.)
set gg_rct_Base_Orochimaru=Rect(-11552.,-9568.,-6560.,-6784.)
set gg_rct_wall1=Rect(-12288.,-6560.,12256.,-6400.)
set gg_rct_wall2=Rect(-6496.,-12288.,-6304.,-6560.)
set gg_rct_wall3=Rect(-8064.,-11872.,-7840.,-9248.)
set gg_rct_wall4=Rect(8704.,-10048.,8992.,-6560.)
set gg_rct_wall5=Rect(8992.,-10112.,12288.,-9952.)
set gg_rct_wall6=Rect(6976.,-9984.,8704.,-9824.)
set gg_rct_VisibleMap=Rect(-10816.,-5824.,11552.,11040.)
set gg_rct_Madaras_room=Rect(7808.,-11200.,7840.,-10752.)
set gg_rct_TownofRoushin=Rect(-5632.,-7872.,-5504.,-7744.)
set gg_rct_TownofRoushin2=Rect(5824.,10432.,5952.,10560.)
set gg_rct_TownRoushin3=Rect(-5568.,-7424.,-5536.,-7392.)
set gg_rct_tele3=Rect(-3136.,-7616.,-3008.,-7488.)
set gg_rct_tele4=Rect(-7232.,7552.,-7104.,7680.)
set gg_rct_Narutohome=Rect(-2784.,-7584.,-2752.,-7552.)
set gg_rct_tele5=Rect(-4480.,-7808.,-4352.,-7680.)
set gg_rct_tele6=Rect(-6336.,.0,-6208.,128.)
set gg_rct_BarEl=Rect(-4128.,-7552.,-4096.,-7520.)
set gg_rct_tele7=Rect(-6848.,-11584.,-6720.,-11456.)
set gg_rct_tele8=Rect(1024.,11072.,1152.,11200.)
set gg_rct_Orochbase2=Rect(-7072.,-11232.,-7040.,-10208.)
set gg_rct_tele9=Rect(-2752.,-9088.,-2624.,-8960.)
set gg_rct_tele10=Rect(-8448.,9856.,-8320.,9984.)
set gg_rct_Hokageoffice=Rect(-2720.,-8800.,-2688.,-8768.)
set gg_rct_tele11=Rect(-1216.,10496.,-1088.,10624.)
set gg_rct_tele12=Rect(-832.,-8320.,-704.,-8192.)
set gg_rct_Samuraibase=Rect(-1056.,-8704.,-1024.,-7552.)
set gg_rct_tele13=Rect(-4160.,-9088.,-4032.,-8960.)
set gg_rct_tele14=Rect(-5952.,-9088.,-5824.,-8960.)
set gg_rct_tele15=Rect(5696.,2752.,5824.,2880.)
set gg_rct_tele16=Rect(11968.,6336.,12096.,6464.)
set gg_rct_wall7=Rect(-6304.,-9440.,-192.,-9312.)
set gg_rct_wall8=Rect(-6304.,-8224.,-1920.,-8096.)
set gg_rct_wall9=Rect(-4896.,-10880.,-4704.,-6432.)
set gg_rct_wall10=Rect(-2144.,-9472.,-1952.,-6464.)
set gg_rct_wall11=Rect(-3520.,-9472.,-3328.,-6464.)
set gg_rct_wall12=Rect(-3296.,-12288.,-3104.,-9408.)
set gg_rct_wall13=Rect(-6304.,-10880.,-3296.,-10752.)
set gg_rct_SplatterHouse=Rect(-5600.,-8800.,-5568.,-8768.)
set gg_rct_Kazekageplace=Rect(-4096.,-8800.,-4064.,-8768.)
set gg_rct_AnozerWorld=Rect(-4768.,-10816.,-3264.,-9408.)
set gg_rct_Kamuy_World=Rect(-4128.,-10176.,-3968.,-10080.)
set gg_rct_Point1=Rect(-1824.,-9216.,-416.,-6912.)
set gg_rct_Point2=Rect(-3200.,-7904.,-2304.,-6976.)
set gg_rct_Point3=Rect(-3136.,-9216.,-2208.,-8256.)
set gg_rct_Point4=Rect(-4576.,-9248.,-3584.,-8416.)
set gg_rct_Point5=Rect(-6144.,-9216.,-5024.,-8352.)
set gg_rct_Point6=Rect(-6112.,-10624.,-4992.,-9600.)
set gg_rct_Point8=Rect(-4576.,-7936.,-3648.,-6944.)
set gg_rct_Base_Orochimaru_second=Rect(-7744.,-11840.,-6528.,-9504.)
set gg_rct_wall15=Rect(-11840.,-9440.,-6496.,-9248.)
set gg_rct_Point9=Rect(7104.,-11648.,8576.,-10176.)
set gg_rct_CaveKabuto=Rect(-5568.,-10176.,-5536.,-10144.)
set gg_rct_tele17=Rect(9088.,3776.,9216.,3904.)
set gg_rct_tele18=Rect(7488.,5824.,7616.,5952.)
set gg_rct_tele19=Rect(-6080.,-9920.,-5952.,-9792.)
set gg_rct_tele20=Rect(-5248.,-10432.,-5120.,-10304.)
set gg_rct_Village_Full=Rect(-1280.,6560.,-416.,7488.)
set gg_rct_Itachi_cinematic=Rect(10592.,-7488.,10784.,-7360.)
set gg_rct_Uchiha=Rect(9152.,-9856.,12128.,-7264.)
set gg_rct_Hero_pick_point=Rect(9024.,-11680.,12096.,-10816.)
set gg_rct_tele21=Rect(8448.,-9728.,8576.,-9600.)
set gg_rct_tele22=Rect(-6848.,-1344.,-6720.,-1216.)
set gg_rct_Point10=Rect(7072.,-9728.,8576.,-7168.)
set gg_rct_Super=Rect(7744.,-9280.,7936.,-7712.)
set gg_rct_Point11=Rect(5568.,-11712.,6688.,-10464.)
set gg_rct_tele23=Rect(5760.,-11200.,5888.,-11072.)
set gg_rct_tele24=Rect(11904.,1600.,12032.,1728.)
set gg_rct_RaiKage_OldMan=Rect(6112.,-10944.,6176.,-10784.)
set gg_rct_Mizukage=Rect(-9760.,1184.,-8768.,1728.)
set gg_rct_tele25=Rect(5952.,-7744.,6080.,-7616.)
set gg_rct_MeiPoint=Rect(5472.,-8224.,6560.,-6848.)
set we=AddWeatherEffect(gg_rct_MeiPoint,'FDwh')
call EnableWeatherEffect(we,true)
set gg_rct_MeiPoint2=Rect(5984.,-7616.,6048.,-7456.)
set gg_rct_Taka_Sasuke=Rect(-7232.,-9920.,-7136.,-9824.)
set gg_rct_tele26=Rect(6400.,-8960.,6528.,-8832.)
set gg_rct_tele27=Rect(5568.,-9856.,5696.,-9728.)
set gg_rct_tele28=Rect(-2624.,-1152.,-2496.,-1024.)
set gg_rct_tele29=Rect(-2048.,-640.,-1920.,-512.)
set gg_rct_Town=Rect(5472.,-10016.,6688.,-8736.)
set gg_rct_Town2=Rect(6016.,-9408.,6144.,-9312.)
set gg_rct_wall16=Rect(6784.,-11744.,6912.,-6560.)
set gg_rct_wall17=Rect(5056.,-11936.,5184.,-6752.)
set gg_rct_wall18=Rect(5184.,-8480.,6784.,-8352.)
set gg_rct_wall19=Rect(5184.,-10272.,6784.,-10112.)
set gg_rct_Sunagakure=Rect(8256.,8512.,8320.,8576.)
set gg_rct_Konohagakure=Rect(-7392.,6912.,-7328.,6976.)
set gg_rct_Valley_of_the_End=Rect(-2752.,10272.,-2688.,10336.)
set gg_rct_Roshs_tower=Rect(-5248.,-3520.,-5184.,-3456.)
set gg_rct_Rain_city=Rect(3776.,-2528.,3840.,-2464.)
set gg_rct_Deidara_tobi=Rect(2528.,-1120.,2880.,-800.)
set gg_rct_Nibi=Rect(6336.,4288.,7616.,5696.)
set gg_rct_tele30=Rect(-10816.,-11456.,-10688.,-11328.)
set gg_rct_tele31=Rect(4992.,-2944.,5120.,-2816.)
set gg_rct_Secret_of_Chamber=Rect(-11200.,-11616.,-10272.,-9888.)
set gg_rct_Secret_of_Chamber2=Rect(-10816.,-11136.,-10656.,-10400.)
set gg_rct_wall20=Rect(-10080.,-11904.,-9856.,-9280.)
set gg_rct_PeinRes=Rect(-10464.,-10624.,-10400.,-10560.)
set gg_rct_PeinRes2=Rect(-10464.,-10880.,-10400.,-10816.)
set gg_rct_PeinRes3=Rect(-10464.,-11136.,-10400.,-11072.)
set gg_rct_PeinRes4=Rect(-11104.,-10880.,-11040.,-10816.)
set gg_rct_PeinRes5=Rect(-11104.,-10624.,-11040.,-10560.)
set gg_rct_PeinResN=Rect(-10752.,-10208.,-10688.,-10144.)
set gg_rct_D=Rect(-8448.,-11328.,-8320.,-11200.)
set gg_rct_R2D2=Rect(-9792.,-11808.,-8160.,-10848.)
set gg_rct_D2=Rect(-9216.,-11392.,-8704.,-11328.)
set gg_rct_MapVicdef=Rect(-9760.,-10496.,-8192.,-9600.)
set gg_rct_Shadow=Rect(416.,-11872.,5024.,-7104.)
set we=AddWeatherEffect(gg_rct_Shadow,'MEds')
call EnableWeatherEffect(we,true)
set gg_rct_ShadowVisible=Rect(1120.,-11328.,4256.,-7584.)
set we=AddWeatherEffect(gg_rct_ShadowVisible,'FDwh')
call EnableWeatherEffect(we,true)
set gg_rct_wall14=Rect(-192.,-12288.,.0,-6560.)
set gg_rct_Gedo=Rect(11264.,-2688.,11456.,-2496.)
set gg_rct_Sunasolaire=Rect(11200.,8128.,11392.,8320.)
set gg_rct_Midare=Rect(-3584.,-5472.,-3328.,-5216.)
set gg_rct_Midare2=Rect(6528.,6336.,6784.,6592.)
set gg_rct_Secret_Chamber=Rect(-5184.,-8960.,-5056.,-8832.)
set gg_rct_Secret_Chamber_2=Rect(-6016.,-11456.,-5888.,-11328.)
set gg_rct_Point7=Rect(-6176.,-11808.,-4544.,-10976.)
set gg_rct_SecretCha=Rect(-5664.,-11360.,-3808.,-11328.)
set gg_rct_MizuMove2=Rect(5952.,-7200.,6080.,-7072.)
set gg_rct_MizuMove1=Rect(5632.,-7200.,5760.,-7072.)
set gg_rct_MizuMove3=Rect(6272.,-7200.,6400.,-7072.)
set gg_rct_Kv_zmei=Rect(-2720.,-2336.,-2432.,-2048.)
set gg_rct_New_Naruto=Rect(9888.,3232.,10048.,3392.)
set gg_rct_Kamen=Rect(-6240.,-2016.,-6144.,-1920.)
set gg_rct_Faraon=Rect(-6144.,-8000.,-4960.,-6944.)
set gg_rct_Nar_D=Rect(-9568.,-11392.,-9408.,-11232.)
set gg_rct_Mechniki=Rect(-9312.,-10144.,-8608.,-10080.)
set gg_rct_Uchiha_Shisui=Rect(-7104.,9984.,-6976.,10112.)
set gg_rct_Baraht_Full=Rect(-11552.,-3136.,-10784.,-2336.)
set gg_rct_sanbi=Rect(-9760.,-448.,-9664.,-32.)
set gg_rct_gobi=Rect(-1792.,8448.,-1600.,8640.)
set gg_rct_sichibi=Rect(1280.,5920.,1408.,6144.)
set gg_rct_hashibi=Rect(8928.,1984.,9056.,2112.)
set gg_rct_kyubi=Rect(-6304.,10304.,-6080.,10432.)
set gg_rct_Secret_Orochimaru=Rect(-3744.,-11456.,-3648.,-11360.)
set gg_rct_Hanzo=Rect(7424.,-2688.,7936.,-2048.)
set gg_rct_Monoment=Rect(-10752.,6272.,-10496.,6528.)
set gg_rct_Sasuke_Rekudo=Rect(-8576.,-10176.,-8448.,-10048.)
set gg_rct_Naruto_Rekudo=Rect(-9472.,-10176.,-9344.,-10048.)
set we=null
set gg_cam_Konoha=CreateCameraSetup()
call CameraSetupSetField(gg_cam_Konoha,CAMERA_FIELD_ZOFFSET,.0,.0)
call CameraSetupSetField(gg_cam_Konoha,CAMERA_FIELD_ROTATION,90.,.0)
call CameraSetupSetField(gg_cam_Konoha,CAMERA_FIELD_ANGLE_OF_ATTACK,304.,.0)
call CameraSetupSetField(gg_cam_Konoha,CAMERA_FIELD_TARGET_DISTANCE,2000.,.0)
call CameraSetupSetField(gg_cam_Konoha,CAMERA_FIELD_ROLL,.0,.0)
call CameraSetupSetField(gg_cam_Konoha,CAMERA_FIELD_FIELD_OF_VIEW,70.,.0)
call CameraSetupSetField(gg_cam_Konoha,CAMERA_FIELD_FARZ,4000.,.0)
call CameraSetupSetDestPosition(gg_cam_Konoha,-9006.9,6826.3,.0)
set gg_cam_Pain=CreateCameraSetup()
call CameraSetupSetField(gg_cam_Pain,CAMERA_FIELD_ZOFFSET,.0,.0)
call CameraSetupSetField(gg_cam_Pain,CAMERA_FIELD_ROTATION,90.,.0)
call CameraSetupSetField(gg_cam_Pain,CAMERA_FIELD_ANGLE_OF_ATTACK,304.,.0)
call CameraSetupSetField(gg_cam_Pain,CAMERA_FIELD_TARGET_DISTANCE,1650.,.0)
call CameraSetupSetField(gg_cam_Pain,CAMERA_FIELD_ROLL,.0,.0)
call CameraSetupSetField(gg_cam_Pain,CAMERA_FIELD_FIELD_OF_VIEW,70.,.0)
call CameraSetupSetField(gg_cam_Pain,CAMERA_FIELD_FARZ,5000.,.0)
call CameraSetupSetDestPosition(gg_cam_Pain,4974.2,-2228.2,.0)
set gg_dest_B000_6926=CreateDestructable('B000',10048.,-2560.,340.21,4.,2)
call CreateItem('I00S',7491.3,-10419.)
call CreateItem('I00T',-1681.1,-5142.5)
call CreateItem('I00T',-617.8,3281.9)
call CreateItem('I00T',-4254.,-4636.7)
call CreateItem('I00T',-2505.8,-7121.3)
call CreateItem('I00T',7699.7,7721.)
call CreateItem('I014',-7564.1,-10463.5)
call CreateItem('I02X',-8407.8,-8135.5)
call CreateItem('I02Y',-8364.4,-8220.3)
call CreateNeutralPassiveBuildings()
call CreatePlayerBuildings()
call CreateNeutralHostile()
call CreateNeutralPassive()
call CreatePlayerUnits()
call InitBlizzard()
call ExecuteFunc("jasshelper__initstructs13938158")
call ExecuteFunc("KB__Init")
call ExecuteFunc("Init")
call ExecuteFunc("ISS__init")
set AmaterasuSasuke=CreateTrigger()
set ip=0
loop
call TriggerRegisterPlayerUnitEvent(AmaterasuSasuke,Player(ip),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set ip=ip+1
exitwhen ip==16
endloop
call TriggerAddCondition(AmaterasuSasuke,Condition(function AmaterasuSasukeScope__AmaterasuSasukeSpellPick))
call TriggerAddAction(AmaterasuSasuke,function AmaterasuSasukeScope__AmaterasuSasukeSpellStart)
set AmaterasuSasuke=null
set SusanooSasuke1=CreateTrigger()
set ip=0
loop
call TriggerRegisterPlayerUnitEvent(SusanooSasuke1,Player(ip),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set ip=ip+1
exitwhen ip==16
endloop
call TriggerAddCondition(SusanooSasuke1,Condition(function SusanooSasukeScope1__SusanooSasukeSpellPick1))
call TriggerAddAction(SusanooSasuke1,function SusanooSasukeScope1__SusanooSasukeSpellStart1)
set SusanooSasuke1=null
set SusanooSasuke2=CreateTrigger()
set ip=0
loop
call TriggerRegisterPlayerUnitEvent(SusanooSasuke2,Player(ip),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set ip=ip+1
exitwhen ip==16
endloop
call TriggerAddCondition(SusanooSasuke2,Condition(function SusanooSasukeScope2__SusanooSasukeSpellPick2))
call TriggerAddAction(SusanooSasuke2,function SusanooSasukeScope2__SusanooSasukeSpellStart2)
set SusanooSasuke2=null
set SusanooSasuke=CreateTrigger()
set ip=0
loop
call TriggerRegisterPlayerUnitEvent(SusanooSasuke,Player(ip),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set ip=ip+1
exitwhen ip==16
endloop
call TriggerAddCondition(SusanooSasuke,Condition(function SusanooSasukeScope__SusanooSasukeSpellPick))
call TriggerAddAction(SusanooSasuke,function SusanooSasukeScope__SusanooSasukeSpellStart)
set SusanooSasuke=null
set t=CreateTrigger()
set index=0
loop
call TriggerRegisterPlayerUnitEvent(t,Player(index),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set index=index+1
exitwhen index==16
endloop
call TriggerAddCondition(t,Condition(function Udar__Conditions))
call TriggerAddAction(t,function Udar__Actions)
set t=null
set i=0
set spells=CreateTrigger()
loop
call TriggerRegisterPlayerUnitEvent(spells,Player(i),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set i=i+1
exitwhen i==16
endloop
call TriggerAddCondition(spells,Condition(function Naruto__SpellsConditions))
call TriggerAddAction(spells,function Naruto__SpellsActions)
set spells=null
set SusanooItachi=CreateTrigger()
set ip=0
loop
call TriggerRegisterPlayerUnitEvent(SusanooItachi,Player(ip),EVENT_PLAYER_UNIT_SPELL_EFFECT,null)
set ip=ip+1
exitwhen ip==16
endloop
call TriggerAddCondition(SusanooItachi,Condition(function SusanooItachiScope__SusanooItachiSpellPick))
call TriggerAddAction(SusanooItachi,function SusanooItachiScope__SusanooItachiSpellStart)
set SusanooItachi=null
set i=0
set i=0
loop
exitwhen(i>1)
set udg_PickHero[i]=0
set udg_kill_count[i]=0
set udg_death_count[i]=0
set udg_icon_row[i]=0
set udg_Walloff[i]=false
set udg_Queston[i]=false
set udg_Questnumerals[i]=0
set udg_PlayerNames[i]=""
set udg_RandomTalk[i]=0
set udg_Arrow[i]=CreateGroup()
set udg_Angle[i]=0
set udg_PeinReal[i]=0
set udg_UnitGroups[i]=CreateGroup()
set udg_HookDistance[i]=0
set udg_HookCount[i]=0
set udg_meathookanglediff[i]=0
set udg_HookTimer[i]=CreateTimer()
set udg_EdoTensei[i]=0
set udg_Degree[i]=0
set udg_Bankai[i]=false
set udg_SkillLoops[i]=0
set udg_Omnislashing[i]=false
set udg_Oonoki_MJ_R[i]=0
set udg_Oonoki_MJ_T[i]=CreateTimer()
set udg_Oonoki_MJ_G[i]=CreateGroup()
set udg_RS_G[i]=CreateGroup()
set udg_RS_R[i]=0
set udg_Timer_Edo_Tensei[i]=CreateTimer()
set udg_Minato_Real[i]=0
set udg_FL_R[i]=0
set udg_FL_G[i]=CreateGroup()
set udg_GD_R[i]=0
set udg_GD_G[i]=CreateGroup()
set udg_UchihaMadaraReal[i]=0
set udg_UchihaMadaraInteger[i]=0
set udg_UchihaMadaraGroup[i]=CreateGroup()
set udg_E_I[i]=0
set udg_E_G[i]=CreateGroup()
set udg_E_R[i]=0
set udg_SenpouChouOodaraSize[i]=0
set udg_SenpouChouDist[i]=0
set udg_SenpouChouAngle[i]=0
set udg_UnitGroupAkatsuki[i]=CreateGroup()
set udg_RANDOM[i]=0
set i=i+1
endloop
set udg_KabutoTime=CreateTimer()
set udg_TimeMoon=CreateTimer()
set udg_UnitGroup=CreateGroup()
set udg_SasukeTime=CreateTimer()
set udg_DialogMidare1=DialogCreate()
set udg_DialogMidare2=DialogCreate()
set udg_Peins=CreateGroup()
set udg_Tp_dialog=DialogCreate()
set udg_KamuyK=CreateGroup()
set udg_KamuyON=CreateGroup()
set udg_KamuySh=CreateGroup()
set udg_CloneGroup=CreateGroup()
set udg_Oonoki_K_T=CreateTimer()
set udg_Oonoki_MJ_A_G=CreateGroup()
set udg_SSJ_HandGroup=CreateGroup()
set udg_ST_SK_MoveGroup=CreateGroup()
set udg_IB_group=CreateGroup()
set udg_IB_group2=CreateGroup()
set udg_IB_group3=CreateGroup()
set udg_KagebunshinPickGroup=CreateGroup()
set udg_SenpouChouGroup=CreateGroup()
set gg_trg_Monoment=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Monoment,gg_rct_Monoment)
call TriggerAddCondition(gg_trg_Monoment,Condition(function Trig_Monoment_Conditions))
call TriggerAddAction(gg_trg_Monoment,function Trig_Monoment_Actions)
set gg_trg_Monoment_2=CreateTrigger()
call DisableTrigger(gg_trg_Monoment_2)
call TriggerRegisterEnterRectSimple(gg_trg_Monoment_2,gg_rct_Monoment)
call TriggerAddCondition(gg_trg_Monoment_2,Condition(function Trig_Monoment_2_Conditions))
call TriggerAddAction(gg_trg_Monoment_2,function Trig_Monoment_2_Actions)
set gg_trg_Monoment_3=CreateTrigger()
call DisableTrigger(gg_trg_Monoment_3)
call TriggerRegisterEnterRectSimple(gg_trg_Monoment_3,gg_rct_Monoment)
call TriggerAddCondition(gg_trg_Monoment_3,Condition(function Trig_Monoment_3_Conditions))
call TriggerAddAction(gg_trg_Monoment_3,function Trig_Monoment_3_Actions)
set gg_trg_init=CreateTrigger()
call TriggerAddAction(gg_trg_init,function Trig_init_Actions)
set gg_trg_init2=CreateTrigger()
call TriggerAddAction(gg_trg_init2,function Trig_init2_Actions)
set gg_trg_Init_ai_3=CreateTrigger()
call TriggerRegisterTimerEventSingle(gg_trg_Init_ai_3,59.)
call TriggerAddAction(gg_trg_Init_ai_3,function Trig_Init_ai_3_Actions)
set gg_trg_time=CreateTrigger()
call TriggerRegisterTimerEvent(gg_trg_time,1.,true)
call TriggerAddAction(gg_trg_time,function Trig_time_Actions)
set gg_trg_time2=CreateTrigger()
call TriggerRegisterTimerEvent(gg_trg_time2,59.,true)
call TriggerAddAction(gg_trg_time2,function Trig_time2_Actions)
set gg_trg_Item_level=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Item_level,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(gg_trg_Item_level,Condition(function Trig_Item_level_Conditions))
call TriggerAddAction(gg_trg_Item_level,function Trig_Item_level_Actions)
set gg_trg_Board_Refresh=CreateTrigger()
call DisableTrigger(gg_trg_Board_Refresh)
call TriggerRegisterTimerEventPeriodic(gg_trg_Board_Refresh,.4)
call TriggerAddAction(gg_trg_Board_Refresh,function Trig_Board_Refresh_Actions)
set gg_trg_Create_Leaderboard=CreateTrigger()
call TriggerRegisterTimerEventSingle(gg_trg_Create_Leaderboard,1.)
call TriggerAddAction(gg_trg_Create_Leaderboard,function Trig_Create_Leaderboard_Actions)
set gg_trg_Normal_Kill=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Normal_Kill,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_Normal_Kill,function Trig_Normal_Kill_Actions)
set gg_trg_Move_Hunter=CreateTrigger()
call TriggerRegisterTimerEvent(gg_trg_Move_Hunter,20.,true)
call TriggerAddAction(gg_trg_Move_Hunter,function Trig_Move_Hunter_Actions)
set gg_trg_Move_Sixtail_jinchur=CreateTrigger()
call TriggerRegisterTimerEvent(gg_trg_Move_Sixtail_jinchur,600.,true)
call TriggerAddAction(gg_trg_Move_Sixtail_jinchur,function Trig_Move_Sixtail_jinchur_Actions)
call InitTrig_Sixtail_jinchur_attack()
set dv=CreateTrigger()
call TriggerRegisterTimerEvent(dv,15.,true)
call TriggerAddAction(dv,function Trig_UnitPo_Actions)
set dv=null
set gg_trg_Move_Shisui=CreateTrigger()
call TriggerRegisterTimerEvent(gg_trg_Move_Shisui,10.,true)
call TriggerAddAction(gg_trg_Move_Shisui,function Trig_Move_Shisui_Actions)
call InitTrig_Uchiha_Shisui_attack()
call InitTrig_Yamato_attack()
set gg_trg_Naruto_move=CreateTrigger()
call DisableTrigger(gg_trg_Naruto_move)
call TriggerRegisterTimerEvent(gg_trg_Naruto_move,7.,true)
call TriggerAddAction(gg_trg_Naruto_move,function Trig_Naruto_Actions)
set gg_trg_Say_move=CreateTrigger()
call DisableTrigger(gg_trg_Say_move)
call TriggerRegisterTimerEvent(gg_trg_Say_move,7.,true)
call TriggerAddAction(gg_trg_Say_move,function Trig_Say_Actions)
set gg_trg_Sakura_move=CreateTrigger()
call DisableTrigger(gg_trg_Sakura_move)
call TriggerRegisterTimerEvent(gg_trg_Sakura_move,7.,true)
call TriggerAddAction(gg_trg_Sakura_move,function Trig_Sakura_Actions)
set gg_trg_Kakashi_move=CreateTrigger()
call DisableTrigger(gg_trg_Kakashi_move)
call TriggerRegisterTimerEvent(gg_trg_Kakashi_move,7.,true)
call TriggerAddAction(gg_trg_Kakashi_move,function Trig_Kakashi_Actions)
set gg_trg_Ten_move=CreateTrigger()
call DisableTrigger(gg_trg_Ten_move)
call TriggerRegisterTimerEvent(gg_trg_Ten_move,7.,true)
call TriggerAddAction(gg_trg_Ten_move,function Trig_Ten_Actions)
set gg_trg_Neji_move=CreateTrigger()
call DisableTrigger(gg_trg_Neji_move)
call TriggerRegisterTimerEvent(gg_trg_Neji_move,7.,true)
call TriggerAddAction(gg_trg_Neji_move,function Trig_Neji_Actions)
set gg_trg_Lee_move=CreateTrigger()
call DisableTrigger(gg_trg_Lee_move)
call TriggerRegisterTimerEvent(gg_trg_Lee_move,7.,true)
call TriggerAddAction(gg_trg_Lee_move,function Trig_Lee_Actions)
set gg_trg_Gay_move=CreateTrigger()
call DisableTrigger(gg_trg_Gay_move)
call TriggerRegisterTimerEvent(gg_trg_Gay_move,7.,true)
call TriggerAddAction(gg_trg_Gay_move,function Trig_Gay_Actions)
set gg_trg_Ray_move=CreateTrigger()
call DisableTrigger(gg_trg_Ray_move)
call TriggerRegisterTimerEvent(gg_trg_Ray_move,7.,true)
call TriggerAddAction(gg_trg_Ray_move,function Trig_Ray_Actions)
set gg_trg_Danzo_move=CreateTrigger()
call DisableTrigger(gg_trg_Danzo_move)
call TriggerRegisterTimerEvent(gg_trg_Danzo_move,7.,true)
call TriggerAddAction(gg_trg_Danzo_move,function Trig_Danzo_Actions)
set gg_trg_Djugo_move=CreateTrigger()
call DisableTrigger(gg_trg_Djugo_move)
call TriggerRegisterTimerEvent(gg_trg_Djugo_move,7.,true)
call TriggerAddAction(gg_trg_Djugo_move,function Trig_Djugo_Actions)
set gg_trg_Suygetsu_move=CreateTrigger()
call DisableTrigger(gg_trg_Suygetsu_move)
call TriggerRegisterTimerEvent(gg_trg_Suygetsu_move,7.,true)
call TriggerAddAction(gg_trg_Suygetsu_move,function Trig_Suygetsu_Actions)
set gg_trg_Karin_move=CreateTrigger()
call DisableTrigger(gg_trg_Karin_move)
call TriggerRegisterTimerEvent(gg_trg_Karin_move,7.,true)
call TriggerAddAction(gg_trg_Karin_move,function Trig_Karin_Actions)
set gg_trg_Sasuke_move=CreateTrigger()
call DisableTrigger(gg_trg_Sasuke_move)
call TriggerRegisterTimerEvent(gg_trg_Sasuke_move,7.,true)
call TriggerAddAction(gg_trg_Sasuke_move,function Trig_Sasuke_Actions)
call InitTrig_Sasuke_Itachi_kv()
set gg_trg_Sasuke_Itachi_kv1=CreateTrigger()
call DisableTrigger(gg_trg_Sasuke_Itachi_kv1)
call TriggerRegisterTimerEvent(gg_trg_Sasuke_Itachi_kv1,2.,true)
call TriggerAddAction(gg_trg_Sasuke_Itachi_kv1,function Trig_Sasuke_Itachi_kv1_Actions)
set gg_trg_Sasuke_Itachi_kv2=CreateTrigger()
call DisableTrigger(gg_trg_Sasuke_Itachi_kv2)
call TriggerRegisterUnitInRangeSimple(gg_trg_Sasuke_Itachi_kv2,125.,gg_unit_Hblm_0025)
call TriggerAddCondition(gg_trg_Sasuke_Itachi_kv2,Condition(function Trig_Sasuke_Itachi_kv2_Conditions))
call TriggerAddAction(gg_trg_Sasuke_Itachi_kv2,function Trig_Sasuke_Itachi_kv2_Actions)
set gg_trg_Sasuke_Itachi_kv3=CreateTrigger()
call DisableTrigger(gg_trg_Sasuke_Itachi_kv3)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sasuke_Itachi_kv3,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Sasuke_Itachi_kv3,Condition(function Trig_Sasuke_Itachi_kv3_Conditions))
call TriggerAddAction(gg_trg_Sasuke_Itachi_kv3,function Trig_Sasuke_Itachi_kv3_Actions)
set gg_trg_SasukeMSH_move=CreateTrigger()
call DisableTrigger(gg_trg_SasukeMSH_move)
call TriggerRegisterTimerEvent(gg_trg_SasukeMSH_move,7.,true)
call TriggerAddAction(gg_trg_SasukeMSH_move,function SasukeMSH_Act)
set gg_trg_Kabuto_move=CreateTrigger()
call DisableTrigger(gg_trg_Kabuto_move)
call TriggerRegisterTimerEvent(gg_trg_Kabuto_move,7.,true)
call TriggerAddAction(gg_trg_Kabuto_move,function Trig_Kabuto_Actions)
set gg_trg_Orachimaru_move=CreateTrigger()
call DisableTrigger(gg_trg_Orachimaru_move)
call TriggerRegisterTimerEvent(gg_trg_Orachimaru_move,7.,true)
call TriggerAddAction(gg_trg_Orachimaru_move,function Trig_Orachimaru_Actions)
set gg_trg_Daydara_move=CreateTrigger()
call DisableTrigger(gg_trg_Daydara_move)
call TriggerRegisterTimerEvent(gg_trg_Daydara_move,7.,true)
call TriggerAddAction(gg_trg_Daydara_move,function Trig_Daydara_Actions)
set gg_trg_Sasori_move=CreateTrigger()
call DisableTrigger(gg_trg_Sasori_move)
call TriggerRegisterTimerEvent(gg_trg_Sasori_move,7.,true)
call TriggerAddAction(gg_trg_Sasori_move,function Trig_Sasori_Actions)
set gg_trg_Itachi_move=CreateTrigger()
call DisableTrigger(gg_trg_Itachi_move)
call TriggerRegisterTimerEvent(gg_trg_Itachi_move,7.,true)
call TriggerAddAction(gg_trg_Itachi_move,function Trig_Itachi_Actions)
set gg_trg_Kisame_move=CreateTrigger()
call DisableTrigger(gg_trg_Kisame_move)
call TriggerRegisterTimerEvent(gg_trg_Kisame_move,7.,true)
call TriggerAddAction(gg_trg_Kisame_move,function Trig_Kisame_Actions)
set gg_trg_Tobi_move=CreateTrigger()
call DisableTrigger(gg_trg_Tobi_move)
call TriggerRegisterTimerEvent(gg_trg_Tobi_move,7.,true)
call TriggerAddAction(gg_trg_Tobi_move,function Trig_Tobi_Actions)
call InitTrig_TobiRinnegan_kv()
set gg_trg_TobiRinnegan_kv1=CreateTrigger()
call DisableTrigger(gg_trg_TobiRinnegan_kv1)
call TriggerRegisterTimerEvent(gg_trg_TobiRinnegan_kv1,1.,true)
call TriggerAddAction(gg_trg_TobiRinnegan_kv1,function Trig_TobiRinnegan_kv1_Actions)
set gg_trg_TobiRinnegan_kv2=CreateTrigger()
call DisableTrigger(gg_trg_TobiRinnegan_kv2)
call TriggerRegisterEnterRectSimple(gg_trg_TobiRinnegan_kv2,gg_rct_Madara_revive)
call TriggerAddCondition(gg_trg_TobiRinnegan_kv2,Condition(function Trig_TobiRinnegan_kv2_Conditions))
call TriggerAddAction(gg_trg_TobiRinnegan_kv2,function Trig_TobiRinnegan_kv2_Actions)
set gg_trg_TobiRinengan_kv3=CreateTrigger()
call DisableTrigger(gg_trg_TobiRinengan_kv3)
call TriggerRegisterAnyUnitEventBJ(gg_trg_TobiRinengan_kv3,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_TobiRinengan_kv3,Condition(function Trig_TobiRinengan_kv3_Conditions))
call TriggerAddAction(gg_trg_TobiRinengan_kv3,function Trig_TobiRinengan_kv3_Actions)
set gg_trg_TobiRinengan_kv4=CreateTrigger()
call DisableTrigger(gg_trg_TobiRinengan_kv4)
call TriggerRegisterAnyUnitEventBJ(gg_trg_TobiRinengan_kv4,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_TobiRinengan_kv4,Condition(function Trig_TobiRinengan_kv4_Conditions))
call TriggerAddAction(gg_trg_TobiRinengan_kv4,function Trig_TobiRinengan_kv4_Actions)
set gg_trg_TobiRin_move=CreateTrigger()
call DisableTrigger(gg_trg_TobiRin_move)
call TriggerRegisterTimerEvent(gg_trg_TobiRin_move,7.,true)
call TriggerAddAction(gg_trg_TobiRin_move,function Trig_TobiRin_Actions)
set gg_trg_DontAttack=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_DontAttack,Player(4),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_DontAttack,Condition(function Trig_DontAttack_Conditions))
call TriggerAddAction(gg_trg_DontAttack,function Trig_DontAttack_Actions)
set gg_trg_DontAttack2=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_DontAttack2,Player(7),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_DontAttack2,Condition(function Trig_DontAttack2_Conditions))
call TriggerAddAction(gg_trg_DontAttack2,function Trig_DontAttack2_Actions)
set gg_trg_DontAttack3=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_DontAttack3,Player($B),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_DontAttack3,Condition(function Trig_DontAttack3_Conditions))
call TriggerAddAction(gg_trg_DontAttack3,function Trig_DontAttack3_Actions)
set gg_trg_player_1ally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1ally2,Player(0),"-ally konoha2",true)
call TriggerAddAction(gg_trg_player_1ally2,function Trig_player_1ally2_Actions)
set gg_trg_player_1unally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1unally2,Player(0),"-unally konoha2",true)
call TriggerAddAction(gg_trg_player_1unally2,function Trig_player_1unally2_Actions)
set gg_trg_player_1ally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1ally3,Player(0),"-ally konoha3",true)
call TriggerAddAction(gg_trg_player_1ally3,function Trig_player_1ally3_Actions)
set gg_trg_player_1unally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1unally3,Player(0),"-unally konoha3",true)
call TriggerAddAction(gg_trg_player_1unally3,function Trig_player_1unally3_Actions)
set gg_trg_player_1ally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1ally4,Player(0),"-ally sound1",true)
call TriggerAddAction(gg_trg_player_1ally4,function Trig_player_1ally4_Actions)
set gg_trg_player_1unally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1unally4,Player(0),"-unally sound1",true)
call TriggerAddAction(gg_trg_player_1unally4,function Trig_player_1unally4_Actions)
set gg_trg_player_1ally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1ally6,Player(0),"-ally sound2",true)
call TriggerAddAction(gg_trg_player_1ally6,function Trig_player_1ally6_Actions)
set gg_trg_player_1unally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1unally6,Player(0),"-unally sound2",true)
call TriggerAddAction(gg_trg_player_1unally6,function Trig_player_1unally6_Actions)
set gg_trg_player_1ally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1ally7,Player(0),"-ally sound3",true)
call TriggerAddAction(gg_trg_player_1ally7,function Trig_player_1ally7_Actions)
set gg_trg_player_1unally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1unally7,Player(0),"-unally sound3",true)
call TriggerAddAction(gg_trg_player_1unally7,function Trig_player_1unally7_Actions)
set gg_trg_player_1ally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1ally9,Player(0),"-ally akatsuki1",true)
call TriggerAddAction(gg_trg_player_1ally9,function Trig_player_1ally9_Actions)
set gg_trg_player_1unally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1unally9,Player(0),"-unally akatsuki1",true)
call TriggerAddAction(gg_trg_player_1unally9,function Trig_player_1unally9_Actions)
set gg_trg_player_1ally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1ally10,Player(0),"-ally akatsuki2",true)
call TriggerAddAction(gg_trg_player_1ally10,function Trig_player_1ally10_Actions)
set gg_trg_player_1unally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1unally10,Player(0),"-unally akatsuki2",true)
call TriggerAddAction(gg_trg_player_1unally10,function Trig_player_1unally10_Actions)
set gg_trg_player_1ally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1ally11,Player(0),"-ally akatsuki3",true)
call TriggerAddAction(gg_trg_player_1ally11,function Trig_player_1ally11_Actions)
set gg_trg_player_1unally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1unally11,Player(0),"-unally akatsuki3",true)
call TriggerAddAction(gg_trg_player_1unally11,function Trig_player_1unally11_Actions)
set gg_trg_player_1allyKonoha=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1allyKonoha,Player(0),"-ally konoha",true)
call TriggerAddAction(gg_trg_player_1allyKonoha,function Trig_player_1allyKonoha_Actions)
set gg_trg_player_1unallyKonoha=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_1unallyKonoha,Player(0),"-unally konoha",true)
call TriggerAddAction(gg_trg_player_1unallyKonoha,function Trig_player_1unallyKonoha_Actions)
set gg_trg_player_2ally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2ally1,Player(1),"-ally konoha1",true)
call TriggerAddAction(gg_trg_player_2ally1,function Trig_player_2ally1_Actions)
set gg_trg_player_2unally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2unally1,Player(1),"-unally konoha1",true)
call TriggerAddAction(gg_trg_player_2unally1,function Trig_player_2unally1_Actions)
set gg_trg_player_2ally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2ally3,Player(1),"-ally konoha3",true)
call TriggerAddAction(gg_trg_player_2ally3,function Trig_player_2ally3_Actions)
set gg_trg_player_2unally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2unally3,Player(1),"-unally konoha3",true)
call TriggerAddAction(gg_trg_player_2unally3,function Trig_player_2unally3_Actions)
set gg_trg_player_2ally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2ally4,Player(1),"-ally sound1",true)
call TriggerAddAction(gg_trg_player_2ally4,function Trig_player_2ally4_Actions)
set gg_trg_player_2unally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2unally4,Player(1),"-unally sound1",true)
call TriggerAddAction(gg_trg_player_2unally4,function Trig_player_2unally4_Actions)
set gg_trg_player_2ally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2ally6,Player(1),"-ally sound2",true)
call TriggerAddAction(gg_trg_player_2ally6,function Trig_player_2ally6_Actions)
set gg_trg_player_2unally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2unally6,Player(1),"-unally sound2",true)
call TriggerAddAction(gg_trg_player_2unally6,function Trig_player_2unally6_Actions)
set gg_trg_player_2ally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2ally7,Player(1),"-ally sound3",true)
call TriggerAddAction(gg_trg_player_2ally7,function Trig_player_2ally7_Actions)
set gg_trg_player_2unally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2unally7,Player(1),"-unally sound3",true)
call TriggerAddAction(gg_trg_player_2unally7,function Trig_player_2unally7_Actions)
set gg_trg_player_2ally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2ally9,Player(1),"-ally akatsuki1",true)
call TriggerAddAction(gg_trg_player_2ally9,function Trig_player_2ally9_Actions)
set gg_trg_player_2unally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2unally9,Player(1),"-unally akatsuki1",true)
call TriggerAddAction(gg_trg_player_2unally9,function Trig_player_2unally9_Actions)
set gg_trg_player_2ally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2ally10,Player(1),"-ally akatsuki2",true)
call TriggerAddAction(gg_trg_player_2ally10,function Trig_player_2ally10_Actions)
set gg_trg_player_2unally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2unally10,Player(1),"-unally akatsuki2",true)
call TriggerAddAction(gg_trg_player_2unally10,function Trig_player_2unally10_Actions)
set gg_trg_player_2ally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2ally11,Player(1),"-ally akatsuki3",true)
call TriggerAddAction(gg_trg_player_2ally11,function Trig_player_2ally11_Actions)
set gg_trg_player_2unally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2unally11,Player(1),"-unally akatsuki3",true)
call TriggerAddAction(gg_trg_player_2unally11,function Trig_player_2unally11_Actions)
set gg_trg_player_2allyKonoha=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2allyKonoha,Player(1),"-ally konoha",true)
call TriggerAddAction(gg_trg_player_2allyKonoha,function Trig_player_2allyKonoha_Actions)
set gg_trg_player_2unallyKonoha=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_2unallyKonoha,Player(1),"-unally konoha",true)
call TriggerAddAction(gg_trg_player_2unallyKonoha,function Trig_player_2unallyKonoha_Actions)
set gg_trg_player_3ally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3ally1,Player(2),"-ally konoha1",true)
call TriggerAddAction(gg_trg_player_3ally1,function Trig_player_3ally1_Actions)
set gg_trg_player_3unally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3unally1,Player(2),"-unally konoha1",true)
call TriggerAddAction(gg_trg_player_3unally1,function Trig_player_3unally1_Actions)
set gg_trg_player_3ally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3ally2,Player(2),"-ally konoha2",true)
call TriggerAddAction(gg_trg_player_3ally2,function Trig_player_3ally2_Actions)
set gg_trg_player_3unally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3unally2,Player(2),"-unally konoha2",true)
call TriggerAddAction(gg_trg_player_3unally2,function Trig_player_3unally2_Actions)
set gg_trg_player_3ally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3ally4,Player(2),"-ally sound1",true)
call TriggerAddAction(gg_trg_player_3ally4,function Trig_player_3ally4_Actions)
set gg_trg_player_3unally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3unally4,Player(2),"-unally sound1",true)
call TriggerAddAction(gg_trg_player_3unally4,function Trig_player_3unally4_Actions)
set gg_trg_player_3ally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3ally6,Player(1),"-ally sound2",true)
call TriggerAddAction(gg_trg_player_3ally6,function Trig_player_3ally6_Actions)
set gg_trg_player_3unally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3unally6,Player(2),"-unally sound2",true)
call TriggerAddAction(gg_trg_player_3unally6,function Trig_player_3unally6_Actions)
set gg_trg_player_3ally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3ally7,Player(2),"-ally sound3",true)
call TriggerAddAction(gg_trg_player_3ally7,function Trig_player_3ally7_Actions)
set gg_trg_player_3unally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3unally7,Player(2),"-unally sound3",true)
call TriggerAddAction(gg_trg_player_3unally7,function Trig_player_3unally7_Actions)
set gg_trg_player_3ally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3ally9,Player(2),"-ally akatsuki1",true)
call TriggerAddAction(gg_trg_player_3ally9,function Trig_player_3ally9_Actions)
set gg_trg_player_3unally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3unally9,Player(2),"-unally akatsuki1",true)
call TriggerAddAction(gg_trg_player_3unally9,function Trig_player_3unally9_Actions)
set gg_trg_player_3ally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3ally10,Player(2),"-ally akatsuki2",true)
call TriggerAddAction(gg_trg_player_3ally10,function Trig_player_3ally10_Actions)
set gg_trg_player_3unally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3unally10,Player(2),"-unally akatsuki2",true)
call TriggerAddAction(gg_trg_player_3unally10,function Trig_player_3unally10_Actions)
set gg_trg_player_3ally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3ally11,Player(2),"-ally akatsuki3",true)
call TriggerAddAction(gg_trg_player_3ally11,function Trig_player_3ally11_Actions)
set gg_trg_player_3unally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3unally11,Player(2),"-unally akatsuki3",true)
call TriggerAddAction(gg_trg_player_3unally11,function Trig_player_3unally11_Actions)
set gg_trg_player_3allyKonoha=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3allyKonoha,Player(2),"-ally konoha",true)
call TriggerAddAction(gg_trg_player_3allyKonoha,function Trig_player_3allyKonoha_Actions)
set gg_trg_player_3unallyKonoha=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_3unallyKonoha,Player(2),"-unally konoha",true)
call TriggerAddAction(gg_trg_player_3unallyKonoha,function Trig_player_3unallyKonoha_Actions)
set gg_trg_player_4ally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4ally1,Player(3),"-ally konoha1",true)
call TriggerAddAction(gg_trg_player_4ally1,function Trig_player_4ally1_Actions)
set gg_trg_player_4unally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4unally1,Player(3),"-unally konoha1",true)
call TriggerAddAction(gg_trg_player_4unally1,function Trig_player_4unally1_Actions)
set gg_trg_player_4ally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4ally2,Player(3),"-ally konoha2",true)
call TriggerAddAction(gg_trg_player_4ally2,function Trig_player_4ally2_Actions)
set gg_trg_player_4unally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4unally2,Player(3),"-unally konoha2",true)
call TriggerAddAction(gg_trg_player_4unally2,function Trig_player_4unally2_Actions)
set gg_trg_player_4ally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4ally3,Player(3),"-ally konoha3",true)
call TriggerAddAction(gg_trg_player_4ally3,function Trig_player_4ally3_Actions)
set gg_trg_player_4unally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4unally3,Player(3),"-unally konoha3",true)
call TriggerAddAction(gg_trg_player_4unally3,function Trig_player_4unally3_Actions)
set gg_trg_player_4ally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4ally6,Player(3),"-ally sound2",true)
call TriggerAddAction(gg_trg_player_4ally6,function Trig_player_4ally6_Actions)
set gg_trg_player_4unally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4unally6,Player(3),"-unally sound2",true)
call TriggerAddAction(gg_trg_player_4unally6,function Trig_player_4unally6_Actions)
set gg_trg_player_4ally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4ally7,Player(3),"-ally sound3",true)
call TriggerAddAction(gg_trg_player_4ally7,function Trig_player_4ally7_Actions)
set gg_trg_player_4unally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4unally7,Player(3),"-unally sound3",true)
call TriggerAddAction(gg_trg_player_4unally7,function Trig_player_4unally7_Actions)
set gg_trg_player_4ally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4ally9,Player(3),"-ally akatsuki1",true)
call TriggerAddAction(gg_trg_player_4ally9,function Trig_player_4ally9_Actions)
set gg_trg_player_4unally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4unally9,Player(3),"-unally akatsuki1",true)
call TriggerAddAction(gg_trg_player_4unally9,function Trig_player_4unally9_Actions)
set gg_trg_player_4ally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4ally10,Player(3),"-ally akatsuki2",true)
call TriggerAddAction(gg_trg_player_4ally10,function Trig_player_4ally10_Actions)
set gg_trg_player_4unally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4unally10,Player(3),"-unally akatsuki2",true)
call TriggerAddAction(gg_trg_player_4unally10,function Trig_player_4unally10_Actions)
set gg_trg_player_4ally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4ally11,Player(3),"-ally akatsuki3",true)
call TriggerAddAction(gg_trg_player_4ally11,function Trig_player_4ally11_Actions)
set gg_trg_player_4unally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4unally11,Player(3),"-unally akatsuki3",true)
call TriggerAddAction(gg_trg_player_4unally11,function Trig_player_4unally11_Actions)
set gg_trg_player_4allySound=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4allySound,Player(3),"-ally sound",true)
call TriggerAddAction(gg_trg_player_4allySound,function Trig_player_4allySound_Actions)
set gg_trg_player_4unallySound=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_4unallySound,Player(3),"-unally sound",true)
call TriggerAddAction(gg_trg_player_4unallySound,function Trig_player_4unallySound_Actions)
set gg_trg_player_6ally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6ally1,Player(5),"-ally konoha1",true)
call TriggerAddAction(gg_trg_player_6ally1,function Trig_player_6ally1_Actions)
set gg_trg_player_6unally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6unally1,Player(5),"-unally konoha1",true)
call TriggerAddAction(gg_trg_player_6unally1,function Trig_player_6unally1_Actions)
set gg_trg_player_6ally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6ally2,Player(5),"-ally konoha2",true)
call TriggerAddAction(gg_trg_player_6ally2,function Trig_player_6ally2_Actions)
set gg_trg_player_6unally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6unally2,Player(5),"-unally konoha2",true)
call TriggerAddAction(gg_trg_player_6unally2,function Trig_player_6unally2_Actions)
set gg_trg_player_6ally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6ally3,Player(5),"-ally konoha3",true)
call TriggerAddAction(gg_trg_player_6ally3,function Trig_player_6ally3_Actions)
set gg_trg_player_6unally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6unally3,Player(5),"-unally konoha3",true)
call TriggerAddAction(gg_trg_player_6unally3,function Trig_player_6unally3_Actions)
set gg_trg_player_6ally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6ally4,Player(5),"-ally sound1",true)
call TriggerAddAction(gg_trg_player_6ally4,function Trig_player_6ally4_Actions)
set gg_trg_player_6unally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6unally4,Player(5),"-unally sound1",true)
call TriggerAddAction(gg_trg_player_6unally4,function Trig_player_6unally4_Actions)
set gg_trg_player_6ally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6ally7,Player(5),"-ally sound3",true)
call TriggerAddAction(gg_trg_player_6ally7,function Trig_player_6ally7_Actions)
set gg_trg_player_6unally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6unally7,Player(5),"-unally sound3",true)
call TriggerAddAction(gg_trg_player_6unally7,function Trig_player_6unally7_Actions)
set gg_trg_player_6ally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6ally9,Player(5),"-ally akatsuki1",true)
call TriggerAddAction(gg_trg_player_6ally9,function Trig_player_6ally9_Actions)
set gg_trg_player_6unally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6unally9,Player(5),"-unally akatsuki1",true)
call TriggerAddAction(gg_trg_player_6unally9,function Trig_player_6unally9_Actions)
set gg_trg_player_6ally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6ally10,Player(5),"-ally akatsuki2",true)
call TriggerAddAction(gg_trg_player_6ally10,function Trig_player_6ally10_Actions)
set gg_trg_player_6unally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6unally10,Player(5),"-unally akatsuki2",true)
call TriggerAddAction(gg_trg_player_6unally10,function Trig_player_6unally10_Actions)
set gg_trg_player_6ally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6ally11,Player(5),"-ally akatsuki3",true)
call TriggerAddAction(gg_trg_player_6ally11,function Trig_player_6ally11_Actions)
set gg_trg_player_6unally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6unally11,Player(5),"-unally akatsuki3",true)
call TriggerAddAction(gg_trg_player_6unally11,function Trig_player_6unally11_Actions)
set gg_trg_player_6allySound=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6allySound,Player(5),"-ally sound",true)
call TriggerAddAction(gg_trg_player_6allySound,function Trig_player_6allySound_Actions)
set gg_trg_player_6unallySound=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_6unallySound,Player(5),"-unally sound",true)
call TriggerAddAction(gg_trg_player_6unallySound,function Trig_player_6unallySound_Actions)
set gg_trg_player_7ally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7ally1,Player(6),"-ally konoha1",true)
call TriggerAddAction(gg_trg_player_7ally1,function Trig_player_7ally1_Actions)
set gg_trg_player_7unally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7unally1,Player(6),"-unally konoha1",true)
call TriggerAddAction(gg_trg_player_7unally1,function Trig_player_7unally1_Actions)
set gg_trg_player_7ally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7ally2,Player(6),"-ally konoha2",true)
call TriggerAddAction(gg_trg_player_7ally2,function Trig_player_7ally2_Actions)
set gg_trg_player_7unally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7unally2,Player(6),"-unally konoha2",true)
call TriggerAddAction(gg_trg_player_7unally2,function Trig_player_7unally2_Actions)
set gg_trg_player_7ally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7ally3,Player(6),"-ally konoha3",true)
call TriggerAddAction(gg_trg_player_7ally3,function Trig_player_7ally3_Actions)
set gg_trg_player_7unally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7unally3,Player(6),"-unally konoha3",true)
call TriggerAddAction(gg_trg_player_7unally3,function Trig_player_7unally3_Actions)
set gg_trg_player_7ally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7ally4,Player(6),"-ally sound1",true)
call TriggerAddAction(gg_trg_player_7ally4,function Trig_player_7ally4_Actions)
set gg_trg_player_7unally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7unally4,Player(6),"-unally sound1",true)
call TriggerAddAction(gg_trg_player_7unally4,function Trig_player_7unally4_Actions)
set gg_trg_player_7ally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7ally6,Player(6),"-ally sound2",true)
call TriggerAddAction(gg_trg_player_7ally6,function Trig_player_7ally6_Actions)
set gg_trg_player_7unally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7unally6,Player(6),"-unally sound2",true)
call TriggerAddAction(gg_trg_player_7unally6,function Trig_player_7unally6_Actions)
set gg_trg_player_7ally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7ally9,Player(6),"-ally akatsuki1",true)
call TriggerAddAction(gg_trg_player_7ally9,function Trig_player_7ally9_Actions)
set gg_trg_player_7unally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7unally9,Player(6),"-unally akatsuki1",true)
call TriggerAddAction(gg_trg_player_7unally9,function Trig_player_7unally9_Actions)
set gg_trg_player_7ally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7ally10,Player(6),"-ally akatsuki2",true)
call TriggerAddAction(gg_trg_player_7ally10,function Trig_player_7ally10_Actions)
set gg_trg_player_7unally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7unally10,Player(6),"-unally akatsuki2",true)
call TriggerAddAction(gg_trg_player_7unally10,function Trig_player_7unally10_Actions)
set gg_trg_player_7ally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7ally11,Player(6),"-ally akatsuki3",true)
call TriggerAddAction(gg_trg_player_7ally11,function Trig_player_7ally11_Actions)
set gg_trg_player_7unally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7unally11,Player(6),"-unally akatsuki3",true)
call TriggerAddAction(gg_trg_player_7unally11,function Trig_player_7unally11_Actions)
set gg_trg_player_7allySound=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7allySound,Player(6),"-ally sound",true)
call TriggerAddAction(gg_trg_player_7allySound,function Trig_player_7allySound_Actions)
set gg_trg_player_7unallySound=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_7unallySound,Player(6),"-unally sound",true)
call TriggerAddAction(gg_trg_player_7unallySound,function Trig_player_7unallySound_Actions)
set gg_trg_player_9ally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9ally1,Player(8),"-ally konoha1",true)
call TriggerAddAction(gg_trg_player_9ally1,function Trig_player_9ally1_Actions)
set gg_trg_player_9unally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9unally1,Player(8),"-unally konoha1",true)
call TriggerAddAction(gg_trg_player_9unally1,function Trig_player_9unally1_Actions)
set gg_trg_player_9ally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9ally2,Player(8),"-ally konoha2",true)
call TriggerAddAction(gg_trg_player_9ally2,function Trig_player_9ally2_Actions)
set gg_trg_player_9unally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9unally2,Player(8),"-unally konoha2",true)
call TriggerAddAction(gg_trg_player_9unally2,function Trig_player_9unally2_Actions)
set gg_trg_player_9ally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9ally3,Player(8),"-ally konoha3",true)
call TriggerAddAction(gg_trg_player_9ally3,function Trig_player_9ally3_Actions)
set gg_trg_player_9unally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9unally3,Player(8),"-unally konoha3",true)
call TriggerAddAction(gg_trg_player_9unally3,function Trig_player_9unally3_Actions)
set gg_trg_player_9ally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9ally4,Player(8),"-ally sound1",true)
call TriggerAddAction(gg_trg_player_9ally4,function Trig_player_9ally4_Actions)
set gg_trg_player_9unally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9unally4,Player(8),"-unally sound1",true)
call TriggerAddAction(gg_trg_player_9unally4,function Trig_player_9unally4_Actions)
set gg_trg_player_9ally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9ally6,Player(8),"-ally sound2",true)
call TriggerAddAction(gg_trg_player_9ally6,function Trig_player_9ally6_Actions)
set gg_trg_player_9unally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9unally6,Player(8),"-unally sound2",true)
call TriggerAddAction(gg_trg_player_9unally6,function Trig_player_9unally6_Actions)
set gg_trg_player_9ally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9ally7,Player(8),"-ally sound3",true)
call TriggerAddAction(gg_trg_player_9ally7,function Trig_player_9ally7_Actions)
set gg_trg_player_9unally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9unally7,Player(8),"-unally sound3",true)
call TriggerAddAction(gg_trg_player_9unally7,function Trig_player_9unally7_Actions)
set gg_trg_player_9ally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9ally10,Player(8),"-ally akatsuki2",true)
call TriggerAddAction(gg_trg_player_9ally10,function Trig_player_9ally10_Actions)
set gg_trg_player_9unally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9unally10,Player(8),"-unally akatsuki2",true)
call TriggerAddAction(gg_trg_player_9unally10,function Trig_player_9unally10_Actions)
set gg_trg_player_9ally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9ally11,Player(8),"-ally akatsuki3",true)
call TriggerAddAction(gg_trg_player_9ally11,function Trig_player_9ally11_Actions)
set gg_trg_player_9unally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9unally11,Player(8),"-unally akatsuki3",true)
call TriggerAddAction(gg_trg_player_9unally11,function Trig_player_9unally11_Actions)
set gg_trg_player_9allyAkatsuki=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9allyAkatsuki,Player(8),"-ally akatsuki",true)
call TriggerAddAction(gg_trg_player_9allyAkatsuki,function Trig_player_9allyAkatsuki_Actions)
set gg_trg_player_9unallyAkatsuki=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_9unallyAkatsuki,Player(8),"-unally akatsuki",true)
call TriggerAddAction(gg_trg_player_9unallyAkatsuki,function Trig_player_9unallyAkatsuki_Actions)
set gg_trg_player_10ally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10ally1,Player(9),"-ally konoha1",true)
call TriggerAddAction(gg_trg_player_10ally1,function Trig_player_10ally1_Actions)
set gg_trg_player_10unally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10unally1,Player(9),"-unally konoha1",true)
call TriggerAddAction(gg_trg_player_10unally1,function Trig_player_10unally1_Actions)
set gg_trg_player_10ally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10ally2,Player(9),"-ally konoha2",true)
call TriggerAddAction(gg_trg_player_10ally2,function Trig_player_10ally2_Actions)
set gg_trg_player_10unally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10unally2,Player(9),"-unally konoha2",true)
call TriggerAddAction(gg_trg_player_10unally2,function Trig_player_10unally2_Actions)
set gg_trg_player_10ally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10ally3,Player(9),"-ally konoha3",true)
call TriggerAddAction(gg_trg_player_10ally3,function Trig_player_10ally3_Actions)
set gg_trg_player_10unally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10unally3,Player(9),"-unally konoha3",true)
call TriggerAddAction(gg_trg_player_10unally3,function Trig_player_10unally3_Actions)
set gg_trg_player_10ally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10ally4,Player(9),"-ally sound1",true)
call TriggerAddAction(gg_trg_player_10ally4,function Trig_player_10ally4_Actions)
set gg_trg_player_10unally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10unally4,Player(9),"-unally sound1",true)
call TriggerAddAction(gg_trg_player_10unally4,function Trig_player_10unally4_Actions)
set gg_trg_player_10ally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10ally6,Player(9),"-ally sound2",true)
call TriggerAddAction(gg_trg_player_10ally6,function Trig_player_10ally6_Actions)
set gg_trg_player_10unally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10unally6,Player(9),"-unally sound2",true)
call TriggerAddAction(gg_trg_player_10unally6,function Trig_player_10unally6_Actions)
set gg_trg_player_10ally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10ally7,Player(9),"-ally sound3",true)
call TriggerAddAction(gg_trg_player_10ally7,function Trig_player_10ally7_Actions)
set gg_trg_player_10unally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10unally7,Player(9),"-unally sound3",true)
call TriggerAddAction(gg_trg_player_10unally7,function Trig_player_10unally7_Actions)
set gg_trg_player_10ally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10ally9,Player(9),"-ally akatsuki1",true)
call TriggerAddAction(gg_trg_player_10ally9,function Trig_player_10ally9_Actions)
set gg_trg_player_10unally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10unally9,Player(9),"-unally akatsuki1",true)
call TriggerAddAction(gg_trg_player_10unally9,function Trig_player_10unally9_Actions)
set gg_trg_player_10ally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10ally11,Player(9),"-ally akatsuki3",true)
call TriggerAddAction(gg_trg_player_10ally11,function Trig_player_10ally11_Actions)
set gg_trg_player_10unally11=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10unally11,Player(9),"-unally akatsuki3",true)
call TriggerAddAction(gg_trg_player_10unally11,function Trig_player_10unally11_Actions)
set gg_trg_player_10allyAkatsuki=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10allyAkatsuki,Player(9),"-ally akatsuki",true)
call TriggerAddAction(gg_trg_player_10allyAkatsuki,function Trig_player_10allyAkatsuki_Actions)
set gg_trg_player_10unallyAkatsuki=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_10unallyAkatsuki,Player(9),"-unally akatsuki",true)
call TriggerAddAction(gg_trg_player_10unallyAkatsuki,function Trig_player_10unallyAkatsuki_Actions)
set gg_trg_player_11ally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11ally1,Player($A),"-ally konoha1",true)
call TriggerAddAction(gg_trg_player_11ally1,function Trig_player_11ally1_Actions)
set gg_trg_player_11unally1=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11unally1,Player($A),"-unally konoha1",true)
call TriggerAddAction(gg_trg_player_11unally1,function Trig_player_11unally1_Actions)
set gg_trg_player_11ally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11ally2,Player($A),"-ally konoha2",true)
call TriggerAddAction(gg_trg_player_11ally2,function Trig_player_11ally2_Actions)
set gg_trg_player_11unally2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11unally2,Player($A),"-unally konoha2",true)
call TriggerAddAction(gg_trg_player_11unally2,function Trig_player_11unally2_Actions)
set gg_trg_player_11ally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11ally3,Player($A),"-ally konoha3",true)
call TriggerAddAction(gg_trg_player_11ally3,function Trig_player_11ally3_Actions)
set gg_trg_player_11unally3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11unally3,Player($A),"-unally konoha3",true)
call TriggerAddAction(gg_trg_player_11unally3,function Trig_player_11unally3_Actions)
set gg_trg_player_11ally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11ally4,Player($A),"-ally sound1",true)
call TriggerAddAction(gg_trg_player_11ally4,function Trig_player_11ally4_Actions)
set gg_trg_player_11unally4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11unally4,Player($A),"-unally sound1",true)
call TriggerAddAction(gg_trg_player_11unally4,function Trig_player_11unally4_Actions)
set gg_trg_player_11ally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11ally6,Player($A),"-ally sound2",true)
call TriggerAddAction(gg_trg_player_11ally6,function Trig_player_11ally6_Actions)
set gg_trg_player_11unally6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11unally6,Player($A),"-unally sound2",true)
call TriggerAddAction(gg_trg_player_11unally6,function Trig_player_11unally6_Actions)
set gg_trg_player_11ally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11ally7,Player($A),"-ally sound3",true)
call TriggerAddAction(gg_trg_player_11ally7,function Trig_player_11ally7_Actions)
set gg_trg_player_11unally7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11unally7,Player($A),"-unally sound3",true)
call TriggerAddAction(gg_trg_player_11unally7,function Trig_player_11unally7_Actions)
set gg_trg_player_11ally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11ally9,Player($A),"-ally akatsuki1",true)
call TriggerAddAction(gg_trg_player_11ally9,function Trig_player_11ally9_Actions)
set gg_trg_player_11unally9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11unally9,Player($A),"-unally akatsuki1",true)
call TriggerAddAction(gg_trg_player_11unally9,function Trig_player_11unally9_Actions)
set gg_trg_player_11ally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11ally10,Player($A),"-ally akatsuki2",true)
call TriggerAddAction(gg_trg_player_11ally10,function Trig_player_11ally10_Actions)
set gg_trg_player_11unally10=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11unally10,Player($A),"-unally akatsuki2",true)
call TriggerAddAction(gg_trg_player_11unally10,function Trig_player_11unally10_Actions)
set gg_trg_player_11allyAkatsuki=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11allyAkatsuki,Player($A),"-ally akatsuki",true)
call TriggerAddAction(gg_trg_player_11allyAkatsuki,function Trig_player_11allyAkatsuki_Actions)
set gg_trg_player_11unallyAkatsuki=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_player_11unallyAkatsuki,Player($A),"-unally akatsuki",true)
call TriggerAddAction(gg_trg_player_11unallyAkatsuki,function Trig_player_11unallyAkatsuki_Actions)
set gg_trg_Raiga=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Raiga,200.,gg_unit_Hvsh_0206)
call TriggerAddCondition(gg_trg_Raiga,Condition(function Trig_Raiga_Conditions))
call TriggerAddAction(gg_trg_Raiga,function Trig_Raiga_Actions)
set gg_trg_Raiga_Die=CreateTrigger()
call TriggerRegisterUnitEvent(gg_trg_Raiga_Die,gg_unit_Hvsh_0206,EVENT_UNIT_DEATH)
call TriggerAddAction(gg_trg_Raiga_Die,function Trig_Raiga_Die_Actions)
set gg_trg_GK_Enters=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_GK_Enters,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_GK_Enters,Condition(function Trig_GK_Enters_Conditions))
call TriggerAddAction(gg_trg_GK_Enters,function Trig_GK_Enters_Actions)
set gg_trg_K=CreateTrigger()
call TriggerAddAction(gg_trg_K,function Trig_K_Actions)
set gg_trg_KDie_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_KDie_2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_KDie_2,Condition(function Trig_KDie_2_Conditions))
call TriggerAddAction(gg_trg_KDie_2,function Trig_KDie_2_Actions)
set gg_trg_G=CreateTrigger()
call TriggerAddAction(gg_trg_G,function Trig_G_Actions)
set gg_trg_GDie_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_GDie_2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_GDie_2,Condition(function Trig_GDie_2_Conditions))
call TriggerAddAction(gg_trg_GDie_2,function Trig_GDie_2_Actions)
set gg_trg_Gaara=CreateTrigger()
call DisableTrigger(gg_trg_Gaara)
call TriggerRegisterLeaveRectSimple(gg_trg_Gaara,gg_rct_Kazekage)
call TriggerAddCondition(gg_trg_Gaara,Condition(function Trig_Gaara_Conditions))
call TriggerAddAction(gg_trg_Gaara,function Trig_Gaara_Actions)
set gg_trg_Gaara_Enters=CreateTrigger()
call DisableTrigger(gg_trg_Gaara_Enters)
call TriggerRegisterEnterRectSimple(gg_trg_Gaara_Enters,gg_rct_Kazekage)
call TriggerAddCondition(gg_trg_Gaara_Enters,Condition(function Trig_Gaara_Enters_Conditions))
call TriggerAddAction(gg_trg_Gaara_Enters,function Trig_Gaara_Enters_Actions)
set gg_trg_Gaara_Dying=CreateTrigger()
call DisableTrigger(gg_trg_Gaara_Dying)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Gaara_Dying,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Gaara_Dying,Condition(function Trig_Gaara_Dying_Conditions))
call TriggerAddAction(gg_trg_Gaara_Dying,function Trig_Gaara_Dying_Actions)
set gg_trg_Nibi_Enters=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Nibi_Enters,600.,gg_unit_Ewrd_0114)
call TriggerAddCondition(gg_trg_Nibi_Enters,Condition(function Trig_Nibi_Enters_Conditions))
call TriggerAddAction(gg_trg_Nibi_Enters,function Trig_Nibi_Enters_Actions)
set gg_trg_Roushin=CreateTrigger()
call TriggerRegisterLeaveRectSimple(gg_trg_Roushin,gg_rct_Roushin)
call TriggerAddCondition(gg_trg_Roushin,Condition(function Trig_Roushin_Conditions))
call TriggerAddAction(gg_trg_Roushin,function Trig_Roushin_Actions)
set gg_trg_Roushin_Enters=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Roushin_Enters,gg_rct_Roushin)
call TriggerAddCondition(gg_trg_Roushin_Enters,Condition(function Trig_Roushin_Enters_Conditions))
call TriggerAddAction(gg_trg_Roushin_Enters,function Trig_Roushin_Enters_Actions)
set gg_trg_Han_Enters=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Han_Enters,600.,gg_unit_Emns_0115)
call TriggerAddCondition(gg_trg_Han_Enters,Condition(function Trig_Han_Enters_Conditions))
call TriggerAddAction(gg_trg_Han_Enters,function Trig_Han_Enters_Actions)
set gg_trg_Han_Enters_2=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Han_Enters_2,600.,gg_unit_Emns_0115)
call TriggerAddCondition(gg_trg_Han_Enters_2,Condition(function Trig_Han_Enters_2_Conditions))
call TriggerAddAction(gg_trg_Han_Enters_2,function Trig_Han_Enters_2_Actions)
set gg_trg_Bi_Enters=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Bi_Enters,600.,gg_unit_Ekgg_0119)
call TriggerAddCondition(gg_trg_Bi_Enters,Condition(function Trig_Bi_Enters_Conditions))
call TriggerAddAction(gg_trg_Bi_Enters,function Trig_Bi_Enters_Actions)
set gg_trg_Bi_Enters_2=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Bi_Enters_2,600.,gg_unit_Ekgg_0119)
call TriggerAddCondition(gg_trg_Bi_Enters_2,Condition(function Trig_Bi_Enters_2_Conditions))
call TriggerAddAction(gg_trg_Bi_Enters_2,function Trig_Bi_Enters_2_Actions)
set gg_trg_Jiraya_Enters=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Jiraya_Enters,600.,gg_unit_Ucrl_0264)
call TriggerAddCondition(gg_trg_Jiraya_Enters,Condition(function Trig_Jiraya_Enters_Conditions))
call TriggerAddAction(gg_trg_Jiraya_Enters,function Trig_Jiraya_Enters_Actions)
set gg_trg_Jiraya_Enters_2=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Jiraya_Enters_2,600.,gg_unit_Ucrl_0264)
call TriggerAddCondition(gg_trg_Jiraya_Enters_2,Condition(function Trig_Jiraya_Enters_2_Conditions))
call TriggerAddAction(gg_trg_Jiraya_Enters_2,function Trig_Jiraya_Enters_2_Actions)
set gg_trg_Jiraya_Dying=CreateTrigger()
call TriggerRegisterUnitEvent(gg_trg_Jiraya_Dying,gg_unit_Ucrl_0264,EVENT_UNIT_DEATH)
call TriggerAddAction(gg_trg_Jiraya_Dying,function Trig_Jiraya_Dying_Actions)
set gg_trg_Barah=CreateTrigger()
call TriggerRegisterLeaveRectSimple(gg_trg_Barah,gg_rct_Baraht_Full)
call TriggerAddCondition(gg_trg_Barah,Condition(function Trig_Barah_Conditions))
call TriggerAddAction(gg_trg_Barah,function Trig_Barah_Actions)
set gg_trg_Barah_Enters=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Barah_Enters,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Barah_Enters,Condition(function Trig_Barah_Enters_Conditions))
call TriggerAddAction(gg_trg_Barah_Enters,function Trig_Barah_Enters_Actions)
call InitTrig_Barah_DIe()
set gg_trg_Fire_Lord=CreateTrigger()
call TriggerRegisterLeaveRectSimple(gg_trg_Fire_Lord,gg_rct_Village_Full)
call TriggerAddCondition(gg_trg_Fire_Lord,Condition(function Trig_Fire_Lord_Conditions))
call TriggerAddAction(gg_trg_Fire_Lord,function Trig_Fire_Lord_Actions)
set gg_trg_Fire_Lord_Enters=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Fire_Lord_Enters,gg_rct_Village_Full)
call TriggerAddCondition(gg_trg_Fire_Lord_Enters,Condition(function Trig_Fire_Lord_Enters_Conditions))
call TriggerAddAction(gg_trg_Fire_Lord_Enters,function Trig_Fire_Lord_Enters_Actions)
set gg_trg_Fire_Lord_Dying=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Fire_Lord_Dying,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Fire_Lord_Dying,Condition(function Trig_Fire_Lord_Dying_Conditions))
call TriggerAddAction(gg_trg_Fire_Lord_Dying,function Trig_Fire_Lord_Dying_Actions)
set gg_trg_Gladiator=CreateTrigger()
call TriggerRegisterLeaveRectSimple(gg_trg_Gladiator,gg_rct_Arena)
call TriggerAddCondition(gg_trg_Gladiator,Condition(function Trig_Gladiator_Conditions))
call TriggerAddAction(gg_trg_Gladiator,function Trig_Gladiator_Actions)
set gg_trg_Abos=CreateTrigger()
call TriggerRegisterLeaveRectSimple(gg_trg_Abos,gg_rct_Magtheriton)
call TriggerAddCondition(gg_trg_Abos,Condition(function Trig_Abos_Conditions))
call TriggerAddAction(gg_trg_Abos,function Trig_Abos_Actions)
set gg_trg_Abos_Enters=CreateTrigger()
call TriggerAddCondition(gg_trg_Abos_Enters,Condition(function Trig_Abos_Enters_Conditions))
call TriggerAddAction(gg_trg_Abos_Enters,function Trig_Abos_Enters_Actions)
set gg_trg_Abos_Dying=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Abos_Dying,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Abos_Dying,Condition(function Trig_Abos_Dying_Conditions))
call TriggerAddAction(gg_trg_Abos_Dying,function Trig_Abos_Dying_Actions)
set gg_trg_Ninja_Enters=CreateTrigger()
call TriggerAddCondition(gg_trg_Ninja_Enters,Condition(function Trig_Ninja_Enters_Conditions))
call TriggerAddAction(gg_trg_Ninja_Enters,function Trig_Ninja_Enters_Actions)
set gg_trg_Ninja_Dying=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Ninja_Dying,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Ninja_Dying,Condition(function Trig_Ninja_Dying_Conditions))
call TriggerAddAction(gg_trg_Ninja_Dying,function Trig_Ninja_Dying_Actions)
set gg_trg_Samurai_Enters=CreateTrigger()
call TriggerAddCondition(gg_trg_Samurai_Enters,Condition(function Trig_Samurai_Enters_Conditions))
call TriggerAddAction(gg_trg_Samurai_Enters,function Trig_Samurai_Enters_Actions)
set gg_trg_Samurai_Dying=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Samurai_Dying,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Samurai_Dying,Condition(function Trig_Samurai_Dying_Conditions))
call TriggerAddAction(gg_trg_Samurai_Dying,function Trig_Samurai_Dying_Actions)
set gg_trg_Haku_Enters=CreateTrigger()
call TriggerAddCondition(gg_trg_Haku_Enters,Condition(function Trig_Haku_Enters_Conditions))
call TriggerAddAction(gg_trg_Haku_Enters,function Trig_Haku_Enters_Actions)
set gg_trg_Haku_Dying=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Haku_Dying,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Haku_Dying,Condition(function Trig_Haku_Dying_Conditions))
call TriggerAddAction(gg_trg_Haku_Dying,function Trig_Haku_Dying_Actions)
set gg_trg_Dreadlord_Enters=CreateTrigger()
call TriggerAddCondition(gg_trg_Dreadlord_Enters,Condition(function Trig_Dreadlord_Enters_Conditions))
call TriggerAddAction(gg_trg_Dreadlord_Enters,function Trig_Dreadlord_Enters_Actions)
set gg_trg_Dreadlord_Dying=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Dreadlord_Dying,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Dreadlord_Dying,Condition(function Trig_Dreadlord_Dying_Conditions))
call TriggerAddAction(gg_trg_Dreadlord_Dying,function Trig_Dreadlord_Dying_Actions)
set gg_trg_killme=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_killme,Player(0),"-killme",true)
call TriggerAddAction(gg_trg_killme,function Trig_killme_Actions)
set gg_trg_killme_2=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_killme_2,Player(1),"-killme",true)
call TriggerAddAction(gg_trg_killme_2,function Trig_killme_2_Actions)
set gg_trg_killme_3=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_killme_3,Player(2),"-killme",true)
call TriggerAddAction(gg_trg_killme_3,function Trig_killme_3_Actions)
set gg_trg_killme_4=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_killme_4,Player(3),"-killme",true)
call TriggerAddAction(gg_trg_killme_4,function Trig_killme_4_Actions)
set gg_trg_killme_5=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_killme_5,Player(5),"-killme",true)
call TriggerAddAction(gg_trg_killme_5,function Trig_killme_5_Actions)
set gg_trg_killme_6=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_killme_6,Player(6),"-killme",true)
call TriggerAddAction(gg_trg_killme_6,function Trig_killme_6_Actions)
set gg_trg_killme_7=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_killme_7,Player(8),"-killme",true)
call TriggerAddAction(gg_trg_killme_7,function Trig_killme_7_Actions)
set gg_trg_killme_8=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_killme_8,Player(9),"-killme",true)
call TriggerAddAction(gg_trg_killme_8,function Trig_killme_8_Actions)
set gg_trg_killme_9=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_killme_9,Player($A),"-killme",true)
call TriggerAddAction(gg_trg_killme_9,function Trig_killme_9_Actions)
set gg_trg_Matchup=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(0),"-ma",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(1),"-ma",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(2),"-ma",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(3),"-ma",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(4),"-ma",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(5),"-ma",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(6),"-ma",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(7),"-ma",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(8),"-ma",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(9),"-ma",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player($A),"-ma",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player($B),"-ma",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(0),"-matchup",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(1),"-matchup",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(2),"-matchup",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(3),"-matchup",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(4),"-matchup",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(5),"-matchup",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(6),"-matchup",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(7),"-matchup",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(8),"-matchup",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player(9),"-matchup",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player($A),"-matchup",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Matchup,Player($B),"-matchup",true)
call TriggerAddAction(gg_trg_Matchup,function Trig_Matchup_Actions)
set gg_trg_greedisgood=CreateTrigger()
call TriggerRegisterPlayerStateEvent(gg_trg_greedisgood,Player(0),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1000.)
call TriggerRegisterPlayerStateEvent(gg_trg_greedisgood,Player(1),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1000.)
call TriggerRegisterPlayerStateEvent(gg_trg_greedisgood,Player(2),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1000.)
call TriggerRegisterPlayerStateEvent(gg_trg_greedisgood,Player(3),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1000.)
call TriggerRegisterPlayerStateEvent(gg_trg_greedisgood,Player(4),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1000.)
call TriggerRegisterPlayerStateEvent(gg_trg_greedisgood,Player(5),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1000.)
call TriggerRegisterPlayerStateEvent(gg_trg_greedisgood,Player(6),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1000.)
call TriggerRegisterPlayerStateEvent(gg_trg_greedisgood,Player(7),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1000.)
call TriggerRegisterPlayerStateEvent(gg_trg_greedisgood,Player(8),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1000.)
call TriggerRegisterPlayerStateEvent(gg_trg_greedisgood,Player(9),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1000.)
call TriggerRegisterPlayerStateEvent(gg_trg_greedisgood,Player($A),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1000.)
call TriggerRegisterPlayerStateEvent(gg_trg_greedisgood,Player($B),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1000.)
call TriggerAddAction(gg_trg_greedisgood,function Trig_greedisgood_Actions)
set gg_trg_Movespeed=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_Movespeed,Player(0),"-ms",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Movespeed,Player(1),"-ms",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Movespeed,Player(2),"-ms",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Movespeed,Player(3),"-ms",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Movespeed,Player(4),"-ms",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Movespeed,Player(5),"-ms",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Movespeed,Player(6),"-ms",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Movespeed,Player(7),"-ms",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Movespeed,Player(8),"-ms",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Movespeed,Player(9),"-ms",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Movespeed,Player($A),"-ms",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Movespeed,Player($B),"-ms",true)
call TriggerAddAction(gg_trg_Movespeed,function Trig_Movespeed_Act)
set gg_trg_cam=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_cam,Player(0),"-came",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cam,Player(1),"-came",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cam,Player(2),"-came",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cam,Player(3),"-came",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cam,Player(5),"-came",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cam,Player(6),"-came",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cam,Player(8),"-came",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cam,Player(9),"-came",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cam,Player($A),"-came",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cam,Player(4),"-came",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cam,Player($B),"-came",true)
call TriggerRegisterPlayerChatEvent(gg_trg_cam,Player(7),"-came",true)
call TriggerAddAction(gg_trg_cam,function Trig_cam_Actions)
set gg_trg_Visible=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_Visible,Player(0),"-visible",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Visible,Player(1),"-visible",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Visible,Player(2),"-visible",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Visible,Player(3),"-visible",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Visible,Player(5),"-visible",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Visible,Player(6),"-visible",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Visible,Player(8),"-visible",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Visible,Player(9),"-visible",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Visible,Player($A),"-visible",true)
call TriggerAddAction(gg_trg_Visible,function Trig_Visible_Actions)
set gg_trg_clear=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_clear,Player(0),"-clear",false)
call TriggerRegisterPlayerChatEvent(gg_trg_clear,Player(1),"-clear",false)
call TriggerRegisterPlayerChatEvent(gg_trg_clear,Player(2),"-clear",false)
call TriggerRegisterPlayerChatEvent(gg_trg_clear,Player(3),"-clear",false)
call TriggerRegisterPlayerChatEvent(gg_trg_clear,Player(4),"-clear",false)
call TriggerRegisterPlayerChatEvent(gg_trg_clear,Player(5),"-clear",false)
call TriggerRegisterPlayerChatEvent(gg_trg_clear,Player(6),"-clear",false)
call TriggerRegisterPlayerChatEvent(gg_trg_clear,Player(7),"-clear",false)
call TriggerRegisterPlayerChatEvent(gg_trg_clear,Player(8),"-clear",false)
call TriggerRegisterPlayerChatEvent(gg_trg_clear,Player(9),"-clear",false)
call TriggerRegisterPlayerChatEvent(gg_trg_clear,Player($A),"-clear",false)
call TriggerRegisterPlayerChatEvent(gg_trg_clear,Player($B),"-clear",false)
call TriggerAddAction(gg_trg_clear,function Trig_clear_Actions)
set gg_trg_Open_Cave=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_Open_Cave,Player(5),"-open",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Open_Cave,Player(8),"-open",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Open_Cave,Player(9),"-open",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Open_Cave,Player($A),"-open",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Open_Cave,Player($B),"-open",true)
call TriggerAddAction(gg_trg_Open_Cave,function Trig_Open_Cave_Actions)
set gg_trg_Close_Cave=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg_Close_Cave,Player(5),"-close",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Close_Cave,Player(8),"-close",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Close_Cave,Player(9),"-close",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Close_Cave,Player($A),"-close",true)
call TriggerRegisterPlayerChatEvent(gg_trg_Close_Cave,Player($B),"-close",true)
call TriggerAddAction(gg_trg_Close_Cave,function Trig_Close_Cave_Actions)
set gg_trg_PeinsDie=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_PeinsDie,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_PeinsDie,Condition(function Trig_PeinsDie_Conditions))
call TriggerAddAction(gg_trg_PeinsDie,function Trig_PeinsDie_Actions)
set gg_trg_PeinsRespawn=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_PeinsRespawn,EVENT_PLAYER_HERO_REVIVE_FINISH)
call TriggerAddCondition(gg_trg_PeinsRespawn,Condition(function Trig_PeinsRespawn_Conditions))
call TriggerAddAction(gg_trg_PeinsRespawn,function Trig_PeinsRespawn_Actions)
set gg_trg_BidjuDecontrol=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_BidjuDecontrol,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_BidjuDecontrol,Condition(function Trig_BidjuDecontrol_Conditions))
call TriggerAddAction(gg_trg_BidjuDecontrol,function Trig_BidjuDecontrol_Actions)
set gg_trg_Sexy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sexy,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(gg_trg_Sexy,Condition(function Trig_Sexy_Conditions))
call TriggerAddAction(gg_trg_Sexy,function Trig_Sexy_Actions)
set gg_trg_Madara=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Madara,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Madara,Condition(function Trig_Madara_Conditions))
call TriggerAddAction(gg_trg_Madara,function Trig_Madara_Actions)
set gg_trg_Madara_Sword=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Madara_Sword,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_Madara_Sword,Condition(function Trig_Madara_Sword_Conditions))
call TriggerAddAction(gg_trg_Madara_Sword,function Trig_Madara_Sword_Actions)
set gg_trg_Shisuya_Danzo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Shisuya_Danzo,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_Shisuya_Danzo,Condition(function Trig_Shisuya_Danzo_Conditions))
call TriggerAddAction(gg_trg_Shisuya_Danzo,function Trig_Shisuya_Danzo_Actions)
set gg_trg_Sennin_item=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sennin_item,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Sennin_item,Condition(function Trig_Sennin_item_Conditions))
call TriggerAddAction(gg_trg_Sennin_item,function Trig_Sennin_item_Actions)
set gg_trg_Sennin_item2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sennin_item2,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Sennin_item2,Condition(function Trig_Sennin_item2_Conditions))
call TriggerAddAction(gg_trg_Sennin_item2,function Trig_Sennin_item2_Actions)
call InitTrig_Veer()
call InitTrig_Veer_2()
call InitTrig_Veer_3()
set gg_trg_Mizukag=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Mizukag,gg_rct_MizuMove1)
call TriggerRegisterEnterRectSimple(gg_trg_Mizukag,gg_rct_MizuMove2)
call TriggerRegisterEnterRectSimple(gg_trg_Mizukag,gg_rct_MizuMove3)
call TriggerAddAction(gg_trg_Mizukag,function Trig_Mizukag_Actions)
set gg_trg_Wallout=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall1)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall2)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall3)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall4)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall5)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall6)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall7)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall8)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall9)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall10)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall11)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall12)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall13)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall14)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall15)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall16)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall17)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall18)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall19)
call TriggerRegisterEnterRectSimple(gg_trg_Wallout,gg_rct_wall20)
call TriggerAddCondition(gg_trg_Wallout,Condition(function Trig_Wallout_Conditions))
call TriggerAddAction(gg_trg_Wallout,function Trig_Wallout_Actions)
set gg_trg_KameraPoint=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_World)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Base_Orochimaru)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Base_Orochimaru_second)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Faraon)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Point1)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Point2)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Point3)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Point4)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Point5)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_AnozerWorld)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Point6)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Point7)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Point8)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Point9)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Point10)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Point11)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Secret_of_Chamber)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_MeiPoint)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Town)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_R2D2)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Shadow)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_Rikudo)
call TriggerRegisterEnterRectSimple(gg_trg_KameraPoint,gg_rct_MapVicdef)
call TriggerAddCondition(gg_trg_KameraPoint,Condition(function Trig_KameraPoint_Conditions))
call TriggerAddAction(gg_trg_KameraPoint,function Trig_KameraPoint_Actions)
set gg_trg_HouseAttacked=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HouseAttacked,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_HouseAttacked,Condition(function Trig_HouseAttacked_Conditions))
call TriggerAddAction(gg_trg_HouseAttacked,function Trig_HouseAttacked_Actions)
set gg_trg_HouseAttacked2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HouseAttacked2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_HouseAttacked2,Condition(function Trig_HouseAttacked2_Conditions))
call TriggerAddAction(gg_trg_HouseAttacked2,function Trig_HouseAttacked2_Actions)
set gg_trg_HouseAttacked3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_HouseAttacked3,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_HouseAttacked3,Condition(function Trig_HouseAttacked3_Conditions))
call TriggerAddAction(gg_trg_HouseAttacked3,function Trig_HouseAttacked3_Actions)
set gg_trg_Suna_vs_Konoha=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_Suna_vs_Konoha,Player(4),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Suna_vs_Konoha,Condition(function Trig_Suna_vs_Konoha_Conditions))
call TriggerAddAction(gg_trg_Suna_vs_Konoha,function Trig_Suna_vs_Konoha_Actions)
set gg_trg_Mist_vs_Konoha=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_Mist_vs_Konoha,Player(4),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Mist_vs_Konoha,Condition(function Trig_Mist_vs_Konoha_Conditions))
call TriggerAddAction(gg_trg_Mist_vs_Konoha,function Trig_Mist_vs_Konoha_Actions)
set gg_trg_Such_vs_Konoha=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_Such_vs_Konoha,Player(4),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Such_vs_Konoha,Condition(function Trig_Such_vs_Konoha_Conditions))
call TriggerAddAction(gg_trg_Such_vs_Konoha,function Trig_Such_vs_Konoha_Actions)
set gg_trg_Rai_vs_Konoha=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg_Rai_vs_Konoha,Player(4),EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Rai_vs_Konoha,Condition(function Trig_Rai_vs_Konoha_Conditions))
call TriggerAddAction(gg_trg_Rai_vs_Konoha,function Trig_Rai_vs_Konoha_Actions)
set gg_trg_Zetsu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Zetsu,EVENT_PLAYER_UNIT_SELL)
call TriggerAddCondition(gg_trg_Zetsu,Condition(function Trig_Zetsu_Conditions))
call TriggerAddAction(gg_trg_Zetsu,function Trig_Zetsu_Actions)
set gg_trg_Leave_Game=CreateTrigger()
call TriggerRegisterPlayerEventLeave(gg_trg_Leave_Game,Player(0))
call TriggerRegisterPlayerEventLeave(gg_trg_Leave_Game,Player(1))
call TriggerRegisterPlayerEventLeave(gg_trg_Leave_Game,Player(2))
call TriggerRegisterPlayerEventLeave(gg_trg_Leave_Game,Player(3))
call TriggerRegisterPlayerEventLeave(gg_trg_Leave_Game,Player(5))
call TriggerRegisterPlayerEventLeave(gg_trg_Leave_Game,Player(6))
call TriggerRegisterPlayerEventLeave(gg_trg_Leave_Game,Player(8))
call TriggerRegisterPlayerEventLeave(gg_trg_Leave_Game,Player(9))
call TriggerRegisterPlayerEventLeave(gg_trg_Leave_Game,Player($A))
call TriggerAddAction(gg_trg_Leave_Game,function Trig_Leave_Game_Actions)
set gg_trg_Madarevive=CreateTrigger()
call DisableTrigger(gg_trg_Madarevive)
call TriggerRegisterEnterRectSimple(gg_trg_Madarevive,gg_rct_Madara_revive)
call TriggerAddCondition(gg_trg_Madarevive,Condition(function Trig_Madarevive_Conditions))
call TriggerAddAction(gg_trg_Madarevive,function Trig_Madarevive_Actions)
set gg_trg_Madarevive_oroch=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Madarevive_oroch,gg_rct_Madara_revive)
call TriggerAddCondition(gg_trg_Madarevive_oroch,Condition(function Trig_Madarevive_oroch_Conditions))
call TriggerAddAction(gg_trg_Madarevive_oroch,function Trig_Madarevive_oroch_Actions)
set gg_trg_Initialization=CreateTrigger()
call TriggerAddAction(gg_trg_Initialization,function Trig_Initialization_Actions)
set gg_trg_Player_1_right=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_1_right,Player(0),0,1)
call TriggerAddCondition(gg_trg_Player_1_right,Condition(function Trig_Player_1_right_Conditions))
call TriggerAddAction(gg_trg_Player_1_right,function Trig_Player_1_right_Actions)
set gg_trg_Player_1_left=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_1_left,Player(0),0,0)
call TriggerAddCondition(gg_trg_Player_1_left,Condition(function Trig_Player_1_left_Conditions))
call TriggerAddAction(gg_trg_Player_1_left,function Trig_Player_1_left_Actions)
set gg_trg_Player_1_Camera=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Player_1_Camera,.01)
call TriggerAddAction(gg_trg_Player_1_Camera,function Trig_Player_1_Camera_Actions)
set gg_trg_Player_1_Setup=CreateTrigger()
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Player_1_Setup,Player(0))
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_1_Setup,Player(0),0,3)
call TriggerAddAction(gg_trg_Player_1_Setup,function Trig_Player_1_Setup_Actions)
set gg_trg_Player_2_right=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_2_right,Player(1),0,1)
call TriggerAddCondition(gg_trg_Player_2_right,Condition(function Trig_Player_2_right_Conditions))
call TriggerAddAction(gg_trg_Player_2_right,function Trig_Player_2_right_Actions)
set gg_trg_Player_2_left=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_2_left,Player(1),0,0)
call TriggerAddCondition(gg_trg_Player_2_left,Condition(function Trig_Player_2_left_Conditions))
call TriggerAddAction(gg_trg_Player_2_left,function Trig_Player_2_left_Actions)
set gg_trg_Player_2_Camera=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Player_2_Camera,.01)
call TriggerAddAction(gg_trg_Player_2_Camera,function Trig_Player_2_Camera_Actions)
set gg_trg_Player_2_Setup=CreateTrigger()
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Player_2_Setup,Player(1))
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_2_Setup,Player(1),0,3)
call TriggerAddAction(gg_trg_Player_2_Setup,function Trig_Player_2_Setup_Actions)
set gg_trg_Player_3_right=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_3_right,Player(2),0,1)
call TriggerAddCondition(gg_trg_Player_3_right,Condition(function Trig_Player_3_right_Conditions))
call TriggerAddAction(gg_trg_Player_3_right,function Trig_Player_3_right_Actions)
set gg_trg_Player_3_left=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_3_left,Player(2),0,0)
call TriggerAddCondition(gg_trg_Player_3_left,Condition(function Trig_Player_3_left_Conditions))
call TriggerAddAction(gg_trg_Player_3_left,function Trig_Player_3_left_Actions)
set gg_trg_Player_3_Camera=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Player_3_Camera,.01)
call TriggerAddAction(gg_trg_Player_3_Camera,function Trig_Player_3_Camera_Actions)
set gg_trg_Player_3_Setup=CreateTrigger()
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Player_3_Setup,Player(2))
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_3_Setup,Player(2),0,3)
call TriggerAddAction(gg_trg_Player_3_Setup,function Trig_Player_3_Setup_Actions)
set gg_trg_Player_4_right=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_4_right,Player(3),0,1)
call TriggerAddCondition(gg_trg_Player_4_right,Condition(function Trig_Player_4_right_Conditions))
call TriggerAddAction(gg_trg_Player_4_right,function Trig_Player_4_right_Actions)
set gg_trg_Player_4_left=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_4_left,Player(3),0,0)
call TriggerAddCondition(gg_trg_Player_4_left,Condition(function Trig_Player_4_left_Conditions))
call TriggerAddAction(gg_trg_Player_4_left,function Trig_Player_4_left_Actions)
set gg_trg_Player_4_Camera=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Player_4_Camera,.01)
call TriggerAddAction(gg_trg_Player_4_Camera,function Trig_Player_4_Camera_Actions)
set gg_trg_Player_4_Setup=CreateTrigger()
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Player_4_Setup,Player(3))
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_4_Setup,Player(3),0,3)
call TriggerAddAction(gg_trg_Player_4_Setup,function Trig_Player_4_Setup_Actions)
set gg_trg_Player_5_right=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_5_right,Player(5),0,1)
call TriggerAddCondition(gg_trg_Player_5_right,Condition(function Trig_Player_5_right_Conditions))
call TriggerAddAction(gg_trg_Player_5_right,function Trig_Player_5_right_Actions)
set gg_trg_Player_5_left=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_5_left,Player(5),0,0)
call TriggerAddCondition(gg_trg_Player_5_left,Condition(function Trig_Player_5_left_Conditions))
call TriggerAddAction(gg_trg_Player_5_left,function Trig_Player_5_left_Actions)
set gg_trg_Player_5_Camera=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Player_5_Camera,.01)
call TriggerAddAction(gg_trg_Player_5_Camera,function Trig_Player_5_Camera_Actions)
set gg_trg_Player_5_Setup=CreateTrigger()
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Player_5_Setup,Player(5))
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_5_Setup,Player(5),0,3)
call TriggerAddAction(gg_trg_Player_5_Setup,function Trig_Player_5_Setup_Actions)
set gg_trg_Player_6_right=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_6_right,Player(6),0,1)
call TriggerAddCondition(gg_trg_Player_6_right,Condition(function Trig_Player_6_right_Conditions))
call TriggerAddAction(gg_trg_Player_6_right,function Trig_Player_6_right_Actions)
set gg_trg_Player_6_left=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_6_left,Player(6),0,0)
call TriggerAddCondition(gg_trg_Player_6_left,Condition(function Trig_Player_6_left_Conditions))
call TriggerAddAction(gg_trg_Player_6_left,function Trig_Player_6_left_Actions)
set gg_trg_Player_6_Camera=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Player_6_Camera,.01)
call TriggerAddAction(gg_trg_Player_6_Camera,function Trig_Player_6_Camera_Actions)
set gg_trg_Player_6_Setup=CreateTrigger()
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Player_6_Setup,Player(6))
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_6_Setup,Player(6),0,3)
call TriggerAddAction(gg_trg_Player_6_Setup,function Trig_Player_6_Setup_Actions)
set gg_trg_Player_7_right=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_7_right,Player(8),0,1)
call TriggerAddCondition(gg_trg_Player_7_right,Condition(function Trig_Player_7_right_Conditions))
call TriggerAddAction(gg_trg_Player_7_right,function Trig_Player_7_right_Actions)
set gg_trg_Player_7_left=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_7_left,Player(8),0,0)
call TriggerAddCondition(gg_trg_Player_7_left,Condition(function Trig_Player_7_left_Conditions))
call TriggerAddAction(gg_trg_Player_7_left,function Trig_Player_7_left_Actions)
set gg_trg_Player_7_Camera=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Player_7_Camera,.01)
call TriggerAddAction(gg_trg_Player_7_Camera,function Trig_Player_7_Camera_Actions)
set gg_trg_Player_7_Setup=CreateTrigger()
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Player_7_Setup,Player(8))
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_7_Setup,Player(8),0,3)
call TriggerAddAction(gg_trg_Player_7_Setup,function Trig_Player_7_Setup_Actions)
set gg_trg_Player_8_right=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_8_right,Player(9),0,1)
call TriggerAddCondition(gg_trg_Player_8_right,Condition(function Trig_Player_8_right_Conditions))
call TriggerAddAction(gg_trg_Player_8_right,function Trig_Player_8_right_Actions)
set gg_trg_Player_8_left=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_8_left,Player(9),0,0)
call TriggerAddCondition(gg_trg_Player_8_left,Condition(function Trig_Player_8_left_Conditions))
call TriggerAddAction(gg_trg_Player_8_left,function Trig_Player_8_left_Actions)
set gg_trg_Player_8_Camera=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Player_8_Camera,.01)
call TriggerAddAction(gg_trg_Player_8_Camera,function Trig_Player_8_Camera_Actions)
set gg_trg_Player_8_Setup=CreateTrigger()
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Player_8_Setup,Player(9))
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_8_Setup,Player(9),0,3)
call TriggerAddAction(gg_trg_Player_8_Setup,function Trig_Player_8_Setup_Actions)
set gg_trg_Player_9_right=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_9_right,Player($A),0,1)
call TriggerAddCondition(gg_trg_Player_9_right,Condition(function Trig_Player_9_right_Conditions))
call TriggerAddAction(gg_trg_Player_9_right,function Trig_Player_9_right_Actions)
set gg_trg_Player_9_left=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_9_left,Player($A),0,0)
call TriggerAddCondition(gg_trg_Player_9_left,Condition(function Trig_Player_9_left_Conditions))
call TriggerAddAction(gg_trg_Player_9_left,function Trig_Player_9_left_Actions)
set gg_trg_Player_9_Camera=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_Player_9_Camera,.01)
call TriggerAddAction(gg_trg_Player_9_Camera,function Trig_Player_9_Camera_Actions)
set gg_trg_Player_9_Setup=CreateTrigger()
call TriggerRegisterPlayerEventEndCinematic(gg_trg_Player_9_Setup,Player($A))
call TriggerRegisterPlayerKeyEventBJ(gg_trg_Player_9_Setup,Player($A),0,3)
call TriggerAddAction(gg_trg_Player_9_Setup,function Trig_Player_9_Setup_Actions)
set gg_trg_Other=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Other,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Other,Condition(function Trig_Other_Conditions))
call TriggerAddAction(gg_trg_Other,function Trig_Other_Actions)
call InitTrig_Crep_respawn()
set gg_trg_Zombi_respawn=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Zombi_respawn,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Zombi_respawn,Condition(function Trig_Zombi_respawn_Conditions))
call TriggerAddAction(gg_trg_Zombi_respawn,function Trig_Zombi_respawn_Actions)
set gg_trg_Hanzo_respawn=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hanzo_respawn,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Hanzo_respawn,Condition(function Trig_Hanzo_respawn_Conditions))
call TriggerAddAction(gg_trg_Hanzo_respawn,function Trig_Hanzo_respawn_Actions)
set gg_trg_Hanzo_De=CreateTrigger()
call TriggerRegisterUnitEvent(gg_trg_Hanzo_De,gg_unit_E00R_0362,EVENT_UNIT_DEATH)
call TriggerAddAction(gg_trg_Hanzo_De,function Trig_Hanzo_De_Actions)
set gg_trg_Crep_remove=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Crep_remove,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Crep_remove,Condition(function Trig_Crep_remove_Conditions))
call TriggerAddAction(gg_trg_Crep_remove,function Trig_Crep_remove_Actions)
call InitTrig_Remove()
set gg_trg_Dying_Tobi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Dying_Tobi,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Dying_Tobi,Condition(function Trig_Dying_Tobi_Conditions))
call TriggerAddAction(gg_trg_Dying_Tobi,function Trig_Dying_Tobi_Actions)
set gg_trg_Konoha=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Konoha,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Konoha,Condition(function Trig_Konoha_Conditions))
call TriggerAddAction(gg_trg_Konoha,function Trig_Konoha_Actions)
set gg_trg_Sound=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sound,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Sound,Condition(function Trig_Sound_Conditions))
call TriggerAddAction(gg_trg_Sound,function Trig_Sound_Actions)
set gg_trg_Hawk=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hawk,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Hawk,Condition(function Trig_Hawk_Conditions))
call TriggerAddAction(gg_trg_Hawk,function Trig_Hawk_Actions)
set gg_trg_Akatsuki=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Akatsuki,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Akatsuki,Condition(function Trig_Akatsuki_Conditions))
call TriggerAddAction(gg_trg_Akatsuki,function Trig_Akatsuki_Actions)
set gg_trg_E=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_E,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_E,Condition(function Trig_E_Conditions))
call TriggerAddAction(gg_trg_E,function Trig_E_Actions)
set gg_trg_createsets=CreateTrigger()
call TriggerRegisterTimerEvent(gg_trg_createsets,.0,false)
call TriggerAddAction(gg_trg_createsets,function Trig_createsets_Actions)
set gg_trg_Midare_1=CreateTrigger()
call DisableTrigger(gg_trg_Midare_1)
call TriggerRegisterEnterRectSimple(gg_trg_Midare_1,gg_rct_Midare)
call TriggerAddCondition(gg_trg_Midare_1,Condition(function Trig_Midare_1_Conditions))
call TriggerAddAction(gg_trg_Midare_1,function Trig_Midare_1_Actions)
set gg_trg_Midare_1_click=CreateTrigger()
call TriggerRegisterDialogEvent(gg_trg_Midare_1_click,udg_DialogMidare1)
call TriggerAddAction(gg_trg_Midare_1_click,function Trig_Midare_1_click_Actions)
set gg_trg_Midare_attack=CreateTrigger()
call DisableTrigger(gg_trg_Midare_attack)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Midare_attack,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Midare_attack,Condition(function Trig_Midare_attack_Conditions))
call TriggerAddAction(gg_trg_Midare_attack,function Trig_Midare_attack_Actions)
set gg_trg_Midare_1_move=CreateTrigger()
call DisableTrigger(gg_trg_Midare_1_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Midare_1_move,6.)
call TriggerAddAction(gg_trg_Midare_1_move,function Trig_Midare_1_move_Actions)
set gg_trg_Midare_1_kill=CreateTrigger()
call DisableTrigger(gg_trg_Midare_1_kill)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Midare_1_kill,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Midare_1_kill,Condition(function Trig_Midare_1_kill_Conditions))
call TriggerAddAction(gg_trg_Midare_1_kill,function Trig_Midare_1_kill_Actions)
set gg_trg_Midare_1_death=CreateTrigger()
call DisableTrigger(gg_trg_Midare_1_death)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Midare_1_death,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Midare_1_death,Condition(function Trig_Midare_1_death_Conditions))
call TriggerAddAction(gg_trg_Midare_1_death,function Trig_Midare_1_death_Actions)
set gg_trg_Midare_2=CreateTrigger()
call DisableTrigger(gg_trg_Midare_2)
call TriggerRegisterEnterRectSimple(gg_trg_Midare_2,gg_rct_Midare2)
call TriggerAddCondition(gg_trg_Midare_2,Condition(function Trig_Midare_2_Conditions))
call TriggerAddAction(gg_trg_Midare_2,function Trig_Midare_2_Actions)
set gg_trg_Midare_2_click=CreateTrigger()
call TriggerRegisterDialogEvent(gg_trg_Midare_2_click,udg_DialogMidare2)
call TriggerAddAction(gg_trg_Midare_2_click,function Trig_Midare_2_click_Actions)
set gg_trg_Midare_attack_2=CreateTrigger()
call DisableTrigger(gg_trg_Midare_attack_2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Midare_attack_2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Midare_attack_2,Condition(function Trig_Midare_attack_2_Conditions))
call TriggerAddAction(gg_trg_Midare_attack_2,function Trig_Midare_attack_2_Actions)
set gg_trg_Midare_2_move=CreateTrigger()
call DisableTrigger(gg_trg_Midare_2_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Midare_2_move,6.)
call TriggerAddAction(gg_trg_Midare_2_move,function Trig_Midare_2_move_Actions)
set gg_trg_Midare_2_kill=CreateTrigger()
call DisableTrigger(gg_trg_Midare_2_kill)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Midare_2_kill,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Midare_2_kill,Condition(function Trig_Midare_2_kill_Conditions))
call TriggerAddAction(gg_trg_Midare_2_kill,function Trig_Midare_2_kill_Actions)
set gg_trg_Midare_2_death=CreateTrigger()
call DisableTrigger(gg_trg_Midare_2_death)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Midare_2_death,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Midare_2_death,Condition(function Trig_Midare_2_death_Conditions))
call TriggerAddAction(gg_trg_Midare_2_death,function Trig_Midare_2_death_Actions)
call InitTrig_Shisui()
call InitTrig_spell_cast_Shisuya()
set gg_trg_Lariat=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Lariat,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Lariat,Condition(function Trig_Lariat_Conditions))
call TriggerAddAction(gg_trg_Lariat,function Trig_Lariat_Actions)
set gg_trg_Lariat_move=CreateTrigger()
call DisableTrigger(gg_trg_Lariat_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Lariat_move,.03)
call TriggerAddAction(gg_trg_Lariat_move,function Trig_Lariat_move_Actions)
set gg_trg_Charge_ninetail=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Charge_ninetail,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Charge_ninetail,Condition(function Trig_Charge_ninetail_Conditions))
call TriggerAddAction(gg_trg_Charge_ninetail,function Trig_Charge_ninetail_Actions)
set gg_trg_Charge_ninetail_move=CreateTrigger()
call DisableTrigger(gg_trg_Charge_ninetail_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Charge_ninetail_move,.02)
call TriggerAddAction(gg_trg_Charge_ninetail_move,function Trig_Charge_ninetail_move_Actions)
call InitTrig_Bidju_Stomb()
set gg_trg_Tail_Bomb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Tail_Bomb,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Tail_Bomb,Condition(function Trig_Tail_Bomb_Conditions))
call TriggerAddAction(gg_trg_Tail_Bomb,function Trig_Tail_Bomb_Actions)
set gg_trg_Tail_Bomb_move=CreateTrigger()
call DisableTrigger(gg_trg_Tail_Bomb_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Tail_Bomb_move,.06)
call TriggerAddAction(gg_trg_Tail_Bomb_move,function Trig_Tail_Bomb_move_Actions)
set gg_trg_Tail_Bomb_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Tail_Bomb_2,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Tail_Bomb_2,Condition(function Trig_Tail_Bomb_2_Conditions))
call TriggerAddAction(gg_trg_Tail_Bomb_2,function Trig_Tail_Bomb_2_Actions)
set gg_trg_Tail_Bomb_2_move=CreateTrigger()
call DisableTrigger(gg_trg_Tail_Bomb_2_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Tail_Bomb_2_move,.06)
call TriggerAddAction(gg_trg_Tail_Bomb_2_move,function Trig_Tail_Bomb_2_move_Actions)
set gg_trg_Bidju_Stomb_cast=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Bidju_Stomb_cast,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Bidju_Stomb_cast,Condition(function Trig_Bidju_Stomb_cast_Conditions))
call TriggerAddAction(gg_trg_Bidju_Stomb_cast,function Trig_Bidju_Stomb_cast_Actions)
set gg_trg_Bidju_Bomb_cast=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Bidju_Bomb_cast,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Bidju_Bomb_cast,Condition(function Trig_Bidju_Bomb_cast_Conditions))
call TriggerAddAction(gg_trg_Bidju_Bomb_cast,function Trig_Bidju_Bomb_cast_Actions)
set gg_trg_One_tail_chakra=CreateTrigger()
call DisableTrigger(gg_trg_One_tail_chakra)
call TriggerRegisterUnitLifeEvent(gg_trg_One_tail_chakra,gg_unit_Emfr_0033,LESS_THAN_OR_EQUAL,500.)
call TriggerAddAction(gg_trg_One_tail_chakra,function Trig_One_tail_chakra_Actions)
set gg_trg_Two_tail_chakra=CreateTrigger()
call TriggerRegisterUnitLifeEvent(gg_trg_Two_tail_chakra,gg_unit_Ewrd_0114,LESS_THAN_OR_EQUAL,1000.)
call TriggerAddAction(gg_trg_Two_tail_chakra,function Trig_Two_tail_chakra_Actions)
set gg_trg_Two_tail_chakra_2=CreateTrigger()
call DisableTrigger(gg_trg_Two_tail_chakra_2)
call TriggerRegisterUnitLifeEvent(gg_trg_Two_tail_chakra_2,gg_unit_Ewrd_0114,LESS_THAN_OR_EQUAL,750.)
call TriggerAddAction(gg_trg_Two_tail_chakra_2,function Trig_Two_tail_chakra_2_Actions)
set gg_trg_Nibi_Dying=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Nibi_Dying,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Nibi_Dying,Condition(function Trig_Nibi_Dying_Conditions))
call TriggerAddAction(gg_trg_Nibi_Dying,function Trig_Nibi_Dying_Actions)
set gg_trg_Four__tail_chakra=CreateTrigger()
call TriggerRegisterUnitLifeEvent(gg_trg_Four__tail_chakra,gg_unit_Eevi_0116,LESS_THAN_OR_EQUAL,1000.)
call TriggerAddAction(gg_trg_Four__tail_chakra,function Trig_Four__tail_chakra_Actions)
set gg_trg_Four__tail_chakra_2=CreateTrigger()
call DisableTrigger(gg_trg_Four__tail_chakra_2)
call TriggerRegisterUnitLifeEvent(gg_trg_Four__tail_chakra_2,gg_unit_Eevi_0116,LESS_THAN_OR_EQUAL,750.)
call TriggerAddAction(gg_trg_Four__tail_chakra_2,function Trig_Four__tail_chakra_2_Actions)
set gg_trg_Roushin_Dying=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Roushin_Dying,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Roushin_Dying,Condition(function Trig_Roushin_Dying_Conditions))
call TriggerAddAction(gg_trg_Roushin_Dying,function Trig_Roushin_Dying_Actions)
set gg_trg_Five_tail_chakra=CreateTrigger()
call TriggerRegisterUnitLifeEvent(gg_trg_Five_tail_chakra,gg_unit_Emns_0115,LESS_THAN_OR_EQUAL,1000.)
call TriggerAddAction(gg_trg_Five_tail_chakra,function Trig_Five_tail_chakra_Actions)
set gg_trg_Five_tail_chakra_2=CreateTrigger()
call DisableTrigger(gg_trg_Five_tail_chakra_2)
call TriggerRegisterUnitLifeEvent(gg_trg_Five_tail_chakra_2,gg_unit_Emns_0115,LESS_THAN_OR_EQUAL,750.)
call TriggerAddAction(gg_trg_Five_tail_chakra_2,function Trig_Five_tail_chakra_2_Actions)
set gg_trg_Han_Dying=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Han_Dying,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Han_Dying,Condition(function Trig_Han_Dying_Conditions))
call TriggerAddAction(gg_trg_Han_Dying,function Trig_Han_Dying_Actions)
set gg_trg_Six_tail_chakra=CreateTrigger()
call TriggerAddAction(gg_trg_Six_tail_chakra,function Trig_Six_tail_chakra_Actions)
set gg_trg_Six_tail_chakra_2=CreateTrigger()
call DisableTrigger(gg_trg_Six_tail_chakra_2)
call TriggerAddAction(gg_trg_Six_tail_chakra_2,function Trig_Six_tail_chakra_2_Actions)
set gg_trg_Utakata_Dying=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Utakata_Dying,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Utakata_Dying,Condition(function Trig_Utakata_Dying_Conditions))
call TriggerAddAction(gg_trg_Utakata_Dying,function Trig_Utakata_Dying_Actions)
set gg_trg_Seven_tail_chakra=CreateTrigger()
call TriggerRegisterUnitLifeEvent(gg_trg_Seven_tail_chakra,gg_unit_Ewar_0118,LESS_THAN_OR_EQUAL,1000.)
call TriggerAddAction(gg_trg_Seven_tail_chakra,function Trig_Seven_tail_chakra_Actions)
set gg_trg_Sichibi_Dying=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sichibi_Dying,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Sichibi_Dying,Condition(function Trig_Sichibi_Dying_Conditions))
call TriggerAddAction(gg_trg_Sichibi_Dying,function Trig_Sichibi_Dying_Actions)
set gg_trg_Eight_tail_chakra=CreateTrigger()
call TriggerRegisterUnitLifeEvent(gg_trg_Eight_tail_chakra,gg_unit_Ekgg_0119,LESS_THAN_OR_EQUAL,1500.)
call TriggerAddAction(gg_trg_Eight_tail_chakra,function Trig_Eight_tail_chakra_Actions)
set gg_trg_Eight_tail_chakra_2=CreateTrigger()
call DisableTrigger(gg_trg_Eight_tail_chakra_2)
call TriggerRegisterUnitLifeEvent(gg_trg_Eight_tail_chakra_2,gg_unit_Ekgg_0119,LESS_THAN_OR_EQUAL,1000.)
call TriggerAddAction(gg_trg_Eight_tail_chakra_2,function Trig_Eight_tail_chakra_2_Actions)
set gg_trg_Eight_tail_chakra_3=CreateTrigger()
call DisableTrigger(gg_trg_Eight_tail_chakra_3)
call TriggerAddAction(gg_trg_Eight_tail_chakra_3,function Trig_Eight_tail_chakra_3_Actions)
set gg_trg_Bi_Dying=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Bi_Dying,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Bi_Dying,Condition(function Trig_Bi_Dying_Conditions))
call TriggerAddAction(gg_trg_Bi_Dying,function Trig_Bi_Dying_Actions)
set gg_trg_Nine_tail_chakra=CreateTrigger()
call DisableTrigger(gg_trg_Nine_tail_chakra)
call TriggerRegisterUnitLifeEvent(gg_trg_Nine_tail_chakra,gg_unit_Hpal_0034,LESS_THAN_OR_EQUAL,250.)
call TriggerAddAction(gg_trg_Nine_tail_chakra,function Trig_Nine_tail_chakra_Actions)
set gg_trg_Nine_tail_chakra_2=CreateTrigger()
call DisableTrigger(gg_trg_Nine_tail_chakra_2)
call TriggerRegisterUnitLifeEvent(gg_trg_Nine_tail_chakra_2,gg_unit_Hpal_0034,LESS_THAN_OR_EQUAL,100.)
call TriggerAddAction(gg_trg_Nine_tail_chakra_2,function Trig_Nine_tail_chakra_2_Actions)
set gg_trg_Naruto_End=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Naruto_End,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Naruto_End,Condition(function Trig_Naruto_End_Conditions))
call TriggerAddAction(gg_trg_Naruto_End,function Trig_Naruto_End_Actions)
set gg_trg_Menma=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Menma,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Menma,Condition(function Trig_Menma_Conditions))
call TriggerAddAction(gg_trg_Menma,function Trig_Menma_Actions)
set gg_trg_Robot=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Robot,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Robot,Condition(function Trig_Robot_Conditions))
call TriggerAddAction(gg_trg_Robot,function Trig_Robot_Actions)
set gg_trg_Ichibi_bidju_1=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Ichibi_bidju_1,gg_rct_Gedo)
call TriggerAddCondition(gg_trg_Ichibi_bidju_1,Condition(function Trig_Ichibi_bidju_1_Conditions))
call TriggerAddAction(gg_trg_Ichibi_bidju_1,function Trig_Ichibi_bidju_1_Actions)
set gg_trg_Ichibi_bidju_2=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Ichibi_bidju_2,gg_rct_Gedo)
call TriggerAddCondition(gg_trg_Ichibi_bidju_2,Condition(function Trig_Ichibi_bidju_2_Conditions))
call TriggerAddAction(gg_trg_Ichibi_bidju_2,function Trig_Ichibi_bidju_2_Actions)
set gg_trg_Ichibi_bidju_3=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Ichibi_bidju_3,gg_rct_Gedo)
call TriggerAddCondition(gg_trg_Ichibi_bidju_3,Condition(function Trig_Ichibi_bidju_3_Conditions))
call TriggerAddAction(gg_trg_Ichibi_bidju_3,function Trig_Ichibi_bidju_3_Actions)
set gg_trg_Ichibi_bidju_4=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Ichibi_bidju_4,gg_rct_Gedo)
call TriggerAddCondition(gg_trg_Ichibi_bidju_4,Condition(function Trig_Ichibi_bidju_4_Conditions))
call TriggerAddAction(gg_trg_Ichibi_bidju_4,function Trig_Ichibi_bidju_4_Actions)
set gg_trg_Ichibi_bidju_5=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Ichibi_bidju_5,gg_rct_Gedo)
call TriggerAddCondition(gg_trg_Ichibi_bidju_5,Condition(function Trig_Ichibi_bidju_5_Conditions))
call TriggerAddAction(gg_trg_Ichibi_bidju_5,function Trig_Ichibi_bidju_5_Actions)
set gg_trg_Ichibi_bidju_6=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Ichibi_bidju_6,gg_rct_Gedo)
call TriggerAddCondition(gg_trg_Ichibi_bidju_6,Condition(function Trig_Ichibi_bidju_6_Conditions))
call TriggerAddAction(gg_trg_Ichibi_bidju_6,function Trig_Ichibi_bidju_6_Actions)
set gg_trg_Ichibi_bidju_7=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Ichibi_bidju_7,gg_rct_Gedo)
call TriggerAddCondition(gg_trg_Ichibi_bidju_7,Condition(function Trig_Ichibi_bidju_7_Conditions))
call TriggerAddAction(gg_trg_Ichibi_bidju_7,function Trig_Ichibi_bidju_7_Actions)
set gg_trg_Ichibi_bidju_8=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Ichibi_bidju_8,gg_rct_Gedo)
call TriggerAddCondition(gg_trg_Ichibi_bidju_8,Condition(function Trig_Ichibi_bidju_8_Conditions))
call TriggerAddAction(gg_trg_Ichibi_bidju_8,function Trig_Ichibi_bidju_8_Actions)
set gg_trg_Ichibi_bidju_9=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Ichibi_bidju_9,gg_rct_Gedo)
call TriggerAddCondition(gg_trg_Ichibi_bidju_9,Condition(function Trig_Ichibi_bidju_9_Conditions))
call TriggerAddAction(gg_trg_Ichibi_bidju_9,function Trig_Ichibi_bidju_9_Actions)
set gg_trg_Ichibi_bidju_Death=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Ichibi_bidju_Death,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Ichibi_bidju_Death,Condition(function Trig_Ichibi_bidju_Death_Conditions))
call TriggerAddAction(gg_trg_Ichibi_bidju_Death,function Trig_Ichibi_bidju_Death_Actions)
set gg_trg_Ichibi_bidju=CreateTrigger()
set rectRegion=CreateRegion()
call RegionAddRect(rectRegion,gg_rct_Gedo)
call TriggerRegisterEnterRegion(gg_trg_Ichibi_bidju,rectRegion,null)
call TriggerAddCondition(gg_trg_Ichibi_bidju,Condition(function Trig_Ichibi_bidju_Conditions))
call TriggerAddAction(gg_trg_Ichibi_bidju,function Trig_Ichibi_bidju_Actions)
set rectRegion=null
set gg_trg_Gedo_death=CreateTrigger()
call TriggerRegisterUnitEvent(gg_trg_Gedo_death,gg_unit_h00E_0087,EVENT_UNIT_DEATH)
call TriggerAddAction(gg_trg_Gedo_death,function Trig_Gedo_death_Actions)
set gg_trg_Ichibi_bidju_10=CreateTrigger()
call TriggerAddAction(gg_trg_Ichibi_bidju_10,function Trig_Ichibi_item_Actions)
call InitTrig_Shukaku_dead()
call InitTrig_Nibi_dead()
call InitTrig_Sanbi_dead()
call InitTrig_Yonbi_dead()
call InitTrig_Gobi_dead()
call InitTrig_Rokobi_dead()
call InitTrig_Sichibi_dead()
call InitTrig_Hachibi_dead()
call InitTrig_Kurama_dead()
set gg_trg_Tentail_dead=CreateTrigger()
call DisableTrigger(gg_trg_Tentail_dead)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Tentail_dead,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Tentail_dead,Condition(function Trig_Tentail_dead_Conditions))
call TriggerAddAction(gg_trg_Tentail_dead,function Trig_Tentail_dead_Actions)
call InitTrig_Edo_Tensei_Orochimaru()
call InitTrig_Edo_Tensei_Orochimaru_2()
call InitTrig_Revive()
call InitTrig_Kusanagi_sword()
set gg_trg_change_of_Body=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_change_of_Body,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_change_of_Body,Condition(function Trig_change_of_Body_Conditions))
call TriggerAddAction(gg_trg_change_of_Body,function Trig_change_of_Body_Actions)
call InitTrig_Rashoumon()
call InitTrig_Rashoumon_remove()
set gg_trg_Snake_spell=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Snake_spell,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Snake_spell,Condition(function Trig_Snake_spell_Conditions))
call TriggerAddAction(gg_trg_Snake_spell,function Trig_Snake_spell_Actions)
set gg_trg_Wind_wave_of=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Wind_wave_of,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Wind_wave_of,Condition(function Trig_Wind_wave_of_Conditions))
call TriggerAddAction(gg_trg_Wind_wave_of,function Trig_Wind_wave_of_Actions)
set gg_trg_Meat_Hook=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Meat_Hook,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(gg_trg_Meat_Hook,function Trig_Meat_Hook_Actions)
set gg_trg_Periodic_Hook=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_Periodic_Hook,udg_HookTimer[0])
call TriggerAddAction(gg_trg_Periodic_Hook,function Trig_Periodic_Hook_Actions)
set gg_trg_Snake=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Snake,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Snake,Condition(function Trig_Snake_Conditions))
call TriggerAddAction(gg_trg_Snake,function Trig_Snake_Actions)
set gg_trg_Snake_Move=CreateTrigger()
call DisableTrigger(gg_trg_Snake_Move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Snake_Move,.1)
call TriggerAddCondition(gg_trg_Snake_Move,Condition(function Trig_Snake_Move_Conditions))
call TriggerAddAction(gg_trg_Snake_Move,function Trig_Snake_Move_Actions)
set gg_trg_Snake_End=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Snake_End,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(gg_trg_Snake_End,Condition(function Trig_Snake_End_Conditions))
call TriggerAddAction(gg_trg_Snake_End,function Trig_Snake_End_Actions)
set gg_trg_Snake_Die=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Snake_Die,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Snake_Die,Condition(function Trig_Snake_Die_Conditions))
call TriggerAddAction(gg_trg_Snake_Die,function Trig_Snake_Die_Actions)
call InitTrig_move_to_Snake()
set gg_trg_Metamorh=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Metamorh,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Metamorh,Condition(function Trig_Metamorh_Conditions))
call TriggerAddAction(gg_trg_Metamorh,function Trig_Metamorh_Actions)
set gg_trg_Metamorh_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Metamorh_2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Metamorh_2,Condition(function Trig_Metamorh_2_Conditions))
call TriggerAddAction(gg_trg_Metamorh_2,function Trig_Metamorh_2_Actions)
set gg_trg_Metamorh_3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Metamorh_3,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Metamorh_3,Condition(function Trig_Metamorh_3_Conditions))
call TriggerAddAction(gg_trg_Metamorh_3,function Trig_Metamorh_3_Actions)
call InitTrig_sleep()
set gg_trg_Hand_Hand=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hand_Hand,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Hand_Hand,Condition(function Trig_Hand_Hand_Conditions))
call TriggerAddAction(gg_trg_Hand_Hand,function Trig_Hand_Hand_Actions)
set gg_trg_Hand_Hand_damage=CreateTrigger()
call DisableTrigger(gg_trg_Hand_Hand_damage)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hand_Hand_damage,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Hand_Hand_damage,Condition(function Trig_Hand_Hand_damage_Conditions))
call TriggerAddAction(gg_trg_Hand_Hand_damage,function Trig_Hand_Hand_damage_Actions)
call InitTrig_Hand_kinjal()
call InitTrig_Sanin_Kabuto()
call InitTrig_Sanin_Kabuto_Deathe()
call InitTrig_Jirobu()
call InitTrig_Kidomaru()
call InitTrig_Tauy()
call InitTrig_Kimmimaro()
call InitTrig_Dragon()
call InitTrig_Cleaner()
call InitTrig_Sharingan1()
call InitTrig_Sharingan2()
call InitTrig_Sharingan2I()
call InitTrig_Sharingan3()
set gg_trg_Dummy_Sasuke=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Dummy_Sasuke,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_Dummy_Sasuke,function Trig_Dummy_Sasuke_Actions)
call InitTrig_KatonAll()
call InitTrig_KatonAll2()
call InitTrig_KirinStart()
call InitTrig_Chidori_Sasuke()
call InitTrig_Chidori_Sasuke_atack()
call InitTrig_ChidoriNagSen()
call InitTrig_SH_Sasuke()
call InitTrig_MSH_Sasuke()
call InitTrig_EMSH_Sasuke()
call InitTrig_Amaterasu_Off()
call InitTrig_SusanooSasukeAttack1()
set gg_trg_SusanooSasukeDef1=CreateTrigger()
call TriggerAddCondition(gg_trg_SusanooSasukeDef1,Condition(function SusanooSasukeDef_Cond1))
call TriggerAddAction(gg_trg_SusanooSasukeDef1,function SusanooSasukeDef_Act1)
call InitTrig_SusanooSasukeAttack2()
set gg_trg_SusanooSasukeDef2=CreateTrigger()
call TriggerAddCondition(gg_trg_SusanooSasukeDef2,Condition(function SusanooSasukeDef_Cond2))
call TriggerAddAction(gg_trg_SusanooSasukeDef2,function SusanooSasukeDef_Act2)
call InitTrig_SusanooTrap()
call InitTrig_SusanooSasukeAttack()
set gg_trg_SusanooSasukeDef=CreateTrigger()
call TriggerAddCondition(gg_trg_SusanooSasukeDef,Condition(function SusanooSasukeDef_Cond))
call TriggerAddAction(gg_trg_SusanooSasukeDef,function SusanooSasukeDef_Act)
call InitTrig_EntonKagetsuchi_Cast()
call InitTrig_Sensor()
call InitTrig_Chakra_Karin()
set gg_trg_stomb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_stomb,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_stomb,Condition(function Trig_stomb_Conditions))
call TriggerAddAction(gg_trg_stomb,function Trig_stomb_Actions)
set gg_trg_Overpower=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Overpower,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Overpower,Condition(function Trig_Overpower_Conditions))
call TriggerAddAction(gg_trg_Overpower,function Trig_Overpower_Actions)
set gg_trg_Overpower_attack=CreateTrigger()
call DisableTrigger(gg_trg_Overpower_attack)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Overpower_attack,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Overpower_attack,Condition(function Trig_Overpower_attack_Conditions))
call TriggerAddAction(gg_trg_Overpower_attack,function Trig_Overpower_attack_Actions)
set gg_trg_Bazooka=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Bazooka,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Bazooka,Condition(function Trig_Bazooka_Conditions))
call TriggerAddAction(gg_trg_Bazooka,function Trig_Bazooka_Actions)
set gg_trg_Whaaa=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Whaaa,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Whaaa,Condition(function Trig_Whaaa_Conditions))
call TriggerAddAction(gg_trg_Whaaa,function Trig_Whaaa_Actions)
set gg_trg_Whaaa_move=CreateTrigger()
call DisableTrigger(gg_trg_Whaaa_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Whaaa_move,.02)
call TriggerAddAction(gg_trg_Whaaa_move,function Trig_Whaaa_move_Actions)
set gg_trg_Whaaa_move_2=CreateTrigger()
call DisableTrigger(gg_trg_Whaaa_move_2)
call TriggerRegisterTimerEventPeriodic(gg_trg_Whaaa_move_2,.02)
call TriggerAddAction(gg_trg_Whaaa_move_2,function Trig_Whaaa_move_2_Actions)
set gg_trg_Podmena_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Podmena_2,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Podmena_2,Condition(function Trig_Podmena_2_Conditions))
call TriggerAddAction(gg_trg_Podmena_2,function Trig_Podmena_2_Actions)
set gg_trg_Charge=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Charge,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Charge,Condition(function Trig_Charge_Conditions))
call TriggerAddAction(gg_trg_Charge,function Trig_Charge_Actions)
set gg_trg_Chargei_move=CreateTrigger()
call DisableTrigger(gg_trg_Chargei_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Chargei_move,.02)
call TriggerAddAction(gg_trg_Chargei_move,function Trig_Chargei_move_Actions)
set gg_trg_Sword=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sword,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Sword,Condition(function Trig_Sword_Conditions))
call TriggerAddAction(gg_trg_Sword,function Trig_Sword_Actions)
set gg_trg_Sword_attack=CreateTrigger()
call DisableTrigger(gg_trg_Sword_attack)
call TriggerRegisterTimerEventPeriodic(gg_trg_Sword_attack,.4)
call TriggerAddAction(gg_trg_Sword_attack,function Trig_Sword_attack_Actions)
set gg_trg_Water_wave=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Water_wave,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Water_wave,Condition(function Trig_Water_wave_Conditions))
call TriggerAddAction(gg_trg_Water_wave,function Trig_Water_wave_Actions)
set gg_trg_KrotKakasi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_KrotKakasi,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_KrotKakasi,Condition(function Trig_KrotKakasi_Conditions))
call TriggerAddAction(gg_trg_KrotKakasi,function Trig_KrotKakasi_Actions)
set gg_trg_KrotKakasi2=CreateTrigger()
call DisableTrigger(gg_trg_KrotKakasi2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_KrotKakasi2,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_KrotKakasi2,Condition(function Trig_KrotKakasi2_Conditions))
call TriggerAddAction(gg_trg_KrotKakasi2,function Trig_KrotKakasi2_Actions)
set gg_trg_KrotKakasi3=CreateTrigger()
call DisableTrigger(gg_trg_KrotKakasi3)
call TriggerRegisterAnyUnitEventBJ(gg_trg_KrotKakasi3,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_KrotKakasi3,Condition(function Trig_KrotKakasi3_Conditions))
call TriggerAddAction(gg_trg_KrotKakasi3,function Trig_KrotKakasi3_Actions)
set gg_trg_Kakashi_clone=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kakashi_clone,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(gg_trg_Kakashi_clone,Condition(function Trig_Kakashi_clone_Conditions))
call TriggerAddAction(gg_trg_Kakashi_clone,function Trig_Kakashi_clone_Actions)
set gg_trg_Kakashi_clone_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kakashi_clone_2,EVENT_PLAYER_UNIT_SUMMON)
call TriggerAddCondition(gg_trg_Kakashi_clone_2,Condition(function Trig_Kakashi_clone_2_Conditions))
call TriggerAddAction(gg_trg_Kakashi_clone_2,function Trig_Kakashi_clone_2_Actions)
set gg_trg_Kakashi_clone_3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kakashi_clone_3,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Kakashi_clone_3,Condition(function Trig_Kakashi_clone_3_Conditions))
call TriggerAddAction(gg_trg_Kakashi_clone_3,function Trig_Kakashi_clone_3_Actions)
call InitTrig_DogsHold()
set gg_trg_Suitun_suirudon_dragon_1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Suitun_suirudon_dragon_1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Suitun_suirudon_dragon_1,Condition(function Trig_Suitun_suirudon_dragon_1_Conditions))
call TriggerAddAction(gg_trg_Suitun_suirudon_dragon_1,function Trig_Suitun_suirudon_dragon_1_Actions)
set gg_trg_Suitun_suirudon_dragon_2=CreateTrigger()
call DisableTrigger(gg_trg_Suitun_suirudon_dragon_2)
call TriggerRegisterTimerEventPeriodic(gg_trg_Suitun_suirudon_dragon_2,.03)
call TriggerAddAction(gg_trg_Suitun_suirudon_dragon_2,function Trig_Suitun_suirudon_dragon_2_Actions)
set gg_trg_Suitun_suirudon_dragon_3=CreateTrigger()
call DisableTrigger(gg_trg_Suitun_suirudon_dragon_3)
call TriggerRegisterTimerEventPeriodic(gg_trg_Suitun_suirudon_dragon_3,.03)
call TriggerAddAction(gg_trg_Suitun_suirudon_dragon_3,function Trig_Suitun_suirudon_dragon_3_Actions)
set gg_trg_MSH_kakashi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_MSH_kakashi,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(gg_trg_MSH_kakashi,Condition(function Trig_MSH_kakashi_Conditions))
call TriggerAddAction(gg_trg_MSH_kakashi,function Trig_MSH_kakashi_Actions)
set gg_trg_MSH_kakashi_Hole=CreateTrigger()
call DisableTrigger(gg_trg_MSH_kakashi_Hole)
call TriggerRegisterTimerEventPeriodic(gg_trg_MSH_kakashi_Hole,.03)
call TriggerAddAction(gg_trg_MSH_kakashi_Hole,function Trig_MSH_kakashi_Hole_Actions)
call InitTrig_Chidori_Kakashi()
call InitTrig_Chidori_Kakashi_atack()
set gg_trg_Rasengan_1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Rasengan_1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Rasengan_1,Condition(function Trig_Rasengan_1_Conditions))
call TriggerAddAction(gg_trg_Rasengan_1,function Trig_Rasengan_1_Actions)
set gg_trg_Rasengan_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Rasengan_2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Rasengan_2,Condition(function Trig_Rasengan_2_Conditions))
call TriggerAddAction(gg_trg_Rasengan_2,function Trig_Rasengan_2_Actions)
set gg_trg_Rasengan_move=CreateTrigger()
call DisableTrigger(gg_trg_Rasengan_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Rasengan_move,.04)
call TriggerAddAction(gg_trg_Rasengan_move,function Trig_Rasengan_move_Actions)
set gg_trg_Rasenrengan_move=CreateTrigger()
call DisableTrigger(gg_trg_Rasenrengan_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Rasenrengan_move,.03)
call TriggerAddAction(gg_trg_Rasenrengan_move,function Trig_Rasenrengan_move_Actions)
set gg_trg_Kage_bun=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kage_bun,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Kage_bun,Condition(function Trig_Kage_bun_Conditions))
call TriggerAddAction(gg_trg_Kage_bun,function Trig_Kage_bun_Actions)
call InitTrig_die()
set gg_trg_sage=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_sage,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_sage,Condition(function Trig_sage_Conditions))
call TriggerAddAction(gg_trg_sage,function Trig_sage_Actions)
set gg_trg_sage_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_sage_2,EVENT_PLAYER_UNIT_SPELL_CAST)
call TriggerAddCondition(gg_trg_sage_2,Condition(function Trig_sage_2_Conditions))
call TriggerAddAction(gg_trg_sage_2,function Trig_sage_2_Actions)
set gg_trg_sage_dead=CreateTrigger()
call DisableTrigger(gg_trg_sage_dead)
call TriggerRegisterAnyUnitEventBJ(gg_trg_sage_dead,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_sage_dead,Condition(function Trig_sage_dead_Conditions))
call TriggerAddAction(gg_trg_sage_dead,function Trig_sage_dead_Actions)
set gg_trg_Rasenshuriken=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Rasenshuriken,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Rasenshuriken,Condition(function Trig_Rasenshuriken_Conditions))
call TriggerAddAction(gg_trg_Rasenshuriken,function Trig_Rasenshuriken_Actions)
set gg_trg_Rasenshuriken_move=CreateTrigger()
call DisableTrigger(gg_trg_Rasenshuriken_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Rasenshuriken_move,.01)
call TriggerAddAction(gg_trg_Rasenshuriken_move,function Trig_Rasenshuriken_move_Actions)
set gg_trg_Rasenshuriken_damage=CreateTrigger()
call DisableTrigger(gg_trg_Rasenshuriken_damage)
call TriggerRegisterTimerEventPeriodic(gg_trg_Rasenshuriken_damage,.05)
call TriggerAddAction(gg_trg_Rasenshuriken_damage,function Trig_Rasenshuriken_damage_Actions)
set gg_trg_Kagebunshin_no_Jutsu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kagebunshin_no_Jutsu,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Kagebunshin_no_Jutsu,Condition(function Trig_Kagebunshin_no_Jutsu_Conditions))
call TriggerAddAction(gg_trg_Kagebunshin_no_Jutsu,function Trig_Kagebunshin_no_Jutsu_Actions)
set gg_trg_Kagebunshin_no_Jutsu_Check=CreateTrigger()
call DisableTrigger(gg_trg_Kagebunshin_no_Jutsu_Check)
call TriggerRegisterTimerEventPeriodic(gg_trg_Kagebunshin_no_Jutsu_Check,.1)
call TriggerAddAction(gg_trg_Kagebunshin_no_Jutsu_Check,function Trig_Kagebunshin_no_Jutsu_Check_Actions)
set gg_trg_Senpou_Chou_Odama_Rasen_Tarengan=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Senpou_Chou_Odama_Rasen_Tarengan,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Senpou_Chou_Odama_Rasen_Tarengan,Condition(function Trig_Senpou_Chou_Odama_Rasen_Tarengan_Conditions))
call TriggerAddAction(gg_trg_Senpou_Chou_Odama_Rasen_Tarengan,function Trig_Senpou_Chou_Odama_Rasen_Tarengan_Actions)
set gg_trg_Senpou_Chou_Odama_Timer=CreateTrigger()
call DisableTrigger(gg_trg_Senpou_Chou_Odama_Timer)
call TriggerRegisterTimerEventPeriodic(gg_trg_Senpou_Chou_Odama_Timer,.04)
call TriggerAddAction(gg_trg_Senpou_Chou_Odama_Timer,function Trig_Senpou_Chou_Odama_Timer_Actions)
set gg_trg_Clear_Dummy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Clear_Dummy,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Clear_Dummy,Condition(function Trig_Clear_Dummy_Conditions))
call TriggerAddAction(gg_trg_Clear_Dummy,function Trig_Clear_Dummy_Actions)
call InitTrig_Kurama()
set gg_trg_Blow=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Blow,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Blow,Condition(function Trig_Blow_Conditions))
call TriggerAddAction(gg_trg_Blow,function Trig_Blow_Actions)
set gg_trg_Blow_Move=CreateTrigger()
call DisableTrigger(gg_trg_Blow_Move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Blow_Move,.03)
call TriggerAddAction(gg_trg_Blow_Move,function Trig_Blow_Move_Actions)
set gg_trg_Earth_slam=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Earth_slam,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Earth_slam,Condition(function Trig_Earth_slam_Conditions))
call TriggerAddAction(gg_trg_Earth_slam,function Trig_Earth_slam_Actions)
set gg_trg_Mana=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Mana,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Mana,Condition(function Trig_Mana_Conditions))
call TriggerAddAction(gg_trg_Mana,function Trig_Mana_Actions)
set gg_trg_Mana_end=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Mana_end,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(gg_trg_Mana_end,Condition(function Trig_Mana_end_Conditions))
call TriggerAddAction(gg_trg_Mana_end,function Trig_Mana_end_Actions)
call InitTrig_Ninpo_Snake_spell()
set gg_trg_Beast_Dies=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Beast_Dies,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Beast_Dies,Condition(function Trig_Beast_Dies_Conditions))
call TriggerAddAction(gg_trg_Beast_Dies,function Trig_Beast_Dies_Actions)
set gg_trg_Ninpo_Rat=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Ninpo_Rat,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Ninpo_Rat,Condition(function Trig_Ninpo_Rat_Conditions))
call TriggerAddAction(gg_trg_Ninpo_Rat,function Trig_Ninpo_Rat_Actions)
set gg_trg_Ninpo_Rat_dead=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Ninpo_Rat_dead,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Ninpo_Rat_dead,Condition(function Trig_Ninpo_Rat_dead_Conditions))
call TriggerAddAction(gg_trg_Ninpo_Rat_dead,function Trig_Ninpo_Rat_dead_Actions)
set gg_trg_Ninpo_Gigant=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Ninpo_Gigant,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Ninpo_Gigant,Condition(function Trig_Ninpo_Gigant_Conditions))
call TriggerAddAction(gg_trg_Ninpo_Gigant,function Trig_Ninpo_Gigant_Actions)
set gg_trg_Ninpo_Dragon=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Ninpo_Dragon,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Ninpo_Dragon,Condition(function Trig_Ninpo_Dragon_Conditions))
call TriggerAddAction(gg_trg_Ninpo_Dragon,function Trig_Ninpo_Dragon_Actions)
set gg_trg_Ninpo_Dragon_Move=CreateTrigger()
call DisableTrigger(gg_trg_Ninpo_Dragon_Move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Ninpo_Dragon_Move,.02)
call TriggerAddAction(gg_trg_Ninpo_Dragon_Move,function Trig_Ninpo_Dragon_Move_Actions)
set gg_trg_Geppou=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Geppou,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Geppou,Condition(function Trig_Geppou_Conditions))
call TriggerAddAction(gg_trg_Geppou,function Trig_Geppou_Actions)
set gg_trg_Gai_Senpu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Gai_Senpu,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Gai_Senpu,Condition(function Trig_Gai_Senpu_Conditions))
call TriggerAddAction(gg_trg_Gai_Senpu,function Trig_Gai_Senpu_Actions)
set gg_trg_Gai_Senpu_damage=CreateTrigger()
call DisableTrigger(gg_trg_Gai_Senpu_damage)
call TriggerRegisterTimerEventPeriodic(gg_trg_Gai_Senpu_damage,.28)
call TriggerAddCondition(gg_trg_Gai_Senpu_damage,Condition(function Trig_Gai_Senpu_damage_Conditions))
call TriggerAddAction(gg_trg_Gai_Senpu_damage,function Trig_Gai_Senpu_damage_Actions)
set gg_trg_Gai_bomb=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Gai_bomb,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Gai_bomb,Condition(function Trig_Gai_bomb_Conditions))
call TriggerAddAction(gg_trg_Gai_bomb,function Trig_Gai_bomb_Actions)
set gg_trg_Gai_bomb_damage=CreateTrigger()
call DisableTrigger(gg_trg_Gai_bomb_damage)
call TriggerRegisterTimerEventPeriodic(gg_trg_Gai_bomb_damage,.02)
call TriggerAddCondition(gg_trg_Gai_bomb_damage,Condition(function Trig_Gai_bomb_damage_Conditions))
call TriggerAddAction(gg_trg_Gai_bomb_damage,function Trig_Gai_bomb_damage_Actions)
call InitTrig_Bykugan()
call InitTrig_BykuganAttack()
call InitTrig_AirFist()
call InitTrig_Kaiten()
call InitTrig_Ladon()
call InitTrig_Sixtyfour()
call InitTrig_Sixtyfour_2()
call InitTrig_CleanerN()
set gg_trg_Dummy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Dummy,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Dummy,Condition(function Trig_Dummy_Conditions))
call TriggerAddAction(gg_trg_Dummy,function Trig_Dummy_Actions)
set gg_trg_Lee_Senpu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Lee_Senpu,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Lee_Senpu,Condition(function Trig_Lee_Senpu_Conditions))
call TriggerAddAction(gg_trg_Lee_Senpu,function Trig_Lee_Senpu_Actions)
set gg_trg_Lee_Senpu_damage=CreateTrigger()
call DisableTrigger(gg_trg_Lee_Senpu_damage)
call TriggerRegisterTimerEventPeriodic(gg_trg_Lee_Senpu_damage,.28)
call TriggerAddCondition(gg_trg_Lee_Senpu_damage,Condition(function Trig_Lee_Senpu_damage_Conditions))
call TriggerAddAction(gg_trg_Lee_Senpu_damage,function Trig_Lee_Senpu_damage_Actions)
set gg_trg_Front_Lotus=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Front_Lotus,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Front_Lotus,Condition(function Trig_Front_Lotus_Conditions))
call TriggerAddAction(gg_trg_Front_Lotus,function Trig_Front_Lotus_Actions)
set gg_trg_FL_move=CreateTrigger()
call DisableTrigger(gg_trg_FL_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_FL_move,.02)
call TriggerAddAction(gg_trg_FL_move,function Trig_FL_move_Actions)
call InitTrig_Lee_Taydjutsu()
call InitTrig_Lee_Taydjutsu2()
call InitTrig_Lee_Taydjutsu3()
set gg_trg_Shuriken=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Shuriken,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Shuriken,Condition(function Trig_Shuriken_Conditions))
call TriggerAddAction(gg_trg_Shuriken,function Trig_Shuriken_Actions)
set gg_trg_Shuriken_damage=CreateTrigger()
call DisableTrigger(gg_trg_Shuriken_damage)
call TriggerRegisterTimerEventPeriodic(gg_trg_Shuriken_damage,.01)
call TriggerAddAction(gg_trg_Shuriken_damage,function Trig_Shuriken_damage_Actions)
set gg_trg_Shuriken_Die=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Shuriken_Die,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_Shuriken_Die,function Trig_Shuriken_Die_Actions)
set gg_trg_Fuuma=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Fuuma,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Fuuma,Condition(function Trig_Fuuma_Conditions))
call TriggerAddAction(gg_trg_Fuuma,function Trig_Fuuma_Actions)
set gg_trg_Fuuma_damage=CreateTrigger()
call DisableTrigger(gg_trg_Fuuma_damage)
call TriggerRegisterTimerEventPeriodic(gg_trg_Fuuma_damage,.01)
call TriggerAddAction(gg_trg_Fuuma_damage,function Trig_Fuuma_damage_Actions)
set gg_trg_Fuuma_Die=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Fuuma_Die,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Fuuma_Die,Condition(function Trig_Fuuma_Die_Conditions))
call TriggerAddAction(gg_trg_Fuuma_Die,function Trig_Fuuma_Die_Actions)
call InitTrig_Drakon_Bleznesi()
call InitTrig_remove_D()
call InitTrig_Djidanda()
call InitTrig_Gaara_Shield()
set gg_trg_Sabakyuu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sabakyuu,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Sabakyuu,Condition(function Trig_Sabakyuu_Conditions))
call TriggerAddAction(gg_trg_Sabakyuu,function Trig_Sabakyuu_Actions)
call InitTrig_Yama_pesok()
set gg_trg_Ruuysa_spell=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Ruuysa_spell,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Ruuysa_spell,Condition(function Trig_Ruuysa_spell_Conditions))
call TriggerAddAction(gg_trg_Ruuysa_spell,function Trig_Ruuysa_spell_Actions)
set gg_trg_Ruuysa_spell_end=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Ruuysa_spell_end,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(gg_trg_Ruuysa_spell_end,Condition(function Trig_Ruuysa_spell_end_Conditions))
call TriggerAddAction(gg_trg_Ruuysa_spell_end,function Trig_Ruuysa_spell_end_Actions)
call InitTrig_Shikaku()
call InitTrig_Shikaku_remove()
call InitTrig_Lava()
set gg_trg_Lava_2=CreateTrigger()
call DisableTrigger(gg_trg_Lava_2)
call TriggerRegisterTimerEvent(gg_trg_Lava_2,.17,true)
call TriggerAddAction(gg_trg_Lava_2,function Trig_Lava_2_Actions)
call InitTrig_Lava_end()
call InitTrig_Par()
set gg_trg_Remove_Raykage=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Remove_Raykage,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Remove_Raykage,Condition(function Trig_Remove_Raykage_Conditions))
call TriggerAddAction(gg_trg_Remove_Raykage,function Trig_Remove_Raykage_Actions)
set gg_trg_Elbow=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Elbow,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Elbow,Condition(function Trig_Elbow_Conditions))
call TriggerAddAction(gg_trg_Elbow,function Trig_Elbow_Actions)
set gg_trg_E_move=CreateTrigger()
call DisableTrigger(gg_trg_E_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_E_move,.02)
call TriggerAddAction(gg_trg_E_move,function Trig_E_move_Actions)
set gg_trg_E_knockback=CreateTrigger()
call DisableTrigger(gg_trg_E_knockback)
call TriggerRegisterTimerEventPeriodic(gg_trg_E_knockback,.01)
call TriggerAddAction(gg_trg_E_knockback,function Trig_E_knockback_Actions)
set gg_trg_Guillotine_Drop=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Guillotine_Drop,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Guillotine_Drop,Condition(function Trig_Guillotine_Drop_Conditions))
call TriggerAddAction(gg_trg_Guillotine_Drop,function Trig_Guillotine_Drop_Actions)
set gg_trg_GD_loop=CreateTrigger()
call DisableTrigger(gg_trg_GD_loop)
call TriggerRegisterTimerEventPeriodic(gg_trg_GD_loop,.06)
call TriggerAddAction(gg_trg_GD_loop,function Trig_GD_loop_Actions)
set gg_trg_IB_hash=CreateTrigger()
call TriggerAddAction(gg_trg_IB_hash,function Trig_IB_hash_Actions)
set gg_trg_IB_cast=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_IB_cast,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_IB_cast,Condition(function Trig_IB_cast_Conditions))
call TriggerAddAction(gg_trg_IB_cast,function Trig_IB_cast_Actions)
set gg_trg_IB_loop=CreateTrigger()
call DisableTrigger(gg_trg_IB_loop)
call TriggerRegisterTimerEventPeriodic(gg_trg_IB_loop,.05)
call TriggerAddAction(gg_trg_IB_loop,function Trig_IB_loop_Actions)
set gg_trg_Raigyaku_Suihei=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Raigyaku_Suihei,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Raigyaku_Suihei,Condition(function Trig_Raigyaku_Suihei_Conditions))
call TriggerAddAction(gg_trg_Raigyaku_Suihei,function Trig_Raigyaku_Suihei_Actions)
set gg_trg_RS_loop=CreateTrigger()
call DisableTrigger(gg_trg_RS_loop)
call TriggerRegisterTimerEventPeriodic(gg_trg_RS_loop,.02)
call TriggerAddAction(gg_trg_RS_loop,function Trig_RS_loop_Actions)
set gg_trg_RS_knockback=CreateTrigger()
call DisableTrigger(gg_trg_RS_knockback)
call TriggerRegisterTimerEventPeriodic(gg_trg_RS_knockback,.02)
call TriggerAddAction(gg_trg_RS_knockback,function Trig_RS_knockback_Actions)
set gg_trg_Kengan_no_Jutsu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kengan_no_Jutsu,EVENT_PLAYER_UNIT_SPELL_CHANNEL)
call TriggerAddCondition(gg_trg_Kengan_no_Jutsu,Condition(function Trig_Kengan_no_Jutsu_Conditions))
call TriggerAddAction(gg_trg_Kengan_no_Jutsu,function Trig_Kengan_no_Jutsu_Actions)
set gg_trg_Oonoki_KnJ_Loop=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_Oonoki_KnJ_Loop,udg_Oonoki_K_T)
call TriggerAddAction(gg_trg_Oonoki_KnJ_Loop,function Trig_Oonoki_KnJ_Loop_Actions)
set gg_trg_Learn_Genkai_Hakuri_no_Jutsu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Learn_Genkai_Hakuri_no_Jutsu,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg_Learn_Genkai_Hakuri_no_Jutsu,Condition(function Trig_Learn_Genkai_Hakuri_no_Jutsu_Conditions))
call TriggerAddAction(gg_trg_Learn_Genkai_Hakuri_no_Jutsu,function Trig_Learn_Genkai_Hakuri_no_Jutsu_Actions)
set gg_trg_Genkai_Hakuri_no_Jutsu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Genkai_Hakuri_no_Jutsu,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Genkai_Hakuri_no_Jutsu,Condition(function Trig_Genkai_Hakuri_no_Jutsu_Conditions))
call TriggerAddAction(gg_trg_Genkai_Hakuri_no_Jutsu,function Trig_Genkai_Hakuri_no_Jutsu_Actions)
set gg_trg_Mega_Jinton=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Mega_Jinton,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Mega_Jinton,Condition(function Trig_Mega_Jinton_Conditions))
call TriggerAddAction(gg_trg_Mega_Jinton,function Trig_Mega_Jinton_Actions)
set gg_trg_MJ_Loop=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_MJ_Loop,udg_Oonoki_MJ_T[0])
call TriggerAddAction(gg_trg_MJ_Loop,function Trig_MJ_Loop_Actions)
set gg_trg_Wood_health=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Wood_health,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Wood_health,Condition(function Trig_Wood_health_Conditions))
call TriggerAddAction(gg_trg_Wood_health,function Trig_Wood_health_Actions)
call InitTrig_Futon_Shinku_Shuriken()
call InitTrig_Futon_Shinkuha()
call InitTrig_Sh_Danzo()
call InitTrig_USF()
set gg_trg_Baku=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Baku,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Baku,Condition(function Trig_Baku_Conditions))
call TriggerAddAction(gg_trg_Baku,function Trig_Baku_Actions)
set gg_trg_Baku_Move=CreateTrigger()
call DisableTrigger(gg_trg_Baku_Move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Baku_Move,.03)
call TriggerAddAction(gg_trg_Baku_Move,function Trig_Baku_Move_Actions)
set gg_trg_Izanagi_Int=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Izanagi_Int,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Izanagi_Int,Condition(function Trig_Izanagi_Int_Conditions))
call TriggerAddAction(gg_trg_Izanagi_Int,function Trig_Izanagi_Int_Actions)
set gg_trg_Loop_iz=CreateTrigger()
call DisableTrigger(gg_trg_Loop_iz)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Loop_iz,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Loop_iz,Condition(function Trig_Loop_iz_Conditions))
call TriggerAddAction(gg_trg_Loop_iz,function Trig_Loop_iz_Actions)
call InitTrig_Koto()
set gg_trg_Delete=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Delete,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Delete,Condition(function Trig_Delete_Conditions))
call TriggerAddAction(gg_trg_Delete,function Trig_Delete_Actions)
call InitTrig_Slashing_blow()
call InitTrig_Katun()
call InitTrig_MSH()
set gg_trg_Clone=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Clone,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Clone,Condition(function Trig_Clone_Conditions))
call TriggerAddAction(gg_trg_Clone,function Trig_Clone_Actions)
set gg_trg_Clone2=CreateTrigger()
call DisableTrigger(gg_trg_Clone2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Clone2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Clone2,Condition(function Trig_Clone2_Conditions))
call TriggerAddAction(gg_trg_Clone2,function Trig_Clone2_Actions)
set gg_trg_Tsukyomi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Tsukyomi,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Tsukyomi,Condition(function Trig_Tsukyomi_Conditions))
call TriggerAddAction(gg_trg_Tsukyomi,function Trig_Tsukyomi_Actions)
set gg_trg_Tsukyomi_damage=CreateTrigger()
call DisableTrigger(gg_trg_Tsukyomi_damage)
call TriggerRegisterTimerEventPeriodic(gg_trg_Tsukyomi_damage,.5)
call TriggerAddAction(gg_trg_Tsukyomi_damage,function Trig_Tsukyomi_damage_Actions)
set gg_trg_Tsukyomi_dead=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Tsukyomi_dead,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Tsukyomi_dead,Condition(function Trig_Tsukyomi_dead_Conditions))
call TriggerAddAction(gg_trg_Tsukyomi_dead,function Trig_Tsukyomi_dead_Actions)
set gg_trg_Crow_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Crow_2,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Crow_2,Condition(function Trig_Crow_2_Conditions))
call TriggerAddAction(gg_trg_Crow_2,function Trig_Crow_2_Actions)
call InitTrig_SusanooItachiAttack()
set gg_trg_SusanooItachiDef=CreateTrigger()
call TriggerAddCondition(gg_trg_SusanooItachiDef,Condition(function SusanooItachiDef_Cond))
call TriggerAddAction(gg_trg_SusanooItachiDef,function SusanooItachiDef_Act)
set gg_trg_Samehada_chakra=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Samehada_chakra,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Samehada_chakra,Condition(function Trig_Samehada_chakra_Conditions))
call TriggerAddAction(gg_trg_Samehada_chakra,function Trig_Samehada_chakra_Actions)
set gg_trg_Samehada_Heal=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Samehada_Heal,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Samehada_Heal,Condition(function Trig_Samehada_Heal_Conditions))
call TriggerAddAction(gg_trg_Samehada_Heal,function Trig_Samehada_Heal_Actions)
set gg_trg_Sphere=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sphere,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Sphere,Condition(function Trig_Sphere_Conditions))
call TriggerAddAction(gg_trg_Sphere,function Trig_Sphere_Actions)
set gg_trg_Suitun_shark=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Suitun_shark,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Suitun_shark,Condition(function Trig_Suitun_shark_Conditions))
call TriggerAddAction(gg_trg_Suitun_shark,function Trig_Suitun_shark_Actions)
set gg_trg_Suitun_shark_damage=CreateTrigger()
call DisableTrigger(gg_trg_Suitun_shark_damage)
call TriggerRegisterTimerEventPeriodic(gg_trg_Suitun_shark_damage,.03)
call TriggerAddAction(gg_trg_Suitun_shark_damage,function Trig_Suitun_shark_damage_Actions)
set gg_trg_Suitun_surou=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Suitun_surou,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Suitun_surou,Condition(function Trig_Suitun_surou_Conditions))
call TriggerAddAction(gg_trg_Suitun_surou,function Trig_Suitun_surou_Actions)
set gg_trg_Suitun_bakeshi_shouha=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Suitun_bakeshi_shouha,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Suitun_bakeshi_shouha,Condition(function Trig_Suitun_bakeshi_shouha_Conditions))
call TriggerAddAction(gg_trg_Suitun_bakeshi_shouha,function Trig_Suitun_bakeshi_shouha_Actions)
set gg_trg_Suitun_bakeshi_shouha_end=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Suitun_bakeshi_shouha_end,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(gg_trg_Suitun_bakeshi_shouha_end,Condition(function Trig_Suitun_bakeshi_shouha_end_Conditions))
call TriggerAddAction(gg_trg_Suitun_bakeshi_shouha_end,function Trig_Suitun_bakeshi_shouha_end_Actions)
set gg_trg_Samehada=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Samehada,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Samehada,Condition(function Trig_Samehada_Conditions))
call TriggerAddAction(gg_trg_Samehada,function Trig_Samehada_Actions)
set gg_trg_Samehada_move=CreateTrigger()
call DisableTrigger(gg_trg_Samehada_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Samehada_move,.01)
call TriggerAddAction(gg_trg_Samehada_move,function Trig_Samehada_move_Actions)
set gg_trg_Samehada_dead=CreateTrigger()
call DisableTrigger(gg_trg_Samehada_dead)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Samehada_dead,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Samehada_dead,Condition(function Trig_Samehada_dead_Conditions))
call TriggerAddAction(gg_trg_Samehada_dead,function Trig_Samehada_dead_Actions)
set gg_trg_PeinAttack=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_PeinAttack,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_PeinAttack,Condition(function Trig_PeinAttack_Conditions))
call TriggerAddAction(gg_trg_PeinAttack,function Trig_PeinAttack_Actions)
set gg_trg_ShieldPole=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ShieldPole,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_ShieldPole,Condition(function Trig_ShieldPole_Conditions))
call TriggerAddAction(gg_trg_ShieldPole,function Trig_ShieldPole_Actions)
set gg_trg_ShieldPole2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ShieldPole2,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(gg_trg_ShieldPole2,Condition(function Trig_ShieldPole2_Conditions))
call TriggerAddAction(gg_trg_ShieldPole2,function Trig_ShieldPole2_Actions)
set gg_trg_ShieldPoleEnter=CreateTrigger()
call DisableTrigger(gg_trg_ShieldPoleEnter)
call TriggerRegisterTimerEventPeriodic(gg_trg_ShieldPoleEnter,1.)
call TriggerAddAction(gg_trg_ShieldPoleEnter,function Trig_ShieldPoleEnter_Actions)
set gg_trg_Mana_1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Mana_1,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Mana_1,Condition(function Trig_Mana_1_Conditions))
call TriggerAddAction(gg_trg_Mana_1,function Trig_Mana_1_Actions)
set gg_trg_Mana_end_1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Mana_end_1,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(gg_trg_Mana_end_1,Condition(function Trig_Mana_end_1_Conditions))
call TriggerAddAction(gg_trg_Mana_end_1,function Trig_Mana_end_1_Actions)
set gg_trg_bansho_tenin=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_bansho_tenin,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_bansho_tenin,Condition(function Trig_bansho_tenin_Conditions))
call TriggerAddAction(gg_trg_bansho_tenin,function Trig_bansho_tenin_Actions)
set gg_trg_bansho_tenin_move=CreateTrigger()
call DisableTrigger(gg_trg_bansho_tenin_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_bansho_tenin_move,.01)
call TriggerAddAction(gg_trg_bansho_tenin_move,function Trig_bansho_tenin_move_Actions)
set gg_trg_ComeOnHere=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ComeOnHere,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_ComeOnHere,Condition(function Trig_ComeOnHere_Conditions))
call TriggerAddAction(gg_trg_ComeOnHere,function Trig_ComeOnHere_Actions)
set gg_trg_SpikeofNagato=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_SpikeofNagato,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_SpikeofNagato,Condition(function Trig_SpikeofNagato_Conditions))
call TriggerAddAction(gg_trg_SpikeofNagato,function Trig_SpikeofNagato_Actions)
set gg_trg_SpikeofNagato_attack=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_SpikeofNagato_attack,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_SpikeofNagato_attack,Condition(function Trig_SpikeofNagato_attack_Conditions))
call TriggerAddAction(gg_trg_SpikeofNagato_attack,function Trig_SpikeofNagato_attack_Actions)
set gg_trg_RadiusNagatoControl=CreateTrigger()
call DisableTrigger(gg_trg_RadiusNagatoControl)
call TriggerRegisterTimerEventPeriodic(gg_trg_RadiusNagatoControl,1.)
call TriggerAddCondition(gg_trg_RadiusNagatoControl,Condition(function Trig_RadiusNagatoControl_Conditions))
call TriggerAddAction(gg_trg_RadiusNagatoControl,function Trig_RadiusNagatoControl_Actions)
set gg_trg_Rinnegan=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Rinnegan,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg_Rinnegan,Condition(function Trig_Rinnegan_Conditions))
call TriggerAddAction(gg_trg_Rinnegan,function Trig_Rinnegan_Actions)
set gg_trg_RevivePath=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_RevivePath,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_RevivePath,Condition(function Trig_RevivePath_Conditions))
call TriggerAddAction(gg_trg_RevivePath,function Trig_RevivePath_Actions)
call InitTrig_PeinShinra()
call InitTrig_PeinShibaku()
call InitTrig_Summon()
call InitTrig_RinneSpawn()
call InitTrig_Asura()
set gg_trg_Kats_C1_mine=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kats_C1_mine,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Kats_C1_mine,Condition(function Trig_Kats_C1_mine_Conditions))
call TriggerAddAction(gg_trg_Kats_C1_mine,function Trig_Kats_C1_mine_Actions)
set gg_trg_Kats_C1=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kats_C1,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Kats_C1,Condition(function Trig_Kats_C1_Conditions))
call TriggerAddAction(gg_trg_Kats_C1,function Trig_Kats_C1_Actions)
set gg_trg_Kats_C1_dead=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kats_C1_dead,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Kats_C1_dead,Condition(function Trig_Kats_C1_dead_Conditions))
call TriggerAddAction(gg_trg_Kats_C1_dead,function Trig_Kats_C1_dead_Actions)
set gg_trg_Metall_Attack=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Metall_Attack,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Metall_Attack,Condition(function Trig_Metall_Attack_Conditions))
call TriggerAddAction(gg_trg_Metall_Attack,function Trig_Metall_Attack_Actions)
set gg_trg_Senjusobu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Senjusobu,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Senjusobu,Condition(function Trig_Senjusobu_Conditions))
call TriggerAddAction(gg_trg_Senjusobu,function Trig_Senjusobu_Actions)
set gg_trg_Satetsu_Kaiho=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Satetsu_Kaiho,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Satetsu_Kaiho,Condition(function Trig_Sadets_Kaiho_Conditions))
call TriggerAddAction(gg_trg_Satetsu_Kaiho,function Trig_Sadets_Kaiho_Actions)
set gg_trg_Circular_Saw_Blade=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Circular_Saw_Blade,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Circular_Saw_Blade,Condition(function Trig_Circular_Saw_Blade_Conditions))
call TriggerAddAction(gg_trg_Circular_Saw_Blade,function Trig_Circular_Saw_Blade_Actions)
set gg_trg_Hiruko_Kachyose=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hiruko_Kachyose,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Hiruko_Kachyose,Condition(function Trig_Hiruko_Kachyose_Conditions))
call TriggerAddAction(gg_trg_Hiruko_Kachyose,function Trig_Hiruko_Kachyose_Actions)
set gg_trg_Hiruko_Die=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hiruko_Die,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Hiruko_Die,Condition(function Trig_Hiruko_Die_Conditions))
call TriggerAddAction(gg_trg_Hiruko_Die,function Trig_Hiruko_Die_Actions)
set gg_trg_Unload=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Unload,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Unload,Condition(function Trig_Unload_Conditions))
call TriggerAddAction(gg_trg_Unload,function Trig_Unload_Actions)
set gg_trg_Hiruko_Tail_Attack=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hiruko_Tail_Attack,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Hiruko_Tail_Attack,Condition(function Trig_Hiruko_Tail_Attack_Conditions))
call TriggerAddAction(gg_trg_Hiruko_Tail_Attack,function Trig_Hiruko_Tail_Attack_Actions)
set gg_trg_Hiruko_Toxic_Bombs=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hiruko_Toxic_Bombs,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Hiruko_Toxic_Bombs,Condition(function Trig_Hiruko_Toxic_Bombs_Conditions))
call TriggerAddAction(gg_trg_Hiruko_Toxic_Bombs,function Trig_Hiruko_Toxic_Bombs_Actions)
set gg_trg_Hiruko_Needle_Shot_START=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hiruko_Needle_Shot_START,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Hiruko_Needle_Shot_START,Condition(function Trig_Hiruko_Needle_Shot_START_Conditions))
call TriggerAddAction(gg_trg_Hiruko_Needle_Shot_START,function Trig_Hiruko_Needle_Shot_START_Actions)
set gg_trg_Hiruko_Needle_Shot_DIE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hiruko_Needle_Shot_DIE,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Hiruko_Needle_Shot_DIE,Condition(function Trig_Hiruko_Needle_Shot_DIE_Conditions))
call TriggerAddAction(gg_trg_Hiruko_Needle_Shot_DIE,function Trig_Hiruko_Needle_Shot_DIE_Actions)
set gg_trg_Hiruko_Needle_Shot_Attack=CreateTrigger()
call DisableTrigger(gg_trg_Hiruko_Needle_Shot_Attack)
call TriggerRegisterTimerEventPeriodic(gg_trg_Hiruko_Needle_Shot_Attack,.03)
call TriggerAddAction(gg_trg_Hiruko_Needle_Shot_Attack,function Trig_Hiruko_Needle_Shot_Attack_Actions)
set gg_trg_Hiruko_Needle_Shot_END=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hiruko_Needle_Shot_END,EVENT_PLAYER_UNIT_SPELL_FINISH)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hiruko_Needle_Shot_END,EVENT_PLAYER_UNIT_SPELL_ENDCAST)
call TriggerAddCondition(gg_trg_Hiruko_Needle_Shot_END,Condition(function Trig_Hiruko_Needle_Shot_END_Conditions))
call TriggerAddAction(gg_trg_Hiruko_Needle_Shot_END,function Trig_Hiruko_Needle_Shot_END_Actions)
set gg_trg_Real_Body=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Real_Body,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Real_Body,Condition(function Trig_Real_Body_Conditions))
call TriggerAddAction(gg_trg_Real_Body,function Trig_Real_Body_Actions)
call InitTrig_Real_Body_Deathe()
set gg_trg_Flamethrower=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Flamethrower,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Flamethrower,Condition(function Trig_Flamethrower_Conditions))
call TriggerAddAction(gg_trg_Flamethrower,function Trig_Flamethrower_Actions)
set gg_trg_Waterthrower=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Waterthrower,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Waterthrower,Condition(function Trig_Waterthrower_Conditions))
call TriggerAddAction(gg_trg_Waterthrower,function Trig_Waterthrower_Actions)
set gg_trg_Sasori_Hook=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sasori_Hook,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Sasori_Hook,Condition(function Trig_Sasori_Hook_Conditions))
call TriggerAddAction(gg_trg_Sasori_Hook,function Trig_Sasori_Hook_Actions)
set gg_trg_Red_Puppets_Attack=CreateTrigger()
call DisableTrigger(gg_trg_Red_Puppets_Attack)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Red_Puppets_Attack,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Red_Puppets_Attack,Condition(function Trig_Red_Puppets_Attack_Conditions))
call TriggerAddAction(gg_trg_Red_Puppets_Attack,function Trig_Red_Puppets_Attack_Actions)
set gg_trg_Kaedjin=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kaedjin,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Kaedjin,Condition(function Trig_Kaedjin_Conditions))
call TriggerAddAction(gg_trg_Kaedjin,function Trig_Kaedjin_Actions)
set gg_trg_Earth_teleport=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Earth_teleport,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Earth_teleport,Condition(function Trig_Earth_teleport_Conditions))
call TriggerAddAction(gg_trg_Earth_teleport,function Trig_Earth_teleport_Actions)
call InitTrig_Di()
call InitTrig_Di_1()
call InitTrig_Stone()
set gg_trg_MSH_Tobi=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_MSH_Tobi,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_MSH_Tobi,Condition(function Trig_MSH_Tobi_Conditions))
call TriggerAddAction(gg_trg_MSH_Tobi,function Trig_MSH_Tobi_Actions)
set gg_trg_Kamuy_shuriken=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kamuy_shuriken,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Kamuy_shuriken,Condition(function Trig_Kamuy_shuriken_Conditions))
call TriggerAddAction(gg_trg_Kamuy_shuriken,function Trig_Kamuy_shuriken_Actions)
set gg_trg_Kamuy_shuriken_Move=CreateTrigger()
call DisableTrigger(gg_trg_Kamuy_shuriken_Move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Kamuy_shuriken_Move,.02)
call TriggerAddAction(gg_trg_Kamuy_shuriken_Move,function Trig_Kamuy_shuriken_Move_Actions)
set gg_trg_Kamuy_shuriken_Dies=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kamuy_shuriken_Dies,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg_Kamuy_shuriken_Dies,function Trig_Kamuy_shuriken_Dies_Actions)
set gg_trg_Kamuy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kamuy,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Kamuy,Condition(function Trig_Kamuy_Conditions))
call TriggerAddAction(gg_trg_Kamuy,function Trig_Kamuy_Actions)
set gg_trg_Kamuy_Black_Hole=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kamuy_Black_Hole,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Kamuy_Black_Hole,Condition(function Trig_Kamuy_Black_Hole_Conditions))
call TriggerAddAction(gg_trg_Kamuy_Black_Hole,function Trig_Kamuy_Black_Hole_Actions)
set gg_trg_Kamuy_Black_Hole_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kamuy_Black_Hole_2,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Kamuy_Black_Hole_2,Condition(function Trig_Kamuy_Black_Hole_2_Conditions))
call TriggerAddAction(gg_trg_Kamuy_Black_Hole_2,function Trig_Kamuy_Black_Hole_2_Actions)
set gg_trg_Kamuy_Black_Hole_2_move=CreateTrigger()
call DisableTrigger(gg_trg_Kamuy_Black_Hole_2_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Kamuy_Black_Hole_2_move,.03)
call TriggerAddAction(gg_trg_Kamuy_Black_Hole_2_move,function Trig_Kamuy_Black_Hole_2_move_Actions)
set gg_trg_KamuyWorldLeave=CreateTrigger()
call TriggerRegisterLeaveRectSimple(gg_trg_KamuyWorldLeave,gg_rct_AnozerWorld)
call TriggerAddAction(gg_trg_KamuyWorldLeave,function Trig_KamuyWorldLeave_Actions)
set gg_trg_Kamuy_Black_Hole_3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kamuy_Black_Hole_3,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Kamuy_Black_Hole_3,Condition(function Trig_Kamuy_Black_Hole_3_Conditions))
call TriggerAddAction(gg_trg_Kamuy_Black_Hole_3,function Trig_Kamuy_Black_Hole_3_Actions)
set gg_trg_Gedo_mazo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Gedo_mazo,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Gedo_mazo,Condition(function Trig_Gedo_mazo_Conditions))
call TriggerAddAction(gg_trg_Gedo_mazo,function Trig_Gedo_mazo_Actions)
call InitTrig_Tobi_Kotun()
call InitTrig_RikudoObitoAttack()
call InitTrig_RikudoObitoBareer()
call InitTrig_RikudoObitoFlower()
set gg_trg_RINNEGAN=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_RINNEGAN,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(gg_trg_RINNEGAN,Condition(function Trig_RINNEGAN_Conditions))
call TriggerAddAction(gg_trg_RINNEGAN,function Trig_RINNEGAN_Actions)
set gg_trg_RINNEGAN_end=CreateTrigger()
call DisableTrigger(gg_trg_RINNEGAN_end)
call TriggerRegisterAnyUnitEventBJ(gg_trg_RINNEGAN_end,EVENT_PLAYER_UNIT_ISSUED_ORDER)
call TriggerAddCondition(gg_trg_RINNEGAN_end,Condition(function Trig_RINNEGAN_end_Conditions))
call TriggerAddAction(gg_trg_RINNEGAN_end,function Trig_RINNEGAN_end_Actions)
set gg_trg_KATONUCHIHA=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_KATONUCHIHA,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_KATONUCHIHA,Condition(function Trig_KATONUCHIHA_Conditions))
call TriggerAddAction(gg_trg_KATONUCHIHA,function Trig_KATONUCHIHA_Actions)
set gg_trg_KATONUCHIHA_Move=CreateTrigger()
call DisableTrigger(gg_trg_KATONUCHIHA_Move)
call TriggerRegisterTimerEventPeriodic(gg_trg_KATONUCHIHA_Move,.05)
call TriggerAddAction(gg_trg_KATONUCHIHA_Move,function Trig_KATONUCHIHA_Move_Actions)
set gg_trg_TSUKIOMYMADARA=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_TSUKIOMYMADARA,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_TSUKIOMYMADARA,Condition(function Trig_TSUKIOMYMADARA_Conditions))
call TriggerAddAction(gg_trg_TSUKIOMYMADARA,function Trig_TSUKIOMYMADARA_Actions)
set gg_trg_TSUKIOMYMADARA_damage=CreateTrigger()
call DisableTrigger(gg_trg_TSUKIOMYMADARA_damage)
call TriggerRegisterTimerEventPeriodic(gg_trg_TSUKIOMYMADARA_damage,.6)
call TriggerAddAction(gg_trg_TSUKIOMYMADARA_damage,function Trig_TSUKIOMYMADARA_damage_Actions)
set gg_trg_MADARACLONES=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_MADARACLONES,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_MADARACLONES,Condition(function Trig_MADARACLONES_Conditions))
call TriggerAddAction(gg_trg_MADARACLONES,function Trig_MADARACLONES_Actions)
set gg_trg_MOVE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_MOVE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_MOVE,Condition(function Trig_MOVE_Conditions))
call TriggerAddAction(gg_trg_MOVE,function Trig_MOVE_Actions)
set gg_trg_WOODSTYLE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_WOODSTYLE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_WOODSTYLE,Condition(function Trig_WOODSTYLE_Conditions))
call TriggerAddAction(gg_trg_WOODSTYLE,function Trig_WOODSTYLE_Actions)
set gg_trg_WOODSTYLE_move=CreateTrigger()
call DisableTrigger(gg_trg_WOODSTYLE_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_WOODSTYLE_move,.14)
call TriggerAddAction(gg_trg_WOODSTYLE_move,function Trig_WOODSTYLE_move_Actions)
set gg_trg_WOODSTYLE_Dead=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_WOODSTYLE_Dead,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_WOODSTYLE_Dead,Condition(function Trig_WOODSTYLE_Dead_Conditions))
call TriggerAddAction(gg_trg_WOODSTYLE_Dead,function Trig_WOODSTYLE_Dead_Actions)
set gg_trg_GREENDRAGON=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_GREENDRAGON,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_GREENDRAGON,Condition(function Trig_GREENDRAGON_Conditions))
call TriggerAddAction(gg_trg_GREENDRAGON,function Trig_GREENDRAGON_Actions)
set gg_trg_GREENDRAGON_move=CreateTrigger()
call DisableTrigger(gg_trg_GREENDRAGON_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_GREENDRAGON_move,.08)
call TriggerAddAction(gg_trg_GREENDRAGON_move,function Trig_GREENDRAGON_move_Actions)
set gg_trg_GREENDRAGON_time=CreateTrigger()
call DisableTrigger(gg_trg_GREENDRAGON_time)
call TriggerRegisterTimerEventPeriodic(gg_trg_GREENDRAGON_time,.03)
call TriggerAddAction(gg_trg_GREENDRAGON_time,function Trig_GREENDRAGON_time_Actions)
set gg_trg_ABSORPTION=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_ABSORPTION,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_ABSORPTION,Condition(function Trig_ABSORPTION_Conditions))
call TriggerAddAction(gg_trg_ABSORPTION,function Trig_ABSORPTION_Actions)
set gg_trg_ABSORPTION_end=CreateTrigger()
call DisableTrigger(gg_trg_ABSORPTION_end)
call TriggerRegisterAnyUnitEventBJ(gg_trg_ABSORPTION_end,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_ABSORPTION_end,Condition(function Trig_ABSORPTION_end_Conditions))
call TriggerAddAction(gg_trg_ABSORPTION_end,function Trig_ABSORPTION_end_Actions)
set gg_trg_SUSANNO=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_SUSANNO,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_SUSANNO,Condition(function Trig_SUSANNO_Conditions))
call TriggerAddAction(gg_trg_SUSANNO,function Trig_SUSANNO_Actions)
set gg_trg_SUSANNO_move=CreateTrigger()
call DisableTrigger(gg_trg_SUSANNO_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_SUSANNO_move,.01)
call TriggerAddAction(gg_trg_SUSANNO_move,function Trig_SUSANNO_move_Actions)
set gg_trg_SUSANNO_attack=CreateTrigger()
call DisableTrigger(gg_trg_SUSANNO_attack)
call TriggerRegisterAnyUnitEventBJ(gg_trg_SUSANNO_attack,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_SUSANNO_attack,Condition(function Trig_SUSANNO_attack_Conditions))
call TriggerAddAction(gg_trg_SUSANNO_attack,function Trig_SUSANNO_attack_Actions)
set gg_trg_SUSANNO_die=CreateTrigger()
call DisableTrigger(gg_trg_SUSANNO_die)
call TriggerRegisterAnyUnitEventBJ(gg_trg_SUSANNO_die,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_SUSANNO_die,Condition(function Trig_SUSANNO_die_Conditions))
call TriggerAddAction(gg_trg_SUSANNO_die,function Trig_SUSANNO_die_Actions)
set gg_trg_SUSANNO2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_SUSANNO2,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_SUSANNO2,Condition(function Trig_SUSANNO2_Conditions))
call TriggerAddAction(gg_trg_SUSANNO2,function Trig_SUSANNO2_Actions)
set gg_trg_SUSANNO2_move=CreateTrigger()
call DisableTrigger(gg_trg_SUSANNO2_move)
call TriggerRegisterTimerEventPeriodic(gg_trg_SUSANNO2_move,.01)
call TriggerAddAction(gg_trg_SUSANNO2_move,function Trig_SUSANNO2_move_Actions)
set gg_trg_SUSANNO2_die=CreateTrigger()
call DisableTrigger(gg_trg_SUSANNO2_die)
call TriggerRegisterAnyUnitEventBJ(gg_trg_SUSANNO2_die,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_SUSANNO2_die,Condition(function Trig_SUSANNO2_die_Conditions))
call TriggerAddAction(gg_trg_SUSANNO2_die,function Trig_SUSANNO2_die_Actions)
call InitTrig_Meteor()
call InitTrig_remove()
call InitTrig_RicudoMadaraLighting()
call InitTrig_RicudoMadaraMeteor()
call InitTrig_Rashoumon_Hash()
call InitTrig_Rashoumon_Hash_remove()
call InitTrig_MokutonJukaiKotan()
set gg_trg_Remove_Mokoton=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Remove_Mokoton,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Remove_Mokoton,Condition(function Trig_Remove_Mokoton_Conditions))
call TriggerAddAction(gg_trg_Remove_Mokoton,function Trig_Remove_Mokoton_Actions)
set gg_trg_Mokuton_jukai_Koutan=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Mokuton_jukai_Koutan,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Mokuton_jukai_Koutan,Condition(function Trig_Mokuton_jukai_Koutan_Conditions))
call TriggerAddAction(gg_trg_Mokuton_jukai_Koutan,function Trig_Mokuton_jukai_Koutan_Actions)
set gg_trg_Mokuton_Jukai_Koutan_Loop=CreateTrigger()
call DisableTrigger(gg_trg_Mokuton_Jukai_Koutan_Loop)
call TriggerRegisterTimerEventPeriodic(gg_trg_Mokuton_Jukai_Koutan_Loop,.2)
call TriggerAddAction(gg_trg_Mokuton_Jukai_Koutan_Loop,function Trig_Mokuton_Jukai_Koutan_Loop_Actions)
set gg_trg_Mokuton_kajukai_Kourin=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Mokuton_kajukai_Kourin,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Mokuton_kajukai_Kourin,Condition(function Trig_Mokuton_kajukai_Kourin_Conditions))
call TriggerAddAction(gg_trg_Mokuton_kajukai_Kourin,function Trig_Mokuton_kajukai_Kourin_Actions)
set gg_trg_Mokuton_Kajukai_Kourin_Loop=CreateTrigger()
call DisableTrigger(gg_trg_Mokuton_Kajukai_Kourin_Loop)
call TriggerRegisterTimerEventPeriodic(gg_trg_Mokuton_Kajukai_Kourin_Loop,.05)
call TriggerAddAction(gg_trg_Mokuton_Kajukai_Kourin_Loop,function Trig_Mokuton_Kajukai_Kourin_Loop_Actions)
set gg_trg_Shinsuusenju=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Shinsuusenju,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Shinsuusenju,Condition(function Trig_Shinsuusenju_Conditions))
call TriggerAddAction(gg_trg_Shinsuusenju,function Trig_Shinsuusenju_Actions)
set gg_trg_Shinsuusenju_Punch=CreateTrigger()
call DisableTrigger(gg_trg_Shinsuusenju_Punch)
call TriggerRegisterTimerEventPeriodic(gg_trg_Shinsuusenju_Punch,.2)
call TriggerAddAction(gg_trg_Shinsuusenju_Punch,function Trig_Shinsuusenju_Punch_Actions)
call InitTrig_Golem_Hash()
call InitTrig_Tobirama_Kunai()
call InitTrig_Pechat_Tobirama()
call InitTrig_Kunai_Move_Tobirama()
set gg_trg_Kage_bun_Tobirama=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kage_bun_Tobirama,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Kage_bun_Tobirama,Condition(function Trig_Kage_bun_Tobirama_Conditions))
call TriggerAddAction(gg_trg_Kage_bun_Tobirama,function Trig_Kage_bun_Tobirama_Actions)
call InitTrig_Water_Tobirami()
set gg_trg_Remove_Dummy=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Remove_Dummy,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Remove_Dummy,Condition(function Trig_Remove_Dummy_Conditions))
call TriggerAddAction(gg_trg_Remove_Dummy,function Trig_Remove_Dummy_Actions)
set gg_trg_Shuriken_Kagebunshin=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Shuriken_Kagebunshin,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Shuriken_Kagebunshin,Condition(function Trig_Shuriken_Kagebunshin_Conditions))
call TriggerAddAction(gg_trg_Shuriken_Kagebunshin,function Trig_Shuriken_Kagebunshin_Actions)
set gg_trg_Shuriken_Create=CreateTrigger()
call DisableTrigger(gg_trg_Shuriken_Create)
call TriggerRegisterTimerEventPeriodic(gg_trg_Shuriken_Create,.05)
call TriggerAddAction(gg_trg_Shuriken_Create,function Trig_Shuriken_Create_Actions)
set gg_trg_Shuriken_Move=CreateTrigger()
call DisableTrigger(gg_trg_Shuriken_Move)
call TriggerRegisterTimerEventPeriodic(gg_trg_Shuriken_Move,.05)
call TriggerAddAction(gg_trg_Shuriken_Move,function Trig_Shuriken_Move_Actions)
set gg_trg_Shiki_Fuujin=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Shiki_Fuujin,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Shiki_Fuujin,Condition(function Trig_Shiki_Fuujin_Conditions))
call TriggerAddAction(gg_trg_Shiki_Fuujin,function Trig_Shiki_Fuujin_Actions)
set gg_trg_Shiki_Fuujin_Damage=CreateTrigger()
call DisableTrigger(gg_trg_Shiki_Fuujin_Damage)
call TriggerRegisterTimerEventPeriodic(gg_trg_Shiki_Fuujin_Damage,1.)
call TriggerAddAction(gg_trg_Shiki_Fuujin_Damage,function Trig_Shiki_Fuujin_Damage_Actions)
call InitTrig_Kunai()
call InitTrig_Remove_M()
call InitTrig_Pechat()
call InitTrig_Kunai_Move_Minato()
call InitTrig_R()
call InitTrig_R_Attack()
call InitTrig_RW_Remove()
call InitTrig_SageM()
set gg_trg_Shiki_Fuujin_M=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Shiki_Fuujin_M,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Shiki_Fuujin_M,Condition(function Trig_Shiki_Fuujin_M_Conditions))
call TriggerAddAction(gg_trg_Shiki_Fuujin_M,function Trig_Shiki_Fuujin_M_Actions)
set gg_trg_Shiki_Fuujin_Damage_M=CreateTrigger()
call DisableTrigger(gg_trg_Shiki_Fuujin_Damage_M)
call TriggerRegisterTimerEventPeriodic(gg_trg_Shiki_Fuujin_Damage_M,1.)
call TriggerAddAction(gg_trg_Shiki_Fuujin_Damage_M,function Trig_Shiki_Fuujin_Damage_M_Actions)
call InitTrig_Susano()
call InitTrig_Susano_Attack()
set gg_trg_Edo_Hokage=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Edo_Hokage,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Edo_Hokage,Condition(function Trig_Edo_Hokage_Conditions))
call TriggerAddAction(gg_trg_Edo_Hokage,function Trig_Edo_Hokage_Actions)
call InitTrig_Edo_Hokage_Deathe()
set gg_trg_Edo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Edo,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Edo,Condition(function Trig_Edo_Conditions))
call TriggerAddAction(gg_trg_Edo,function Trig_Edo_Actions)
set gg_trg_Edo_2=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_Edo_2,udg_Timer_Edo_Tensei[1])
call TriggerAddAction(gg_trg_Edo_2,function Trig_Edo_2_Actions)
call InitTrig_podmena()
call InitTrig_Illusion()
set gg_trg_BlackZetsu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_BlackZetsu,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_BlackZetsu,Condition(function Trig_BlackZetsu_Conditions))
call TriggerAddAction(gg_trg_BlackZetsu,function Trig_BlackZetsu_Actions)
set gg_trg_BlackZetsu2=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg_BlackZetsu2,200.)
call TriggerAddAction(gg_trg_BlackZetsu2,function Trig_BlackZetsu2_Actions)
set gg_trg_BlackZetsuMove=CreateTrigger()
call DisableTrigger(gg_trg_BlackZetsuMove)
call TriggerRegisterTimerEventPeriodic(gg_trg_BlackZetsuMove,5.)
call TriggerAddAction(gg_trg_BlackZetsuMove,function Trig_BlackZetsuMove_Actions)
set gg_trg_BlackZetsuMove_2=CreateTrigger()
call DisableTrigger(gg_trg_BlackZetsuMove_2)
call TriggerRegisterTimerEventPeriodic(gg_trg_BlackZetsuMove_2,1.)
call TriggerAddAction(gg_trg_BlackZetsuMove_2,function Trig_BlackZetsuMove_2_Actions)
set gg_trg_BlackZetsu3=CreateTrigger()
call DisableTrigger(gg_trg_BlackZetsu3)
call TriggerAddCondition(gg_trg_BlackZetsu3,Condition(function Trig_BlackZetsu3_Conditions))
call TriggerAddAction(gg_trg_BlackZetsu3,function Trig_BlackZetsu3_Actions)
set gg_trg_Madara_vs_Hashirama=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Madara_vs_Hashirama,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Madara_vs_Hashirama,Condition(function Trig_Madara_vs_Hashirama_Conditions))
call TriggerAddAction(gg_trg_Madara_vs_Hashirama,function Trig_Madara_vs_Hashirama_Actions)
set gg_trg_BlackZetsu3_2=CreateTrigger()
call DisableTrigger(gg_trg_BlackZetsu3_2)
call TriggerAddCondition(gg_trg_BlackZetsu3_2,Condition(function Trig_BlackZetsu3_2_Conditions))
call TriggerAddAction(gg_trg_BlackZetsu3_2,function Trig_BlackZetsu3_2_Actions)
set gg_trg_Apocalypsis=CreateTrigger()
call DisableTrigger(gg_trg_Apocalypsis)
call TriggerRegisterTimerEventPeriodic(gg_trg_Apocalypsis,1.)
call TriggerAddAction(gg_trg_Apocalypsis,function Trig_Apocalypsis_Actions)
set gg_trg_KagyaSpellCast1=CreateTrigger()
call DisableTrigger(gg_trg_KagyaSpellCast1)
call TriggerRegisterAnyUnitEventBJ(gg_trg_KagyaSpellCast1,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_KagyaSpellCast1,Condition(function Trig_KagyaSpellCast1_Conditions))
call TriggerAddAction(gg_trg_KagyaSpellCast1,function Trig_KagyaSpellCast1_Actions)
set gg_trg_KagyaSpellCast2=CreateTrigger()
call DisableTrigger(gg_trg_KagyaSpellCast2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_KagyaSpellCast2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_KagyaSpellCast2,Condition(function Trig_KagyaSpellCast2_Conditions))
call TriggerAddAction(gg_trg_KagyaSpellCast2,function Trig_KagyaSpellCast2_Actions)
set gg_trg_KagyaSpellCast3=CreateTrigger()
call DisableTrigger(gg_trg_KagyaSpellCast3)
call TriggerAddCondition(gg_trg_KagyaSpellCast3,Condition(function Trig_KagyaSpellCast3_Conditions))
call TriggerAddAction(gg_trg_KagyaSpellCast3,function Trig_KagyaSpellCast3_Actions)
set gg_trg_KagyaSpellCast4=CreateTrigger()
call DisableTrigger(gg_trg_KagyaSpellCast4)
call TriggerAddCondition(gg_trg_KagyaSpellCast4,Condition(function Trig_KagyaSpellCast4_Conditions))
call TriggerAddAction(gg_trg_KagyaSpellCast4,function Trig_KagyaSpellCast4_Actions)
set gg_trg_KagyaSpellCast5=CreateTrigger()
call DisableTrigger(gg_trg_KagyaSpellCast5)
call TriggerRegisterAnyUnitEventBJ(gg_trg_KagyaSpellCast5,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_KagyaSpellCast5,Condition(function Trig_KagyaSpellCast5_Conditions))
call TriggerAddAction(gg_trg_KagyaSpellCast5,function Trig_KagyaSpellCast5_Actions)
set gg_trg_KagyaDie=CreateTrigger()
call DisableTrigger(gg_trg_KagyaDie)
call TriggerRegisterAnyUnitEventBJ(gg_trg_KagyaDie,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_KagyaDie,Condition(function Trig_KagyaDie_Conditions))
call TriggerAddAction(gg_trg_KagyaDie,function Trig_KagyaDie_Actions)
set gg_trg_BlackZetsuDie=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_BlackZetsuDie,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_BlackZetsuDie,Condition(function Trig_BlackZetsuDie_Conditions))
call TriggerAddAction(gg_trg_BlackZetsuDie,function Trig_BlackZetsuDie_Actions)
set gg_trg_Raiga_Ranmaru=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Raiga_Ranmaru,300.,gg_unit_Hvsh_0206)
call TriggerAddCondition(gg_trg_Raiga_Ranmaru,Condition(function Trig_Raiga_Ranmaru_Conditions))
call TriggerAddAction(gg_trg_Raiga_Ranmaru,function Trig_Raiga_Ranmaru_Actions)
set gg_trg_Raiga_Ranmaru_K=CreateTrigger()
call DisableTrigger(gg_trg_Raiga_Ranmaru_K)
call TriggerRegisterTimerEventPeriodic(gg_trg_Raiga_Ranmaru_K,80.)
call TriggerAddAction(gg_trg_Raiga_Ranmaru_K,function Trig_Raiga_Ranmaru_K_Actions)
set gg_trg_Raiga_Ranmaru_S=CreateTrigger()
call DisableTrigger(gg_trg_Raiga_Ranmaru_S)
call TriggerRegisterTimerEventPeriodic(gg_trg_Raiga_Ranmaru_S,80.)
call TriggerAddAction(gg_trg_Raiga_Ranmaru_S,function Trig_Raiga_Ranmaru_S_Actions)
set gg_trg_Raiga_Ranmaru_A=CreateTrigger()
call DisableTrigger(gg_trg_Raiga_Ranmaru_A)
call TriggerRegisterTimerEventPeriodic(gg_trg_Raiga_Ranmaru_A,80.)
call TriggerAddAction(gg_trg_Raiga_Ranmaru_A,function Trig_Raiga_Ranmaru_A_Actions)
set gg_trg_Mifune=CreateTrigger()
call DisableTrigger(gg_trg_Mifune)
call TriggerRegisterUnitInRangeSimple(gg_trg_Mifune,256,gg_unit_H027_0113)
call TriggerAddCondition(gg_trg_Mifune,Condition(function Trig_Mifune_Conditions))
call TriggerAddAction(gg_trg_Mifune,function Trig_Mifune_Actions)
set gg_trg_Mifune1=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Mifune1,256,gg_unit_H027_0113)
call TriggerAddCondition(gg_trg_Mifune1,Condition(function Trig_Mifune1_Conditions))
call TriggerAddAction(gg_trg_Mifune1,function Trig_Mifune1_Actions)
set gg_trg_Hashirama=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_Hashirama,gg_rct_Secret_Orochimaru)
call TriggerAddCondition(gg_trg_Hashirama,Condition(function Trig_Hashirama_Conditions))
call TriggerAddAction(gg_trg_Hashirama,function Trig_Hashirama_Actions)
set gg_trg_Danzo_2=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Danzo_2,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_Danzo_2,Condition(function Trig_Danzo_2_Conditions))
call TriggerAddAction(gg_trg_Danzo_2,function Trig_Danzo_2_Actions)
set gg_trg_Naruto_N=CreateTrigger()
call TriggerRegisterUnitEvent(gg_trg_Naruto_N,gg_unit_Hpal_0034,EVENT_UNIT_HERO_LEVEL)
call TriggerAddCondition(gg_trg_Naruto_N,Condition(function Trig_Naruto_N_Conditions))
call TriggerAddAction(gg_trg_Naruto_N,function Trig_Naruto_N_Actions)
set gg_trg_Naruto_Ne=CreateTrigger()
call DisableTrigger(gg_trg_Naruto_Ne)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Naruto_Ne,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Naruto_Ne,Condition(function Trig_Naruto_Ne_Conditions))
call TriggerAddAction(gg_trg_Naruto_Ne,function Trig_Naruto_Ne_Actions)
set gg_trg_Naruto_N1=CreateTrigger()
call DisableTrigger(gg_trg_Naruto_N1)
call TriggerRegisterEnterRectSimple(gg_trg_Naruto_N1,gg_rct_New_Naruto)
call TriggerAddCondition(gg_trg_Naruto_N1,Condition(function Trig_Naruto_N1_Conditions))
call TriggerAddAction(gg_trg_Naruto_N1,function Trig_Naruto_N1_Actions)
set gg_trg_Naruto_N2=CreateTrigger()
call DisableTrigger(gg_trg_Naruto_N2)
call TriggerRegisterEnterRectSimple(gg_trg_Naruto_N2,gg_rct_New_Naruto)
call TriggerAddCondition(gg_trg_Naruto_N2,Condition(function Trig_Naruto_N2_Conditions))
call TriggerAddAction(gg_trg_Naruto_N2,function Trig_Naruto_N2_Actions)
set gg_trg_Naruto_NEnd=CreateTrigger()
call DisableTrigger(gg_trg_Naruto_NEnd)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Naruto_NEnd,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Naruto_NEnd,Condition(function Trig_Naruto_NEnd_Conditions))
call TriggerAddAction(gg_trg_Naruto_NEnd,function Trig_Naruto_NEnd_Actions)
set gg_trg_Naruto_Zetsu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Naruto_Zetsu,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Naruto_Zetsu,Condition(function Trig_Naruto_Zetsu_Conditions))
call TriggerAddAction(gg_trg_Naruto_Zetsu,function Trig_Naruto_Zetsu_Actions)
set gg_trg_Katana=CreateTrigger()
call DisableTrigger(gg_trg_Katana)
call TriggerRegisterUnitEvent(gg_trg_Katana,gg_unit_Edem_0023,EVENT_UNIT_SELECTED)
call TriggerAddAction(gg_trg_Katana,function Trig_Katana_Actions)
set gg_trg_Katana_1=CreateTrigger()
call TriggerRegisterDialogEvent(gg_trg_Katana_1,udg_Tp_dialog)
call TriggerAddAction(gg_trg_Katana_1,function Trig_Katana_1_Actions)
set gg_trg_Katana_2=CreateTrigger()
call DisableTrigger(gg_trg_Katana_2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Katana_2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Katana_2,Condition(function Trig_Katana_2_Conditions))
call TriggerAddAction(gg_trg_Katana_2,function Trig_Katana_2_Actions)
call InitTrig_Sasuke_16lvl()
call InitTrig_Sasuke_16lvl_2()
set gg_trg_SasukeShOro=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_SasukeShOro,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_SasukeShOro,Condition(function Trig_SasukeShOro_Conditions))
call TriggerAddAction(gg_trg_SasukeShOro,function Trig_SasukeShOro_Actions)
set gg_trg_Sasuke_30lvl=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sasuke_30lvl,EVENT_PLAYER_HERO_LEVEL)
call TriggerAddCondition(gg_trg_Sasuke_30lvl,Condition(function Trig_Sasuke_30lvl_Conditions))
call TriggerAddAction(gg_trg_Sasuke_30lvl,function Trig_Sasuke_30lvl_Actions)
set gg_trg_Sasuke_Itachi=CreateTrigger()
call DisableTrigger(gg_trg_Sasuke_Itachi)
call TriggerRegisterUnitInRangeSimple(gg_trg_Sasuke_Itachi,500.,gg_unit_Hblm_0025)
call TriggerAddCondition(gg_trg_Sasuke_Itachi,Condition(function Trig_Sasuke_Itachi_Conditions))
call TriggerAddAction(gg_trg_Sasuke_Itachi,function Trig_Sasuke_Itachi_Actions)
set gg_trg_Sasuke_Itachi_2=CreateTrigger()
call DisableTrigger(gg_trg_Sasuke_Itachi_2)
call TriggerRegisterEnterRectSimple(gg_trg_Sasuke_Itachi_2,gg_rct_Sasuke_Itachi)
call TriggerAddCondition(gg_trg_Sasuke_Itachi_2,Condition(function Trig_Sasuke_Itachi_2_Conditions))
call TriggerAddAction(gg_trg_Sasuke_Itachi_2,function Trig_Sasuke_Itachi_2_Actions)
set gg_trg_Sasuke_Itachi_3=CreateTrigger()
call DisableTrigger(gg_trg_Sasuke_Itachi_3)
call TriggerRegisterUnitEvent(gg_trg_Sasuke_Itachi_3,gg_unit_Hblm_0025,EVENT_UNIT_DEATH)
call TriggerAddAction(gg_trg_Sasuke_Itachi_3,function Trig_Sasuke_Itachi_3_Actions)
set gg_trg_Sasuke_Itachi_4=CreateTrigger()
call DisableTrigger(gg_trg_Sasuke_Itachi_4)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sasuke_Itachi_4,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Sasuke_Itachi_4,Condition(function Trig_Sasuke_Itachi_4_Conditions))
call TriggerAddAction(gg_trg_Sasuke_Itachi_4,function Trig_Sasuke_Itachi_4_Actions)
set gg_trg_Sasuke_Itachi_5=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_Sasuke_Itachi_5,udg_SasukeTime)
call TriggerAddAction(gg_trg_Sasuke_Itachi_5,function Trig_Sasuke_Itachi_5_Actions)
set gg_trg_itachi_give_me_eyes=CreateTrigger()
call DisableTrigger(gg_trg_itachi_give_me_eyes)
call TriggerRegisterPlayerChatEvent(gg_trg_itachi_give_me_eyes,Player(3),"-eternal light",true)
call TriggerRegisterPlayerChatEvent(gg_trg_itachi_give_me_eyes,Player(5),"-eternal light",true)
call TriggerRegisterPlayerChatEvent(gg_trg_itachi_give_me_eyes,Player(6),"-eternal light",true)
call TriggerAddCondition(gg_trg_itachi_give_me_eyes,Condition(function Trig_itachi_give_me_eyes_Conditions))
call TriggerAddAction(gg_trg_itachi_give_me_eyes,function Trig_itachi_give_me_eyes_Actions)
set gg_trg_Hozuki_Suygetsu=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hozuki_Suygetsu,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_Hozuki_Suygetsu,Condition(function Trig_Hozuki_Suygetsu_Conditions))
call TriggerAddAction(gg_trg_Hozuki_Suygetsu,function Trig_Hozuki_Suygetsu_Actions)
set gg_trg_Kabuto1=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Kabuto1,100.,gg_unit_Hant_0028)
call TriggerAddCondition(gg_trg_Kabuto1,Condition(function Trig_Kabuto1_Conditions))
call TriggerAddAction(gg_trg_Kabuto1,function Trig_Kabuto1_Actions)
set gg_trg_Kabuto2=CreateTrigger()
call DisableTrigger(gg_trg_Kabuto2)
call TriggerRegisterTimerExpireEvent(gg_trg_Kabuto2,udg_KabutoTime)
call TriggerAddAction(gg_trg_Kabuto2,function Trig_Kabuto2_Actions)
set gg_trg_Kabuto_Edo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kabuto_Edo,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Kabuto_Edo,Condition(function Trig_Kabuto_Edo_Conditions))
call TriggerAddAction(gg_trg_Kabuto_Edo,function Trig_Kabuto_Edo_Actions)
set gg_trg_Kabuto_Edo_2=CreateTrigger()
call DisableTrigger(gg_trg_Kabuto_Edo_2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kabuto_Edo_2,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_Kabuto_Edo_2,Condition(function Trig_Kabuto_Edo_2_Conditions))
call TriggerAddAction(gg_trg_Kabuto_Edo_2,function Trig_Kabuto_Edo_2_Actions)
set gg_trg_Edo_Tensei_Kabuto=CreateTrigger()
call DisableTrigger(gg_trg_Edo_Tensei_Kabuto)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Edo_Tensei_Kabuto,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_Edo_Tensei_Kabuto,Condition(function Trig_Edo_Tensei_Kabuto_Conditions))
call TriggerAddAction(gg_trg_Edo_Tensei_Kabuto,function Trig_Edo_Tensei_Kabuto_Actions)
set gg_trg_Edo_Tensei_Kabuto_2=CreateTrigger()
call DisableTrigger(gg_trg_Edo_Tensei_Kabuto_2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Edo_Tensei_Kabuto_2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Edo_Tensei_Kabuto_2,Condition(function Trig_Edo_Tensei_Kabuto_2_Conditions))
call TriggerAddAction(gg_trg_Edo_Tensei_Kabuto_2,function Trig_Edo_Tensei_Kabuto_2_Actions)
set gg_trg_Kabuto_Sage=CreateTrigger()
call DisableTrigger(gg_trg_Kabuto_Sage)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kabuto_Sage,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_Kabuto_Sage,Condition(function Trig_Kabuto_Sage_Conditions))
call TriggerAddAction(gg_trg_Kabuto_Sage,function Trig_Kabuto_Sage_Actions)
set gg_trg_Kabuto_Sage_end=CreateTrigger()
call DisableTrigger(gg_trg_Kabuto_Sage_end)
call TriggerRegisterEnterRectSimple(gg_trg_Kabuto_Sage_end,gg_rct_CaveKabuto)
call TriggerAddCondition(gg_trg_Kabuto_Sage_end,Condition(function Trig_Kabuto_Sage_end_Conditions))
call TriggerAddAction(gg_trg_Kabuto_Sage_end,function Trig_Kabuto_Sage_end_Actions)
set gg_trg_Tobi_madara=CreateTrigger()
call TriggerRegisterUnitEvent(gg_trg_Tobi_madara,gg_unit_Huth_0018,EVENT_UNIT_HERO_LEVEL)
call TriggerAddCondition(gg_trg_Tobi_madara,Condition(function Trig_Tobi_madara_Conditions))
call TriggerAddAction(gg_trg_Tobi_madara,function Trig_Tobi_madara_Actions)
set gg_trg_TobiRinnegan=CreateTrigger()
call DisableTrigger(gg_trg_TobiRinnegan)
call TriggerRegisterAnyUnitEventBJ(gg_trg_TobiRinnegan,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_TobiRinnegan,Condition(function Trig_TobiRinnegan_Conditions))
call TriggerAddAction(gg_trg_TobiRinnegan,function Trig_TobiRinnegan_Actions)
set gg_trg_TobiRinnegan2=CreateTrigger()
call TriggerAddCondition(gg_trg_TobiRinnegan2,Condition(function Trig_TobiRinnegan2_Conditions))
call TriggerAddAction(gg_trg_TobiRinnegan2,function Trig_TobiRinnegan2_Actions)
set gg_trg_TobiRinnegan3=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_TobiRinnegan3,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_TobiRinnegan3,Condition(function Trig_TobiRinnegan3_Conditions))
call TriggerAddAction(gg_trg_TobiRinnegan3,function Trig_TobiRinnegan3_Actions)
set gg_trg_TobiRinnegan4=CreateTrigger()
call TriggerRegisterEnterRectSimple(gg_trg_TobiRinnegan4,gg_rct_Madara_revive)
call TriggerAddCondition(gg_trg_TobiRinnegan4,Condition(function Trig_TobiRinnegan4_Conditions))
call TriggerAddAction(gg_trg_TobiRinnegan4,function Trig_TobiRinnegan4_Actions)
set gg_trg_TobiRinnegan5=CreateTrigger()
call DisableTrigger(gg_trg_TobiRinnegan5)
call TriggerRegisterAnyUnitEventBJ(gg_trg_TobiRinnegan5,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_TobiRinnegan5,Condition(function Trig_TobiRinnegan5_Conditions))
call TriggerAddAction(gg_trg_TobiRinnegan5,function Trig_TobiRinnegan5_Actions)
set gg_trg_Obito_Rikudo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Obito_Rikudo,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_Obito_Rikudo,Condition(function Trig_Obito_Rikudo_Conditions))
call TriggerAddAction(gg_trg_Obito_Rikudo,function Trig_Obito_Rikudo_Actions)
set gg_trg_Obito_Rikudo_Kill=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Obito_Rikudo_Kill,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Obito_Rikudo_Kill,Condition(function Trig_Obito_Rikudo_Kill_Conditions))
call TriggerAddAction(gg_trg_Obito_Rikudo_Kill,function Trig_Obito_Rikudo_Kill_Actions)
set gg_trg_Hv10=CreateTrigger()
call DisableTrigger(gg_trg_Hv10)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hv10,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_Hv10,Condition(function Trig_Hv10_Conditions))
call TriggerAddAction(gg_trg_Hv10,function Trig_Hv10_Actions)
set gg_trg_Hv10_2=CreateTrigger()
call DisableTrigger(gg_trg_Hv10_2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Hv10_2,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_Hv10_2,Condition(function Trig_Hv10_2_Conditions))
call TriggerAddAction(gg_trg_Hv10_2,function Trig_Hv10_2_Actions)
set gg_trg_Madara_Rikudo=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Madara_Rikudo,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_Madara_Rikudo,Condition(function Trig_Madara_Rikudo_Conditions))
call TriggerAddAction(gg_trg_Madara_Rikudo,function Trig_Madara_Rikudo_Actions)
set gg_trg_Madara_Rikudo_Kill=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_Madara_Rikudo_Kill,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Madara_Rikudo_Kill,Condition(function Trig_Madara_Rikudo_Kill_Conditions))
call TriggerAddAction(gg_trg_Madara_Rikudo_Kill,function Trig_Madara_Rikudo_Kill_Actions)
set gg_trg_TheRedMoonActivated=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_TheRedMoonActivated,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg_TheRedMoonActivated,Condition(function Trig_TheRedMoonActivated_Conditions))
call TriggerAddAction(gg_trg_TheRedMoonActivated,function Trig_TheRedMoonActivated_Actions)
set gg_trg_TheRedMoonDeActivated=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_TheRedMoonDeActivated,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg_TheRedMoonDeActivated,Condition(function Trig_TheRedMoonDeActivated_Conditions))
call TriggerAddAction(gg_trg_TheRedMoonDeActivated,function Trig_TheRedMoonDeActivated_Actions)
set gg_trg_TheRedMoonActivated_2=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_TheRedMoonActivated_2,udg_TimeMoon)
call TriggerAddAction(gg_trg_TheRedMoonActivated_2,function Trig_TheRedMoonActivated_2_Actions)
set gg_trg_TheRedMoonDeActivated_2=CreateTrigger()
call DisableTrigger(gg_trg_TheRedMoonDeActivated_2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_TheRedMoonDeActivated_2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_TheRedMoonDeActivated_2,Condition(function Trig_TheRedMoonDeActivated_2_Conditions))
call TriggerAddAction(gg_trg_TheRedMoonDeActivated_2,function Trig_TheRedMoonDeActivated_2_Actions)
set gg_trg_Wolf=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Wolf,150.,gg_unit_hrif_0187)
call TriggerAddCondition(gg_trg_Wolf,Condition(function Trig_Wolf_Conditions))
call TriggerAddAction(gg_trg_Wolf,function Trig_Wolf_Actions)
set gg_trg_Wolf2=CreateTrigger()
call DisableTrigger(gg_trg_Wolf2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Wolf2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Wolf2,Condition(function Trig_Wolf2_Conditions))
call TriggerAddAction(gg_trg_Wolf2,function Trig_Wolf2_Actions)
set gg_trg_WolfQ=CreateTrigger()
call DisableTrigger(gg_trg_WolfQ)
call TriggerRegisterUnitInRangeSimple(gg_trg_WolfQ,190.,gg_unit_hrif_0187)
call TriggerAddCondition(gg_trg_WolfQ,Condition(function Trig_WolfQ_Conditions))
call TriggerAddAction(gg_trg_WolfQ,function Trig_WolfQ_Actions)
set gg_trg_WolfEnd=CreateTrigger()
call DisableTrigger(gg_trg_WolfEnd)
call TriggerRegisterUnitInRangeSimple(gg_trg_WolfEnd,150.,gg_unit_hrif_0187)
call TriggerAddCondition(gg_trg_WolfEnd,Condition(function Trig_WolfEnd_Conditions))
call TriggerAddAction(gg_trg_WolfEnd,function Trig_WolfEnd_Actions)
set gg_trg_Barah_must_die=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Barah_must_die,150.,gg_unit_n00I_0237)
call TriggerAddCondition(gg_trg_Barah_must_die,Condition(function Trig_Barah_must_die_Conditions))
call TriggerAddAction(gg_trg_Barah_must_die,function Trig_Barah_must_die_Actions)
set gg_trg_Barah_must_die2=CreateTrigger()
call DisableTrigger(gg_trg_Barah_must_die2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Barah_must_die2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Barah_must_die2,Condition(function Trig_Barah_must_die2_Conditions))
call TriggerAddAction(gg_trg_Barah_must_die2,function Trig_Barah_must_die2_Actions)
set gg_trg_Barah_must_dieQ=CreateTrigger()
call DisableTrigger(gg_trg_Barah_must_dieQ)
call TriggerRegisterUnitInRangeSimple(gg_trg_Barah_must_dieQ,190.,gg_unit_n00I_0237)
call TriggerAddCondition(gg_trg_Barah_must_dieQ,Condition(function Trig_Barah_must_dieQ_Conditions))
call TriggerAddAction(gg_trg_Barah_must_dieQ,function Trig_Barah_must_dieQ_Actions)
set gg_trg_Barah_must_dieEnd=CreateTrigger()
call DisableTrigger(gg_trg_Barah_must_dieEnd)
call TriggerRegisterUnitInRangeSimple(gg_trg_Barah_must_dieEnd,150.,gg_unit_n00I_0237)
call TriggerAddCondition(gg_trg_Barah_must_dieEnd,Condition(function Trig_Barah_must_dieEnd_Conditions))
call TriggerAddAction(gg_trg_Barah_must_dieEnd,function Trig_Barah_must_dieEnd_Actions)
set gg_trg_Amedato=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Amedato,150.,gg_unit_h00C_0141)
call TriggerAddCondition(gg_trg_Amedato,Condition(function Trig_Amedato_Conditions))
call TriggerAddAction(gg_trg_Amedato,function Trig_Amedato_Actions)
set gg_trg_Amedato2=CreateTrigger()
call DisableTrigger(gg_trg_Amedato2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Amedato2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Amedato2,Condition(function Trig_Amedato2_Conditions))
call TriggerAddAction(gg_trg_Amedato2,function Trig_Amedato2_Actions)
set gg_trg_AmedatoQ=CreateTrigger()
call DisableTrigger(gg_trg_AmedatoQ)
call TriggerRegisterUnitInRangeSimple(gg_trg_AmedatoQ,190.,gg_unit_h00C_0141)
call TriggerAddCondition(gg_trg_AmedatoQ,Condition(function Trig_AmedatoQ_Conditions))
call TriggerAddAction(gg_trg_AmedatoQ,function Trig_AmedatoQ_Actions)
set gg_trg_AmedatoEnd=CreateTrigger()
call DisableTrigger(gg_trg_AmedatoEnd)
call TriggerRegisterUnitInRangeSimple(gg_trg_AmedatoEnd,156.,gg_unit_h00C_0141)
call TriggerAddCondition(gg_trg_AmedatoEnd,Condition(function Trig_AmedatoEnd_Conditions))
call TriggerAddAction(gg_trg_AmedatoEnd,function Trig_AmedatoEnd_Actions)
set gg_trg_Kel=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Kel,150.,gg_unit_uktn_0235)
call TriggerAddCondition(gg_trg_Kel,Condition(function Trig_Kel_Conditions))
call TriggerAddAction(gg_trg_Kel,function Trig_Kel_Actions)
set gg_trg_Kel2=CreateTrigger()
call DisableTrigger(gg_trg_Kel2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Kel2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Kel2,Condition(function Trig_Kel2_Conditions))
call TriggerAddAction(gg_trg_Kel2,function Trig_Kel2_Actions)
set gg_trg_KelQ=CreateTrigger()
call DisableTrigger(gg_trg_KelQ)
call TriggerRegisterUnitInRangeSimple(gg_trg_KelQ,190.,gg_unit_uktn_0235)
call TriggerAddCondition(gg_trg_KelQ,Condition(function Trig_KelQ_Conditions))
call TriggerAddAction(gg_trg_KelQ,function Trig_KelQ_Actions)
set gg_trg_KelEND=CreateTrigger()
call DisableTrigger(gg_trg_KelEND)
call TriggerRegisterUnitInRangeSimple(gg_trg_KelEND,150.,gg_unit_uktn_0235)
call TriggerAddCondition(gg_trg_KelEND,Condition(function Trig_KelEND_Conditions))
call TriggerAddAction(gg_trg_KelEND,function Trig_KelEND_Actions)
set gg_trg_Sound1=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Sound1,150.,gg_unit_nkob_0232)
call TriggerAddCondition(gg_trg_Sound1,Condition(function Trig_Sound1_Conditions))
call TriggerAddAction(gg_trg_Sound1,function Trig_Sound1_Actions)
set gg_trg_Sound1Q=CreateTrigger()
call DisableTrigger(gg_trg_Sound1Q)
call TriggerRegisterUnitInRangeSimple(gg_trg_Sound1Q,256,gg_unit_nkob_0232)
call TriggerAddCondition(gg_trg_Sound1Q,Condition(function Trig_Sound1Q_Conditions))
call TriggerAddAction(gg_trg_Sound1Q,function Trig_Sound1Q_Actions)
set gg_trg_Sound2=CreateTrigger()
call DisableTrigger(gg_trg_Sound2)
call TriggerRegisterUnitInRangeSimple(gg_trg_Sound2,256,gg_unit_nkob_0232)
call TriggerAddCondition(gg_trg_Sound2,Condition(function Trig_Sound2_Conditions))
call TriggerAddAction(gg_trg_Sound2,function Trig_Sound2_Actions)
set gg_trg_SoundEND=CreateTrigger()
call DisableTrigger(gg_trg_SoundEND)
call TriggerRegisterUnitInRangeSimple(gg_trg_SoundEND,156.,gg_unit_nkob_0232)
call TriggerAddCondition(gg_trg_SoundEND,Condition(function Trig_SoundEND_Conditions))
call TriggerAddAction(gg_trg_SoundEND,function Trig_SoundEND_Actions)
set gg_trg_SoundDefeat=CreateTrigger()
call DisableTrigger(gg_trg_SoundDefeat)
call TriggerRegisterEnterRectSimple(gg_trg_SoundDefeat,gg_rct_Gedo)
call TriggerAddCondition(gg_trg_SoundDefeat,Condition(function Trig_SoundDefeat_Conditions))
call TriggerAddAction(gg_trg_SoundDefeat,function Trig_SoundDefeat_Actions)
set gg_trg_Girgito=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Girgito,150.,gg_unit_nsgh_0222)
call TriggerAddCondition(gg_trg_Girgito,Condition(function Trig_Girgito_Conditions))
call TriggerAddAction(gg_trg_Girgito,function Trig_Girgito_Actions)
set gg_trg_Sosedi=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Sosedi,150.,gg_unit_nsrw_0223)
call TriggerAddCondition(gg_trg_Sosedi,Condition(function Trig_Sosedi_Conditions))
call TriggerAddAction(gg_trg_Sosedi,function Trig_Sosedi_Actions)
set gg_trg_Sosedi2=CreateTrigger()
call DisableTrigger(gg_trg_Sosedi2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sosedi2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Sosedi2,Condition(function Trig_Sosedi2_Conditions))
call TriggerAddAction(gg_trg_Sosedi2,function Trig_Sosedi2_Actions)
set gg_trg_SosediQ=CreateTrigger()
call DisableTrigger(gg_trg_SosediQ)
call TriggerRegisterUnitInRangeSimple(gg_trg_SosediQ,190.,gg_unit_nsrw_0223)
call TriggerAddCondition(gg_trg_SosediQ,Condition(function Trig_SosediQ_Conditions))
call TriggerAddAction(gg_trg_SosediQ,function Trig_SosediQ_Actions)
set gg_trg_SosediEnd=CreateTrigger()
call DisableTrigger(gg_trg_SosediEnd)
call TriggerRegisterUnitInRangeSimple(gg_trg_SosediEnd,150.,gg_unit_nsrw_0223)
call TriggerAddCondition(gg_trg_SosediEnd,Condition(function Trig_SosediEnd_Conditions))
call TriggerAddAction(gg_trg_SosediEnd,function Trig_SosediEnd_Actions)
set gg_trg_Sosedi_L=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Sosedi_L,150.,gg_unit_ndrd_0224)
call TriggerAddCondition(gg_trg_Sosedi_L,Condition(function Trig_Sosedi_L_Conditions))
call TriggerAddAction(gg_trg_Sosedi_L,function Trig_Sosedi_L_Actions)
set gg_trg_Sosedi2_L=CreateTrigger()
call DisableTrigger(gg_trg_Sosedi2_L)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Sosedi2_L,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Sosedi2_L,Condition(function Trig_Sosedi2_L_Conditions))
call TriggerAddAction(gg_trg_Sosedi2_L,function Trig_Sosedi2_L_Actions)
set gg_trg_SosediQ_L=CreateTrigger()
call DisableTrigger(gg_trg_SosediQ_L)
call TriggerRegisterUnitInRangeSimple(gg_trg_SosediQ_L,190.,gg_unit_ndrd_0224)
call TriggerAddCondition(gg_trg_SosediQ_L,Condition(function Trig_SosediQ_L_Conditions))
call TriggerAddAction(gg_trg_SosediQ_L,function Trig_SosediQ_L_Actions)
set gg_trg_SosediEnd_L=CreateTrigger()
call DisableTrigger(gg_trg_SosediEnd_L)
call TriggerRegisterUnitInRangeSimple(gg_trg_SosediEnd_L,150.,gg_unit_ndrd_0224)
call TriggerAddCondition(gg_trg_SosediEnd_L,Condition(function Trig_SosediEnd_L_Conditions))
call TriggerAddAction(gg_trg_SosediEnd_L,function Trig_SosediEnd_L_Actions)
set gg_trg_Konoha_suna4=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Konoha_suna4,150.,gg_unit_n006_0208)
call TriggerAddCondition(gg_trg_Konoha_suna4,Condition(function Trig_Konoha_suna4_Conditions))
call TriggerAddAction(gg_trg_Konoha_suna4,function Trig_Konoha_suna4_Actions)
set gg_trg_Konoha_suna4Q=CreateTrigger()
call DisableTrigger(gg_trg_Konoha_suna4Q)
call TriggerRegisterUnitInRangeSimple(gg_trg_Konoha_suna4Q,256,gg_unit_n006_0208)
call TriggerAddCondition(gg_trg_Konoha_suna4Q,Condition(function Trig_Konoha_suna4Q_Conditions))
call TriggerAddAction(gg_trg_Konoha_suna4Q,function Trig_Konoha_suna4Q_Actions)
set gg_trg_Konoha_suna5=CreateTrigger()
call DisableTrigger(gg_trg_Konoha_suna5)
call TriggerRegisterUnitInRangeSimple(gg_trg_Konoha_suna5,156.,gg_unit_n008_0248)
call TriggerAddCondition(gg_trg_Konoha_suna5,Condition(function Trig_Konoha_suna5_Conditions))
call TriggerAddAction(gg_trg_Konoha_suna5,function Trig_Konoha_suna5_Actions)
set gg_trg_Soldat=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg_Soldat,150.,gg_unit_n007_0207)
call TriggerAddCondition(gg_trg_Soldat,Condition(function Trig_Soldat_Conditions))
call TriggerAddAction(gg_trg_Soldat,function Trig_Soldat_Actions)
set gg_trg_SildatQ=CreateTrigger()
call DisableTrigger(gg_trg_SildatQ)
call TriggerRegisterUnitInRangeSimple(gg_trg_SildatQ,190.,gg_unit_n007_0207)
call TriggerAddCondition(gg_trg_SildatQ,Condition(function Trig_SildatQ_Conditions))
call TriggerAddAction(gg_trg_SildatQ,function Trig_SildatQ_Actions)
set gg_trg_SoldatEnd=CreateTrigger()
call DisableTrigger(gg_trg_SoldatEnd)
call TriggerRegisterUnitInRangeSimple(gg_trg_SoldatEnd,150.,gg_unit_n007_0207)
call TriggerAddCondition(gg_trg_SoldatEnd,Condition(function Trig_SoldatEnd_Conditions))
call TriggerAddAction(gg_trg_SoldatEnd,function Trig_SoldatEnd_Actions)
set gg_trg_Brat=CreateTrigger()
call DisableTrigger(gg_trg_Brat)
call TriggerRegisterUnitInRangeSimple(gg_trg_Brat,150.,gg_unit_ndrh_0236)
call TriggerAddCondition(gg_trg_Brat,Condition(function Trig_Brat_Conditions))
call TriggerAddAction(gg_trg_Brat,function Trig_Brat_Actions)
set gg_trg_Brat2=CreateTrigger()
call DisableTrigger(gg_trg_Brat2)
call TriggerRegisterAnyUnitEventBJ(gg_trg_Brat2,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_Brat2,Condition(function Trig_Brat2_Conditions))
call TriggerAddAction(gg_trg_Brat2,function Trig_Brat2_Actions)
set gg_trg_BratQ=CreateTrigger()
call DisableTrigger(gg_trg_BratQ)
call TriggerRegisterUnitInRangeSimple(gg_trg_BratQ,190.,gg_unit_ndrd_0224)
call TriggerAddCondition(gg_trg_BratQ,Condition(function Trig_BratQ_Conditions))
call TriggerAddAction(gg_trg_BratQ,function Trig_BratQ_Actions)
set gg_trg_BratEnd=CreateTrigger()
call DisableTrigger(gg_trg_BratEnd)
call TriggerRegisterUnitInRangeSimple(gg_trg_BratEnd,150.,gg_unit_ndrh_0236)
call TriggerAddCondition(gg_trg_BratEnd,Condition(function Trig_BratEnd_Conditions))
call TriggerAddAction(gg_trg_BratEnd,function Trig_BratEnd_Actions)
call ConditionalTriggerExecute(gg_trg_init)
call ConditionalTriggerExecute(gg_trg_init2)
call ConditionalTriggerExecute(gg_trg_Initialization)
call ConditionalTriggerExecute(gg_trg_IB_hash)
endfunction
function config takes nothing returns nothing
call SetMapName("TRIGSTR_003")
call SetMapDescription("TRIGSTR_005")
call SetPlayers($C)
call SetTeams($C)
call SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)
call DefineStartLocation(0,-8384.,10048.)
call DefineStartLocation(1,-8384.,10048.)
call DefineStartLocation(2,-8384.,10048.)
call DefineStartLocation(3,-8064.,-5760.)
call DefineStartLocation(4,-8384.,10048.)
call DefineStartLocation(5,-8064.,-5760.)
call DefineStartLocation(6,-8064.,-5760.)
call DefineStartLocation(7,-8064.,-5760.)
call DefineStartLocation(8,11392.,-2560.)
call DefineStartLocation(9,11392.,-2560.)
call DefineStartLocation($A,11392.,-2560.)
call DefineStartLocation($B,11392.,-2560.)
call SetPlayerStartLocation(Player(0),0)
call ForcePlayerStartLocation(Player(0),0)
call SetPlayerColor(Player(0),ConvertPlayerColor(0))
call SetPlayerRacePreference(Player(0),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(0),false)
call SetPlayerController(Player(0),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(1),1)
call ForcePlayerStartLocation(Player(1),1)
call SetPlayerColor(Player(1),ConvertPlayerColor(1))
call SetPlayerRacePreference(Player(1),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(1),false)
call SetPlayerController(Player(1),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(2),2)
call ForcePlayerStartLocation(Player(2),2)
call SetPlayerColor(Player(2),ConvertPlayerColor(2))
call SetPlayerRacePreference(Player(2),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(2),false)
call SetPlayerController(Player(2),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(3),3)
call ForcePlayerStartLocation(Player(3),3)
call SetPlayerColor(Player(3),ConvertPlayerColor(3))
call SetPlayerRacePreference(Player(3),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(3),false)
call SetPlayerController(Player(3),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(4),4)
call ForcePlayerStartLocation(Player(4),4)
call SetPlayerColor(Player(4),ConvertPlayerColor(4))
call SetPlayerRacePreference(Player(4),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(4),false)
call SetPlayerController(Player(4),MAP_CONTROL_COMPUTER)
call SetPlayerStartLocation(Player(5),5)
call ForcePlayerStartLocation(Player(5),5)
call SetPlayerColor(Player(5),ConvertPlayerColor(5))
call SetPlayerRacePreference(Player(5),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(5),false)
call SetPlayerController(Player(5),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(6),6)
call ForcePlayerStartLocation(Player(6),6)
call SetPlayerColor(Player(6),ConvertPlayerColor(6))
call SetPlayerRacePreference(Player(6),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(6),false)
call SetPlayerController(Player(6),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(7),7)
call ForcePlayerStartLocation(Player(7),7)
call SetPlayerColor(Player(7),ConvertPlayerColor(7))
call SetPlayerRacePreference(Player(7),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(7),false)
call SetPlayerController(Player(7),MAP_CONTROL_COMPUTER)
call SetPlayerStartLocation(Player(8),8)
call ForcePlayerStartLocation(Player(8),8)
call SetPlayerColor(Player(8),ConvertPlayerColor(8))
call SetPlayerRacePreference(Player(8),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(8),false)
call SetPlayerController(Player(8),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(9),9)
call ForcePlayerStartLocation(Player(9),9)
call SetPlayerColor(Player(9),ConvertPlayerColor(9))
call SetPlayerRacePreference(Player(9),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(9),false)
call SetPlayerController(Player(9),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player($A),$A)
call ForcePlayerStartLocation(Player($A),$A)
call SetPlayerColor(Player($A),ConvertPlayerColor($A))
call SetPlayerRacePreference(Player($A),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player($A),false)
call SetPlayerController(Player($A),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player($B),$B)
call ForcePlayerStartLocation(Player($B),$B)
call SetPlayerColor(Player($B),ConvertPlayerColor($B))
call SetPlayerRacePreference(Player($B),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player($B),false)
call SetPlayerController(Player($B),MAP_CONTROL_COMPUTER)
call InitCustomTeams()
call SetStartLocPrioCount(1,1)
call SetStartLocPrio(1,0,4,MAP_LOC_PRIO_LOW)
call SetStartLocPrioCount(2,1)
call SetStartLocPrio(2,0,4,MAP_LOC_PRIO_LOW)
call SetStartLocPrioCount(4,3)
call SetStartLocPrio(4,0,0,MAP_LOC_PRIO_LOW)
call SetStartLocPrio(4,1,1,MAP_LOC_PRIO_LOW)
call SetStartLocPrio(4,2,2,MAP_LOC_PRIO_LOW)
call SetStartLocPrioCount(5,1)
call SetStartLocPrio(5,0,$B,MAP_LOC_PRIO_LOW)
call SetStartLocPrioCount(7,3)
call SetStartLocPrio(7,0,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,1,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(7,2,4,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount($A,1)
call SetStartLocPrio($A,0,$B,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount($B,1)
call SetStartLocPrio($B,0,$A,MAP_LOC_PRIO_HIGH)
endfunction
function sa__EntonKagetsuchiStruct_EntonKagetsuchiStart takes nothing returns boolean
call s__EntonKagetsuchiStruct_EntonKagetsuchiStart(f__arg_unit1,f__arg_unit2,f__arg_real1)
return true
endfunction
function sa__AmaterasuAll3Struct_AmaterasuAll3Start takes nothing returns boolean
local integer this=s__AmaterasuAll3Struct__allocate()
set s__AmaterasuAll3Struct_DI=s__AmaterasuAll3Struct_DI+1
set s__AmaterasuAll3Struct_m[s__AmaterasuAll3Struct_DI]=this
if s__AmaterasuAll3Struct_DI==0 then
call TimerStart(s__AmaterasuAll3Struct_t,.3,false,function s__AmaterasuAll3Struct_AmaterasuAll3Movie)
endif
return true
endfunction
function sa__AmaterasuAllStruct_AmaterasuAllStart takes nothing returns boolean
call s__AmaterasuAllStruct_AmaterasuAllStart(f__arg_unit1,f__arg_unit2)
return true
endfunction
function sa__ChidoriSenbonStruct_ChidoriSenbonStart takes nothing returns boolean
call s__ChidoriSenbonStruct_ChidoriSenbonStart(f__arg_unit1)
return true
endfunction
function sa__ChidoriNagashiStruct_ChidoriNagashiStart takes nothing returns boolean
call s__ChidoriNagashiStruct_ChidoriNagashiStart(f__arg_unit1)
return true
endfunction
function sa__KirinSasukeStruct_KirinSasukeStart takes nothing returns boolean
call s__KirinSasukeStruct_KirinSasukeStart(f__arg_unit1,f__arg_integer1)
return true
endfunction
function sa__KatonSasukeStruct_KatonSasukeStart takes nothing returns boolean
call s__KatonSasukeStruct_KatonSasukeStart(f__arg_unit1)
return true
endfunction
function sa__KirinSetapStruct_KirinSetapStart takes nothing returns boolean
call s__KirinSetapStruct_KirinSetapStart(f__arg_unit1)
return true
endfunction
function sa__KirinSetap2Struct_KirinSetap2Start takes nothing returns boolean
call s__KirinSetap2Struct_KirinSetap2Start(f__arg_unit1)
return true
endfunction
function sa__recept_normalize takes nothing returns boolean
local integer this=f__arg_this
local integer i=0
local integer j
local integer k
loop
exitwhen(i>5)or(s___recept_it[s__recept_it[this]+i]==0)
set j=i+1
loop
exitwhen j>6
if(s___recept_it[s__recept_it[this]+i]==s___recept_it[s__recept_it[this]+j])then
set s___recept_kratn[s__recept_kratn[this]+i]=s___recept_kratn[s__recept_kratn[this]+i]+1
set k=j+1
loop
exitwhen k>6
set s___recept_it[s__recept_it[this]+k-1]=s___recept_it[s__recept_it[this]+k]
set k=k+1
endloop
set j=j-1
set s___recept_it[s__recept_it[this]+6]=0
endif
set j=j+1
endloop
set i=i+1
endloop
set i=0
loop
exitwhen(i>6)or(s___recept_it[s__recept_it[this]+i]==0)
set i=i+1
endloop
set s__recept_count[this]=i
return true
endfunction
function jasshelper__initstructs13938158 takes nothing returns nothing
set st__EntonKagetsuchiStruct_EntonKagetsuchiStart=CreateTrigger()
call TriggerAddCondition(st__EntonKagetsuchiStruct_EntonKagetsuchiStart,Condition(function sa__EntonKagetsuchiStruct_EntonKagetsuchiStart))
set st__AmaterasuAll3Struct_AmaterasuAll3Start=CreateTrigger()
call TriggerAddCondition(st__AmaterasuAll3Struct_AmaterasuAll3Start,Condition(function sa__AmaterasuAll3Struct_AmaterasuAll3Start))
set st__AmaterasuAllStruct_AmaterasuAllStart=CreateTrigger()
call TriggerAddCondition(st__AmaterasuAllStruct_AmaterasuAllStart,Condition(function sa__AmaterasuAllStruct_AmaterasuAllStart))
set st__ChidoriSenbonStruct_ChidoriSenbonStart=CreateTrigger()
call TriggerAddCondition(st__ChidoriSenbonStruct_ChidoriSenbonStart,Condition(function sa__ChidoriSenbonStruct_ChidoriSenbonStart))
set st__ChidoriNagashiStruct_ChidoriNagashiStart=CreateTrigger()
call TriggerAddCondition(st__ChidoriNagashiStruct_ChidoriNagashiStart,Condition(function sa__ChidoriNagashiStruct_ChidoriNagashiStart))
set st__KirinSasukeStruct_KirinSasukeStart=CreateTrigger()
call TriggerAddCondition(st__KirinSasukeStruct_KirinSasukeStart,Condition(function sa__KirinSasukeStruct_KirinSasukeStart))
set st__KatonSasukeStruct_KatonSasukeStart=CreateTrigger()
call TriggerAddCondition(st__KatonSasukeStruct_KatonSasukeStart,Condition(function sa__KatonSasukeStruct_KatonSasukeStart))
set st__KirinSetapStruct_KirinSetapStart=CreateTrigger()
call TriggerAddCondition(st__KirinSetapStruct_KirinSetapStart,Condition(function sa__KirinSetapStruct_KirinSetapStart))
set st__KirinSetap2Struct_KirinSetap2Start=CreateTrigger()
call TriggerAddCondition(st__KirinSetap2Struct_KirinSetap2Start,Condition(function sa__KirinSetap2Struct_KirinSetap2Start))
set st__recept_normalize=CreateTrigger()
call TriggerAddCondition(st__recept_normalize,Condition(function sa__recept_normalize))
endfunction
